(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48227,e=>{"use strict";e.s(["default",()=>o],48227);var t=e.i(83770);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)((e,r)=>{let{color:i="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:c="",children:u,iconNode:d,...g}=e;return(0,t.createElement)("svg",{ref:r,...n,width:o,height:o,stroke:i,strokeWidth:a?24*Number(l)/Number(o):l,className:s("lucide",c),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(g)&&{"aria-hidden":"true"},...g},[...d.map(e=>{let[r,s]=e;return(0,t.createElement)(r,s)}),...Array.isArray(u)?u:[u]])}),o=(e,n)=>{let o=(0,t.forwardRef)((o,l)=>{let{className:a,...c}=o;return(0,t.createElement)(i,{ref:l,iconNode:n,className:s("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),a),...c})});return o.displayName=r(e),o}},47350,e=>{"use strict";e.s(["XCircle",()=>t],47350);let t=(0,e.i(48227).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},44665,e=>{"use strict";e.s(["default",()=>C]);var t=e.i(57421),r=e.i(83770),s=e.i(39324),n=e.i(89723),i=e.i(38494),o=e.i(65821),l=e.i(18962),a=e.i(19722),c=e.i(53039),u=e.i(89124),d=e.i(690),g=e.i(88387),b=e.i(90229),p=e.i(47350),m=e.i(29235),h=e.i(76540),x=e.i(91604),f=e.i(56162),y=e.i(39560),v=e.i(79562),j=e.i(55499);function k(e){return{x:e.X(),y:e.Y()}}function C(e){var C,w;let{questionId:N,studentId:S="anonymous",onBack:_}=e,O=(0,r.useRef)(null),q=(0,r.useRef)(null),[z,A]=(0,r.useState)("mouse"),[E,P]=(0,r.useState)([]),[B,U]=(0,r.useState)(""),[T,M]=(0,r.useState)(null),[I,L]=(0,r.useState)([]),[R,K]=(0,r.useState)(null),[W,D]=(0,r.useState)(null),[J,Z]=(0,r.useState)(null),[G,X]=(0,r.useState)(!0),[Q,V]=(0,r.useState)(null),[$,F]=(0,r.useState)(0),[Y,H]=(0,r.useState)(null),[ee,et]=(0,r.useState)(!1),[er,es]=(0,r.useState)(!1),[en,ei]=(0,r.useState)(!1),[eo,el]=(0,r.useState)({x:5,y:4,rotation:0,length:6}),[ea,ec]=(0,r.useState)({x:7,y:4,rotation:0,size:3}),[eu,ed]=(0,r.useState)({x:6,y:3,rotation:0,size:3}),[eg,eb]=(0,r.useState)(null),[ep,em]=(0,r.useState)(!1),eh=(0,r.useRef)(z),ex=(0,r.useRef)(E),ef=(0,r.useRef)(ep),ey=(0,r.useRef)(null),ev=(0,r.useRef)(null);function ej(e){(null==e?void 0:e.id)&&L(t=>[...t,e.id])}function ek(e,t){return e.getAllObjectsUnderMouse(t).find(e=>"point"===e.elType&&!e.visProp.fixed)||null}(0,r.useEffect)(()=>{eh.current=z},[z]),(0,r.useEffect)(()=>{ex.current=E},[E]),(0,r.useEffect)(()=>{ef.current=ep},[ep]),(0,r.useEffect)(()=>{if(!Y)return;let e=setInterval(()=>{F(Math.floor((Date.now()-Y.getTime())/1e3))},1e3);return()=>clearInterval(e)},[Y]),(0,r.useEffect)(()=>{let e=async()=>{try{if(X(!0),V(null),console.debug("loadQuestion id=",N,"studentId=",S),j.supabase){let e=await j.supabase.from("gq_questions").select("*").eq("id",N).single();if(console.debug("gq_questions response",e),e.error)throw console.error("gq_questions error detailed",JSON.stringify(e.error,Object.getOwnPropertyNames(e.error))),e.error;if(!e.data)throw Error("Question not found");console.debug("Question loaded successfully:",e.data),K(e.data)}else{let e={id:N||"mock-question",code:"Q9",title:"Úloha 9: rovnoramenný ABC (C vrchol, AB na q, S střed ramene)",prompt_md:"V rovině leží body **C**, **S** a přímka **q**. Najděte vrcholy **A**, **B** rovnoramenného trojúhelníku **ABC** tak, že **C** je vrchol, **AB** leží na **q** a **S** je střed **jednoho** ramene.",max_score:3,givens:{lines:{q:{p1:{x:0,y:7},p2:{x:10,y:7}}},points:{C:{x:4.5,y:3},S:{x:5,y:5}},tolerance:.06},constraints:[{id:"A_on_q",line:"q",type:"point_on_line",point:"A"},{id:"B_on_q",line:"q",type:"point_on_line",point:"B"},{a:"A",b:"C",c:"B",d:"C",id:"iso",type:"distance_equal"},{id:"S_mid",type:"any_of",children:[{a:"A",b:"C",type:"midpoint_of",midpoint:"S"},{a:"B",b:"C",type:"midpoint_of",midpoint:"S"}]}],difficulty:3,tags:["triangle","isosceles","construction","geometry"]};console.debug("Using mock question (Supabase not available):",e),K(e)}let e=S,{data:{user:t}}=j.supabase?await j.supabase.auth.getUser():{data:{user:null}};if(t?(e=t.id,console.debug("Using authenticated user:",t.email,"ID:",t.id)):"anonymous"===S?(e="anonymous-user-"+Date.now(),console.debug("Using anonymous fallback userId:",e)):(e=S,console.debug("Using provided studentId:",e)),!e||"string"==typeof e&&!/^[0-9a-fA-F-]{36}$/.test(e)&&!e.startsWith("anonymous-user-"))throw console.error("Invalid userId before creating session:",e),Error("Invalid userId for session creation");if(j.supabase){let t=await j.supabase.from("sessions").insert({user_id:e,question_id:N,session_data:{},is_active:!0}).select().single();if(console.debug("sessions insert response",t),t.error)throw console.error("sessions insert error",JSON.stringify(t.error,Object.getOwnPropertyNames(t.error))),t.error;D(t.data);let r=await j.supabase.from("gq_attempts").insert({question_id:N,session_id:t.data.id,state:{},student_id:e,is_complete:!1,time_spent:0}).select().single();if(console.debug("gq_attempts insert response",r),r.error)throw console.error("gq_attempts insert error",JSON.stringify(r.error,Object.getOwnPropertyNames(r.error))),r.error;Z(r.data)}else{let t={id:"mock-session-"+Date.now(),user_id:e,question_id:N||"mock-question",session_data:{},is_active:!0},r={id:"mock-attempt-"+Date.now(),question_id:N||"mock-question",session_id:t.id,state:{},student_id:e,is_complete:!1,time_spent:0};console.debug("Using mock session and attempt (Supabase not available)"),D(t),Z(r)}H(new Date)}catch(e){try{console.error("Error loading question (detailed):",e&&"object"==typeof e?JSON.stringify(e,Object.getOwnPropertyNames(e)):e)}catch(t){console.error("Error logging err",t),console.error("Original err:",e)}V(e instanceof Error?e.message:"Failed to load question")}finally{X(!1)}};N&&e()},[N,S]);let eC=(0,r.useCallback)((e,t)=>{if(!(null==R?void 0:R.givens)){let r=e.create("point",[t.x,t.y],{name:"",size:2,strokeColor:"#444",fillColor:"#666"});return ej(r),r}let r=ev.current;if(r){for(let[s,n]of Object.entries(r))if(n&&"object"==typeof n&&"elType"in n&&"line"===n.elType&&function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.03,s=k(t.point1),n=k(t.point2),i=n.y-s.y,o=s.x-n.x,l=-(i*s.x+o*s.y);return Math.abs(i*e.x+o*e.y+l)/Math.hypot(i,o)<r}(t,n,.15)){let r=String.fromCharCode(65+Object.values(e.objects).filter(e=>"point"===e.elType).map(e=>e.name).length),s=e.create("glider",[t.x,t.y,n],{name:r,size:3,strokeColor:"#e11d48",fillColor:"#e11d48",label:{offset:[5,10]}});return ej(s),s}}let s=e.create("point",[t.x,t.y],{name:"",size:2,strokeColor:"#444",fillColor:"#666"});return ej(s),s},[R]),ew=(0,r.useCallback)((e,t)=>{var r;if(ef.current)return;let s=null==(r=t.originalEvent)?void 0:r.target;if(s&&(s.closest(".group")||s.classList.contains("group")))return;let n=function(e,t){let r=e.getUsrCoordsOfMouse(t);return{x:r[0],y:r[1]}}(e,t);switch(eh.current){case"mouse":U("");break;case"point":eC(e,n),U("Bod vytvořen");break;case"segment":{let r=ek(e,t);r||(r=eC(e,n)),P(t=>{let s=[...t,r];if(1===s.length)U("Klikněte na druhý bod");else if(2===s.length)return ej(e.create("segment",[s[0],s[1]],{strokeColor:"#2563eb",strokeWidth:2})),U("Úsečka vytvořena"),[];return s});break}case"line":{let r=ek(e,t);r||(r=eC(e,n)),P(t=>{let s=[...t,r];if(1===s.length)U("Klikněte na druhý bod");else if(2===s.length)return ej(e.create("line",[s[0],s[1]],{strokeColor:"#059669",strokeWidth:1,dash:1})),U("Přímka vytvořena"),[];return s});break}case"circle":{let r=ek(e,t);r||(r=eC(e,n)),P(t=>{let s=[...t,r];if(1===s.length)U("Klikněte na bod na kružnici");else if(2===s.length)return ej(e.create("circle",[s[0],s[1]],{strokeColor:"#dc2626",strokeWidth:2})),U("Kružnice vytvořena"),[];return s});break}case"rubber":{let r=e.getAllObjectsUnderMouse(t).find(e=>{var t;return!(null==(t=e.visProp)?void 0:t.fixed)});r&&(e.removeObject(r),U("Objekt smazán"))}}},[eC]);async function eN(){if(!O.current||!J)return;let e=function(){if(!(null==R?void 0:R.constraints))return{passed:!0,message:"Konstrukce uložena",score:(null==R?void 0:R.max_score)||3};let e=O.current;ev.current;try{let t="string"==typeof R.constraints?JSON.parse(R.constraints):R.constraints,r=0,s=!1,n="",i=Object.values(e.objects).filter(e=>{var t;return"point"===e.elType&&!(null==(t=e.visProp)?void 0:t.fixed)}),o=Object.values(e.objects).filter(e=>"segment"===e.elType),l=Object.values(e.objects).filter(e=>{var t;return"line"===e.elType&&!(null==(t=e.visProp)?void 0:t.fixed)}),a=Object.values(e.objects).filter(e=>{var t;return"circle"===e.elType&&!(null==(t=e.visProp)?void 0:t.fixed)});return t.requiredPoints&&i.length>=t.requiredPoints&&(r+=1),t.requiredSegments&&o.length>=t.requiredSegments&&(r+=1),t.requiredLines&&l.length>=t.requiredLines&&(r+=1),t.requiredCircles&&a.length>=t.requiredCircles&&(r+=1),r>=(t.minScore||2)?(s=!0,n="✅ Výborně! Konstrukce splňuje požadavky."):n="Konstrukce neúplná. Zkuste přidat více objektů.",{passed:s,message:n,score:Math.min(r,R.max_score)}}catch(e){return{passed:!1,message:"Chyba při validaci",score:0}}}(),t={objects:Object.values(O.current.objects).map(e=>({id:e.id,type:e.elType,name:e.name,properties:e.visProp})),createdStack:I,timestamp:new Date().toISOString()};try{if(j.supabase){let{error:r}=await j.supabase.from("gq_attempts").update({state:t,score:e.score,passed:e.passed,feedback:{message:e.message,validation:e},is_complete:!0,time_spent:$}).eq("id",J.id);if(r)throw r;M({validation:e,timestamp:new Date().toISOString()}),U(e.message)}else console.log("Mock save (Supabase not available):",{validation:e,currentState:t}),M({validation:e,timestamp:new Date().toISOString()}),U(e.message)}catch(e){console.error("Error saving attempt:",e),U("Chyba při ukládání")}}return(0,r.useEffect)(()=>{ey.current=ew},[ew]),(0,r.useEffect)(()=>{if(G||Q||!q.current||O.current)return;console.debug("Initializing board (post-loading), container:",q.current);let e=q.current.getBoundingClientRect(),t=Math.min(e.width/12,e.height/9),r=(e.width-12*t)/2,n=(e.height-9*t)/2,i=s.default.JSXGraph.initBoard(q.current,{boundingbox:[-1-r/t,8+n/t,11+r/t,-1-n/t],axis:!1,showNavigation:!1,showCopyright:!1,grid:!0,pan:{enabled:!1},zoom:!1,keepaspectratio:!0});return O.current=i,i.on("down",e=>{ey.current&&ey.current(i,e)}),setTimeout(()=>{try{var e,t,r;null==i||null==(t=i.renderer)||null==(e=t.resize)||e.call(t),null==i||null==(r=i.fullUpdate)||r.call(i)}catch(e){}},0),()=>{try{s.default.JSXGraph.freeBoard(i)}catch(e){}O.current=null,ev.current=null}},[G,Q]),(0,r.useEffect)(()=>{if(G||Q||!O.current||!R)return;console.debug("Creating givens for question:",R.title,"givens:",R.givens),ev.current&&Object.values(ev.current).forEach(e=>{if(e&&"function"==typeof e.removeObject)try{O.current.removeObject(e)}catch(e){console.warn("Error removing existing givens:",e)}});let e={};if(R.givens)try{console.debug("Parsing givens:",R.givens);let t="string"==typeof R.givens?JSON.parse(R.givens):R.givens;console.debug("Parsed givens data:",t),t.points&&(console.debug("Creating points:",t.points),Object.entries(t.points).forEach(t=>{let[r,s]=t,n=O.current.create("point",[s.x,s.y],{name:r,size:3,strokeColor:"#000",fillColor:"#000",fixed:!0,label:{offset:[5,10]}});e[r]=n,console.debug("Created point:",r,s)})),t.lines&&(console.debug("Creating lines:",t.lines),Object.entries(t.lines).forEach(t=>{let[r,s]=t,n=O.current.create("line",[[s.p1.x,s.p1.y],[s.p2.x,s.p2.y]],{strokeColor:"#000",strokeWidth:2,name:r,withLabel:!0,fixed:!0,label:{position:"rt",offset:[10,0]}});e[r]=n,console.debug("Created line:",r,s)})),t.circles&&(console.debug("Creating circles:",t.circles),Object.entries(t.circles).forEach(t=>{let[r,s]=t,n=e[s.center]||O.current.create("point",[s.center.x,s.center.y],{name:s.center,size:2,strokeColor:"#000",fillColor:"#000",fixed:!0}),i=O.current.create("circle",[n,s.radius],{strokeColor:"#000",strokeWidth:2,name:r,withLabel:!0,fixed:!0});e[r]=i,console.debug("Created circle:",r,s)}))}catch(e){console.error("Error parsing givens:",e)}else{console.debug("No givens data found, creating default givens for isosceles triangle problem");let t=O.current.create("line",[[0,7],[10,7]],{strokeColor:"#000",strokeWidth:2,name:"q",withLabel:!0,fixed:!0,label:{position:"rt",offset:[10,0]}}),r=O.current.create("point",[5,5],{name:"S",size:3,strokeColor:"#000",fillColor:"#000",fixed:!0,label:{offset:[5,10]}}),s=O.current.create("point",[4.5,3],{name:"C",size:3,strokeColor:"#000",fillColor:"#000",fixed:!0,label:{offset:[5,-15]}});e.q=t,e.S=r,e.C=s}ev.current=e,console.debug("Givens created:",e),O.current&&(O.current.renderer.resize(),O.current.fullUpdate(),console.debug("Board updated to display givens")),console.debug("Board objects after givens creation:",Object.keys(O.current.objects))},[R,G,Q]),G?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Načítání úlohy..."})]})}):Q?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(p.XCircle,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-red-600 mb-4",children:Q}),_&&(0,t.jsx)("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Zpět"})]})}):R?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[_&&(0,t.jsxs)("button",{onClick:_,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded",children:[(0,t.jsx)(b.ArrowLeft,{size:18}),"Zpět"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:R.title}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,t.jsxs)("span",{children:["Kód: ",R.code]}),(0,t.jsxs)("span",{children:["Obtížnost: ","★".repeat(R.difficulty)]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Clock,{size:14}),Math.floor($/60),":",($%60).toString().padStart(2,"0")]})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Maximální skóre: ",R.max_score]}),J&&(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Skóre: ",(null==T||null==(C=T.validation)?void 0:C.score)||0," / ",R.max_score]})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-4",children:(0,t.jsx)("div",{className:"text-gray-700 text-sm markdown-content",children:(0,t.jsx)(h.default,{remarkPlugins:[x.default],children:null!=(w=R.prompt_md)?w:""})})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4 p-4 bg-gray-100 rounded-lg",children:[(0,t.jsxs)("button",{onClick:()=>A("mouse"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("mouse"===z?"bg-gray-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}),(0,t.jsx)("path",{d:"M13 13l6 6"})]}),"Myš"]}),(0,t.jsxs)("button",{onClick:()=>A("point"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("point"===z?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(o.Circle,{size:18})," Bod"]}),(0,t.jsxs)("button",{onClick:()=>A("segment"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("segment"===z?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(l.Pencil,{size:18})," Úsečka"]}),(0,t.jsxs)("button",{onClick:()=>A("line"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("line"===z?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(l.Pencil,{size:18})," Přímka"]}),(0,t.jsxs)("button",{onClick:()=>A("circle"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("circle"===z?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(o.Circle,{size:18})," Kružnice"]}),(0,t.jsxs)("button",{onClick:()=>A("rubber"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("rubber"===z?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(c.Eraser,{size:18})," Guma"]}),(0,t.jsx)("div",{className:"border-l-2 border-gray-300 mx-2"}),(0,t.jsxs)("button",{onClick:function(){et(!ee),ee?"ruler"===eg&&eb(null):eb("ruler")},className:"px-3 py-2 rounded flex items-center gap-2 ".concat(ee?"bg-yellow-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(u.Ruler,{size:18})," Pravítko"]}),(0,t.jsxs)("button",{onClick:function(){es(!er),er?"triangle"===eg&&eb(null):eb("triangle")},className:"px-3 py-2 rounded flex items-center gap-2 ".concat(er?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(d.Triangle,{size:18})," Trojúhelník"]}),(0,t.jsxs)("button",{onClick:function(){ei(!en),en?"protractor"===eg&&eb(null):eb("protractor")},className:"px-3 py-2 rounded flex items-center gap-2 ".concat(en?"bg-orange-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(g.Gauge,{size:18})," Úhloměr"]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)("button",{onClick:function(){let e=O.current;if(!e||0===I.length)return;let t=I[I.length-1],r=t?e.objects[t]:void 0;r&&e.removeObject(r),L(e=>e.slice(0,-1)),U("")},className:"px-3 py-2 rounded bg-gray-700 text-white hover:bg-gray-800 flex items-center gap-2",children:[(0,t.jsx)(a.RotateCcw,{size:18})," Zpět"]}),(0,t.jsxs)("button",{onClick:function(){let e=O.current;if(!e)return;let t=[];for(let s in e.objects){var r;let n=e.objects[s];(null==n||null==(r=n.visProp)?void 0:r.fixed)||t.push(n)}t.forEach(t=>e.removeObject(t)),P([]),U(""),M(null),L([])},className:"px-3 py-2 rounded bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[(0,t.jsx)(i.Trash2,{size:18})," Vymazat"]}),(0,t.jsxs)("button",{onClick:eN,className:"px-3 py-2 rounded bg-green-600 text-white hover:bg-green-700 flex items-center gap-2",children:[(0,t.jsx)(n.Save,{size:18})," Uložit"]})]}),(0,t.jsxs)("div",{ref:q,id:"jxgbox",className:"w-full border-2 border-gray-300 rounded-lg bg-white jxgbox relative",style:{height:500,touchAction:"none"},children:[ee&&(0,t.jsx)(f.default,{x:eo.x,y:eo.y,rotation:eo.rotation,length:eo.length,onPositionChange:(e,t,r,s)=>{el({x:e,y:t,rotation:r,length:s})},isActive:"ruler"===eg,onActivate:()=>eb("ruler"),onUiBusyChange:em}),er&&(0,t.jsx)(y.default,{x:ea.x,y:ea.y,rotation:ea.rotation,size:ea.size,type:"45-45-90",onPositionChange:(e,t,r,s)=>{ec({x:e,y:t,rotation:r,size:s})},isActive:"triangle"===eg,onActivate:()=>eb("triangle"),onUiBusyChange:em}),en&&(0,t.jsx)(v.default,{x:eu.x,y:eu.y,rotation:eu.rotation,size:eu.size,onPositionChange:(e,t,r,s)=>{ed({x:e,y:t,rotation:r,size:s})},isActive:"protractor"===eg,onActivate:()=>eb("protractor"),onUiBusyChange:em})]}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border-l-4 border-blue-500 rounded-lg",children:(0,t.jsxs)("p",{className:"text-blue-700 text-sm",children:[(0,t.jsx)("strong",{children:"Nápověda:"})," Modrý bod = přesun • Zelený bod = otočení • Oranžový bod = změna velikosti"]})}),B&&(0,t.jsx)("div",{className:"mt-4 p-4 rounded-lg ".concat(B.includes("✅")?"bg-green-50 border-l-4 border-green-500":"bg-yellow-50 border-l-4 border-yellow-500"),children:(0,t.jsx)("p",{className:"text-gray-800",children:B})})]})})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Úloha nebyla nalezena"}),_&&(0,t.jsx)("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Zpět"})]})})}},40216,e=>{e.n(e.i(44665))}]);