(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48227,e=>{"use strict";e.s(["default",()=>i],48227);var t=e.i(83770);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)((e,s)=>{let{color:n="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...m}=e;return(0,t.createElement)("svg",{ref:s,...a,width:i,height:i,stroke:n,strokeWidth:o?24*Number(l)/Number(i):l,className:r("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[s,r]=e;return(0,t.createElement)(s,r)}),...Array.isArray(d)?d:[d]])}),i=(e,a)=>{let i=(0,t.forwardRef)((i,l)=>{let{className:o,...c}=i;return(0,t.createElement)(n,{ref:l,iconNode:a,className:r("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return i.displayName=s(e),i}},47350,34342,e=>{"use strict";e.s(["XCircle",()=>t],47350);let t=(0,e.i(48227).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["ensureAuthenticatedUserExists",()=>a,"getQuestions",()=>r,"seedSampleQuestions",()=>i],34342);var s=e.i(55499);async function r(){let{data:e,error:t}=await s.supabase.from("gq_questions").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}async function a(e,t,r){let{data:a,error:n}=await s.supabase.from("users").select("*").eq("id",e).single();if(a&&!n)return a;let{data:i,error:l}=await s.supabase.from("users").insert({id:e,email:t,name:r||t.split("@")[0],role:"student"}).select().single();if(l){if("23505"===l.code){let{data:t}=await s.supabase.from("users").select("*").eq("id",e).single();if(t)return t}throw l}return i}let n=[{code:"TRIANGLE_001",title:"Konstrukce rovnoramenného trojúhelníku",prompt_md:"\n# Konstrukce rovnoramenného trojúhelníku\n\nSestrojte rovnoramenný trojúhelník ABC tak, aby:\n- Bod C je vrchol trojúhelníku\n- Bod S je střed ramene\n- Základna AB leží na přímce q\n\n## Postup:\n1. Označte body A a B na přímce q\n2. Sestrojte úsečky AC a BC\n3. Ověřte, že AC = BC\n    ",max_score:3,givens:{points:{S:{x:5,y:5},C:{x:4.5,y:3}},lines:{q:{p1:{x:0,y:7},p2:{x:10,y:7}}}},constraints:{requiredPoints:2,requiredSegments:3,minScore:2},difficulty:2,tags:["trojúhelník","rovnoramenný","konstrukce"]},{code:"CIRCLE_001",title:"Konstrukce kružnice procházející třemi body",prompt_md:"\n# Konstrukce kružnice procházející třemi body\n\nSestrojte kružnici, která prochází body A, B a C.\n\n## Postup:\n1. Sestrojte osy úseček AB a BC\n2. Najděte průsečík os - střed kružnice\n3. Sestrojte kružnici se středem v průsečíku os\n    ",max_score:4,givens:{points:{A:{x:2,y:6},B:{x:6,y:6},C:{x:4,y:3}}},constraints:{requiredPoints:1,requiredLines:2,requiredCircles:1,minScore:3},difficulty:3,tags:["kružnice","tři body","osy úseček"]},{code:"ANGLE_001",title:"Konstrukce úhlu",prompt_md:"\n# Konstrukce úhlu\n\nSestrojte úhel o velikosti 60° s vrcholem v bodě A a jedním ramenem na přímce p.\n\n## Postup:\n1. Označte bod B na přímce p\n2. Sestrojte kružnici se středem A a poloměrem AB\n3. Sestrojte druhé rameno úhlu\n    ",max_score:3,givens:{points:{A:{x:3,y:4}},lines:{p:{p1:{x:0,y:4},p2:{x:8,y:4}}}},constraints:{requiredPoints:1,requiredLines:1,requiredCircles:1,minScore:2},difficulty:2,tags:["úhel","60°","konstrukce"]}];async function i(){try{if((await r()).length>0)return void console.log("Questions already exist, skipping seed");let{error:e}=await s.supabase.from("gq_questions").insert(n);if(e)throw e;console.log("Sample questions seeded successfully")}catch(e){throw console.error("Error seeding questions:",e),e}}},21489,e=>{"use strict";e.s(["default",()=>d],21489);var t=e.i(57421),s=e.i(83770),r=e.i(48227);let a=(0,r.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),n=(0,r.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),i=(0,r.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),l=(0,r.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var o=e.i(47350),c=e.i(34342);function d(){let[e,r]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),[m,h]=(0,s.useState)([]),x=async()=>{try{r(!0),u(null),await (0,c.seedSampleQuestions)(),u({type:"success",text:"Ukázkové úlohy byly úspěšně přidány do databáze"}),await p()}catch(e){console.error("Error seeding questions:",e),u({type:"error",text:"Chyba při přidávání úloh: "+(e instanceof Error?e.message:"Neznámá chyba")})}finally{r(!1)}},p=async()=>{try{r(!0);let e=await (0,c.getQuestions)();h(e)}catch(e){console.error("Error loading questions:",e),u({type:"error",text:"Chyba při načítání úloh"})}finally{r(!1)}};return s.default.useEffect(()=>{p()},[]),(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(a,{className:"text-blue-600",size:24}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Správa databáze"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("button",{onClick:x,disabled:e,className:"flex items-center gap-3 p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(n,{size:20}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-semibold",children:"Přidat ukázkové úlohy"}),(0,t.jsx)("div",{className:"text-sm opacity-90",children:"Přidá ukázkové geometrické úlohy do databáze"})]})]}),(0,t.jsxs)("button",{onClick:p,disabled:e,className:"flex items-center gap-3 p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(i,{size:20}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"font-semibold",children:"Obnovit seznam"}),(0,t.jsx)("div",{className:"text-sm opacity-90",children:"Načte aktuální seznam úloh z databáze"})]})]})]}),d&&(0,t.jsxs)("div",{className:"p-4 rounded-lg mb-6 flex items-center gap-3 ".concat("success"===d.type?"bg-green-50 border-l-4 border-green-500":"bg-red-50 border-l-4 border-red-500"),children:["success"===d.type?(0,t.jsx)(l,{className:"text-green-600",size:20}):(0,t.jsx)(o.XCircle,{className:"text-red-600",size:20}),(0,t.jsx)("span",{className:"success"===d.type?"text-green-700":"text-red-700",children:d.text})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:["Úlohy v databázi (",m.length,")"]}),e?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Načítání..."})]}):0===m.length?(0,t.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,t.jsx)(a,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Žádné úlohy v databázi"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:'Klikněte na "Přidat ukázkové úlohy" pro přidání ukázkových úloh'})]}):(0,t.jsx)("div",{className:"space-y-3",children:m.map(e=>{var s;return(0,t.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[(0,t.jsxs)("span",{children:["Kód: ",e.code]}),(0,t.jsxs)("span",{children:["Obtížnost: ","★".repeat(e.difficulty)]}),(0,t.jsxs)("span",{children:["Max skóre: ",e.max_score]}),(0,t.jsxs)("span",{children:["Tagy: ",(null==(s=e.tags)?void 0:s.join(", "))||"žádné"]})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500 mt-2",children:["Vytvořeno: ",new Date(e.created_at).toLocaleString("cs-CZ")]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(e.difficulty<=2?"bg-green-100 text-green-700":e.difficulty<=3?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:e.difficulty<=2?"Snadná":e.difficulty<=3?"Střední":e.difficulty<=4?"Těžká":"Expertní"})})]})},e.id)})})]})]})})})}}]);