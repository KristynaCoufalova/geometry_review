module.exports=[35569,11087,17957,14425,21971,21797,92919,64803,3989,79368,94825,17740,75772,__turbopack_context__=>{"use strict";__turbopack_context__.s(["default",()=>__TURBOPACK__default__export__65],35569);var jxg={};try{"object"!=typeof JXG||JXG.extend||(jxg=JXG)}catch(e){}jxg.extend=function(a,b,c,d){var e,f;for(e in c=c||!1,d=d||!1,b)(!c||c&&b.hasOwnProperty(e))&&(a[f=d?e.toLowerCase():e]=b[e])},jxg.defineConstant=function(a,b,c,d){(d=d||!1)&&jxg.exists(a[b])||Object.defineProperty(a,b,{value:c,writable:!1,enumerable:!0,configurable:!1})},jxg.extendConstants=function(a,b,c,d){var e,f;for(e in c=c||!1,d=d||!1,b)(!c||c&&b.hasOwnProperty(e))&&(f=d?e.toUpperCase():e,this.defineConstant(a,f,b[e]))},jxg.extend(jxg,{boards:{},readers:{},elements:{},registerElement:function(a,b){a=a.toLowerCase(),this.elements[a]=b},registerReader:function(a,b){var c,d;for(c=0;c<b.length;c++)d=b[c].toLowerCase(),"function"!=typeof this.readers[d]&&(this.readers[d]=a)},shortcut:function(a,b){return function(){return a[b].apply(this,arguments)}},getRef:function(a,b){return jxg.deprecated("JXG.getRef()","Board.select()"),a.select(b)},getReference:function(a,b){return jxg.deprecated("JXG.getReference()","Board.select()"),a.select(b)},getBoardByContainerId:function(a){var b;for(b in JXG.boards)if(JXG.boards.hasOwnProperty(b)&&JXG.boards[b].container===a)return JXG.boards[b];return null},deprecated:function(a,b){var c=a+" is deprecated.";b&&(c+=" Please use "+b+" instead."),jxg.warn(c)},warn:function(a){"object"==typeof document&&document.getElementById("warning")&&(document.getElementById("debug").innerHTML+="WARNING: "+a+"<br />")},debugInt:function(a){var b,c;for(b=0;b<arguments.length;b++)c=arguments[b],"object"==typeof document&&document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=c+"<br/>")},debugWST:function(a){var b=Error();jxg.debugInt.apply(this,arguments),b&&b.stack&&(jxg.debugInt("stacktrace"),jxg.debugInt(b.stack.split("\n").slice(1).join("\n")))},debugLine:function(a){var b=Error();jxg.debugInt.apply(this,arguments),b&&b.stack&&jxg.debugInt("Called from",b.stack.split("\n").slice(2,3).join("\n"))},debug:function(a){jxg.debugInt.apply(this,arguments)},themes:{}});let __TURBOPACK__default__export__=jxg;var constants,major=1,minor=12,patch=0,add="",version=major+"."+minor+"."+patch;constants={version:version,licenseText:"JSXGraph v"+version+" Â© jsxgraph.org",licenseLogo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ8AAACfCAYAAADnGwvgAAAACXBIWXMAAAsSAAALEgHS3X78AAAIPklEQVR4nO2d21XjSBCG/96z75ABzgBPBHgiWDLARDCeCBAZeCMYO4KFCEbOwM7AZIAjqH1QiTHGF7XUF7X6/87xw4APqodv+qaqaiMiICQGf8UOgOQL5SPRoHwkGpSPROPv2AH4whhzDWCs/xwDuI4YTu4sRGR7+MPByGeMGQG4BzBBJdtNxHDIZ0oA28MfJi2fCjfVD2VLjCTlU+kKAA9RAyGdSEo+SjcskpHPGFMAmAG4ihwKcUTv5dPR7gXAbdxIiGt6fc5njJkAWIPiDZLeymeMmQL4DU6zg6WX8ql4v2LHQfzSO/koXj70Sj6Klxd92+2uAXyPHQS5yBQOzlp7JZ+IrGPHQC6jpxCd6dW0S/KC8pFoUD4SDcpHokH5SDQoH4kG5SPRoHwkGpSPRCPaGw5jzBjACFWl2Ug/JB4LEVmEfGAw+bSO9h5/yhuZp9cvytAP9C6fvgecAfjH97NIWniTT9OjCrCelpzAuXw60hUA7lz/bTIsnMmna7oCwA9Xf5MMGyfy6c51AVaZEQs6n/Pp2q4ExSOWdBr5WHNButB65KN4pCut5KN4xAXW8ulRCsUjnbGSb69pDyGdsR35XsB3ssQRjeXT/ng8TiHOaCSfTrczr5GQ7Gg68hXgdEscc/GQWUc99kC+zArAO6p+M4fU94Aw2WKPJm84Ct9BJMorqteKpU2PGX0PPkGVVJu1jGfl46j3hTcAc1Qp5+9t/oCKugYwz/0ekUtrvmmIIBLgDcCjiIxEZN5WvENEZCsihYiMADzqc7KB8p1nB+BZpVv4fJD+/TGAZ5/P6RMn5dMpIbupYI8NgLGIFKEeKCLv+rxv+vxBc27kuw8WRf9Yisj42E2JIdB14QTAMsbzQ3FOvkmoIHrGTxGZxg5CR8EpBizgud3u+Mzvhspj6MLpS4jI1BgDDPDU4ejIp8VAua33nvsmXs1QR8BT025uo94y5MaiDSrga+w4XNKrbvSR2MBR0oS+vbjG5/VyCeDdUaf9KaoD6kHMSqfky2nkm3Y5NDbG1P1n7nE8+eJJv7dDlQ+5EJGyzbNE5H3vTrrkOTXtXgeNIh7PbUckY8y9MWYL4D9Um4FLWT9X+r3fxph127ssVNxBrP9y7s+3Q/We1gpjzLUx5gWVdG2nv1tUEi50c2fLDFX8SZOzfDPb6VbXdCXcddx6AFDaCqhxW//H6Ru5ylevvxqzJ57rUoJbtBAQlC9ZrFKiVIwF/GVz38KyOaPGn/TaL1f5bEeNAv6Lp261SMuGhYc4gpGjfG82CQO6Kw3V9u1Js4kaoTvfZDceOcpnW/Re+AjC4fOSLeLPUb6y6Rd1kxG6zuLBZvRDhEberqB855l6iuESNrmUyV6QnZ18lmd7E19xXKCxfCnfzp6bfCvL78dqD2I71Se56chNvsa0ffcaiSRHP8rXUxKTvxWUj0SD8vUXJ4XpfYbynWYb8+GWu9gk8y9zk2/U9Iv6Ci7WLtK2bUaSTTtzk882+bP0EYTL57ZMRu0FuclXvzJrSqz3pjbPTbbeJjv5YPfW4gXhp96diNjIN/EViG9ClU6+oXnu2Qh+q/MnaJjPp9Vic2gFWiBscw0nPoIIQSj5tk2LsvVw1bd8NsxRFeyE6EldN59shK73ku1umuO0e6W1to3QRISpv3A+YVtDnHQnsRzlAyw7FOga7F9PsdT8bFFMnvT1FLnKd2eZsAkRmcFfwc5SRKzWero8SfJ8ryZX+YAW6fHarMd129rHlv0AC8dxBCdn+R7aZI7oxuk7ujfv3gD41qYtm8ad7EajJmf5gJaF1yJSduggX3e2H7fJQt6rIU6e3OVrUyv7gYgsVMJvqKbjFb4eSr/pz59RjXRdO9sXGHiLtJx4Msa8dKmF2LvYxSuBa4i9k/vIV9OmV0pQ9J10sjW6x6B8FVfosYAa1+Au2qZ8f2jbLcorGk+Jgazz9qF8n6kFHEWOA8DHVLtG4ofJp6B8X7kF0LptrSv0/XOJAY54NZTvOFeo2tbOQ0/D2nZ3jqrt7qDWeIdQvvP8QDUKBske0U7zawzoOOUclO8yNwD+M8aUviQ0xky1s/0vDHiaPYSHzM25Q5UNU2dlL7rcSqmbiSmqnLxshNuH8tlzgyqt/klFLPWzBbA+lgyq68bx3meCTIXbh/J14wZVyv9H2r/eEEkawDUfiQblIyHYHvsh5SPeObUxo3zENyeL7ikf8c3JPEfKR3xD+Ug0KB+JRnnqF5SP+GRz7hUk5SM+WZz7JeUjPjlb8ET5iC9Wl7J+KB/xRXHpC5SP+GDVpN0b5SM+KJp8ifIR17w2bXJJ+YhLdrBoIUz5iEusekpTPuKKpeX9IZSPOGHTprUv5SNd2aDlRTSUj3RhA2BieXfIB70rndRtehL1h8aYEgNozN2STuIBHPlIOxboKB7Qw5GP9J8ubUL24chHasrQD6R8JBqUjwD42OgFhfIRoNq5BofyESDABTbHoHwEiLDZACgfqYhysxHlI69dD4vbEuqQ+c4YI4GeReyIdp8bR768eet4/WonKF/eLGI+nPLlyw4tb1p3BeXLl1msjUYN5cuTVcy1Xg3ly5NZ7AAAypcjP0Ukyuu0QyhfXixFJOomYx/Klw8b9GS6raF8edC52McHlG/49FI8gPINnd6KB1C+IbMUkXFfxQNYOjlEdqi6RUXLVmkKR75h8QpglIJ4AOUbCisA30Xkvs/T7CGcdtNmBaCIUfboAsqXHhtUeXgvrtpWxILy9ZsdqrLG+lOmLtw+RuRraYUxZgRgFDgW8oftkCQ7xVH5CAkBd7skGpSPRIPykWhQPhKN/wEKYnCiOMadyQAAAABJRU5ErkJggg==",COORDS_BY_USER:1,COORDS_BY_SCREEN:2,OBJECT_TYPE_ARC:1,OBJECT_TYPE_ARROW:2,OBJECT_TYPE_AXIS:3,OBJECT_TYPE_AXISPOINT:4,OBJECT_TYPE_TICKS:5,OBJECT_TYPE_CIRCLE:6,OBJECT_TYPE_CONIC:7,OBJECT_TYPE_CURVE:8,OBJECT_TYPE_GLIDER:9,OBJECT_TYPE_IMAGE:10,OBJECT_TYPE_LINE:11,OBJECT_TYPE_POINT:12,OBJECT_TYPE_SLIDER:13,OBJECT_TYPE_CAS:14,OBJECT_TYPE_GXTCAS:15,OBJECT_TYPE_POLYGON:16,OBJECT_TYPE_SECTOR:17,OBJECT_TYPE_TEXT:18,OBJECT_TYPE_ANGLE:19,OBJECT_TYPE_INTERSECTION:20,OBJECT_TYPE_TURTLE:21,OBJECT_TYPE_VECTOR:22,OBJECT_TYPE_OPROJECT:23,OBJECT_TYPE_GRID:24,OBJECT_TYPE_TANGENT:25,OBJECT_TYPE_HTMLSLIDER:26,OBJECT_TYPE_CHECKBOX:27,OBJECT_TYPE_INPUT:28,OBJECT_TYPE_BUTTON:29,OBJECT_TYPE_TRANSFORMATION:30,OBJECT_TYPE_FOREIGNOBJECT:31,OBJECT_TYPE_VIEW3D:32,OBJECT_TYPE_POINT3D:33,OBJECT_TYPE_LINE3D:34,OBJECT_TYPE_PLANE3D:35,OBJECT_TYPE_CURVE3D:36,OBJECT_TYPE_SURFACE3D:37,OBJECT_TYPE_MEASUREMENT:38,OBJECT_TYPE_INTERSECTION_LINE3D:39,OBJECT_TYPE_SPHERE3D:40,OBJECT_TYPE_CIRCLE3D:41,OBJECT_TYPE_INTERSECTION_CIRCLE3D:42,OBJECT_TYPE_TEXT3D:43,OBJECT_TYPE_FACE3D:44,OBJECT_TYPE_POLYHEDRON3D:45,OBJECT_TYPE_POLYGON3D:46,OBJECT_CLASS_POINT:1,OBJECT_CLASS_LINE:2,OBJECT_CLASS_CIRCLE:3,OBJECT_CLASS_CURVE:4,OBJECT_CLASS_AREA:5,OBJECT_CLASS_OTHER:6,OBJECT_CLASS_TEXT:7,OBJECT_CLASS_3D:8},__TURBOPACK__default__export__.extendConstants(__TURBOPACK__default__export__,constants);let __TURBOPACK__default__export__1=constants;var undef,memoizer=function(a){var b,c;return a.memo||(b={},c=Array.prototype.join,a.memo=function(){var d=c.call(arguments);return b[d]!==undef?b[d]:b[d]=a.apply(this,arguments)}),a.memo};__TURBOPACK__default__export__.Math={eps:1e-6,relDif:function(a,b){var c=Math.abs(b);return 0===(c=Math.max(Math.abs(a),c))?0:Math.abs(a-b)/c},mod:function(a,b){return a-Math.floor(a/b)*b},wrap:function(a,b,c){return b+this.mod(a-b,c-b)},clamp:function(a,b,c){return Math.min(Math.max(a,b),c)},wrapAndClamp:function(a,b,c,d){var e=.5*(b+c),f=.5*d;return this.clamp(this.wrap(a,e-f,e+f),b,c)},vector:function(a,b){var c,d;for(d=0,b=b||0,c=[];d<a;d++)c[d]=b;return c},matrix:function(a,b,c){var d,e,f;for(e=0,c=c||0,b=b||a,d=[];e<a;e++)for(f=0,d[e]=[];f<b;f++)d[e][f]=c;return d},identity:function(a,b){var c,d;for(b===undef&&"number"!=typeof b&&(b=a),c=this.matrix(a,b),d=0;d<Math.min(a,b);d++)c[d][d]=1;return c},frustum:function(a,b,c,d,e,f){var g=this.matrix(4,4);return g[0][0]=2*e/(b-a),g[0][1]=0,g[0][2]=(b+a)/(b-a),g[0][3]=0,g[1][0]=0,g[1][1]=2*e/(d-c),g[1][2]=(d+c)/(d-c),g[1][3]=0,g[2][0]=0,g[2][1]=0,g[2][2]=-(f+e)/(f-e),g[2][3]=-(f*e*2)/(f-e),g[3][0]=0,g[3][1]=0,g[3][2]=-1,g[3][3]=0,g},projection:function(a,b,c,d){var e=c*Math.tan(a/2),f=e*b;return this.frustum(-f,f,-e,e,c,d)},matVecMult:function(a,b){var c,d,e,f=a.length,g=b.length,h=[];if(3===g)for(c=0;c<f;c++)h[c]=a[c][0]*b[0]+a[c][1]*b[1]+a[c][2]*b[2];else for(c=0;c<f;c++){for(d=0,e=0;d<g;d++)e+=a[c][d]*b[d];h[c]=e}return h},vecMatMult:function(a,b){var c,d,e,f=b.length,g=a.length,h=[];if(3===g)for(c=0;c<f;c++)h[c]=a[0]*b[0][c]+a[1]*b[1][c]+a[2]*b[2][c];else for(c=0;c<g;c++){for(d=0,e=0;d<f;d++)e+=a[d]*b[d][c];h[c]=e}return h},matMatMult:function(a,b){var c,d,e,f,g=a.length,h=g>0?b[0].length:0,i=b.length,j=this.matrix(g,h);for(c=0;c<g;c++)for(d=0;d<h;d++){for(f=0,e=0;f<i;f++)e+=a[c][f]*b[f][d];j[c][d]=e}return j},matNumberMult:function(a,b){var c,d,e=a.length,f=e>0?a[0].length:0,g=this.matrix(e,f);for(c=0;c<e;c++)for(d=0;d<f;d++)g[c][d]=a[c][d]*b;return g},matMatAdd:function(a,b){var c,d,e=a.length,f=e>0?a[0].length:0,g=this.matrix(e,f);for(c=0;c<e;c++)for(d=0;d<f;d++)g[c][d]=a[c][d]+b[c][d];return g},transpose:function(a){var b,c,d,e,f;for(c=0,e=a.length,f=a.length>0?a[0].length:0,b=this.matrix(f,e);c<f;c++)for(d=0;d<e;d++)b[c][d]=a[d][c];return b},inverse:function(a){var b,c,d,e,f,g,h,i=this.eps*this.eps,j=a.length,k=[],l=[],m=[];for(b=0;b<j;b++){for(c=0,k[b]=[];c<j;c++)k[b][c]=a[b][c];l[b]=b}for(c=0;c<j;c++){for(g=Math.abs(k[c][c]),e=c,b=c+1;b<j;b++)Math.abs(k[b][c])>g&&(g=Math.abs(k[b][c]),e=b);if(g<=i)return __TURBOPACK__default__export__.warn("JXG.Math.inverse: singular matrix"),[];if(e>c){for(d=0;d<j;d++)h=k[c][d],k[c][d]=k[e][d],k[e][d]=h;h=l[c],l[c]=l[e],l[e]=h}for(b=0,f=1/k[c][c];b<j;b++)k[b][c]*=f;for(d=0,k[c][c]=f;d<j;d++)if(d!==c){for(b=0;b<j;b++)b!==c&&(k[b][d]-=k[b][c]*k[c][d]);k[c][d]=-f*k[c][d]}}for(b=0;b<j;b++){for(d=0;d<j;d++)m[l[d]]=k[b][d];for(d=0;d<j;d++)k[b][d]=m[d]}return k},trace:function(a){var b,c,d=0;if(a.length!==(c=a.length>0?a[0].length:0))return NaN;for(b=0;b<c;b++)d+=a[b][b];return d},innerProduct:function(a,b,c){var d,e=0;for(c!==undef&&__TURBOPACK__default__export__3.isNumber(c)||(c=a.length),d=0;d<c;d++)e+=a[d]*b[d];return e},crossProduct:function(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]},norm:function(a,b){var c,d=0;for(b!==undef&&__TURBOPACK__default__export__3.isNumber(b)||(b=a.length),c=0;c<b;c++)d+=a[c]*a[c];return Math.sqrt(d)},axpy:function(a,b,c){var d,e=b.length,f=[];for(d=0;d<e;d++)f[d]=a*b[d]+c[d];return f},factorial:memoizer(function(a){return a<0?NaN:0===(a=Math.floor(a))||1===a?1:a*this.factorial(a-1)}),binomial:memoizer(function(a,b){var c,d;if(b>a||b<0)return NaN;if(b=Math.round(b),a=Math.round(a),0===b||b===a)return 1;for(d=0,c=1;d<b;d++)c*=a-d,c/=d+1;return c}),cosh:Math.cosh||function(a){return(Math.exp(a)+Math.exp(-a))*.5},sinh:Math.sinh||function(a){return(Math.exp(a)-Math.exp(-a))*.5},acosh:Math.acosh||function(a){return Math.log(a+Math.sqrt(a*a-1))},asinh:Math.asinh||function(a){return a===-1/0?a:Math.log(a+Math.sqrt(a*a+1))},cot:function(a){return 1/Math.tan(a)},acot:function(a){return(a>=0?.5:-.5)*Math.PI-Math.atan(a)},nthroot:function(a,b){var c=1/b;return b<=0||Math.floor(b)!==b?NaN:0===a?0:a>0?Math.exp(c*Math.log(a)):b%2==1?-Math.exp(c*Math.log(-a)):NaN},cbrt:Math.cbrt||function(a){return this.nthroot(a,3)},pow:function(a,b){return 0===a?+(0===b):Math.floor(b)===b?Math.pow(a,b):a>0?Math.exp(b*Math.log(a)):NaN},ratpow:function(a,b,c){var d;return 0===b?1:0===c?NaN:(d=this.gcd(b,c),this.nthroot(this.pow(a,b/d),c/d))},log10:function(a){return Math.log(a)/Math.log(10)},log2:function(a){return Math.log(a)/Math.log(2)},log:function(a,b){return void 0!==b&&__TURBOPACK__default__export__3.isNumber(b)?Math.log(a)/Math.log(b):Math.log(a)},sign:Math.sign||function(a){return 0==(a*=1)||isNaN(a)?a:a>0?1:-1},squampow:function(a,b){var c;if(Math.floor(b)===b){for(c=1,b<0&&(a=1/a,b*=-1);0!==b;)1&b&&(c*=a),b>>=1,a*=a;return c}return this.pow(a,b)},gcd:function(a,b){var c,d=!0;if(a=Math.abs(a),b=Math.abs(b),!(__TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isNumber(b)))return NaN;for(b>a&&(c=a,a=b,b=c);d;){if(0==(a%=b))return b;if(0==(b%=a))return a}},lcm:function(a,b){var c;return __TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isNumber(b)?0!=(c=a*b)?c/this.gcd(a,b):0:NaN},roundToStep:function(a,b,c,d){var e,f,g=a;if(!__TURBOPACK__default__export__3.exists(b)&&!__TURBOPACK__default__export__3.exists(c)&&!__TURBOPACK__default__export__3.exists(d))return g;if(__TURBOPACK__default__export__.exists(d)&&(g=Math.min(g,d)),__TURBOPACK__default__export__.exists(c)&&(g=Math.max(g,c)),f=c||0,__TURBOPACK__default__export__.exists(b)){if(Number.isInteger(e=(g-f)/b))return g;g=f+(e=Math.round(e))*b}return __TURBOPACK__default__export__.exists(d)&&(g=Math.min(g,d)),__TURBOPACK__default__export__.exists(c)&&(g=Math.max(g,c)),g},erf:function(a){return this.ProbFuncs.erf(a)},erfc:function(a){return this.ProbFuncs.erfc(a)},erfi:function(a){return this.ProbFuncs.erfi(a)},ndtr:function(a){return this.ProbFuncs.ndtr(a)},ndtri:function(a){return this.ProbFuncs.ndtri(a)},hypot:function(){var a,b,c,d;for(a=0,b=arguments.length,d=0;a<b;a++)c=arguments[a],d+=c*c;return Math.sqrt(d)},hstep:function(a){return a>0?1:a<0?0:.5},gamma:function(a){var b,c,d,e,f,g=7,h=[1,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,15056327351493116e-23];if(a<.5)c=Math.PI/(Math.sin(Math.PI*a)*this.gamma(1-a));else{for(a-=1,b=h[0],f=h.length,e=1;e<f;e++)b+=h[e]/(a+e);c=Math.sqrt(2*Math.PI)*Math.pow(d=a+g+.5,a+.5)*Math.exp(-d)*b}return c},lt:function(a,b){return a<b},leq:function(a,b){return a<=b},gt:function(a,b){return a>b},geq:function(a,b){return a>=b},eq:function(a,b){return a===b},neq:function(a,b){return a!==b},and:function(a,b){return a&&b},not:function(a){return!a},or:function(a,b){return a||b},xor:function(a,b){return(a||b)&&!(a&&b)},decToFraction:function(a,b){var c,d,e,f,g,h,i,j,k,l=0,m=20;for(b=__TURBOPACK__default__export__3.def(b,.001),d=(a=1e-12*Math.round(1e12*a))<0?-1:1,c=Math.floor(a=Math.abs(a)),a-=Math.floor(a),h=1,f=g=e=0,k=0,i=j=1;a-Math.floor(a)>b&&l<m;)f=h+(e=Math.floor(a=1/(a-e)))*g,i=k+e*j,h=g,k=j,g=f,j=i,l++;return[d,c,f,i]},normalize:function(a){var b,c,d=2*a[3],e=a[4]/d;return a[5]=e,a[6]=-a[1]/d,a[7]=-a[2]/d,isFinite(e)?Math.abs(e)>=1?(a[0]=(a[6]*a[6]+a[7]*a[7]-e*e)/(2*e),a[1]=-a[6]/e,a[2]=-a[7]/e,a[3]=1/(2*e),a[4]=1):(c=e<=0?-1:1,a[0]=c*(a[6]*a[6]+a[7]*a[7]-e*e)*.5,a[1]=-c*a[6],a[2]=-c*a[7],a[3]=c/2,a[4]=c*e):(b=this.hypot(a[1],a[2]),a[0]/=b,a[1]/=b,a[2]/=b,a[3]=0,a[4]=1),a},toGL:function(a){var b,c,d;if(b="function"==typeof Float32Array?new Float32Array(16):Array(16),4!==a.length&&4!==a[0].length)return b;for(c=0;c<4;c++)for(d=0;d<4;d++)b[c+4*d]=a[c][d];return b},Vieta:function(a){var b,c,d,e=a.length,f=[];for(b=1,f=a.slice();b<e;++b){for(d=f[b],f[b]*=f[b-1],c=b-1;c>=1;--c)f[c]+=f[c-1]*d;f[0]+=d}return f}};let __TURBOPACK__default__export__2=__TURBOPACK__default__export__.Math;__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__,{isBoard:function(a){return null!==a&&"object"==typeof a&&this.isNumber(a.BOARD_MODE_NONE)&&this.isObject(a.objects)&&this.isObject(a.jc)&&this.isFunction(a.update)&&!!a.containerObj&&this.isString(a.id)},isId:function(a,b){return"string"==typeof b&&!!a.objects[b]},isName:function(a,b){return"string"==typeof b&&!!a.elementsByName[b]},isGroup:function(a,b){return"string"==typeof b&&!!a.groups[b]},isString:function(a){return"string"==typeof a},isNumber:function(a,b,c){var d="number"==typeof a||"[Object Number]"===Object.prototype.toString.call(a);return c=void 0===c||c,(b=b||!1)&&(d=d||""+parseFloat(a)===a),c||(d=d&&!isNaN(a)),d},isFunction:function(a){return"function"==typeof a},isArray:function(a){var b;return Array.isArray?Array.isArray(a):null!==a&&"object"==typeof a&&"function"==typeof a.splice&&"function"==typeof a.join},isObject:function(a){return"object"==typeof a&&!this.isArray(a)},isDocumentOrFragment:function(a){return this.isObject(a)&&(9===a.nodeType||11===a.nodeType)},isPoint:function(a){return!!(null!==a&&"object"==typeof a&&this.exists(a.elementClass))&&a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT},isPoint3D:function(a){return!!(null!==a&&"object"==typeof a&&this.exists(a.type))&&a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POINT3D},isPointType:function(a,b){var c,d;return!!(this.isArray(b)||this.isFunction(b)&&(c=b(),this.isArray(c)&&c.length>1))||(d=a.select(b),this.isPoint(d))},isPointType3D:function(a,b){var c,d;return!!(this.isArray(b)&&b.length>=3||this.isFunction(b)&&(c=b(),this.isArray(c)&&c.length>=3))||(d=a.select(b),this.isPoint3D(d))},isTransformationOrArray:function(a){if(null!==a){if(this.isArray(a)&&a.length>0)return this.isTransformationOrArray(a[0]);if("object"==typeof a)return a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TRANSFORMATION}return!1},isEmpty:function(a){return 0===Object.keys(a).length},exists:function(a,b){var c=void 0!=a&&null!==a;return(b=b||!1)?c&&""!==a:c},def:function(a,b){return this.exists(a)?a:b},str2Bool:function(a){return!this.exists(a)||("boolean"==typeof a?a:!!this.isString(a)&&"true"===a.toLowerCase())},cssParse:function(a){var b=a;return this.isString(b)?JSON.parse(b='{"'+(b=(b=(b=(b=b.replace(/\s*;\s*$/g,"")).replace(/\s*;\s*/g,'","')).replace(/\s*:\s*/g,'":"')).trim())+'"}'):{}},cssStringify:function(a){var b,c,d="";if(!this.isObject(a))return"";for(b in a)a.hasOwnProperty(b)&&(c=a[b],(this.isString(c)||this.isNumber(c))&&(d+=b+":"+c+"; "));return d.trim()},createEvalFunction:function(a,b,c){var d,e,f,g=[],h={};for(e=0;e<c;e++)for(f in g[e]=this.createFunction(b[e],a),g[e].deps)h[f]=g[e].deps;return(d=function(a){return g[a]()}).deps=h,d},createFunction:function(a,b,c,d){var e=null;return this.isString(a)?e=b.jc.snippet(a,!0,c,!1):this.isFunction(a)?(e=a).deps=this.isObject(a.deps)?a.deps:{}:(this.isNumber(a)||this.isArray(a))&&((e=function(){return a}).deps={}),null!==e&&(e.origin=a),e},providePoints:function(a,b,c,d,e){var f,g,h,i,j,k=0,l=[];for(this.isArray(b)||(b=[b]),h=b.length,this.exists(e)&&(k=e.length),0===k&&(i=this.copyAttributes(c,a.options,d)),f=0;f<h;++f)if(k>0&&(g=Math.min(f,k-1),i=this.copyAttributes(c,a.options,d,e[g].toLowerCase())),this.isArray(b[f])&&b[f].length>1?(l.push(a.create("point",b[f],i)),l[l.length-1]._is_new=!0):this.isFunction(b[f])?(j=b[f](),this.isArray(j)&&j.length>1&&(l.push(a.create("point",[b[f]],i)),l[l.length-1]._is_new=!0)):l.push(a.select(b[f])),!this.isPoint(l[f]))return!1;return l},providePoints3D:function(a,b,c,d,e){var f,g,h,i,j,k=0,l=[];for(this.isArray(b)||(b=[b]),h=b.length,this.exists(e)&&(k=e.length),0===k&&(i=this.copyAttributes(c,a.board.options,d)),f=0;f<h;++f){if(k>0&&(g=Math.min(f,k-1),i=this.copyAttributes(c,a.board.options,d,e[g])),this.isArray(b[f])&&b[f].length>0&&b[f].every(a=>this.isArray(a)&&this.isNumber(a[0])))for(g=0;g<b[f].length;g++)l.push(a.create("point3d",b[f][g],i)),l[l.length-1]._is_new=!0;else this.isArray(b[f])&&b[f].every(a=>this.isNumber(a)||this.isFunction(a))?(l.push(a.create("point3d",b[f],i)),l[l.length-1]._is_new=!0):this.isPoint3D(b[f])?l.push(b[f]):this.isFunction(b[f])?(j=b[f](),this.isArray(j)&&j.length>1&&(l.push(a.create("point3d",[b[f]],i)),l[l.length-1]._is_new=!0)):l.push(a.select(b[f]));if(!this.isPoint3D(l[f]))return!1}return l},bind:function(a,b){return function(){return a.apply(b,arguments)}},evaluate:function(a){return this.isFunction(a)?a():a},indexOf:function(a,b,c){var d,e=this.exists(c);if(Array.indexOf&&!e)return a.indexOf(b);for(d=0;d<a.length;d++)if(e&&a[d][c]===b||!e&&a[d]===b)return d;return -1},eliminateDuplicates:function(a){var b,c=a.length,d=[],e={};for(b=0;b<c;b++)e[a[b]]=0;for(b in e)e.hasOwnProperty(b)&&d.push(b);return d},swap:function(a,b,c){var d;return d=a[b],a[b]=a[c],a[c]=d,a},uniqueArray:function(a){var b,c,d,e=[];if(0===a.length)return[];for(b=0;b<a.length;b++){if(d=this.isArray(a[b]),!this.exists(a[b])){a[b]="";continue}for(c=b+1;c<a.length;c++)d&&__TURBOPACK__default__export__.cmpArrays(a[b],a[c])?a[b]=[]:d||a[b]!==a[c]||(a[b]="")}for(b=0,c=0;b<a.length;b++)(d=this.isArray(a[b]))||""===a[b]?d&&0!==a[b].length&&(e[c]=a[b].slice(0),c++):(e[c]=a[b],c++);return a=e,e},isInArray:function(a,b){return __TURBOPACK__default__export__.indexOf(a,b)>-1},coordsArrayToMatrix:function(a,b){var c,d=[],e=[];for(c=0;c<a.length;c++)b?(d.push(a[c].usrCoords[1]),e.push(a[c].usrCoords[2])):e.push([a[c].usrCoords[1],a[c].usrCoords[2]]);return b&&(e=[d,e]),e},cmpArrays:function(a,b){var c;if(a===b)return!0;if(a.length!==b.length)return!1;for(c=0;c<a.length;c++)if(this.isArray(a[c])&&this.isArray(b[c])){if(!this.cmpArrays(a[c],b[c]))return!1}else if(a[c]!==b[c])return!1;return!0},removeElementFromArray:function(a,b){var c;for(c=0;c<a.length;c++)if(a[c]===b){a.splice(c,1);break}return a},trunc:function(a,b){return b=__TURBOPACK__default__export__.def(b,0),this.toFixed(a,b)},_decimalAdjust:function(a,b,c){return void 0===c||0==+c?Math[a](b):(c*=1,isNaN(b*=1)||"number"!=typeof c||c%1!=0)?NaN:+((b=(b=Math[a](+((b=b.toString().split("e"))[0]+"e"+(b[1]?b[1]-c:-c)))).toString().split("e"))[0]+"e"+(b[1]?+b[1]+c:c))},_round10:function(a,b){return this._decimalAdjust("round",a,b)},_floor10:function(a,b){return this._decimalAdjust("floor",a,b)},_ceil10:function(a,b){return this._decimalAdjust("ceil",a,b)},toFixed:function(a,b){return this._round10(a,-b).toFixed(b)},autoDigits:function(a){var b,c=Math.abs(a);return c>=.1?this.toFixed(a,2):c>=.01?this.toFixed(a,4):c>=1e-4?this.toFixed(a,6):a},parseNumber:function(a,b,c){var d;return this.isString(a)&&a.indexOf("%")>-1?parseFloat(d=a.replace(/\s+%\s+/,""))*b*.01:this.isString(a)&&a.indexOf("fr")>-1?parseFloat(d=a.replace(/\s+fr\s+/,""))*b:this.isString(a)&&a.indexOf("px")>-1?(d=parseFloat(d=a.replace(/\s+px\s+/,"")),this.isFunction(c))?c(d):this.isNumber(c)?d*c:d:parseFloat(a)},parsePosition:function(a){var b,c,d="",e="";if(""!==(a=a.trim()))for(c=0,b=a.split(/[ ,]+/);c<b.length;c++)"left"===b[c]||"right"===b[c]?d=b[c]:e=b[c];return{side:d,pos:e}},keys:function(a,b){var c,d=[];for(c in a)b?a.hasOwnProperty(c)&&d.push(c):d.push(c);return d},clone:function(a){var b={};return b.prototype=a,b},cloneAndCopy:function(a,b){var c,d=function(){};for(c in d.prototype=a,b)d[c]=b[c];return d},merge:function(a,b){var c,d,e,f;for(c in b)if(b.hasOwnProperty(c))if(e=b[c],this.isArray(e))for(a[c]||(a[c]=[]),d=0;d<e.length;d++)f=b[c][d],"object"==typeof b[c][d]?a[c][d]=this.merge(a[c][d],f):a[c][d]=b[c][d];else"object"==typeof e?(a[c]||(a[c]={}),a[c]=this.merge(a[c],e)):("boolean"==typeof a&&(a={}),a[c]=e);return a},deepCopy:function(a,b,c){var d,e,f,g;if(c=c||!1,"object"!=typeof a||null===a)return a;if(this.isArray(a))for(e=0,d=[];e<a.length;e++)null!==(f=a[e])&&"object"==typeof f?this.exists(f.board)?d[e]=f.id:d[e]=this.deepCopy(f,{},c):d[e]=f;else{for(e in d={},a)a.hasOwnProperty(e)&&(g=c?e.toLowerCase():e,null!==(f=a[e])&&"object"==typeof f?this.exists(f.board)?d[g]=f.id:d[g]=this.deepCopy(f,{},c):d[g]=f);for(e in b)b.hasOwnProperty(e)&&(g=c?e.toLowerCase():e,null!==(f=b[e])&&"object"==typeof f?this.isArray(f)||!this.exists(d[g])?d[g]=this.deepCopy(f,{},c):d[g]=this.deepCopy(d[g],f,c):d[g]=f)}return d},mergeAttr:function(a,b,c,d){var e,f,g;for(e in c=c||!0,d=d||!1,b)b.hasOwnProperty(e)&&((f=c?e.toLowerCase():e)!==e&&a.hasOwnProperty(e)&&(a.hasOwnProperty(f)?this.mergeAttr(a[f],a[e],c):a[f]=a[e],delete a[e]),g=b[e],!this.isObject(g)||null===g||this.isDocumentOrFragment(g)||this.exists(g.board)||"string"==typeof g.valueOf()?(!d||this.exists(g))&&(a[f]=g):(void 0!==a[f]&&null!==a[f]&&this.isObject(a[f])||(a[f]={}),this.mergeAttr(a[f],g,c)))},keysToLowerCase:function(a){var b,c,d=Object.keys(a),e=d.length,f={};if("object"!=typeof a)return a;for(;e--;)b=d[e],a.hasOwnProperty(b)&&("object"!=typeof(c=a[b])||null===c||this.isArray(c)||this.exists(c.nodeType)||this.exists(c.board)?f[b.toLowerCase()]=c:f[b.toLowerCase()]=this.keysToLowerCase(c));return f},copyAttributes:function(a,b,c){var d,e,f,g,h,i,j={circle:1,curve:1,foreignobject:1,image:1,line:1,point:1,polygon:1,text:1,ticks:1,integral:1};for(g=arguments.length,d=g<3||j[c]?__TURBOPACK__default__export__.deepCopy(b.elements,null,!0):{},g<4&&this.exists(c)&&this.exists(b.layer[c])&&(d.layer=b.layer[c]),h=b,i=!0,f=2;f<g;f++)if(e=arguments[f],this.exists(h[e]))h=h[e];else{i=!1;break}for(i&&(d=__TURBOPACK__default__export__.deepCopy(d,h,!0)),h="object"==typeof a?this.keysToLowerCase(a):{},i=!0,f=3;f<g;f++)if(e=arguments[f].toLowerCase(),this.exists(h[e]))h=h[e];else{i=!1;break}if(i&&this.mergeAttr(d,h,!0),"board"===arguments[2])return d;for(f=2,h=b,i=!0;f<g;f++)if(e=arguments[f],this.exists(h[e]))h=h[e];else{i=!1;break}return i&&this.exists(h.label)&&(d.label=__TURBOPACK__default__export__.deepCopy(h.label,d.label,!0)),d.label=__TURBOPACK__default__export__.deepCopy(b.label,d.label,!0),d},copyPrototypeMethods:function(a,b,c){var d;for(d in a.prototype[c]=b.prototype.constructor,b.prototype)b.prototype.hasOwnProperty(d)&&(a.prototype[d]=b.prototype[d])},getCloneObject:function(a){var b,c,d={};for(c in d.id=a.id+"T"+a.numTraces,a.numTraces+=1,d.coords=a.coords,b=this.deepCopy(a.visProp,a.visProp.traceattributes,!0),d.visProp={},b)b.hasOwnProperty(c)&&0!==c.indexOf("aria")&&0!==c.indexOf("highlight")&&0!==c.indexOf("attractor")&&"label"!==c&&"needsregularupdate"!==c&&"infoboxdigits"!==c&&(d.visProp[c]=a.eval(b[c]));return d.evalVisProp=function(a){return d.visProp[a]},d.eval=function(a){return a},d.visProp.layer=a.board.options.layer.trace,d.visProp.tabindex=null,d.visProp.highlight=!1,d.board=a.board,d.elementClass=a.elementClass,this.clearVisPropOld(d),d.visPropCalc={visible:a.evalVisProp("visible")},d},toJSON:function(a,b){var c,d,e,f;if(b=__TURBOPACK__default__export__.def(b,!1),void 0!==JSON&&JSON.stringify&&!b)try{return JSON.stringify(a)}catch(a){}switch(typeof a){case"object":if(a){if(c=[],this.isArray(a)){for(e=0;e<a.length;e++)c.push(__TURBOPACK__default__export__.toJSON(a[e],b));return"["+c.join(",")+"]"}for(d in a)if(a.hasOwnProperty(d)){try{f=__TURBOPACK__default__export__.toJSON(a[d],b)}catch(a){f=""}b?c.push(d+":"+f):c.push('"'+d+'":'+f)}return"{"+c.join(",")+"} "}return"null";case"string":return"'"+a.replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return a.toString()}return"0"},clearVisPropOld:function(a){return a.visPropOld={cssclass:"",cssdefaultstyle:"",cssstyle:"",fillcolor:"",fillopacity:"",firstarrow:!1,fontsize:-1,lastarrow:!1,left:-1e5,linecap:"",shadow:!1,strokecolor:"",strokeopacity:"",strokewidth:"",tabindex:-1e5,transitionduration:0,top:-1e5,visible:null},a},isInObject:function(a,b){var c;for(c in a)if(a.hasOwnProperty(c)&&a[c]===b)return!0;return!1},escapeHTML:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(a){return a.replace(/<\/?[^>]+>/gi,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},capitalize:function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},trimNumber:function(a){return("."===(a=(a=a.replace(/^0+/,"")).replace(/0+$/,""))[a.length-1]||","===a[a.length-1])&&(a=a.slice(0,-1)),("."===a[0]||","===a[0])&&(a="0"+a),a},filterElements:function(a,b){var c,d,e,f,g,h,i,j=a.length,k=[];if("function"!=typeof b&&"object"!=typeof b)return k;for(c=0;c<j;c++){if(i=!0,e=a[c],"object"==typeof b){for(d in b)if(b.hasOwnProperty(d)&&(f=d.toLowerCase(),g="function"==typeof e[d]?e[d]():e[d],h=e.visProp&&"function"==typeof e.visProp[f]?e.visProp[f]():e.visProp&&e.visProp[f],!(i="function"==typeof b[d]?b[d](g)||b[d](h):g===b[d]||h===b[d])))break}else"function"==typeof b&&(i=b(e));i&&k.push(e)}return k},trim:function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},toFraction:function(a,b,c){var d=__TURBOPACK__default__export__2.decToFraction(a,c),e="";return 0===d[1]&&0===d[2]?e+="0":(d[0]<0&&(e+="-"),0===d[2]?e+=d[1]:(1!==d[2]||1!==d[3])&&(0!==d[1]&&(e+=d[1]+" "),!0===b?e+="\\frac{"+d[2]+"}{"+d[3]+"}":e+=d[2]+"/"+d[3])),e},concat:function(a,b){var c,d=b.length;for(c=0;c<d;c++)a.push(b[c]);return a},sanitizeHTML:function(a,b){return"function"==typeof html_sanitize&&b?html_sanitize(a,function(){},function(a){return a}):(a&&"string"==typeof a&&(a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;")),a)},evalSlider:function(a){return a&&a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&"function"==typeof a.Value?a.Value():a},stack2jsxgraph:function(a){var b;return"["===(b=a.replace(/%pi/g,"PI").replace(/%e/g,"EULER").replace(/%phi/g,"1.618033988749895").replace(/%gamma/g,"0.5772156649015329").trim())[0]&&"]"===b[b.length-1]&&(b=b.slice(1,-1).split(/\s*,\s*/)),b}});let __TURBOPACK__default__export__3=__TURBOPACK__default__export__;__TURBOPACK__default__export__.extendConstants(__TURBOPACK__default__export__,{}),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__,{isTouchEvent:function(a){return __TURBOPACK__default__export__.exists(a.touches)},isPointerEvent:function(a){return __TURBOPACK__default__export__.exists(a.pointerId)},isMouseEvent:function(a){return!__TURBOPACK__default__export__.isTouchEvent(a)&&!__TURBOPACK__default__export__.isPointerEvent(a)},getNumberOfTouchPoints:function(a){var b=-1;return __TURBOPACK__default__export__.isTouchEvent(a)&&(b=a.touches.length),b},isFirstTouch:function(a){var b=__TURBOPACK__default__export__.getNumberOfTouchPoints(a);return __TURBOPACK__default__export__.isPointerEvent(a)?a.isPrimary:1===b},isBrowser:!1,supportsES6:function(){try{return Function("(a = 0) => a"),!0}catch(a){return!1}},supportsVML:function(){return this.isBrowser&&!!document.namespaces},supportsSVG:function(){return!!this.isBrowser&&!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},supportsCanvas:function(){var a=!1;return this.isNode()&&(a=!0),a||this.isBrowser&&!!document.createElement("canvas").getContext},isNode:function(){return!this.isBrowser&&"undefined"!=typeof process&&-1!==process.release.name.search(/node|io.js/)},isWebWorker:function(){return!this.isBrowser&&"object"==typeof self&&"function"==typeof self.postMessage},supportsPointerEvents:function(){return!!(this.isBrowser&&window.navigator&&(window.PointerEvent||window.navigator.pointerEnabled||window.navigator.msPointerEnabled))},isTouchDevice:function(){return this.isBrowser&&void 0!==window.ontouchstart},isAndroid:function(){return __TURBOPACK__default__export__3.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("android")>-1},isWebkitAndroid:function(){return this.isAndroid()&&navigator.userAgent.indexOf(" AppleWebKit/")>-1},isApple:function(){return __TURBOPACK__default__export__3.exists(navigator)&&(navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1)},isWebkitApple:function(){return this.isApple()&&navigator.userAgent.search(/Mobile\/[0-9A-Za-z.]*Safari/)>-1},isMetroApp:function(){return!1},isMozilla:function(){return __TURBOPACK__default__export__3.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1&&-1===navigator.userAgent.toLowerCase().indexOf("apple")},isFirefoxOS:function(){return __TURBOPACK__default__export__3.exists(navigator)&&-1===navigator.userAgent.toLowerCase().indexOf("android")&&-1===navigator.userAgent.toLowerCase().indexOf("apple")&&navigator.userAgent.toLowerCase().indexOf("mobile")>-1&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1},isDesktop:function(){return!0},isMobile:function(){return!0},ieVersion:function(){var a,b,c=3;if("object"!=typeof document)return 0;b=(a=document.createElement("div")).getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++c+"]><i></i><![endif]-->";while(b[0])return c>4?c:void 0}(),getDimensions:function(a,b){var c,d,e,f,g,h,i,j,k,l=/\d+(\.\d*)?px/;if(!this.isBrowser||null===a)return{width:500,height:500};if(b=b||document,c=__TURBOPACK__default__export__3.isString(a)?b.getElementById(a):a,!__TURBOPACK__default__export__3.exists(c))throw Error("\nJSXGraph: HTML container element '"+a+"' not found.");return"none"!==(d=c.style.display)&&null!==d?c.clientWidth>0&&c.clientHeight>0?{width:c.clientWidth,height:c.clientHeight}:{width:l.test((k=window.getComputedStyle?window.getComputedStyle(c):c.style).width)?parseFloat(k.width):0,height:l.test(k.height)?parseFloat(k.height):0}:(f=(e=c.style).visibility,g=e.position,h=e.display,e.visibility="hidden",e.position="absolute",e.display="block",i=c.clientWidth,j=c.clientHeight,e.display=h,e.position=g,e.visibility=f,{width:i,height:j})},addEvent:function(a,b,c,d,e){var f=function(){return c.apply(d,arguments)};f.origin=c,"object"==typeof d&&__TURBOPACK__default__export__3.exists(d.BOARD_MODE_NONE)&&(d["x_internal"+b]=d["x_internal"+b]||[],d["x_internal"+b].push(f)),__TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.addEventListener)&&(e=e||!1,a.addEventListener(b,f,e)),__TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.attachEvent)&&a.attachEvent("on"+b,f)},removeEvent:function(a,b,c,d){var e;if(!__TURBOPACK__default__export__3.exists(d))return void __TURBOPACK__default__export__.debug("no such owner");if(!__TURBOPACK__default__export__3.exists(d["x_internal"+b]))return void __TURBOPACK__default__export__.debug("removeEvent: no such type: "+b);if(!__TURBOPACK__default__export__3.isArray(d["x_internal"+b]))return void __TURBOPACK__default__export__.debug("owner[x_internal + "+b+"] is not an array");if(-1===(e=__TURBOPACK__default__export__3.indexOf(d["x_internal"+b],c,"origin")))return void __TURBOPACK__default__export__.debug("removeEvent: no such event function in internal list: "+c);try{__TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.removeEventListener)&&a.removeEventListener(b,d["x_internal"+b][e],!1),__TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.detachEvent)&&a.detachEvent("on"+b,d["x_internal"+b][e])}catch(a){__TURBOPACK__default__export__.debug("removeEvent: event not registered in browser: ("+b+" -- "+c+")")}d["x_internal"+b].splice(e,1)},removeAllEvents:function(a,b,c){var d;if(c["x_internal"+b]){for(d=c["x_internal"+b].length-1;d>=0;d--)__TURBOPACK__default__export__.removeEvent(a,b,c["x_internal"+b][d].origin,c);c["x_internal"+b].length>0&&__TURBOPACK__default__export__.debug("removeAllEvents: Not all events could be removed.")}},getPosition:function(a,b,c){var d,e,f,g=0,h=0;if(a||(a=window.event),c=c||document,f=a.touches,__TURBOPACK__default__export__3.exists(f)&&0===f.length&&(f=a.changedTouches),__TURBOPACK__default__export__3.exists(b)&&__TURBOPACK__default__export__3.exists(f))if(-1===b){for(d=0,e=f.length;d<e;d++)if(f[d]){a=f[d];break}}else a=f[b];return a.clientX&&(g=a.clientX,h=a.clientY),[g,h]},getOffset:function(a){var b,c=a,d=a,e=c.offsetLeft-c.scrollLeft,f=c.offsetTop-c.scrollTop;for(e=(b=this.getCSSTransform([e,f],c))[0],f=b[1],c=c.offsetParent;c;){for(e+=c.offsetLeft,f+=c.offsetTop,c.offsetParent&&(e+=c.clientLeft-c.scrollLeft,f+=c.clientTop-c.scrollTop),e=(b=this.getCSSTransform([e,f],c))[0],f=b[1],d=d.parentNode;d!==c;)e+=d.clientLeft-d.scrollLeft,f+=d.clientTop-d.scrollTop,e=(b=this.getCSSTransform([e,f],d))[0],f=b[1],d=d.parentNode;c=c.offsetParent}return[e,f]},getStyle:function(a,b){var c,d=a.ownerDocument;return d.defaultView&&d.defaultView.getComputedStyle?c=d.defaultView.getComputedStyle(a,null).getPropertyValue(b):a.currentStyle&&__TURBOPACK__default__export__.ieVersion>=9?c=a.currentStyle[b]:a.style&&(b=b.replace(/-([a-z]|[0-9])/gi,function(a,b){return b.toUpperCase()}),c=a.style[b]),c},getProp:function(a,b){var c=parseInt(this.getStyle(a,b),10);return isNaN(c)?0:c},getCSSTransform:function(a,b){var c,d,e,f,g,h,i,j=["transform","webkitTransform","MozTransform","msTransform","oTransform"];for(c=0,g=j.length,e="";c<g;c++)if(__TURBOPACK__default__export__3.exists(b.style[j[c]])){e=b.style[j[c]];break}if(""!==e&&(f=e.indexOf("("))>0){for(d=0,g=e.length,h=(i=e.substring(f+1,g-1).split(",")).length;d<h;d++)i[d]=parseFloat(i[d]);0===e.indexOf("matrix")?(a[0]+=i[4],a[1]+=i[5]):0===e.indexOf("translateX")?a[0]+=i[0]:0===e.indexOf("translateY")?a[1]+=i[0]:0===e.indexOf("translate")&&(a[0]+=i[0],a[1]+=i[1])}return __TURBOPACK__default__export__3.exists(b.style.zoom)&&""!==(e=b.style.zoom)&&(a[0]*=parseFloat(e),a[1]*=parseFloat(e)),a},getCSSTransformMatrix:function(a){var b,c,d,e,f,g,h,i,j=a.ownerDocument,k=["transform","webkitTransform","MozTransform","msTransform","oTransform"],l=[[1,0,0],[0,1,0],[0,0,1]];if(j.defaultView&&j.defaultView.getComputedStyle)d=(i=j.defaultView.getComputedStyle(a,null)).getPropertyValue("-webkit-transform")||i.getPropertyValue("-moz-transform")||i.getPropertyValue("-ms-transform")||i.getPropertyValue("-o-transform")||i.getPropertyValue("transform");else for(b=0,g=k.length,d="";b<g;b++)if(__TURBOPACK__default__export__3.exists(a.style[k[b]])){d=a.style[k[b]];break}if(""!==d&&(f=d.indexOf("("))>0){for(c=0,g=d.length,h=(e=d.substring(f+1,g-1).split(",")).length;c<h;c++)e[c]=parseFloat(e[c]);0===d.indexOf("matrix")?l=[[1,0,0],[0,e[0],e[1]],[0,e[2],e[3]]]:0===d.indexOf("scaleX")?l[1][1]=e[0]:0===d.indexOf("scaleY")?l[2][2]=e[0]:0===d.indexOf("scale")&&(l[1][1]=e[0],l[2][2]=e[1])}return __TURBOPACK__default__export__3.exists(a.style.zoom)&&""!==(d=a.style.zoom)&&(l[1][1]*=parseFloat(d),l[2][2]*=parseFloat(d)),l},timedChunk:function(a,b,c,d){var e=a.slice(),f=function(){var g=+new Date;do b.call(c,e.shift());while(e.length>0&&new Date-g<300)e.length>0?window.setTimeout(f,1):d(a)};window.setTimeout(f,1)},scaleJSXGraphDiv:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=d,r=4;for(f=(g=c.getElementById(a).getBoundingClientRect()).height,e=g.width,j=(l=c.getElementById(b))._cssFullscreenStore.w,o=(k=l._cssFullscreenStore.h)/j,j>e*q&&(k=(j=e*q)*o),k>f*q&&(j=(k=f*q)/o),h=j,i=k,m=o<f/e?e*q/j:f*q/k,n=(f-i)*.5,p=0;p<r;p++)try{l.style.width=h+"px !important",l.style.height=i+"px !important",l.style.margin="0 auto",l.style.transform=l._cssFullscreenStore.transform+" matrix("+m+",0,0,"+m+",0,"+n+")";break}catch(a){__TURBOPACK__default__export__.debug("JXG.scaleJSXGraphDiv:\n"+a)}p===r&&__TURBOPACK__default__export__.debug("JXG.scaleJSXGraphDiv: Could not set any CSS property.")}});let __TURBOPACK__default__export__4=__TURBOPACK__default__export__;__TURBOPACK__default__export__.XML={cleanWhitespace:function(a){for(var b=a.firstChild;__TURBOPACK__default__export__3.exists(b);)3!==b.nodeType||/\S/.test(b.nodeValue)?1===b.nodeType&&this.cleanWhitespace(b):a.removeChild(b),b=b.nextSibling},parse:function(a){var b,c;return b=new(c="function"==typeof DOMParser||"object"==typeof DOMParser?DOMParser:function(){this.parseFromString=function(a){var b;return"function"==typeof ActiveXObject&&(b=new ActiveXObject("MSXML.DomDocument")).loadXML(a),b}})().parseFromString(a,"text/xml"),this.cleanWhitespace(b),b}};let __TURBOPACK__default__export__5=__TURBOPACK__default__export__.XML;__TURBOPACK__default__export__.EventEmitter={eventHandlers:{},suspended:{},trigger:function(a,b){var c,d,e,f,g,h;for(d=0,g=a.length;d<g;d++)if(f=this.eventHandlers[a[d]],!this.suspended[a[d]]){if(this.suspended[a[d]]=!0,f)for(c=0,h=f.length;c<h;c++)(e=f[c]).handler.apply(e.context,b);this.suspended[a[d]]=!1}return this},on:function(a,b,c){return __TURBOPACK__default__export__3.isArray(this.eventHandlers[a])||(this.eventHandlers[a]=[]),c=__TURBOPACK__default__export__3.def(c,this),this.eventHandlers[a].push({handler:b,context:c}),this},off:function(a,b){var c;return a&&__TURBOPACK__default__export__3.isArray(this.eventHandlers[a])&&(b?((c=__TURBOPACK__default__export__3.indexOf(this.eventHandlers[a],b,"handler"))>-1&&this.eventHandlers[a].splice(c,1),0===this.eventHandlers[a].length&&delete this.eventHandlers[a]):delete this.eventHandlers[a]),this},eventify:function(a){a.eventHandlers={clicks:0},a.on=this.on,a.off=this.off,a.triggerEventHandlers=this.trigger,a.trigger=this.trigger,a.suspended={}}};let __TURBOPACK__default__export__6=__TURBOPACK__default__export__.EventEmitter;__TURBOPACK__default__export__.Coords=function(a,b,c,d){this.board=c,this.usrCoords=[],this.scrCoords=[],this.emitter=!__TURBOPACK__default__export__3.exists(d)||d,this.emitter&&__TURBOPACK__default__export__6.eventify(this),this.setCoordinates(a,b,!1,!0)},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Coords.prototype,{normalizeUsrCoords:function(){Math.abs(this.usrCoords[0])>__TURBOPACK__default__export__2.eps&&(this.usrCoords[1]/=this.usrCoords[0],this.usrCoords[2]/=this.usrCoords[0],this.usrCoords[0]=1)},usr2screen:function(a){var b=Math.round,c=this.board,d=this.usrCoords,e=c.origin.scrCoords;!0===a?(this.scrCoords[0]=b(d[0]),this.scrCoords[1]=b(d[0]*e[1]+d[1]*c.unitX),this.scrCoords[2]=b(d[0]*e[2]-d[2]*c.unitY)):(this.scrCoords[0]=d[0],this.scrCoords[1]=d[0]*e[1]+d[1]*c.unitX,this.scrCoords[2]=d[0]*e[2]-d[2]*c.unitY)},screen2usr:function(){var a=this.board.origin.scrCoords,b=this.scrCoords,c=this.board;this.usrCoords[0]=1,this.usrCoords[1]=(b[1]-a[1])/c.unitX,this.usrCoords[2]=(a[2]-b[2])/c.unitY},distance:function(a,b){var c,d,e=0,f=this.usrCoords,g=this.scrCoords;return a!==__TURBOPACK__default__export__1.COORDS_BY_USER?(c=b.scrCoords,__TURBOPACK__default__export__2.hypot(g[1]-c[1],g[2]-c[2])):(c=b.usrCoords,(e=(d=f[0]-c[0])*d)>__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps)?1/0:__TURBOPACK__default__export__2.hypot(f[1]-c[1],f[2]-c[2])},setCoordinates:function(a,b,c,d){var e=this.usrCoords,f=this.scrCoords,g=[e[0],e[1],e[2]],h=[f[0],f[1],f[2]];return a===__TURBOPACK__default__export__1.COORDS_BY_USER?(2===b.length?(e[0]=1,e[1]=b[0],e[2]=b[1]):(e[0]=b[0],e[1]=b[1],e[2]=b[2],this.normalizeUsrCoords()),this.usr2screen(c)):(2===b.length?(f[1]=b[0],f[2]=b[1]):(f[1]=b[1],f[2]=b[2]),this.screen2usr()),this.emitter&&!d&&(h[1]!==f[1]||h[2]!==f[2])&&this.triggerEventHandlers(["update"],[g,h]),this},copy:function(a,b){return void 0===b&&(b=0),this[a].slice(b)},isReal:function(){return!isNaN(this.usrCoords[1]+this.usrCoords[2])&&Math.abs(this.usrCoords[0])>__TURBOPACK__default__export__2.eps},__evt__update:function(a,b){},__evt:function(){}});let __TURBOPACK__default__export__7=__TURBOPACK__default__export__.Coords;__TURBOPACK__default__export__.Expect={each:function(a,b,c){var d,e,f=[];if(__TURBOPACK__default__export__3.exists(a.length))for(d=0,e=a.length;d<e;d++)f.push(b.call(this,a[d],c));return f},coords:function(a,b){var c=a;return a&&a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT?c=a.coords:a.usrCoords&&a.scrCoords&&a.usr2screen&&(c=a),b&&(c=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,c.usrCoords,c.board)),c},coordsArray:function(a,b){var c;return(c=__TURBOPACK__default__export__3.isArray(a)?a:this.coords(a).usrCoords).length<3&&c.unshift(1),b&&(c=[c[0],c[1],c[2]]),c}};let __TURBOPACK__default__export__8=__TURBOPACK__default__export__.Expect;__TURBOPACK__default__export__2.ProbFuncs={MAXNUM:17014118346046923e22,SQRTH:.7071067811865476,SQRT2:1.4142135623730951,MAXLOG:708.3964185322641,P:[2461969814735305e-25,.5641895648310689,7.463210564422699,48.63719709856814,196.5208329560771,526.4451949954773,934.5285271719576,1027.5518868951572,557.5353353693994],Q:[13.228195115474499,86.70721408859897,354.9377788878199,975.7085017432055,1823.9091668790973,2246.3376081871097,1656.6630919416134,557.5353408177277],R:[.5641895835477551,1.275366707599781,5.019050422511805,6.160210979930536,7.4097426995044895,2.9788666537210022],S:[2.2605286322011726,9.396035249380015,12.048953980809666,17.08144507475659,9.608968090632859,3.369076451000815],T:[9.604973739870516,90.02601972038427,2232.005345946843,7003.325141128051,55592.30130103949],U:[33.56171416475031,521.3579497801527,4594.323829709801,22629.000061389095,49267.39426086359],M:128,MINV:.0078125,expx2:function(a,b){var c,d,e,f;return(a=Math.abs(a),b<0&&(a=-a),e=this.MINV*Math.floor(this.M*a+.5),f=a-e,c=e*e,d=2*e*f+f*f,b<0&&(c=-c,d=-d),c+d>this.MAXLOG)?1/0:c=Math.exp(c)*Math.exp(d)},polevl:function(a,b,c){var d,e;if(__TURBOPACK__default__export__3.exists(b.reduce))return b.reduce(function(b,c){return b*a+c},0);for(e=0,d=0;e<=c;e++)d=d*a+b[e];return d},p1evl:function(a,b,c){var d,e;if(__TURBOPACK__default__export__3.exists(b.reduce))return b.reduce(function(b,c){return b*a+c},1);for(e=0,d=1;e<c;e++)d=d*a+b[e];return d},ndtr:function(a){var b,c,d;return(d=Math.abs(b=a*this.SQRTH))<1?c=.5+.5*this.erf(b):(c=.5*this.erfce(d)*Math.sqrt(d=this.expx2(a,-1)),b>0&&(c=1-c)),c},_underflow:function(a){return 2*(console.log("erfc","UNDERFLOW"),a<0)},erfc:function(a){var b,c,d,e,f;return(d=a<0?-a:a)<1?1-this.erf(a):(f=-a*a)<-this.MAXLOG||(f=this.expx2(a,-1),d<8?(b=this.polevl(d,this.P,8),c=this.p1evl(d,this.Q,8)):(b=this.polevl(d,this.R,5),c=this.p1evl(d,this.S,6)),e=f*b/c,a<0&&(e=2-e),0===e)?this._underflow(a):e},erfce:function(a){var b,c;return a<8?(b=this.polevl(a,this.P,8),c=this.p1evl(a,this.Q,8)):(b=this.polevl(a,this.R,5),c=this.p1evl(a,this.S,6)),b/c},erf:function(a){var b;return Math.abs(a)>1?1-this.erfc(a):(b=a*a,a*this.polevl(b,this.T,4)/this.p1evl(b,this.U,5))},s2pi:2.5066282746310007,P0:[-59.96335010141079,98.00107541859997,-56.67628574690703,13.931260938727968,-1.2391658386738125],Q0:[1.9544885833814176,4.676279128988815,86.36024213908905,-225.46268785411937,200.26021238006066,-82.03722561683334,15.90562251262117,-1.1833162112133],P1:[4.0554489230596245,31.525109459989388,57.16281922464213,44.08050738932008,14.684956192885803,2.1866330685079025,-.1402560791713545,-.03504246268278482,-8574567851546854e-19],Q1:[15.779988325646675,45.39076351288792,41.3172038254672,15.04253856929075,2.504649462083094,-.14218292285478779,-.03808064076915783,-9332594808954574e-19],P2:[3.2377489177694603,6.915228890689842,3.9388102529247444,1.3330346081580755,.20148538954917908,.012371663481782003,30158155350823543e-20,26580697468673755e-22,6239745391849833e-24],Q2:[6.02427039364742,3.6798356385616087,1.3770209948908132,.21623699359449663,.013420400608854318,32801446468212774e-20,28924786474538068e-22,6790194080099813e-24],ndtri:function(a){var b,c,d,e,f,g,h;return a<=0?-1/0:a>=1?1/0:(h=1,(c=a)>.8646647167633873&&(c=1-c,h=0),c>.1353352832366127)?(c-=.5,e=c*c,b=(c+c*(e*this.polevl(e,this.P0,4)/this.p1evl(e,this.Q0,8)))*this.s2pi):(f=(b=Math.sqrt(-2*Math.log(c)))-Math.log(b)/b,d=1/b,b=f-(g=b<8?d*this.polevl(d,this.P1,8)/this.p1evl(d,this.Q1,8):d*this.polevl(d,this.P2,8)/this.p1evl(d,this.Q2,8)),0!==h&&(b=-b),b)},erfi:function(a){return this.ndtri((a+1)*.5)*this.SQRTH}};let __TURBOPACK__default__export__9=__TURBOPACK__default__export__2.ProbFuncs;__TURBOPACK__default__export__.Math.DoubleBits=function(){var a,b,c,d,e,f,g,h,i=new Float64Array(1),j=new Uint32Array(i.buffer);void 0!==Float64Array&&(i[0]=1,0x3ff00000===j[1]?(a=function(a){return i[0]=a,[j[0],j[1]]},b=function(a,b){return j[0]=a,j[1]=b,i[0]},c=function(a){return i[0]=a,j[0]},d=function(a){return i[0]=a,j[1]},this.doubleBits=a,this.pack=b,this.lo=c,this.hi=d):0x3ff00000===j[0]&&(e=function(a){return i[0]=a,[j[1],j[0]]},f=function(a,b){return j[1]=a,j[0]=b,i[0]},g=function(a){return i[0]=a,j[1]},h=function(a){return i[0]=a,j[0]},this.doubleBits=e,this.pack=f,this.lo=g,this.hi=h))},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Math.DoubleBits.prototype,{sign:function(a){return this.hi(a)>>>31},exponent:function(a){return(this.hi(a)<<1>>>21)-1023},fraction:function(a){var b=this.lo(a),c=this.hi(a),d=1048575&c;return 0x7ff00000&c&&(d+=1048576),[b,d]},denormalized:function(a){return!(0x7ff00000&this.hi(a))}});var doubleBits=new __TURBOPACK__default__export__.Math.DoubleBits,MatInterval=function(a,b){if(void 0!==a&&void 0!==b){if(__TURBOPACK__default__export__2.IntervalArithmetic.isInterval(a)){if(!__TURBOPACK__default__export__2.IntervalArithmetic.isSingleton(a))throw TypeError("JXG.Math.IntervalArithmetic: interval `lo` must be a singleton");this.lo=a.lo}else this.lo=a;if(__TURBOPACK__default__export__2.IntervalArithmetic.isInterval(b)){if(!__TURBOPACK__default__export__2.IntervalArithmetic.isSingleton(b))throw TypeError("JXG.Math.IntervalArithmetic: interval `hi` must be a singleton");this.hi=b.hi}else this.hi=b}else{if(void 0!==a)return Array.isArray(a)?new MatInterval(a[0],a[1]):new MatInterval(a,a);this.lo=this.hi=0}};__TURBOPACK__default__export__.extend(MatInterval.prototype,{print:function(){console.log("[",this.lo,this.hi,"]")},set:function(a,b){return this.lo=a,this.hi=b,this},bounded:function(a,b){return this.set(__TURBOPACK__default__export__2.IntervalArithmetic.prev(a),__TURBOPACK__default__export__2.IntervalArithmetic.next(b))},boundedSingleton:function(a){return this.bounded(a,a)},assign:function(a,b){if("number"!=typeof a||"number"!=typeof b)throw TypeError("JXG.Math.Interval#assign: arguments must be numbers");return isNaN(a)||isNaN(b)||a>b?this.setEmpty():this.set(a,b)},setEmpty:function(){return this.set(1/0,-1/0)},setWhole:function(){return this.set(-1/0,1/0)},open:function(a,b){return this.assign(__TURBOPACK__default__export__2.IntervalArithmetic.next(a),__TURBOPACK__default__export__2.IntervalArithmetic.prev(b))},halfOpenLeft:function(a,b){return this.assign(__TURBOPACK__default__export__2.IntervalArithmetic.next(a),b)},halfOpenRight:function(a,b){return this.assign(a,__TURBOPACK__default__export__2.IntervalArithmetic.prev(b))},toArray:function(){return[this.lo,this.hi]},clone:function(){return new MatInterval().set(this.lo,this.hi)}}),__TURBOPACK__default__export__.Math.IntervalArithmetic={Interval:function(a,b){return new MatInterval(a,b)},isInterval:function(a){return null!==a&&"object"==typeof a&&"number"==typeof a.lo&&"number"==typeof a.hi},isSingleton:function(a){return a.lo===a.hi},add:function(a,b){return __TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),__TURBOPACK__default__export__3.isNumber(b)&&(b=this.Interval(b)),new MatInterval(this.addLo(a.lo,b.lo),this.addHi(a.hi,b.hi))},sub:function(a,b){return __TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),__TURBOPACK__default__export__3.isNumber(b)&&(b=this.Interval(b)),new MatInterval(this.subLo(a.lo,b.hi),this.subHi(a.hi,b.lo))},mul:function(a,b){var c,d,e,f,g;return(__TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),__TURBOPACK__default__export__3.isNumber(b)&&(b=this.Interval(b)),this.isEmpty(a)||this.isEmpty(b))?this.EMPTY.clone():(c=a.lo,d=a.hi,e=b.lo,f=b.hi,g=new MatInterval,c<0?d>0?e<0?f>0?(g.lo=Math.min(this.mulLo(c,f),this.mulLo(d,e)),g.hi=Math.max(this.mulHi(c,e),this.mulHi(d,f))):(g.lo=this.mulLo(d,e),g.hi=this.mulHi(c,e)):f>0?(g.lo=this.mulLo(c,f),g.hi=this.mulHi(d,f)):(g.lo=0,g.hi=0):e<0?(f>0?g.lo=this.mulLo(c,f):g.lo=this.mulLo(d,f),g.hi=this.mulHi(c,e)):f>0?(g.lo=this.mulLo(c,f),g.hi=this.mulHi(d,e)):(g.lo=0,g.hi=0):d>0?e<0?f>0?(g.lo=this.mulLo(d,e),g.hi=this.mulHi(d,f)):(g.lo=this.mulLo(d,e),g.hi=this.mulHi(c,f)):f>0?(g.lo=this.mulLo(c,e),g.hi=this.mulHi(d,f)):(g.lo=0,g.hi=0):(g.lo=0,g.hi=0),g)},div:function(a,b){if(__TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),__TURBOPACK__default__export__3.isNumber(b)&&(b=this.Interval(b)),this.isEmpty(a)||this.isEmpty(b))return this.EMPTY.clone();if(this.zeroIn(b))return 0!==b.lo?0!==b.hi?this.divZero(a):this.divNegative(a,b.lo):0!==b.hi?this.divPositive(a,b.hi):this.EMPTY.clone();return this.divNonZero(a,b)},positive:function(a){return new MatInterval(a.lo,a.hi)},negative:function(a){return __TURBOPACK__default__export__3.isNumber(a)?new MatInterval(-a):new MatInterval(-a.hi,-a.lo)},isEmpty:function(a){return a.lo>a.hi},isWhole:function(a){return a.lo===-1/0&&a.hi===1/0},zeroIn:function(a){return this.hasValue(a,0)},hasValue:function(a,b){return!this.isEmpty(a)&&a.lo<=b&&b<=a.hi},hasInterval:function(a,b){return!!this.isEmpty(a)||!this.isEmpty(b)&&b.lo<=a.lo&&a.hi<=b.hi},intervalsOverlap:function(a,b){return!(this.isEmpty(a)||this.isEmpty(b))&&(a.lo<=b.lo&&b.lo<=a.hi||b.lo<=a.lo&&a.lo<=b.hi)},divNonZero:function(a,b){var c=a.lo,d=a.hi,e=b.lo,f=b.hi,g=new MatInterval;return d<0?f<0?(g.lo=this.divLo(d,e),g.hi=this.divHi(c,f)):(g.lo=this.divLo(c,e),g.hi=this.divHi(d,f)):c<0?f<0?(g.lo=this.divLo(d,f),g.hi=this.divHi(c,f)):(g.lo=this.divLo(c,e),g.hi=this.divHi(d,e)):f<0?(g.lo=this.divLo(d,f),g.hi=this.divHi(c,e)):(g.lo=this.divLo(c,f),g.hi=this.divHi(d,e)),g},divPositive:function(a,b){return 0===a.lo&&0===a.hi?a:this.zeroIn(a)?this.WHOLE:a.hi<0?new MatInterval(-1/0,this.divHi(a.hi,b)):new MatInterval(this.divLo(a.lo,b),1/0)},divNegative:function(a,b){return 0===a.lo&&0===a.hi?a:this.zeroIn(a)?this.WHOLE:a.hi<0?new MatInterval(this.divLo(a.hi,b),1/0):new MatInterval(-1/0,this.divHi(a.lo,b))},divZero:function(a){return 0===a.lo&&0===a.hi?a:this.WHOLE},fmod:function(a,b){var c,d;return(__TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),__TURBOPACK__default__export__3.isNumber(b)&&(b=this.Interval(b)),this.isEmpty(a)||this.isEmpty(b))?this.EMPTY.clone():(c=a.lo<0?b.lo:b.hi,d=(d=a.lo/c)<0?Math.ceil(d):Math.floor(d),this.sub(a,this.mul(b,new MatInterval(d))))},multiplicativeInverse:function(a){if(__TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),this.isEmpty(a))return this.EMPTY.clone();if(this.zeroIn(a))return 0!==a.lo?0!==a.hi?this.WHOLE:new MatInterval(-1/0,this.divHi(1,a.lo)):0!==a.hi?new MatInterval(this.divLo(1,a.hi),1/0):this.EMPTY.clone();return new MatInterval(this.divLo(1,a.hi),this.divHi(1,a.lo))},pow:function(a,b){var c,d;if(__TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),this.isEmpty(a))return this.EMPTY.clone();if(this.isInterval(b)){if(!this.isSingleton(b))return this.EMPTY.clone();b=b.lo}if(0===b)return 0===a.lo&&0===a.hi?this.EMPTY.clone():this.ONE.clone();if(b<0)return this.pow(this.multiplicativeInverse(a),-b);if(b%1==0)return a.hi<0?(c=this.powLo(-a.hi,b),d=this.powHi(-a.lo,b),(1&b)==1)?new MatInterval(-d,-c):new MatInterval(c,d):a.lo<0?(1&b)==1?new MatInterval(-this.powLo(-a.lo,b),this.powHi(a.hi,b)):new MatInterval(0,this.powHi(Math.max(-a.lo,a.hi),b)):new MatInterval(this.powLo(a.lo,b),this.powHi(a.hi,b));return console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),this.EMPTY.clone()},sqrt:function(a){return __TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),this.nthRoot(a,2)},nthRoot:function(a,b){var c,d;if(__TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),this.isEmpty(a)||b<0)return this.EMPTY.clone();if(this.isInterval(b)){if(!this.isSingleton(b))return this.EMPTY.clone();b=b.lo}return(c=1/b,a.hi<0)?b%1==0&&(1&b)==1?new MatInterval(-this.powHi(-a.lo,c),-this.powLo(-a.hi,c)):this.EMPTY.clone():a.lo<0?(d=this.powHi(a.hi,c),b%1==0&&(1&b)==1)?new MatInterval(-this.powHi(-a.lo,c),d):new MatInterval(0,d):new MatInterval(this.powLo(a.lo,c),this.powHi(a.hi,c))},exp:function(a){return(__TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),this.isEmpty(a))?this.EMPTY.clone():new MatInterval(this.expLo(a.lo),this.expHi(a.hi))},log:function(a){return(__TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),this.isEmpty(a))?this.EMPTY.clone():new MatInterval(a.lo<=0?-1/0:this.logLo(a.lo),this.logHi(a.hi))},ln:function(a){return this.log(a)},log10:function(a){return this.isEmpty(a)?this.EMPTY.clone():this.div(this.log(a),this.log(new MatInterval(10,10)))},log2:function(a){return this.isEmpty(a)?this.EMPTY.clone():this.div(this.log(a),this.log(new MatInterval(2,2)))},hull:function(a,b){var c=this.isEmpty(a),d=this.isEmpty(b);return c&&d?this.EMPTY.clone():c?b.clone():d?a.clone():new MatInterval(Math.min(a.lo,b.lo),Math.max(a.hi,b.hi))},intersection:function(a,b){var c,d;return this.isEmpty(a)||this.isEmpty(b)?this.EMPTY.clone():(c=Math.max(a.lo,b.lo))<=(d=Math.min(a.hi,b.hi))?new MatInterval(c,d):this.EMPTY.clone()},union:function(a,b){if(!this.intervalsOverlap(a,b))throw Error("Interval#unions do not overlap");return new MatInterval(Math.min(a.lo,b.lo),Math.max(a.hi,b.hi))},difference:function(a,b){if(this.isEmpty(a)||this.isWhole(b))return this.EMPTY.clone();if(this.intervalsOverlap(a,b)){if(a.lo<b.lo&&b.hi<a.hi)throw Error("Interval.difference: difference creates multiple intervals");return b.lo<=a.lo&&b.hi===1/0||b.hi>=a.hi&&b.lo===-1/0?this.EMPTY.clone():b.lo<=a.lo?new MatInterval().halfOpenLeft(b.hi,a.hi):new MatInterval().halfOpenRight(a.lo,b.lo)}return a.clone()},width:function(a){return this.isEmpty(a)?0:this.subHi(a.hi,a.lo)},abs:function(a){return(__TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),this.isEmpty(a))?this.EMPTY.clone():a.lo>=0?a.clone():a.hi<=0?this.negative(a):new MatInterval(0,Math.max(-a.lo,a.hi))},max:function(a,b){var c=this.isEmpty(a),d=this.isEmpty(b);return c&&d?this.EMPTY.clone():c?b.clone():d?a.clone():new MatInterval(Math.max(a.lo,b.lo),Math.max(a.hi,b.hi))},min:function(a,b){var c=this.isEmpty(a),d=this.isEmpty(b);return c&&d?this.EMPTY.clone():c?b.clone():d?a.clone():new MatInterval(Math.min(a.lo,b.lo),Math.min(a.hi,b.hi))},onlyInfinity:function(a){return!isFinite(a.lo)&&a.lo===a.hi},_handleNegative:function(a){var b;return a.lo<0&&(a.lo===-1/0?(a.lo=0,a.hi=1/0):(b=Math.ceil(-a.lo/this.piTwiceLow),a.lo+=this.piTwiceLow*b,a.hi+=this.piTwiceLow*b)),a},cos:function(a){var b,c,d,e,f,g,h,i;return this.isEmpty(a)||this.onlyInfinity(a)?this.EMPTY.clone():(b=new MatInterval().set(a.lo,a.hi),this._handleNegative(b),c=this.PI_TWICE,d=this.fmod(b,c),this.width(d)>=c.lo)?new MatInterval(-1,1):d.lo>=this.piHigh?(e=this.cos(this.sub(d,this.PI)),this.negative(e)):(f=d.lo,g=d.hi,h=this.cosLo(g),i=this.cosHi(f),g<=this.piLow)?new MatInterval(h,i):g<=c.lo?new MatInterval(-1,Math.max(h,i)):new MatInterval(-1,1)},sin:function(a){return this.isEmpty(a)||this.onlyInfinity(a)?this.EMPTY.clone():this.cos(this.sub(a,this.PI_HALF))},tan:function(a){var b,c,d;return this.isEmpty(a)||this.onlyInfinity(a)?this.EMPTY.clone():(b=new MatInterval().set(a.lo,a.hi),this._handleNegative(b),d=this.PI,(c=this.fmod(b,d)).lo>=this.piHalfLow&&(c=this.sub(c,d)),c.lo<=-this.piHalfLow||c.hi>=this.piHalfLow)?this.WHOLE.clone():new MatInterval(this.tanLo(c.lo),this.tanHi(c.hi))},asin:function(a){return this.isEmpty(a)||a.hi<-1||a.lo>1?this.EMPTY.clone():new MatInterval(a.lo<=-1?-this.piHalfHigh:this.asinLo(a.lo),a.hi>=1?this.piHalfHigh:this.asinHi(a.hi))},acos:function(a){return this.isEmpty(a)||a.hi<-1||a.lo>1?this.EMPTY.clone():new MatInterval(a.hi>=1?0:this.acosLo(a.hi),a.lo<=-1?this.piHigh:this.acosHi(a.lo))},acot:function(a){return this.isEmpty(a)?this.EMPTY.clone():new MatInterval(this.acotLo(a.lo),this.acotHi(a.hi))},atan:function(a){return this.isEmpty(a)?this.EMPTY.clone():new MatInterval(this.atanLo(a.lo),this.atanHi(a.hi))},sinh:function(a){return this.isEmpty(a)?this.EMPTY.clone():new MatInterval(this.sinhLo(a.lo),this.sinhHi(a.hi))},cosh:function(a){return this.isEmpty(a)?this.EMPTY.clone():a.hi<0?new MatInterval(this.coshLo(a.hi),this.coshHi(a.lo)):a.lo>=0?new MatInterval(this.coshLo(a.lo),this.coshHi(a.hi)):new MatInterval(1,this.coshHi(-a.lo>a.hi?a.lo:a.hi))},tanh:function(a){return this.isEmpty(a)?this.EMPTY.clone():new MatInterval(this.tanhLo(a.lo),this.tanhHi(a.hi))},equal:function(a,b){return this.isEmpty(a)?this.isEmpty(b):!this.isEmpty(b)&&a.lo===b.lo&&a.hi===b.hi},notEqual:function(a,b){return this.isEmpty(a)?!this.isEmpty(b):this.isEmpty(b)||a.hi<b.lo||a.lo>b.hi},lt:function(a,b){return __TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),__TURBOPACK__default__export__3.isNumber(b)&&(b=this.Interval(b)),!(this.isEmpty(a)||this.isEmpty(b))&&a.hi<b.lo},gt:function(a,b){return __TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),__TURBOPACK__default__export__3.isNumber(b)&&(b=this.Interval(b)),!(this.isEmpty(a)||this.isEmpty(b))&&a.lo>b.hi},leq:function(a,b){return __TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),__TURBOPACK__default__export__3.isNumber(b)&&(b=this.Interval(b)),!(this.isEmpty(a)||this.isEmpty(b))&&a.hi<=b.lo},geq:function(a,b){return __TURBOPACK__default__export__3.isNumber(a)&&(a=this.Interval(a)),__TURBOPACK__default__export__3.isNumber(b)&&(b=this.Interval(b)),!(this.isEmpty(a)||this.isEmpty(b))&&a.lo>=b.hi},piLow:(0xc90fdaa2+273688/2097152)/0x40000000,piHigh:(0xc90fdaa2+273689/2097152)/0x40000000,piHalfLow:(0xc90fdaa2+273688/2097152)/0x40000000*.5,piHalfHigh:(0xc90fdaa2+273689/2097152)/0x40000000*.5,piTwiceLow:(0xc90fdaa2+273688/2097152)/0x40000000*2,piTwiceHigh:(0xc90fdaa2+273689/2097152)/0x40000000*2,identity:function(a){return a},_prev:function(a){return a===1/0?a:this.nextafter(a,-1/0)},_next:function(a){return a===-1/0?a:this.nextafter(a,1/0)},prev:function(a){return this._prev(a)},next:function(a){return this._next(a)},toInteger:function(a){return a<0?Math.ceil(a):Math.floor(a)},addLo:function(a,b){return this.prev(a+b)},addHi:function(a,b){return this.next(a+b)},subLo:function(a,b){return this.prev(a-b)},subHi:function(a,b){return this.next(a-b)},mulLo:function(a,b){return this.prev(a*b)},mulHi:function(a,b){return this.next(a*b)},divLo:function(a,b){return this.prev(a/b)},divHi:function(a,b){return this.next(a/b)},intLo:function(a){return this.toInteger(this.prev(a))},intHi:function(a){return this.toInteger(this.next(a))},logLo:function(a){return this.prev(Math.log(a))},logHi:function(a){return this.next(Math.log(a))},expLo:function(a){return this.prev(Math.exp(a))},expHi:function(a){return this.next(Math.exp(a))},sinLo:function(a){return this.prev(Math.sin(a))},sinHi:function(a){return this.next(Math.sin(a))},cosLo:function(a){return this.prev(Math.cos(a))},cosHi:function(a){return this.next(Math.cos(a))},tanLo:function(a){return this.prev(Math.tan(a))},tanHi:function(a){return this.next(Math.tan(a))},asinLo:function(a){return this.prev(Math.asin(a))},asinHi:function(a){return this.next(Math.asin(a))},acosLo:function(a){return this.prev(Math.acos(a))},acosHi:function(a){return this.next(Math.acos(a))},acotLo:function(a){return this.prev(__TURBOPACK__default__export__2.acot(a))},acotHi:function(a){return this.next(__TURBOPACK__default__export__2.acot(a))},atanLo:function(a){return this.prev(Math.atan(a))},atanHi:function(a){return this.next(Math.atan(a))},sinhLo:function(a){return this.prev(__TURBOPACK__default__export__2.sinh(a))},sinhHi:function(a){return this.next(__TURBOPACK__default__export__2.sinh(a))},coshLo:function(a){return this.prev(__TURBOPACK__default__export__2.cosh(a))},coshHi:function(a){return this.next(__TURBOPACK__default__export__2.cosh(a))},tanhLo:function(a){return this.prev(__TURBOPACK__default__export__2.tanh(a))},tanhHi:function(a){return this.next(__TURBOPACK__default__export__2.tanh(a))},sqrtLo:function(a){return this.prev(Math.sqrt(a))},sqrtHi:function(a){return this.next(Math.sqrt(a))},powLo:function(a,b){var c;if(b%1!=0)return this.prev(Math.pow(a,b));for(c=(1&b)==1?a:1,b>>=1;b>0;)a=this.mulLo(a,a),(1&b)==1&&(c=this.mulLo(a,c)),b>>=1;return c},powHi:function(a,b){var c;if(b%1!=0)return this.next(Math.pow(a,b));for(c=(1&b)==1?a:1,b>>=1;b>0;)a=this.mulHi(a,a),(1&b)==1&&(c=this.mulHi(a,c)),b>>=1;return c},disable:function(){this.next=this.prev=this.identity},enable:function(){this.prev=function(a){return this._prev(a)},this.next=function(a){return this._next(a)}},SMALLEST_DENORM:5e-324,UINT_MAX:0xffffffff,nextafter:function(a,b){var c,d;return isNaN(a)||isNaN(b)?NaN:a===b?a:0===a?b<0?-this.SMALLEST_DENORM:this.SMALLEST_DENORM:(d=doubleBits.hi(a),c=doubleBits.lo(a),b>a==a>0?c===this.UINT_MAX?(d+=1,c=0):c+=1:0===c?(c=this.UINT_MAX,d-=1):c-=1,doubleBits.pack(c,d))}},__TURBOPACK__default__export__.Math.IntervalArithmetic.PI=new MatInterval(__TURBOPACK__default__export__2.IntervalArithmetic.piLow,__TURBOPACK__default__export__2.IntervalArithmetic.piHigh),__TURBOPACK__default__export__.Math.IntervalArithmetic.PI_HALF=new MatInterval(__TURBOPACK__default__export__2.IntervalArithmetic.piHalfLow,__TURBOPACK__default__export__2.IntervalArithmetic.piHalfHigh),__TURBOPACK__default__export__.Math.IntervalArithmetic.PI_TWICE=new MatInterval(__TURBOPACK__default__export__2.IntervalArithmetic.piTwiceLow,__TURBOPACK__default__export__2.IntervalArithmetic.piTwiceHigh),__TURBOPACK__default__export__.Math.IntervalArithmetic.ZERO=new MatInterval(0),__TURBOPACK__default__export__.Math.IntervalArithmetic.ONE=new MatInterval(1),__TURBOPACK__default__export__.Math.IntervalArithmetic.WHOLE=new MatInterval().setWhole(),__TURBOPACK__default__export__.Math.IntervalArithmetic.EMPTY=new MatInterval().setEmpty();let __TURBOPACK__default__export__10=__TURBOPACK__default__export__.Math.IntervalArithmetic;__TURBOPACK__default__export__2.Extrapolate={upper:15,infty:1e4,wynnEps:function(a,b,c){var d,e,f,g,h,i,j=1e20,k=1e-15,l=1;if(c[b]=a,0===b)i=a;else{for(g=0,e=b;e>0;e--)f=g,g=c[e-1],Math.abs(h=c[e]-g)<=k?c[e-1]=j:(d=(b-e+1)%2==1?l:1,c[e-1]=f*d+1/h);i=c[b%2]}return i},aitken:function(a,b,c){var d,e,f,g,h,i,j=1e20,k=1e-15;if(c[b]=a,b<2)d=a;else{for(h=1,g=b/2;h<=g;h++)Math.abs(e=c[(i=b-2*h)+2]-2*c[i+1]+c[i])<k?c[i]=j:(f=c[i]-c[i+1],c[i]-=f*f/e);d=c[b%2]}return d},brezinski:function(a,b,c){var d,e,f,g,h,i,j,k,l=1e20,m=1e-15;if(c[b]=a,b<3)d=a;else{for(j=1,i=b/3,k=b;j<=i;j++)k-=3,f=c[k+1]-c[k],g=c[k+2]-c[k+1],Math.abs(e=(h=c[k+3]-c[k+2])*(g-f)-f*(h-g))<m?c[k]=l:c[k]=c[k+1]-f*g*(h-g)/e;d=c[b%3]}return d},iteration:function(a,b,c,d,e){var f,g,h,i=NaN,j=.5,k=[],l="finite",m=b;for(f=1,e=e||0;f<=this.upper;f++){if(g=c(a+(m=0===e?b/(f+1):m*j),!0),isNaN(h=this[d](g,f-1,k))){l="NaN";break}if(0!==g&&h/g>this.infty){i=h,l="infinite";break}if(1e-7>Math.abs(h-i))break;i=h}return[i,l,1-(f-1)/this.upper]},levin:function(a,b,c,d,e,f){var g,h,i,j,k,l=1e20,m=1e-15;if(j=1/(d+b),e[b]=a/c,f[b]=1/c,b>0&&(e[b-1]=e[b]-e[b-1],f[b-1]=f[b]-f[b-1],b>1))for(g=2,i=(d+b-1)*j;g<=b;g++)h=(d+b-g)*Math.pow(i,g-2)*j,e[b-g]=e[b-g+1]-h*e[b-g],f[b-g]=f[b-g+1]-h*f[b-g],j*=i;return Math.abs(f[0])<m?l:e[0]/f[0]},iteration_levin:function(a,b,c,d){var e,f,g,h,i,j,k,l=NaN,m=1,n=.5,o=[],p=[],q="finite",r=b,s="u";for(e=1,d=d||0,h=c(a+b,!0);e<=this.upper;e++){if(k="u"==(s=1>Math.abs(i=(f=c(a+(r=0===d?b/(e+1):r*n),!0))-h)?"u":"t")?(m+e)*i:i,h=f,j=(g=this.levin(f,e-1,k,m,o,p))-l,isNaN(g)){q="NaN";break}if(0!==f&&g/f>this.infty){l=g,q="infinite";break}if(1e-7>Math.abs(j))break;l=g}return[l,q,1-(e-1)/this.upper]},limit:function(a,b,c){return this.iteration_levin(a,b,c,0)}};let __TURBOPACK__default__export__11=__TURBOPACK__default__export__2.Extrapolate;__TURBOPACK__default__export__2.Statistics={sum:function(a){var b,c=a.length,d=0;for(b=0;b<c;b++)d+=a[b];return d},prod:function(a){var b,c=a.length,d=1;for(b=0;b<c;b++)d*=a[b];return d},mean:function(a){return a.length>0?this.sum(a)/a.length:0},median:function(a){var b,c;return a.length>0?(ArrayBuffer.isView(a)?(b=new Float64Array(a)).sort():(b=a.slice(0)).sort(function(a,b){return a-b}),1&(c=b.length))?b[parseInt(.5*c,10)]:(b[.5*c-1]+b[.5*c])*.5:0},percentile:function(a,b){var c,d,e,f,g,h=[];if(a.length>0){for(ArrayBuffer.isView(a)?(c=new Float64Array(a)).sort():(c=a.slice(0)).sort(function(a,b){return a-b}),d=c.length,f=__TURBOPACK__default__export__3.isArray(b)?b:[b],e=0;e<f.length;e++)parseInt(g=d*f[e]*.01,10)===g?h.push((c[g-1]+c[g])*.5):h.push(c[parseInt(g,10)]);return __TURBOPACK__default__export__3.isArray(b)?h:h[0]}return 0},variance:function(a){var b,c,d,e=a.length;if(e>1){for(d=0,b=this.mean(a),c=0;d<e;d++)c+=(a[d]-b)*(a[d]-b);return c/(a.length-1)}return 0},sd:function(a){return Math.sqrt(this.variance(a))},weightedMean:function(a,b){if(a.length!==b.length)throw Error("JSXGraph error (Math.Statistics.weightedMean): Array dimension mismatch.");return a.length>0?this.mean(this.multiply(a,b)):0},max:function(a){return Math.max.apply(this,a)},min:function(a){return Math.min.apply(this,a)},range:function(a){return[this.min(a),this.max(a)]},abs:function(a){var b,c,d;if(__TURBOPACK__default__export__3.isArray(a))if(a.map)d=a.map(Math.abs);else for(b=0,c=a.length,d=[];b<c;b++)d[b]=Math.abs(a[b]);else d=ArrayBuffer.isView(a)?a.map(Math.abs):Math.abs(a);return d},add:function(a,b){var c,d,e=[];if(a=__TURBOPACK__default__export__3.evalSlider(a),b=__TURBOPACK__default__export__3.evalSlider(b),__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isNumber(b))for(c=0,d=a.length;c<d;c++)e[c]=a[c]+b;else if(__TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isArray(b))for(c=0,d=b.length;c<d;c++)e[c]=a+b[c];else if(__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isArray(b))for(c=0,d=Math.min(a.length,b.length);c<d;c++)e[c]=a[c]+b[c];else e=a+b;return e},div:function(a,b){var c,d,e=[];if(a=__TURBOPACK__default__export__3.evalSlider(a),b=__TURBOPACK__default__export__3.evalSlider(b),__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isNumber(b))for(c=0,d=a.length;c<d;c++)e[c]=a[c]/b;else if(__TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isArray(b))for(c=0,d=b.length;c<d;c++)e[c]=a/b[c];else if(__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isArray(b))for(c=0,d=Math.min(a.length,b.length);c<d;c++)e[c]=a[c]/b[c];else e=a/b;return e},divide:function(){__TURBOPACK__default__export__.deprecated("Statistics.divide()","Statistics.div()"),__TURBOPACK__default__export__2.Statistics.div.apply(__TURBOPACK__default__export__2.Statistics,arguments)},mod:function(a,b,c){var d,e,f=[],g=function(a,b){return a%b};if((c=__TURBOPACK__default__export__3.def(c,!1))&&(g=__TURBOPACK__default__export__2.mod),a=__TURBOPACK__default__export__3.evalSlider(a),b=__TURBOPACK__default__export__3.evalSlider(b),__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isNumber(b))for(d=0,e=a.length;d<e;d++)f[d]=g(a[d],b);else if(__TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isArray(b))for(d=0,e=b.length;d<e;d++)f[d]=g(a,b[d]);else if(__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isArray(b))for(d=0,e=Math.min(a.length,b.length);d<e;d++)f[d]=g(a[d],b[d]);else f=g(a,b);return f},multiply:function(a,b){var c,d,e=[];if(a=__TURBOPACK__default__export__3.evalSlider(a),b=__TURBOPACK__default__export__3.evalSlider(b),__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isNumber(b))for(c=0,d=a.length;c<d;c++)e[c]=a[c]*b;else if(__TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isArray(b))for(c=0,d=b.length;c<d;c++)e[c]=a*b[c];else if(__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isArray(b))for(c=0,d=Math.min(a.length,b.length);c<d;c++)e[c]=a[c]*b[c];else e=a*b;return e},subtract:function(a,b){var c,d,e=[];if(a=__TURBOPACK__default__export__3.evalSlider(a),b=__TURBOPACK__default__export__3.evalSlider(b),__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isNumber(b))for(c=0,d=a.length;c<d;c++)e[c]=a[c]-b;else if(__TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isArray(b))for(c=0,d=b.length;c<d;c++)e[c]=a-b[c];else if(__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isArray(b))for(c=0,d=Math.min(a.length,b.length);c<d;c++)e[c]=a[c]-b[c];else e=a-b;return e},TheilSenRegression:function(a){var b,c,d=[],e=[],f=[];for(b=0;b<a.length;b++){for(c=0,e.length=0;c<a.length;c++)Math.abs(a[c].usrCoords[1]-a[b].usrCoords[1])>__TURBOPACK__default__export__2.eps&&(e[c]=(a[c].usrCoords[2]-a[b].usrCoords[2])/(a[c].usrCoords[1]-a[b].usrCoords[1]));d[b]=this.median(e),f.push(a[b].usrCoords[2]-d[b]*a[b].usrCoords[1])}return[this.median(f),this.median(d),-1]},generateGaussian:function(a,b){var c,d,e;if(this.hasSpare)return this.hasSpare=!1,this.spare*b+a;do e=(c=2*Math.random()-1)*c+(d=2*Math.random()-1)*d;while(e>=1||0===e)return e=Math.sqrt(-2*Math.log(e)/e),this.spare=d*e,this.hasSpare=!0,a+b*c*e},randomNormal:function(a,b){return this.generateGaussian(a,b)},randomUniform:function(a,b){return Math.random()*(b-a)+a},randomExponential:function(a){var b;if(a<=0)return NaN;do b=Math.random();while(0===b)return-Math.log(b)/a},randomGamma:function(a,b,c){var d,e,f,g,h,i;if(a<=0)return NaN;if(b=b||1,c=c||0,1===a)return b*this.randomExponential(1)+c;if(a<1){h=Math.E/(a+Math.E);do{d=Math.random();do e=Math.random();while(0===e)i=d<h?Math.exp(-(f=Math.pow(e,1/a))):Math.pow(f=1-Math.log(e),a-1),d=Math.random()}while(d>=i)return b*f+c}do{if(!((f=Math.sqrt(2*a-1)*(g=Math.tan(Math.PI*Math.random()))+a-1)>0))continue;e=Math.random()}while(f<=0||e>(1+g*g)*Math.exp((a-1)*Math.log(f/(a-1))-Math.sqrt(2*a-1)*g))return b*f+c},randomBeta:function(a,b){var c;return a<=0||b<=0?NaN:(c=this.randomGamma(a))/(c+this.randomGamma(b))},randomChisquare:function(a){return a<=0?NaN:2*this.randomGamma(.5*a)},randomF:function(a,b){var c,d;return a<=0||b<=0?NaN:(c=this.randomChisquare(a),d=this.randomChisquare(b),c*b/(d*a))},randomT:function(a){return a<=0?NaN:this.randomNormal(0,1)/Math.sqrt(this.randomChisquare(a)/a)},randomBinomial:function(a,b){var c,d,e,f,g,h;if(b<0||b>1||a<0)return NaN;if(0===b)return 0;if(1===b)return a;if(0===a)return 0;if(1===a)return+(Math.random()<b);if(b>.5)return a-this.randomBinomial(a,1-b);if(a<100){if(c=-1,d=0,0===(e=Math.log(1-b)))return 0;do c+=1,d+=Math.floor(Math.log(Math.random())/e)+1;while(d<a)}else f=1+Math.floor(.5*a),g=a-f+1,c=(c=this.randomBeta(f,g))>=b?h=this.randomBinomial(f-1,b/c):f+(h=this.randomBinomial(g-1,(b-c)/(1-c)));return c},randomGeometric:function(a){return a<0||a>1?NaN:Math.ceil(Math.log(Math.random())/Math.log(1-a))},randomPoisson:function(a){var b,c,d=Math.exp(-a),e=0,f=1,g=7/8;if(a<=0)return NaN;if(a<10){do f*=Math.random(),e+=1;while(f>d)b=e-1}else e=Math.floor(g*a),b=(c=this.randomGamma(e))<a?e+this.randomPoisson(a-c):this.randomBinomial(e-1,a/c);return b},randomPareto:function(a,b){var c=Math.random();return a<=0||b<=0?NaN:b*Math.pow(1-c,-1/a)},randomHypergeometric:function(a,b,c){var d,e,f=0,g=a+b-c,h=Math.min(a,b),i=h;if(a<1||b<1||c>a+b)return NaN;for(d=c;i*d>0;)e=Math.random(),i-=Math.floor(e+i/(g+d)),d-=1;return(f=h-i,a<=b)?f:c-f},histogram:function(a,b){var c,d,e,f,g,h,i,j,k,l=[],m=[],n=0;for(h=b.bins||10,!1===(j=b.range||!1)?(f=Math.min.apply(null,a),g=Math.max.apply(null,a)):(f=j[0],g=j[1]),i=h>0?(g-f)/(h-1):0,c=0;c<h;c++)l.push(0),m.push(f+c*i);for(c=0,d=a.length;c<d;c++)(e=Math.floor((a[c]-f)/i))>=0&&e<h?l[e]+=1:n+=1;if(b.density)for(c=0,k=__TURBOPACK__default__export__.Math.Statistics.sum(l)+n;c<h;c++)l[c]/=k*i;if(b.cumulative){if(b.density)for(c=0;c<h;c++)l[c]*=i;for(c=1;c<h;c++)l[c]+=l[c-1]}return[l,m]}};let __TURBOPACK__default__export__12=__TURBOPACK__default__export__2.Statistics;var predefinedButcher={rk4:{s:4,A:[[0,0,0,0],[.5,0,0,0],[0,.5,0,0],[0,0,1,0]],b:[1/6,1/3,1/3,1/6],c:[0,.5,.5,1]},heun:{s:2,A:[[0,0],[1,0]],b:[.5,.5],c:[0,1]},euler:{s:1,A:[[0]],b:[1],c:[0]}};__TURBOPACK__default__export__2.Numerics={Gauss:function(a,b){var c,d,e,f,g,h=__TURBOPACK__default__export__2.eps,i=a.length>0?a[0].length:0;if(i!==b.length||i!==a.length)throw Error("JXG.Math.Numerics.Gauss: Dimensions don't match. A must be a square matrix and b must be of the same length as A.");for(c=0,f=[],g=b.slice(0,i);c<i;c++)f[c]=a[c].slice(0,i);for(d=0;d<i;d++){for(c=i-1;c>d;c--)if(Math.abs(f[c][d])>h)if(Math.abs(f[d][d])<h)__TURBOPACK__default__export__3.swap(f,c,d),__TURBOPACK__default__export__3.swap(g,c,d);else for(f[c][d]/=f[d][d],g[c]-=f[c][d]*g[d],e=d+1;e<i;e++)f[c][e]-=f[c][d]*f[d][e];if(Math.abs(f[d][d])<h)throw Error("JXG.Math.Numerics.Gauss(): The given matrix seems to be singular.")}return this.backwardSolve(f,g,!0),g},backwardSolve:function(a,b,c){var d,e,f,g,h;for(d=c?b:b.slice(0,b.length),e=a.length,f=a.length>0?a[0].length:0,g=e-1;g>=0;g--){for(h=f-1;h>g;h--)d[g]-=a[g][h]*d[h];d[g]/=a[g][g]}return d},gaussBareiss:function(a){var b,c,d,e,f,g,h,i,j,k=__TURBOPACK__default__export__2.eps;if((h=a.length)<=0)return 0;for(a[0].length<h&&(h=a[0].length),i=[],e=0;e<h;e++)i[e]=a[e].slice(0,h);for(b=0,c=1,d=1;b<h-1;b++){if(Math.abs(g=i[b][b])<k){for(e=b+1;e<h&&!(Math.abs(i[e][b])>=k);e++);if(e===h)return 0;for(f=b;f<h;f++)j=i[e][f],i[e][f]=i[b][f],i[b][f]=j;d=-d,g=i[b][b]}for(e=b+1;e<h;e++)for(f=b+1;f<h;f++)j=g*i[e][f]-i[e][b]*i[b][f],i[e][f]=j/c;c=g}return d*i[h-1][h-1]},det:function(a){return 2===a.length&&2===a[0].length?a[0][0]*a[1][1]-a[1][0]*a[0][1]:this.gaussBareiss(a)},Jacobi:function(a){var b,c,d,e,f,g,h,i,j,k=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps,l=0,m=a.length,n=[[0,0,0],[0,0,0],[0,0,0]],o=[[0,0,0],[0,0,0],[0,0,0]],p=0;for(b=0;b<m;b++){for(c=0;c<m;c++)n[b][c]=0,o[b][c]=a[b][c],l+=Math.abs(o[b][c]);n[b][b]=1}if(1===m||l<=0)return[o,n];l/=m*m;do{for(c=1,i=0,j=0;c<m;c++)for(b=0;b<c;b++)if((e=Math.abs(o[b][c]))>j&&(j=e),i+=e,e>=k){for(d=0,f=Math.sin(e=.5*Math.atan2(2*o[b][c],o[b][b]-o[c][c])),g=Math.cos(e);d<m;d++)h=o[d][b],o[d][b]=g*h+f*o[d][c],o[d][c]=-f*h+g*o[d][c],h=n[d][b],n[d][b]=g*h+f*n[d][c],n[d][c]=-f*h+g*n[d][c];for(d=0,o[b][b]=g*o[b][b]+f*o[c][b],o[c][c]=-f*o[b][c]+g*o[c][c],o[b][c]=0;d<m;d++)o[b][d]=o[d][b],o[c][d]=o[d][c]}p+=1}while(Math.abs(i)/l>k&&p<2e3)return[o,n]},NewtonCotes:function(a,b,c){var d,e,f,g=0,h=c&&__TURBOPACK__default__export__3.isNumber(c.number_of_nodes)?c.number_of_nodes:28,i={trapez:!0,simpson:!0,milne:!0},j=c&&c.integration_type&&i.hasOwnProperty(c.integration_type)&&i[c.integration_type]?c.integration_type:"milne",k=(a[1]-a[0])/h;switch(j){case"trapez":for(e=0,g=(b(a[0])+b(a[1]))*.5,d=a[0];e<h-1;e++)d+=k,g+=b(d);g*=k;break;case"simpson":if(h%2>0)throw Error("JSXGraph:  INT_SIMPSON requires config.number_of_nodes dividable by 2.");for(e=0,f=h/2,g=b(a[0])+b(a[1]),d=a[0];e<f-1;e++)d+=2*k,g+=2*b(d);for(e=0,d=a[0]-k;e<f;e++)d+=2*k,g+=4*b(d);g*=k/3;break;default:if(h%4>0)throw Error("JSXGraph: Error in INT_MILNE: config.number_of_nodes must be a multiple of 4");for(e=0,f=.25*h,g=7*(b(a[0])+b(a[1])),d=a[0];e<f-1;e++)d+=4*k,g+=14*b(d);for(e=0,d=a[0]-3*k;e<f;e++)d+=4*k,g+=32*(b(d)+b(d+2*k));for(e=0,d=a[0]-2*k;e<f;e++)d+=4*k,g+=12*b(d);g*=2*k/45}return g},Romberg:function(a,b,c){var d,e,f,g,h,i,j,k,l=[],m=0,n=1/0,o=c&&__TURBOPACK__default__export__3.isNumber(c.max_iterations)?c.max_iterations:20,p=c&&__TURBOPACK__default__export__3.isNumber(c.eps)?c.eps:c.eps||1e-7;for(i=0,d=a[0],f=(e=a[1])-d,h=1,l[0]=.5*f*(b(d)+b(e));i<o;++i){for(g=0,f*=.5,h*=2,k=1,j=1;j<h;j+=2)g+=b(d+j*f);for(l[i+1]=.5*l[i]+g*f,m=l[i+1],j=i-1;j>=0;--j)k*=4,l[j]=l[j+1]+(l[j+1]-l[j])/(k-1),m=l[j];if(Math.abs(m-n)<p*Math.abs(m))break;n=m}return m},GaussLegendre:function(a,b,c){var d,e,f,g,h,i,j,k,l=0,m=[],n=[],o=c&&__TURBOPACK__default__export__3.isNumber(c.n)?c.n:12;if(o>18&&(o=18),m[2]=[.5773502691896257],n[2]=[1],m[4]=[.33998104358485626,.8611363115940526],n[4]=[.6521451548625461,.34785484513745385],m[6]=[.2386191860831969,.6612093864662645,.932469514203152],n[6]=[.46791393457269104,.3607615730481386,.17132449237917036],m[8]=[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],n[8]=[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],m[10]=[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],n[10]=[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],m[12]=[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],n[12]=[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],m[14]=[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],n[14]=[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],m[16]=[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],n[16]=[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],m[18]=[.0847750130417353,.2518862256915055,.41175116146284263,.5597708310739475,.6916870430603532,.8037049589725231,.8926024664975557,.9558239495713977,.9915651684209309],n[18]=[.1691423829631436,.16427648374583273,.15468467512626524,.14064291467065065,.12255520671147846,.10094204410628717,.07642573025488905,.0497145488949698,.02161601352648331],m[3]=[0,.7745966692414834],n[3]=[.8888888888888888,.5555555555555556],m[5]=[0,.5384693101056831,.906179845938664],n[5]=[.5688888888888889,.47862867049936647,.23692688505618908],m[7]=[0,.4058451513773972,.7415311855993945,.9491079123427585],n[7]=[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],m[9]=[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],n[9]=[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],m[11]=[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],n[11]=[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],m[13]=[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],n[13]=[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],m[15]=[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],n[15]=[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],m[17]=[0,.17848418149584785,.3512317634538763,.5126905370864769,.6576711592166907,.7815140038968014,.8802391537269859,.9506755217687678,.9905754753144174],n[17]=[.17944647035620653,.17656270536699264,.16800410215645004,.15404576107681028,.13513636846852548,.11188384719340397,.08503614831717918,.0554595293739872,.02414830286854793],d=a[0],e=a[1],g=o+1>>1,j=m[o],k=n[o],i=.5*(e-d),h=.5*(e+d),!0&o)for(f=1,l=k[0]*b(h);f<g;++f)l+=k[f]*(b(h+i*j[f])+b(h-i*j[f]));else for(f=0,l=0;f<g;++f)l+=k[f]*(b(h+i*j[f])+b(h-i*j[f]));return i*l},_rescale_error:function(a,b,c){var d,e,f=22250738585072014e-324,g=2220446049250313e-31;return a=Math.abs(a),0!==c&&0!==a&&(a=(d=Math.pow(200*a/c,1.5))<1?c*d:c),b>f/(50*g)&&(e=50*g*b)>a&&(a=e),a},_gaussKronrod:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q=a[0],r=a[1],s=.5*(q+r),t=.5*(r-q),u=Math.abs(t),v=b(s),w=0,x=v*f[c-1],y=Math.abs(x),z=0,A=0,B=0,C=[],D=[];for(c%2==0&&(w=v*e[c/2-1]),h=Math.floor((c-1)/2),j=0;j<h;j++)p=(n=b(s-(m=t*d[k=2*j+1])))+(o=b(s+m)),C[k]=n,D[k]=o,w+=e[j]*p,x+=f[k]*p,y+=f[k]*(Math.abs(n)+Math.abs(o));for(j=0,h=Math.floor(c/2);j<h;j++)n=b(s-(m=t*d[l=2*j])),o=b(s+m),C[l]=n,D[l]=o,x+=f[l]*(n+o),y+=f[l]*(Math.abs(n)+Math.abs(o));for(j=0,A=.5*x,z=f[c-1]*Math.abs(v-A);j<c-1;j++)z+=f[j]*(Math.abs(C[j]-A)+Math.abs(D[j]-A));return B=(x-w)*t,x*=t,y*=u,z*=u,i=x,g.abserr=this._rescale_error(B,y,z),g.resabs=y,g.resasc=z,i},GaussKronrod15:function(a,b,c){var d=[.9914553711208126,.9491079123427585,.8648644233597691,.7415311855993945,.5860872354676911,.4058451513773972,.20778495500789848,0],e=[.1294849661688697,.27970539148927664,.3818300505051189,.4179591836734694],f=[.022935322010529224,.06309209262997856,.10479001032225019,.14065325971552592,.1690047266392679,.19035057806478542,.20443294007529889,.20948214108472782];return this._gaussKronrod(a,b,8,d,e,f,c)},GaussKronrod21:function(a,b,c){var d=[.9956571630258081,.9739065285171717,.9301574913557082,.8650633666889845,.7808177265864169,.6794095682990244,.5627571346686047,.4333953941292472,.2943928627014602,.14887433898163122,0],e=[.06667134430868814,.1494513491505806,.21908636251598204,.26926671930999635,.29552422471475287],f=[.011694638867371874,.032558162307964725,.054755896574351995,.07503967481091996,.0931254545836976,.10938715880229764,.12349197626206584,.13470921731147334,.14277593857706009,.14773910490133849,.1494455540029169];return this._gaussKronrod(a,b,11,d,e,f,c)},GaussKronrod31:function(a,b,c){var d=[.9980022986933971,.9879925180204854,.9677390756791391,.937273392400706,.8972645323440819,.8482065834104272,.790418501442466,.7244177313601701,.650996741297417,.5709721726085388,.4850818636402397,.3941513470775634,.29918000715316884,.20119409399743451,.1011420669187175,0],e=[.03075324199611727,.07036604748810812,.10715922046717194,.13957067792615432,.16626920581699392,.1861610000155622,.19843148532711158,.2025782419255613],f=[.005377479872923349,.015007947329316122,.02546084732671532,.03534636079137585,.04458975132476488,.05348152469092809,.06200956780067064,.06985412131872826,.07684968075772038,.08308050282313302,.08856444305621176,.09312659817082532,.09664272698362368,.09917359872179196,.10076984552387559,.10133000701479154];return this._gaussKronrod(a,b,16,d,e,f,c)},_workspace:function(a,b){return{limit:b,size:0,nrmax:0,i:0,alist:[a[0]],blist:[a[1]],rlist:[0],elist:[0],order:[0],level:[0],qpsrt:function(){var a,b,c,d,e,f=this.size-1,g=this.limit,h=this.nrmax,i=this.order[h];if(f<2){this.order[0]=0,this.order[1]=1,this.i=i;return}for(a=this.elist[i];h>0&&a>this.elist[this.order[h-1]];)this.order[h]=this.order[h-1],h--;for(e=f<g/2+2?f:g-f+1,c=h+1;c<e&&a<this.elist[this.order[c]];)this.order[c-1]=this.order[c],c++;for(this.order[c-1]=i,b=this.elist[f],d=e-1;d>c-2&&b>=this.elist[this.order[d]];)this.order[d+1]=this.order[d],d--;this.order[d+1]=f,i=this.order[h],this.i=i,this.nrmax=h},set_initial_result:function(a,b){this.size=1,this.rlist[0]=a,this.elist[0]=b},update:function(a,b,c,d,e,f,g,h){var i=this.i,j=this.size,k=this.level[this.i]+1;h>d?(this.alist[i]=e,this.rlist[i]=g,this.elist[i]=h,this.level[i]=k,this.alist[j]=a,this.blist[j]=b,this.rlist[j]=c,this.elist[j]=d):(this.blist[i]=b,this.rlist[i]=c,this.elist[i]=d,this.level[i]=k,this.alist[j]=e,this.blist[j]=f,this.rlist[j]=g,this.elist[j]=h),this.level[j]=k,this.size++,k>this.maximum_level&&(this.maximum_level=k),this.qpsrt()},retrieve:function(){var a=this.i;return{a:this.alist[a],b:this.blist[a],r:this.rlist[a],e:this.elist[a]}},sum_results:function(){var a,b=this.size,c=0;for(a=0;a<b;a++)c+=this.rlist[a];return c},subinterval_too_small:function(a,b,c){var d=(1+2220446049250313e-29)*(Math.abs(b)+22250738585072014e-321);return Math.abs(a)<=d&&Math.abs(c)<=d}}},Qag:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=2220446049250313e-31,x=this._workspace(a,1e3),y=c&&__TURBOPACK__default__export__3.isNumber(c.limit)?c.limit:15,z=c&&__TURBOPACK__default__export__3.isNumber(c.epsrel)?c.epsrel:1e-7,A=c&&__TURBOPACK__default__export__3.isNumber(c.epsabs)?c.epsabs:1e-7,B=c&&__TURBOPACK__default__export__3.isFunction(c.q)?c.q:this.GaussKronrod15,C={},D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0;if(y>x.limit&&__TURBOPACK__default__export__.warn("iteration limit exceeds available workspace"),A<=0&&(z<50*__TURBOPACK__default__export__2.eps||z<5e-29)&&__TURBOPACK__default__export__.warn("tolerance cannot be acheived with given epsabs and epsrel"),f=B.apply(this,[a,b,C]),g=C.abserr,h=C.resabs,i=C.resasc,x.set_initial_result(f,g),k=Math.max(A,z*Math.abs(f)),g<=50*w*h&&g>k)return j=f,__TURBOPACK__default__export__.warn("cannot reach tolerance because of roundoff error on first attempt"),-1/0;if(g<=k&&g!==i||0===g)return f;if(1===y)return j=f,__TURBOPACK__default__export__.warn("a maximum of one iteration was insufficient"),-1/0;d=f,e=g,D=1;do H=0,I=0,J=0,K=0,L=0,M=0,p=(v=x.retrieve()).a,q=v.b,r=v.r,s=v.e,l=p,n=m=.5*(p+q),o=q,H=B.apply(this,[[l,m],b,C]),K=C.abserr,t=C.resasc,I=B.apply(this,[[n,o],b,C]),L=C.abserr,u=C.resasc,J=H+I,e+=(M=K+L)-s,d+=J-r,t!==K&&u!==L&&(Math.abs(r-J)<=1e-5*Math.abs(J)&&M>=.99*s&&E++,D>=10&&M>s&&F++),e>(k=Math.max(A,z*Math.abs(d)))&&((E>=6||F>=20)&&(G=2),x.subinterval_too_small(l,n,o)&&(G=3)),x.update(l,m,H,K,n,o,I,L),p=(v=x.retrieve()).a_i,q=v.b_i,r=v.r_i,s=v.e_i,D++;while(D<y&&!G&&e>k)return x.sum_results()},I:function(a,b){return this.Qag(a,b,{q:this.GaussKronrod15,limit:15,epsrel:1e-7,epsabs:1e-7})},Newton:function(a,b,c){var d,e=0,f=__TURBOPACK__default__export__2.eps,g=a.apply(c,[b]);for(__TURBOPACK__default__export__3.isArray(b)&&(b=b[0]);e<50&&Math.abs(g)>f;)Math.abs(d=this.D(a,c)(b))>f?b-=g/d:b+=.2*Math.random()-1,g=a.apply(c,[b]),e+=1;return b},root:function(a,b,c){return this.chandrupatla(a,b,c)},generalizedNewton:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=0;for(this.generalizedNewton.t1memo?(e=this.generalizedNewton.t1memo,f=this.generalizedNewton.t2memo):(e=c,f=d),n=(k=a.X(e)-b.X(f))*k+(l=a.Y(e)-b.Y(f))*l,o=this.D(a.X,a),p=this.D(b.X,b),q=this.D(a.Y,a),r=this.D(b.Y,b);n>__TURBOPACK__default__export__2.eps&&s<10;)g=o(e),h=-p(f),i=q(e),m=g*(j=-r(f))-h*i,e-=(j*k-h*l)/m,f-=(g*l-i*k)/m,n=(k=a.X(e)-b.X(f))*k+(l=a.Y(e)-b.Y(f))*l,s+=1;return(this.generalizedNewton.t1memo=e,this.generalizedNewton.t2memo=f,Math.abs(e)<Math.abs(f))?[a.X(e),a.Y(e)]:[b.X(f),b.Y(f)]},Neville:function(a){var b=[],c=function(c){return function(d,e){var f,g,h,i=__TURBOPACK__default__export__2.binomial,j=a.length,k=j-1,l=0,m=0;if(!e)for(f=0,h=1;f<j;f++)b[f]=i(k,f)*h,h*=-1;for(f=0,g=d;f<j;f++){if(0===g)return a[f][c]();h=b[f]/g,g-=1,l+=a[f][c]()*h,m+=h}return l/m}};return[c("X"),c("Y"),0,function(){return a.length-1}]},splineDef:function(a,b){var c,d,e=Math.min(a.length,b.length),f=[],g=[],h=[],i=[],j=[],k=[];if(2===e)return[0,0];for(c=0;c<e;c++)h.push({X:a[c],Y:b[c]});for(h.sort(function(a,b){return a.X-b.X}),c=0;c<e;c++)a[c]=h[c].X,b[c]=h[c].Y;for(c=0;c<e-1;c++)i.push(a[c+1]-a[c]);for(c=0;c<e-2;c++)j.push(6*(b[c+2]-b[c+1])/i[c+1]-6*(b[c+1]-b[c])/i[c]);for(f.push(2*(i[0]+i[1])),g.push(j[0]),c=0;c<e-3;c++)d=i[c+1]/f[c],f.push(2*(i[c+1]+i[c+2])-d*i[c+1]),g.push(j[c+1]-d*g[c]);for(k[e-3]=g[e-3]/f[e-3],c=e-4;c>=0;c--)k[c]=(g[c]-i[c+1]*k[c+1])/f[c];for(c=e-3;c>=0;c--)k[c+1]=k[c];return k[0]=0,k[e-1]=0,k},splineEval:function(a,b,c,d){var e,f,g,h,i,j,k,l=Math.min(b.length,c.length),m=1,n=!1,o=[];for(__TURBOPACK__default__export__3.isArray(a)?(m=a.length,n=!0):a=[a],e=0;e<m;e++){if(a[e]<b[0]||b[e]>b[l-1])return NaN;for(f=1;f<l&&!(a[e]<=b[f]);f++);f-=1,g=c[f],h=(c[f+1]-c[f])/(b[f+1]-b[f])-(b[f+1]-b[f])/6*(d[f+1]+2*d[f]),i=d[f]/2,j=(d[f+1]-d[f])/(6*(b[f+1]-b[f])),k=a[e]-b[f],o.push(g+(h+(i+j*k)*k)*k)}return n?o:o[0]},generatePolynomialTerm:function(a,b,c,d){var e,f=[];for(e=b;e>=0;e--)__TURBOPACK__default__export__3.concat(f,["(",a[e].toPrecision(d),")"]),e>1?__TURBOPACK__default__export__3.concat(f,["*",c,"<sup>",e,"<","/sup> + "]):1===e&&__TURBOPACK__default__export__3.concat(f,["*",c," + "]);return f.join("")},lagrangePolynomial:function(a){var b=[],c=this,d=function(c,d){var e,f,g,h,i=a.length,j=0,k=0;if(!d)for(e=0;e<i;e++){for(f=0,b[e]=1,g=a[e].X();f<i;f++)f!==e&&(b[e]*=g-a[f].X());b[e]=1/b[e]}for(e=0;e<i;e++){if(c===(g=a[e].X()))return a[e].Y();k+=h=b[e]/(c-g),j+=h*a[e].Y()}return j/k};return d.getTerm=function(b,d,e){return c.lagrangePolynomialTerm(a,b,d,e)()},d.getCoefficients=function(){return c.lagrangePolynomialCoefficients(a)()},d},lagrangePolynomialTerm:function(a,b,c,d){var e=this;return function(){var f,g,h,i,j=a.length,k=[],l=!0;for(c=c||"x",void 0===d&&(d=" * "),f=j-1,k=e.lagrangePolynomialCoefficients(a)(),g="",h=0;h<k.length;h++)Math.abs(i=k[h])<__TURBOPACK__default__export__2.eps||(__TURBOPACK__default__export__.exists(b)&&(i=__TURBOPACK__default__export__4._round10(i,-b)),l?(g+=i>0?i:"-"+-i,l=!1):g+=i>0?" + "+i:" - "+-i,f-h>1?g+=d+c+"^"+(f-h):f-h==1&&(g+=d+c));return g}},lagrangePolynomialCoefficients:function(a){return function(){var b,c,d,e,f=a.length,g=[],h=[],i=[];for(c=0;c<f;c++)i[c]=0;for(b=0;b<f;b++){for(c=0,d=a[b].Y(),e=a[b].X(),g=[];c<f;c++)c!==b&&(d/=e-a[c].X(),g.push(a[c].X()));for(c=0,h=[1].concat(__TURBOPACK__default__export__2.Vieta(g));c<h.length;c++)i[c]+=(c%2==1?-1:1)*h[c]*d}return i}},_initCubicPoly:function(a,b,c,d){return[a,c,-3*a+3*b-2*c-d,2*a-2*b+c+d]},CardinalSpline:function(a,b,c){var d,e,f,g,h=[],i=this;return g=__TURBOPACK__default__export__3.isFunction(b)?b:function(){return b},void 0===c&&(c="uniform"),[(e=function(b){return function(e,j){var k,l,m,n,o,p,q,r,s,t;if(a.length<2)return NaN;if(!j)for(k=0,f=g(),m={X:function(){return 2*a[0].X()-a[1].X()},Y:function(){return 2*a[0].Y()-a[1].Y()},Dist:function(a){var b=this.X()-a.X(),c=this.Y()-a.Y();return __TURBOPACK__default__export__2.hypot(b,c)}},n={X:function(){return 2*a[a.length-1].X()-a[a.length-2].X()},Y:function(){return 2*a[a.length-1].Y()-a[a.length-2].Y()},Dist:function(a){var b=this.X()-a.X(),c=this.Y()-a.Y();return __TURBOPACK__default__export__2.hypot(b,c)}},t=(d=[m].concat(a,[n])).length,h[b]=[];k<t-3;k++)"centripetal"===c?(q=d[k].Dist(d[k+1]),r=d[k+2].Dist(d[k+1]),s=d[k+3].Dist(d[k+2]),q=Math.sqrt(q),r=Math.sqrt(r),s=Math.sqrt(s),r<__TURBOPACK__default__export__2.eps&&(r=1),q<__TURBOPACK__default__export__2.eps&&(q=r),s<__TURBOPACK__default__export__2.eps&&(s=r),o=(d[k+1][b]()-d[k][b]())/q-(d[k+2][b]()-d[k][b]())/(r+q)+(d[k+2][b]()-d[k+1][b]())/r,p=(d[k+2][b]()-d[k+1][b]())/r-(d[k+3][b]()-d[k+1][b]())/(s+r)+(d[k+3][b]()-d[k+2][b]())/s,o*=r,p*=r,h[b][k]=i._initCubicPoly(d[k+1][b](),d[k+2][b](),f*o,f*p)):h[b][k]=i._initCubicPoly(d[k+1][b](),d[k+2][b](),f*(d[k+2][b]()-d[k][b]()),f*(d[k+3][b]()-d[k+1][b]()));return isNaN(e)?NaN:(t=a.length,e<=0)?a[0][b]():e>=t?a[t-1][b]():(k=Math.floor(e))===e?a[k][b]():(e-=k,void 0===(l=h[b][k]))?NaN:((l[3]*e+l[2])*e+l[1])*e+l[0]}})("X"),e("Y"),0,function(){return a.length-1}]},CatmullRomSpline:function(a,b){return this.CardinalSpline(a,.5,b)},regressionPolynomial:function(a,b,c){var d,e,f,g,h,i,j="";if(__TURBOPACK__default__export__3.isPoint(a)&&__TURBOPACK__default__export__3.isFunction(a.Value))e=function(){return a.Value()};else if(__TURBOPACK__default__export__3.isFunction(a))e=a;else if(__TURBOPACK__default__export__3.isNumber(a))e=function(){return a};else throw Error("JSXGraph: Can't create regressionPolynomial from degree of type'"+typeof a+"'.");if(3==arguments.length&&__TURBOPACK__default__export__3.isArray(b)&&__TURBOPACK__default__export__3.isArray(c))h=0;else if(2==arguments.length&&__TURBOPACK__default__export__3.isArray(b)&&b.length>0&&__TURBOPACK__default__export__3.isPoint(b[0]))h=1;else if(2==arguments.length&&__TURBOPACK__default__export__3.isArray(b)&&b.length>0&&b[0].usrCoords&&b[0].scrCoords)h=2;else throw Error("JSXGraph: Can't create regressionPolynomial. Wrong parameters.");return(i=function(a,i){var k,l,m,n,o,p,q,r,s,t=b.length;if(s=Math.floor(e()),!i){if(1===h)for(k=0,f=[],g=[];k<t;k++)f[k]=b[k].X(),g[k]=b[k].Y();if(2===h)for(k=0,f=[],g=[];k<t;k++)f[k]=b[k].usrCoords[1],g[k]=b[k].usrCoords[2];if(0===h)for(k=0,f=[],g=[];k<t;k++)__TURBOPACK__default__export__3.isFunction(b[k])?f.push(b[k]()):f.push(b[k]),__TURBOPACK__default__export__3.isFunction(c[k])?g.push(c[k]()):g.push(c[k]);for(l=0,m=[];l<t;l++)m.push([1]);for(k=1;k<=s;k++)for(l=0;l<t;l++)m[l][k]=m[l][k-1]*f[l];o=g,n=__TURBOPACK__default__export__2.transpose(m),p=__TURBOPACK__default__export__2.matMatMult(n,m),q=__TURBOPACK__default__export__2.matVecMult(n,o),d=__TURBOPACK__default__export__2.Numerics.Gauss(p,q),j=__TURBOPACK__default__export__2.Numerics.generatePolynomialTerm(d,s,"x",3)}for(r=d[s],k=s-1;k>=0;k--)r=r*a+d[k];return r}).getTerm=function(){return j},i},bezier:function(a){var b,c,d=function(d){return function(e,f){var g=3*Math.floor(e),h=e%1,i=1-h;return(f||(b=Math.floor((c=3*Math.floor((a.length-1)/3))/3)),e<0)?a[0][d]():e>=b?a[c][d]():isNaN(e)?NaN:i*i*(i*a[g][d]()+3*h*a[g+1][d]())+(3*i*a[g+2][d]()+h*a[g+3][d]())*h*h}};return[d("X"),d("Y"),0,function(){return Math.floor(a.length/3)}]},bspline:function(a,b){var c=function(a,b){var c,d=[];for(c=0;c<a+b+1;c++)c<b?d[c]=0:c<=a?d[c]=c-b+1:d[c]=a-b+2;return d},d=function(a,b,c,d){var e,f,g,h,i,j=[];for(b[d]<=a&&a<b[d+1]?j[d]=1:j[d]=0,e=2;e<=c;e++)for(f=d-e+1;f<=d;f++)g=f<=d-e+1||f<0?0:j[f],h=f>=d?0:j[f+1],0==(i=b[f+e-1]-b[f])?j[f]=0:j[f]=(a-b[f])/i*g,0!=(i=b[f+e]-b[f+1])&&(j[f]+=(b[f+e]-a)/i*h);return j},e=function(e){return function(f,g){var h,i,j,k=[],l=a.length,m=l-1,n=b;if(m<=0)return NaN;if(m+2<=n&&(n=m+1),f<=0)return a[0][e]();if(f>=m-n+2)return a[m][e]();for(j=Math.floor(f)+n-1,k=d(f,c(m,n),n,j),h=0,i=j-n+1;i<=j;i++)i<l&&i>=0&&(h+=a[i][e]()*k[i]);return h}};return[e("X"),e("Y"),0,function(){return a.length-1}]},D:function(a,b){return __TURBOPACK__default__export__3.exists(b)?function(c,d){var e=1e-5,f=2e-5;return(a.apply(b,[c+e,d])-a.apply(b,[c-e,d]))/f}:function(b,c){var d=1e-5,e=2e-5;return(a(b+1e-5,c)-a(b-d,c))/e}},_riemannValue:function(a,b,c,d){var e,f,g,h;if(d<0&&("trapezoidal"!==c&&(a+=d),d*=-1,"lower"===c?c="upper":"upper"===c&&(c="lower")),h=.01*d,"right"===c)e=b(a+d);else if("middle"===c)e=b(a+.5*d);else if("left"===c||"trapezoidal"===c)e=b(a);else if("lower"===c){for(e=b(a),g=a+h;g<=a+d;g+=h)(f=b(g))<e&&(e=f);(f=b(a+d))<e&&(e=f)}else if("upper"===c){for(e=b(a),g=a+h;g<=a+d;g+=h)(f=b(g))>e&&(e=f);(f=b(a+d))>e&&(e=f)}else e="random"===c?b(a+d*Math.random()):"simpson"===c?(b(a)+4*b(a+.5*d)+b(a+d))/6:b(a);return e},riemann:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=30,u=[],v=[],w=d,x=0;if(__TURBOPACK__default__export__3.isArray(a)?(s=a[0],r=a[1]):r=a,(b=Math.floor(b))<=0)return[u,v,x];for(f=0,g=(e-d)/b;f<b;f++){if("simpson"===c){for(x+=this._riemannValue(w,r,c,g)*g,p=.5*g,l=r(w),m=r(w+p),i=((n=r(w+2*p))+l-2*m)/(p*p)*.5,j=(n-l)/(2*p),k=m,h=0;h<t;h++)o=h*g/t-p,u.push(w+o+p),v.push(i*o*o+j*o+k);w+=g,q=n}else q=this._riemannValue(w,r,c,g),u.push(w),v.push(q),w+=g,"trapezoidal"===c?(x+=(q+(n=r(w)))*.5*g,q=n):x+=q*g,u.push(w),v.push(q);u.push(w),v.push(q)}for(f=0;f<b;f++){if("simpson"===c&&s){for(x-=this._riemannValue(w,s,c,-g)*g,p=.5*g,l=s(w),m=s(w-p),i=((n=s(w-2*p))+l-2*m)/(p*p)*.5,j=(n-l)/(2*p),k=m,h=0;h<t;h++)o=h*g/t-p,u.push(w-o-p),v.push(i*o*o+j*o+k);w-=g,q=n}else q=s?this._riemannValue(w,s,c,-g):0,u.push(w),v.push(q),w-=g,s&&("trapezoidal"===c?(x-=(q+(n=s(w)))*.5*g,q=n):x-=q*g);u.push(w),v.push(q),u.push(w),v.push(r(w))}return[u,v,x]},riemannsum:function(a,b,c,d,e){return __TURBOPACK__default__export__.deprecated("Numerics.riemannsum()","Numerics.riemann()[2]"),this.riemann(a,b,c,d,e)[2]},rungeKutta:function(a,b,c,d,e){var f,g,h,i,j,k,l=[],m=[],n=(c[1]-c[0])/d,o=c[0],p=b.length,q=[],r=0;for(__TURBOPACK__default__export__3.isString(a)&&(a=predefinedButcher[a]||predefinedButcher.euler),k=a.s,l=b.slice(),g=0;g<=d;g++){for(q[r]=l.slice(),r++,i=[],h=0;h<k;h++){for(f=0;f<p;f++)m[f]=0;for(j=0;j<h;j++)for(f=0;f<p;f++)m[f]+=a.A[h][j]*n*i[j][f];for(f=0;f<p;f++)m[f]+=l[f];i.push(e(o+a.c[h]*n,m))}for(f=0;f<p;f++)m[f]=0;for(j=0;j<k;j++)for(f=0;f<p;f++)m[f]+=a.b[j]*i[j][f];for(f=0;f<p;f++)l[f]=l[f]+n*m[f];o+=n}return q},maxIterationsRoot:80,maxIterationsMinimize:500,findBracket:function(a,b,c){var d,e,f,g,h,i,j,k,l,m;if(__TURBOPACK__default__export__3.isArray(b))return b;for(l=0,d=b,f=a.call(c,d),e=0===d?1:d,m=(g=[d-.1*e,d+.1*e,d-1,d+1,d-.5*e,d+.5*e,d-.6*e,d+.6*e,d-e,d+ +e,d-2*e,d+2*e,d-5*e,d+5*e,d-10*e,d+10*e,d-50*e,d+50*e,d-100*e,d+100*e]).length;l<m&&(h=g[l],!(f*(i=a.call(c,h))<=0));l++);return h<d&&(j=d,d=h,h=j,k=f,f=i,i=k),[d,f,h,i]},fzero:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=__TURBOPACK__default__export__2.eps,u=this.maxIterationsRoot,v=0;if(__TURBOPACK__default__export__3.isArray(b)){if(b.length<2)throw Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");d=(k=this.findDomain(a,b,c))[0],e=k[1],g=a.call(c,d),h=a.call(c,e)}else d=(j=this.findBracket(a,b,c))[0],g=j[1],e=j[2],h=j[3];if(Math.abs(g)<=t)return d;if(Math.abs(h)<=t)return e;if(g*h>0)return __TURBOPACK__default__export__3.isArray(b)?this.fminbr(a,[d,e],c):this.Newton(a,d,c);for(f=d,i=g;v<u&&(l=e-d,Math.abs(i)<Math.abs(h)&&(d=e,e=f,f=d,g=h,h=i,i=g),p=2*t*Math.abs(e)+.5*t,!(Math.abs(s=(f-e)*.5)<=p||Math.abs(h)<=t));)Math.abs(l)>=p&&Math.abs(g)>Math.abs(h)&&(o=f-e,d===f?(q=o*(m=h/g),r=1-m):(r=g/i,m=h/i,q=(n=h/g)*(o*r*(r-m)-(e-d)*(m-1)),r=(r-1)*(m-1)*(n-1)),q>0?r=-r:q=-q,q<.75*o*r-.5*Math.abs(p*r)&&q<Math.abs(l*r*.5)&&(s=q/r)),Math.abs(s)<p&&(s=s>0?p:-p),d=e,g=h,e+=s,((h=a.call(c,e))>0&&i>0||h<0&&i<0)&&(f=d,i=g),v++;return e},chandrupatla:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=0,y=this.maxIterationsRoot,z=1+.001*Math.random(),A=.5*z,B=__TURBOPACK__default__export__2.eps,C=1e-5;if(__TURBOPACK__default__export__3.isArray(b)){if(b.length<2)throw Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");d=b[0],f=a.call(c,d),e=b[1],g=a.call(c,e)}else d=(h=this.findBracket(a,b,c))[0],f=h[1],e=h[2],g=h[3];if(f*g>0)return __TURBOPACK__default__export__3.isArray(b)?this.fminbr(a,[d,e],c):this.Newton(a,d,c);i=d,j=e,m=f,n=g;do{if(l=i+A*(j-i),Math.sign(p=a.call(c,l))===Math.sign(m)?(k=i,i=l,o=m,m=p):(k=j,j=i,o=n,n=m),i=l,m=p,q=i,r=m,Math.abs(n)<Math.abs(m)&&(q=j,r=n),(s=(2*B*Math.abs(q)+.5*C)/Math.abs(j-i))>.5||0===r)break;t=(i-j)/(k-j),u=(m-n)/(o-n),v=1-Math.sqrt(1-t),w=Math.sqrt(t),(A=v<u&&u<w?m/(n-m)*(o/(n-o))+m/(o-m)*(n/(o-n))*((k-i)/(j-i)):.5*z)<s&&(A=s),A>1-s&&(A=1-s),x++}while(x<=y)return q},findDomain:function(a,b,c,d){var e,f,g,h,i,j,k=1-1/1.61803398875,l=.001,m=20;if(void 0===d&&(d=!0),!__TURBOPACK__default__export__3.isArray(b)||b.length<2)throw Error("JXG.Math.Numerics.findDomain: length of array x0 has to be at least two.");if(e=(i=b.slice())[0],f=i[1],isNaN(h=a.call(c,e))){for(j=0;f-e>l&&j<m;)g=(f-e)*k+e,isNaN(h=a.call(c,g))?e=g:f=g,j++;d?i[0]=e:i[0]=f}if(e=i[0],f=i[1],isNaN(h=a.call(c,f))){for(j=0;f-e>l&&j<m;)g=f-(f-e)*k,isNaN(h=a.call(c,g))?f=g:e=g,j++;d?i[1]=f:i[1]=e}return i},fminbr:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=(3-Math.sqrt(5))*.5,v=__TURBOPACK__default__export__2.eps,w=__TURBOPACK__default__export__2.eps,x=this.maxIterationsMinimize,y=0;if(!__TURBOPACK__default__export__3.isArray(b)||b.length<2)throw Error("JXG.Math.Numerics.fminbr: length of array x0 has to be at least two.");for(g=(d=(l=this.findDomain(a,b,c))[0])+u*((e=l[1])-d),j=a.call(c,g),f=g,h=g,i=j,k=j;y<x&&(m=e-d,n=(d+e)*.5,o=w*Math.abs(f)+v/3,!(Math.abs(f-n)+.5*m<=2*o));)p=u*(f<n?e-f:d-f),Math.abs(f-h)>=o&&(s=(f-h)*(i-j),r=(f-g)*(i-k),q=(f-g)*r-(f-h)*s,(r=2*(r-s))>0?q=-q:r=-r,Math.abs(q)<Math.abs(p*r)&&q>r*(d-f+2*o)&&q<r*(e-f-2*o)&&(p=q/r)),Math.abs(p)<o&&(p=p>0?o:-o),s=f+p,(t=a.call(c,s))<=i?(s<f?e=f:d=f,g=h,h=f,f=s,j=k,k=i,i=t):(s<f?d=s:e=s,t<=k||h===f?(g=h,h=s,j=k,k=t):(t<=j||g===f||g===h)&&(g=s,j=t)),y+=1;return f},glomin:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=1e7,F=__TURBOPACK__default__export__2.eps,G=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps,H=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps;if(A=b[0],B=b[1],C=a(A)<a(B)?A:B,D=c=B,d=A,w=s=a(B),s<(r=u=a(A))?r=s:D=A,E<=0||B<=A)return r;for(k=.5*(1+16*H)*E,t=a(q=C<=A||B<=C?.5*(A+B):C),j=3,f=d-q,i=9/11,t<r&&(D=q,r=t);;){if(g=d-c,h=q-c,z=B-d,l=o=g*g*(x=u-t)-f*f*(y=u-s),m=n=2*(f*y-g*x),j<1e6||u<=r)for(;m*(o*(w-u)+z*m*(u-r+F))<z*k*o*(z*m-o)&&(v=a(e=d+o/m))<r&&(D=e,r=v),m=1,!(z<=(o=(B-A)*1e-5*(j=1611*j%1048576))););else for(m=1,o=(B-A)*1e-5*(j=1611*j%1048576);o<z;)m*(o*(w-u)+z*m*(u-r+F))<z*k*o*(z*m-o)&&(v=a(e=d+o/m))<r&&(D=e,r=v),m=1,o=(B-A)*1e-5*(j=1611*j%1048576);for(l=(i=.5*(1+i))*(l+2*(o=k*f*g*h)*(p=Math.sqrt((u-r+F)/k))),m+=.5*n,o=(o=-.5*(f+(x+2.01*G)/(f*k)))<p||f<0?d+p:d+o,e=0<l*m?d+l/m:o;(B<=(e=Math.max(e,o))?(e=B,v=w):v=a(e),v<r&&(D=e,r=v),f=e-d,!(e<=o))&&(l=2*(u-v)/(E*f),!((1+9*H)*f<=Math.abs(l))&&!(.5*k*(f*f+l*l)<=u-r+(v-r)+2*F));){;e=.5*(d+e),i*=.9}if(B<=e)break;c=q,q=d,d=e,s=t,t=u,u=v}return[D,r]},polzeros:function(a,b,c,d,e){var f,g,h,i,j=[],k=[],l=[],m=function(a,b,c){var d,e,f=a.length-1;if(c=c||!1)for(e=__TURBOPACK__default__export__.C.mult(f,a[f]),d=f-1;d>0;d--)e.mult(b),e.add(__TURBOPACK__default__export__.C.mult(a[d],d));else for(e=__TURBOPACK__default__export__.C.copy(a[f]),d=f-1;d>=0;d--)e.mult(b),e.add(a[d]);return e},n=function(a,b,c){var d,e,f=a.length-1;if(c=c||!1)for(e=__TURBOPACK__default__export__.C.mult(f,a[0]),d=f-1;d>0;d--)e.mult(b),e.add(__TURBOPACK__default__export__.C.mult(a[f-d],d));else for(e=__TURBOPACK__default__export__.C.copy(a[0]),d=f-1;d>=0;d--)e.mult(b),e.add(a[f-d]);return e},o=function(a,b){var c,d,e=a.length-1;for(d=a[e],c=e-1;c>=0;c--)d=d*b+a[c];return d},p=function(a){var b,c,d,e,f=a.length-1,g=2*Math.PI/f,h=Math.PI/f*.5,i=[];for((d=__TURBOPACK__default__export__.C.mult(-1,a[f-1])).div(__TURBOPACK__default__export__.C.mult(f,a[f])),e=__TURBOPACK__default__export__.C.div(m(a,d),a[f]),0===(c=Math.pow(__TURBOPACK__default__export__.C.abs(e),1/f))&&(c=1),b=0;b<f;b++)a=new __TURBOPACK__default__export__.Complex(c*Math.cos(g*b+h),c*Math.sin(g*b+h)),i[b]=__TURBOPACK__default__export__.C.add(d,a);return i},q=function(a,b,c,d){var e,f,g,h,i,j,k,l,p,q=[],r=[],s=0,t=d.length;for(f=0;f<t;f++)q.push(!1);for(f=0;f<a.length;f++)r.push(__TURBOPACK__default__export__.C.abs(a[f])*(4*f+1));for(e=0;e<c&&s<t;e++)for(f=0;f<t;f++)if(!q[f]){if(j=m(a,d[f]),i=__TURBOPACK__default__export__.C.abs(d[f]),__TURBOPACK__default__export__.C.abs(j)<b*o(r,i)){if(q[f]=!0,++s===t)break;continue}for(i>1?((p=n(a,h=__TURBOPACK__default__export__.C.div(1,d[f]),!0)).div(n(a,h)),p.mult(h),j=__TURBOPACK__default__export__.C.sub(t,p),j=__TURBOPACK__default__export__.C.div(d[f],j)):j.div(m(a,d[f],!0)),k=new __TURBOPACK__default__export__.Complex(0),g=0;g<t;g++)g!==f&&(l=__TURBOPACK__default__export__.C.sub(d[f],d[g]),l=__TURBOPACK__default__export__.C.div(1,l),k.add(l));k.mult(j),k=__TURBOPACK__default__export__.C.sub(1,k),j.div(k),d[f].sub(j)}return e};for(c=c||Number.EPSILON,d=d||30,g=a.length,__TURBOPACK__default__export__.isNumber(b)&&b>=0&&b<g-1&&(g=b+1),f=0;f<g;f++)j.push(new __TURBOPACK__default__export__.Complex(a[f]));for(f=0;f<g;f++)if(0!==j[f].real||0!==j[f].imaginary){h=f;break}for(f=0;f<h;f++)k.push(new __TURBOPACK__default__export__.Complex(0));for(f=(g=(j=j.slice(h)).length)-1;f>=0&&0===j[f].real&&0===j[f].imaginary;f--)j.pop();if(0===(g=j.length))return[];if(e)for(f=0;f<g-1;f++)l.push(new __TURBOPACK__default__export__.Complex(e[f]));else l=p(j);return i=q(j,c,d,l),(l=k.concat(l)).sort(function(a,b){return a.real<b.real?-1:+(a.real>b.real)}),l},RamerDouglasPeucker:function(a,b){var c,d,e,f=[],g=[],h=!0,i=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps,p=1e4,q=0,r=b;if(c-b<2)return[-1,0];if(f=a[b].scrCoords,g=a[c].scrCoords,isNaN(f[1])||isNaN(f[2]))return[NaN,b];if(isNaN(g[1])||isNaN(g[2]))return[NaN,c];for(e=b+1;e<c;e++){if(isNaN((h=a[e].scrCoords)[1])||isNaN(h[2]))return[NaN,e];i=h[1]-f[1],j=h[2]-f[2],k=g[1]-f[1],l=g[2]-f[2],i=i===1/0?p:i,j=j===1/0?p:j,k=k===1/0?p:k,l=l===1/0?p:l,i=i===-1/0?-p:i,j=j===-1/0?-p:j,(m=(k=k===-1/0?-p:k)*k+(l=l===-1/0?-p:l)*l)>o?((n=(i*k+j*l)/m)<0?n=0:n>1&&(n=1),i-=n*k,j-=n*l):n=0,(d=i*i+j*j)>q&&(q=d,r=e)}return[Math.sqrt(q),r]},j=function(a,b,c,d,e){var f=i(a,b,c),g=f[1];if(isNaN(f[0])){j(a,b,g-1,d,e),e.push(a[g]);do++g;while(g<=c&&isNaN(a[g].scrCoords[1]+a[g].scrCoords[2]))g<=c&&e.push(a[g]),j(a,g+1,c,d,e)}else f[0]>d?(j(a,b,g,d,e),j(a,g,c,d,e)):e.push(a[c])};for(e=a.length,c=0;h;){for(;c<e&&isNaN(a[c].scrCoords[1]+a[c].scrCoords[2]);)c+=1;for(d=c+1;d<e&&!isNaN(a[d].scrCoords[1]+a[d].scrCoords[2]);)d+=1;if(d--,c<e&&d>c&&((g=[])[0]=a[c],j(a,c,d,b,g),f=f.concat(g)),c>=e)break;d<e-1&&f.push(a[d+1]),c=d+1}return f},RamerDouglasPeuker:function(a,b){return __TURBOPACK__default__export__.deprecated("Numerics.RamerDouglasPeuker()","Numerics.RamerDouglasPeucker()"),this.RamerDouglasPeucker(a,b)},Visvalingam:function(a,b){var c,d,e,f,g,h,i,j,k,l=[],m=[],n=[];if((d=a.length)<=2)return a;for(c=1,l[0]={used:!0,lft:null,node:null},g=0;c<d-1;c++)isNaN(e=Math.abs(__TURBOPACK__default__export__.Math.Numerics.det([a[c-1].usrCoords,a[c].usrCoords,a[c+1].usrCoords])))||(m.push(k={v:e,idx:c}),l[c]={used:!0,lft:g,node:k},l[g].rt=c,g=c);for(l[d-1]={used:!0,rt:null,lft:g,node:null},l[g].rt=d-1,f=-1/0;m.length>b;)m.sort(function(a,b){return b.v-a.v}),l[c=m.pop().idx].used=!1,f=l[c].node.v,g=l[c].lft,h=l[c].rt,l[g].rt=h,l[h].lft=g,null!==(i=l[g].lft)&&(e=Math.abs(__TURBOPACK__default__export__.Math.Numerics.det([a[i].usrCoords,a[g].usrCoords,a[h].usrCoords])),l[g].node.v=e>=f?e:f),null!==(j=l[h].rt)&&(e=Math.abs(__TURBOPACK__default__export__.Math.Numerics.det([a[g].usrCoords,a[h].usrCoords,a[j].usrCoords])),l[h].node.v=e>=f?e:f);n=[a[c=0]];do c=l[c].rt,n.push(a[c]);while(null!==l[c].rt)return n}};let __TURBOPACK__default__export__13=__TURBOPACK__default__export__2.Numerics;__TURBOPACK__default__export__2.Geometry={},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__2.Geometry,{angle:function(a,b,c){var d,e,f,g,h=[],i=[],j=[];return __TURBOPACK__default__export__.deprecated("Geometry.angle()","Geometry.rad()"),a.coords?(h[0]=a.coords.usrCoords[1],h[1]=a.coords.usrCoords[2]):(h[0]=a[0],h[1]=a[1]),b.coords?(i[0]=b.coords.usrCoords[1],i[1]=b.coords.usrCoords[2]):(i[0]=b[0],i[1]=b[1]),c.coords?(j[0]=c.coords.usrCoords[1],j[1]=c.coords.usrCoords[2]):(j[0]=c[0],j[1]=c[1]),d=h[0]-i[0],e=h[1]-i[1],f=j[0]-i[0],Math.atan2(d*(g=j[1]-i[1])-e*f,d*f+e*g)},trueAngle:function(a,b,c){return 57.29577951308232*this.rad(a,b,c)},rad:function(a,b,c){var d,e,f,g,h,i,j;return a.coords?(d=a.coords.usrCoords[1],e=a.coords.usrCoords[2]):(d=a[0],e=a[1]),b.coords?(f=b.coords.usrCoords[1],g=b.coords.usrCoords[2]):(f=b[0],g=b[1]),c.coords?(h=c.coords.usrCoords[1],i=c.coords.usrCoords[2]):(h=c[0],i=c[1]),(j=Math.atan2(i-g,h-f)-Math.atan2(e-g,d-f))<0&&(j+=6.283185307179586),j},angleBisector:function(a,b,c,d){var e,f,g,h,i,j=a.coords.usrCoords,k=b.coords.usrCoords,l=c.coords.usrCoords;return(__TURBOPACK__default__export__3.exists(d)||(d=a.board),0===k[0])?new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[1,(j[1]+l[1])*.5,(j[2]+l[2])*.5],d):(h=j[1]-k[1],e=Math.atan2(i=j[2]-k[2],h),h=l[1]-k[1],g=(e+(f=Math.atan2(i=l[2]-k[2],h)))*.5,e>f&&(g+=Math.PI),h=Math.cos(g)+k[1],i=Math.sin(g)+k[2],new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[1,h,i],d))},reflection:function(a,b,c){var d,e,f,g,h,i,j=b.coords.usrCoords,k=a.point1.coords.usrCoords,l=a.point2.coords.usrCoords;return __TURBOPACK__default__export__3.exists(c)||(c=b.board),g=l[1]-k[1],h=l[2]-k[2],d=j[1]-k[1],i=(g*(j[2]-k[2])-h*d)/(g*g+h*h),e=j[1]+2*i*h,f=j[2]-2*i*g,new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[e,f],c)},rotation:function(a,b,c,d){var e,f,g,h,i,j,k=b.coords.usrCoords,l=a.coords.usrCoords;return __TURBOPACK__default__export__3.exists(d)||(d=b.board),e=k[1]-l[1],f=k[2]-l[2],i=e*(g=Math.cos(c))-f*(h=Math.sin(c))+l[1],j=e*h+f*g+l[2],new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[i,j],d)},perpendicular:function(a,b,c){var d,e,f,g,h,i=a.point1.coords.usrCoords,j=a.point2.coords.usrCoords,k=b.coords.usrCoords;return __TURBOPACK__default__export__3.exists(c)||(c=b.board),b===a.point1?(d=i[1]+j[2]-i[2],e=i[2]-j[1]+i[1],Math.abs(h=i[0]*j[0])<__TURBOPACK__default__export__2.eps&&(d=j[2],e=-j[1]),g=[h,d,e],f=!0):b===a.point2?(d=j[1]+i[2]-j[2],e=j[2]-i[1]+j[1],Math.abs(h=i[0]*j[0])<__TURBOPACK__default__export__2.eps&&(d=i[2],e=-i[1]),g=[h,d,e],f=!1):Math.abs(__TURBOPACK__default__export__2.innerProduct(k,a.stdform,3))<__TURBOPACK__default__export__2.eps?(d=k[1]+j[2]-k[2],e=k[2]-j[1]+k[1],Math.abs(h=j[0])<__TURBOPACK__default__export__2.eps&&(d=j[2],e=-j[1]),f=!0,Math.abs(h)>__TURBOPACK__default__export__2.eps&&Math.abs(d-k[1])<__TURBOPACK__default__export__2.eps&&Math.abs(e-k[2])<__TURBOPACK__default__export__2.eps&&(d=k[1]+i[2]-k[2],e=k[2]-i[1]+k[1],f=!1),g=[h,d,e]):(g=[0,a.stdform[1],a.stdform[2]],g=__TURBOPACK__default__export__2.crossProduct(g,k),g=__TURBOPACK__default__export__2.crossProduct(g,a.stdform),f=!0),[new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,g,c),f]},circumcenterMidpoint:function(){__TURBOPACK__default__export__.deprecated("Geometry.circumcenterMidpoint()","Geometry.circumcenter()"),this.circumcenter.apply(this,arguments)},circumcenter:function(a,b,c,d){var e,f,g,h,i=a.coords.usrCoords,j=b.coords.usrCoords,k=c.coords.usrCoords;return __TURBOPACK__default__export__3.exists(d)||(d=a.board),e=[j[0]-i[0],-j[2]+i[2],j[1]-i[1]],f=[(i[0]+j[0])*.5,(i[1]+j[1])*.5,(i[2]+j[2])*.5],g=__TURBOPACK__default__export__2.crossProduct(e,f),e=[k[0]-j[0],-k[2]+j[2],k[1]-j[1]],f=[(j[0]+k[0])*.5,(j[1]+k[1])*.5,(j[2]+k[2])*.5],h=__TURBOPACK__default__export__2.crossProduct(e,f),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,__TURBOPACK__default__export__2.crossProduct(g,h),d)},distance:function(a,b,c){var d,e=0;for(c||(c=Math.min(a.length,b.length)),d=0;d<c;d++)e+=(a[d]-b[d])*(a[d]-b[d]);return Math.sqrt(e)},affineDistance:function(a,b,c){var d;return(d=this.distance(a,b,c))>__TURBOPACK__default__export__2.eps&&(Math.abs(a[0])<__TURBOPACK__default__export__2.eps||Math.abs(b[0])<__TURBOPACK__default__export__2.eps)?1/0:d},affineRatio:function(a,b,c){var d,e=0;return __TURBOPACK__default__export__3.exists(a.usrCoords)&&(a=a.usrCoords),__TURBOPACK__default__export__3.exists(b.usrCoords)&&(b=b.usrCoords),__TURBOPACK__default__export__3.exists(c.usrCoords)&&(c=c.usrCoords),e=Math.abs(d=b[1]-a[1])>__TURBOPACK__default__export__2.eps?(c[1]-a[1])/d:(c[2]-a[2])/(b[2]-a[2])},sortVertices:function(a){for(var b,c=__TURBOPACK__default__export__8.each(a,__TURBOPACK__default__export__8.coordsArray),d=c.length,e=null;c[0][0]===c[d-1][0]&&c[0][1]===c[d-1][1]&&c[0][2]===c[d-1][2];)e=c.pop(),d--;return b=c[0],c.sort(function(a,c){return(a[2]===b[2]&&a[1]===b[1]?-1/0:Math.atan2(a[2]-b[2],a[1]-b[1]))-(c[2]===b[2]&&c[1]===b[1]?-1/0:Math.atan2(c[2]-b[2],c[1]-b[1]))}),null!==e&&c.push(e),c},signedTriangle:function(a,b,c){var d=__TURBOPACK__default__export__8.coordsArray(a),e=__TURBOPACK__default__export__8.coordsArray(b),f=__TURBOPACK__default__export__8.coordsArray(c);return .5*((e[1]-d[1])*(f[2]-d[2])-(e[2]-d[2])*(f[1]-d[1]))},signedPolygon:function(a,b){var c,d,e=0,f=__TURBOPACK__default__export__8.each(a,__TURBOPACK__default__export__8.coordsArray);for(void 0===b&&(b=!0),b?f.unshift(f[f.length-1]):f=this.sortVertices(f),d=f.length,c=1;c<d;c++)e+=f[c-1][1]*f[c][2]-f[c][1]*f[c-1][2];return .5*e},GrahamScan:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps,z=this,A=[],B=[],C=__TURBOPACK__default__export__8.each(a,__TURBOPACK__default__export__8.coordsArray),D=1024;if(0===(x=C.length))return[];if(x>D)for(b=1,h=f=C[0][1],i=g=C[0][2],m=k=C[0][1]-C[0][2],l=j=C[0][1]+C[0][2],n=0,o=0,p=0,q=0,s=0,u=0,r=0,t=0;b<x;b++)(v=C[b][1])<f?(f=v,n=b):v>h&&(h=v,o=b),(v=C[b][2])<g?(g=v,p=b):v>i&&(i=v,q=b),(v=C[b][1]-C[b][2])<k?(k=v,s=b):v>m&&(m=v,u=b),(v=C[b][1]+C[b][2])<j?(j=v,r=b):v>l&&(l=v,t=b);for(b=0;b<x;b++)w=C[b],(x<=D||b in[n,o,p,q,r,s,t,u]||n!==s&&this.signedTriangle(C[n],C[s],w)>=-y||s!==q&&this.signedTriangle(C[s],C[q],w)>=-y||q!==t&&this.signedTriangle(C[q],C[t],w)>=-y||t!==o&&this.signedTriangle(C[t],C[o],w)>=-y||o!==u&&this.signedTriangle(C[o],C[u],w)>=-y||u!==p&&this.signedTriangle(C[u],C[p],w)>=-y||p!==r&&this.signedTriangle(C[p],C[r],w)>=-y||r!==n&&this.signedTriangle(C[r],C[n],w)>=-y)&&A.push({i:b,c:w});for(b=1,x=A.length,e=0,f=A[0].c[1],g=A[0].c[2];b<x;b++)(A[b].c[2]<g||A[b].c[2]===g&&A[b].c[1]<f)&&(f=A[b].c[1],g=A[b].c[2],e=b);for(d=(A=__TURBOPACK__default__export__3.swap(A,e,0))[0].c,A.sort(function(a,b){var c=a.c,e=b.c,f=z.signedTriangle(d,c,e);return 0===f?__TURBOPACK__default__export__2.hypot(c[1]-d[1],c[2]-d[2])-__TURBOPACK__default__export__2.hypot(e[1]-d[1],e[2]-d[2]):-f}),c=0,b=0;b<x;b++){for(;c>1&&0>=this.signedTriangle(B[c-2].c,B[c-1].c,A[b].c);)B.pop(),c--;B.push(A[b]),c++}return B},convexHull:function(a,b){var c,d,e=[];for(c=0,d=this.GrahamScan(a);c<d.length;c++)b?e.push(d[c].c):e.push(a[d[c].i]);return e},isConvex:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps,n=0;if(__TURBOPACK__default__export__3.isArray(a)?b=__TURBOPACK__default__export__8.each(a,__TURBOPACK__default__export__8.coordsArray):__TURBOPACK__default__export__3.exists(a.type)&&a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON&&(b=__TURBOPACK__default__export__8.each(a.vertices,__TURBOPACK__default__export__8.coordsArray)),0===(c=b.length)||c<3)return!0;for(d=0,l=null,e=b[c-2][1],f=b[c-2][2],h=b[c-1][1],j=Math.atan2((i=b[c-1][2])-f,h-e);d<c;d++)if(e=h,f=i,g=j,h=b[d][1],i=b[d][2],e!==h||f!==i){if(j=Math.atan2(i-f,h-e),k=j-g,k<=-Math.PI?k+=2*Math.PI:k>Math.PI&&(k-=2*Math.PI),null===l){if(0===k)continue;l=k>0?1:-1}else if(l*k<-m)return!1;n+=k}return Math.abs(n/(2*Math.PI))-1<m},calcStraight:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if((__TURBOPACK__default__export__3.exists(d)||(d=10),j=a.evalVisProp("straightfirst"),k=a.evalVisProp("straightlast"),Math.abs(b.scrCoords[0])<__TURBOPACK__default__export__2.eps&&(j=!0),Math.abs(c.scrCoords[0])<__TURBOPACK__default__export__2.eps&&(k=!0),j||k)&&((l=[])[0]=a.stdform[0]-a.stdform[1]*a.board.origin.scrCoords[1]/a.board.unitX+a.stdform[2]*a.board.origin.scrCoords[2]/a.board.unitY,l[1]=a.stdform[1]/a.board.unitX,l[2]=-a.stdform[2]/a.board.unitY,!isNaN(l[0]+l[1]+l[2]))){if(e=!1,f=!1,e=!j&&Math.abs(b.usrCoords[0])>=__TURBOPACK__default__export__2.eps&&b.scrCoords[1]>=0&&b.scrCoords[1]<=a.board.canvasWidth&&b.scrCoords[2]>=0&&b.scrCoords[2]<=a.board.canvasHeight,f=!k&&Math.abs(c.usrCoords[0])>=__TURBOPACK__default__export__2.eps&&c.scrCoords[1]>=0&&c.scrCoords[1]<=a.board.canvasWidth&&c.scrCoords[2]>=0&&c.scrCoords[2]<=a.board.canvasHeight,g=this.meetLineBoard(l,a.board,d),h=g[0],i=g[1],!e&&!f&&(!j&&k&&!this.isSameDirection(b,c,h)&&!this.isSameDirection(b,c,i)||j&&!k&&!this.isSameDirection(c,b,h)&&!this.isSameDirection(c,b,i)))return;e?f||(n=this.isSameDir(b,c,h,i)?i:h):f?m=this.isSameDir(b,c,h,i)?h:i:this.isSameDir(b,c,h,i)?(m=h,n=i):(n=h,m=i),m&&b.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,m.usrCoords),n&&c.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,n.usrCoords)}},calcLineDelimitingPoints:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=!1,o=!1;if(i=a.evalVisProp("straightfirst"),j=a.evalVisProp("straightlast"),Math.abs(b.scrCoords[0])<__TURBOPACK__default__export__2.eps&&(i=!0),Math.abs(c.scrCoords[0])<__TURBOPACK__default__export__2.eps&&(j=!0),(k=[])[0]=a.stdform[0]-a.stdform[1]*a.board.origin.scrCoords[1]/a.board.unitX+a.stdform[2]*a.board.origin.scrCoords[2]/a.board.unitY,k[1]=a.stdform[1]/a.board.unitX,k[2]=-a.stdform[2]/a.board.unitY,!isNaN(k[0]+k[1]+k[2])){if((n=!i,o=!j,e=a.board.getBoundingBox(),f=a.getSlope(),f>=0?(g=this.projectPointToLine({coords:{usrCoords:[1,e[2],e[1]]}},a,a.board),h=this.projectPointToLine({coords:{usrCoords:[1,e[0],e[3]]}},a,a.board)):(g=this.projectPointToLine({coords:{usrCoords:[1,e[0],e[1]]}},a,a.board),h=this.projectPointToLine({coords:{usrCoords:[1,e[2],e[3]]}},a,a.board)),!n&&!o)&&(!i&&!j&&(d=b.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,c),Math.abs(b.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,g)+g.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,c)-d)>__TURBOPACK__default__export__2.eps||Math.abs(b.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,h)+h.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,c)-d)>__TURBOPACK__default__export__2.eps)||!i&&j&&!this.isSameDirection(b,c,g)&&!this.isSameDirection(b,c,h)||i&&!j&&!this.isSameDirection(c,b,g)&&!this.isSameDirection(c,b,h)))return;n?o||(m=this.isSameDir(b,c,g,h)?h:g):o?l=this.isSameDir(b,c,g,h)?g:h:this.isSameDir(b,c,g,h)?(l=g,m=h):(m=g,l=h),l&&b.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,l.usrCoords),m&&c.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,m.usrCoords)}},calcLabelQuadrant:function(a){return a<0&&(a+=2*Math.PI),["rt","urt","top","ulft","lft","llft","lrt"][Math.floor((a+Math.PI/8)/(Math.PI/4))%8]},isSameDir:function(a,b,c,d){var e=b.usrCoords[1]-a.usrCoords[1],f=b.usrCoords[2]-a.usrCoords[2],g=d.usrCoords[1]-c.usrCoords[1],h=d.usrCoords[2]-c.usrCoords[2];return Math.abs(b.usrCoords[0])<__TURBOPACK__default__export__2.eps&&(e=b.usrCoords[1],f=b.usrCoords[2]),Math.abs(a.usrCoords[0])<__TURBOPACK__default__export__2.eps&&(e=-a.usrCoords[1],f=-a.usrCoords[2]),e*g+f*h>=0},isSameDirection:function(a,b,c){var d,e,f,g,h=!1;return d=b.usrCoords[1]-a.usrCoords[1],e=b.usrCoords[2]-a.usrCoords[2],f=c.usrCoords[1]-a.usrCoords[1],g=c.usrCoords[2]-a.usrCoords[2],Math.abs(d)<__TURBOPACK__default__export__2.eps&&(d=0),Math.abs(e)<__TURBOPACK__default__export__2.eps&&(e=0),Math.abs(f)<__TURBOPACK__default__export__2.eps&&(f=0),Math.abs(g)<__TURBOPACK__default__export__2.eps&&(g=0),d>=0&&f>=0?h=e>=0&&g>=0||e<=0&&g<=0:d<=0&&f<=0&&(h=e>=0&&g>=0||e<=0&&g<=0),h},det3p:function(a,b,c){var d,e,f;return d=__TURBOPACK__default__export__3.isPoint(a)?a.Coords(!0):a,e=__TURBOPACK__default__export__3.isPoint(b)?b.Coords(!0):b,f=__TURBOPACK__default__export__3.isPoint(c)?c.Coords(!0):c,(d[1]-f[1])*(e[2]-f[2])-(e[1]-f[1])*(d[2]-f[2])},windingNumber:function(a,b,c){var d,e,f,g,h,i,j=0,k=b.length,l=a[1],m=a[2],n=0;if(0===k)return 0;if((c=c||!1)&&(n=1),isNaN(l)||isNaN(m)||(__TURBOPACK__default__export__3.exists(b[0].coords)?(d=b[0].coords,e=b[k-1].coords):(d=b[0],e=b[k-1]),d.usrCoords[1]===l&&d.usrCoords[2]===m))return 1;for(i=0;i<k-n;i++)if(__TURBOPACK__default__export__3.exists(b[i].coords)?(e=b[i].coords.usrCoords,f=b[(i+1)%k].coords.usrCoords):(e=b[i].usrCoords,f=b[(i+1)%k].usrCoords),!(0===e[0]||0===f[0]||isNaN(e[1])||isNaN(f[1])||isNaN(e[2])||isNaN(f[2]))){if(f[2]===m){if(f[1]===l)return 1;if(e[2]===m&&f[1]>l==e[1]<l)return 0}if(e[2]<m!=f[2]<m)if(h=2*(f[2]>e[2])-1,e[1]>=l)if(f[1]>l)j+=h;else{if(0===(g=this.det3p(e,f,a)))return 0;g>0+__TURBOPACK__default__export__2.eps==f[2]>e[2]&&(j+=h)}else f[1]>l&&(g=this.det3p(e,f,a))>0+__TURBOPACK__default__export__2.eps==f[2]>e[2]&&(j+=h)}return j},pnpoly:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n=c,o=!1;for(d===__TURBOPACK__default__export__1.COORDS_BY_USER?(k=(m=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[a,b],e)).scrCoords[1],l=m.scrCoords[2]):(k=a,l=b),f=0,g=(j=c.length)-2;f<j-1;g=f++)h=__TURBOPACK__default__export__3.exists(n[f].coords)?n[f].coords:n[f],i=__TURBOPACK__default__export__3.exists(n[g].coords)?n[g].coords:n[g],h.scrCoords[2]>l!=i.scrCoords[2]>l&&k<(i.scrCoords[1]-h.scrCoords[1])*(l-h.scrCoords[2])/(i.scrCoords[2]-h.scrCoords[2])+h.scrCoords[1]&&(o=!o);return o},intersectionFunction:function(a,b,c,d,e,f){var g,h=this,i=!1,j=!1;return i=b.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&(b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ARC||b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR),j=c.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&(c.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ARC||c.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR),g=(b.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE||c.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)&&(b.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE||b.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)&&(c.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE||c.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)?function(){return h.meetCurveCurve(b,c,d,e,b.board)}:(b.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE||i||c.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)&&(c.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE||j||b.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)?b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON||c.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON?b.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?function(){var a,e=b.evalVisProp("straightfirst"),g=b.evalVisProp("straightlast"),i=c.evalVisProp("straightfirst"),j=c.evalVisProp("straightlast");return a=!__TURBOPACK__default__export__3.evaluate(f)&&(!e||!g||!i||!j),h.meetPolygonLine(c,b,d,b.board,a)}:c.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?function(){var a,e=b.evalVisProp("straightfirst"),g=b.evalVisProp("straightlast"),i=c.evalVisProp("straightfirst"),j=c.evalVisProp("straightlast");return a=!__TURBOPACK__default__export__3.evaluate(f)&&(!e||!g||!i||!j),h.meetPolygonLine(b,c,d,b.board,a)}:function(){return h.meetPathPath(b,c,d,b.board)}:b.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&c.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?function(){var a,e,g=b.evalVisProp("straightfirst"),i=b.evalVisProp("straightlast"),j=c.evalVisProp("straightfirst"),k=c.evalVisProp("straightlast");return __TURBOPACK__default__export__3.evaluate(f)||g&&i&&j&&k?h.meet(b.stdform,c.stdform,d,b.board):(a=h.meetSegmentSegment(b.point1.coords.usrCoords,b.point2.coords.usrCoords,c.point1.coords.usrCoords,c.point2.coords.usrCoords),e=!g&&a[1]<0||!i&&a[1]>1||!j&&a[2]<0||!k&&a[2]>1?[0,NaN,NaN]:a[0],new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,e,b.board))}:function(){var a,e,g,k=h.meet(b.stdform,c.stdform,d,b.board),l=!0;return __TURBOPACK__default__export__3.evaluate(f)?k:(b.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_LINE||(a=b.evalVisProp("straightfirst"),e=b.evalVisProp("straightlast"),a&&e)||(g=h.affineRatio(b.point1.coords,b.point2.coords,k),(e||!(g>1+__TURBOPACK__default__export__2.eps))&&(a||!(g<0-__TURBOPACK__default__export__2.eps))))&&(c.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_LINE||(a=c.evalVisProp("straightfirst"),e=c.evalVisProp("straightlast"),a&&e)||(g=h.affineRatio(c.point1.coords,c.point2.coords,k),(e||!(g>1+__TURBOPACK__default__export__2.eps))&&(a||!(g<0-__TURBOPACK__default__export__2.eps))))&&(!i||((l=h.coordsOnArc(b,k))&&j&&(l=h.coordsOnArc(c,k)),l))?k:new __TURBOPACK__default__export__7(__TURBOPACK__default__export__.COORDS_BY_USER,[0,NaN,NaN],b.board)}:function(){return h.meetCurveLine(b,c,d,b.board,__TURBOPACK__default__export__3.evaluate(f))}},otherIntersectionFunction:function(a,b,c,d){var e,f,g,h=this;return f=a[0],g=a[1],e=f.board,function(){var a,i,j,k,l=b.length,m=__TURBOPACK__default__export__3.evaluate(d);for(a=l;a>=0;a--){for(f.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE&&[__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE,__TURBOPACK__default__export__1.OBJECT_CLASS_LINE].indexOf(g.elementClass)>=0?j=h.meet(f.stdform,g.stdform,a,e):f.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&[__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE,__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE].indexOf(g.elementClass)>=0?j=h.meetCurveCurve(f,g,a,0,e,"segment"):f.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&g.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&(j=__TURBOPACK__default__export__3.exists(f.dataX)?__TURBOPACK__default__export__.Math.Geometry.meetCurveLine(f,g,a,f.board,__TURBOPACK__default__export__3.evaluate(c)):__TURBOPACK__default__export__.Math.Geometry.meetCurveLineContinuous(f,g,a,f.board)),k=!1,i=0;!k&&i<l;i++)j.distance(__TURBOPACK__default__export__.COORDS_BY_USER,b[i].coords)<m&&(k=!0);if(!k)break}return j}},coordsOnArc:function(a,b){var c=this.rad(a.radiuspoint,a.center,b.usrCoords.slice(1)),d=0,e=this.rad(a.radiuspoint,a.center,a.anglepoint),f=a.evalVisProp("selection");return("minor"===f&&e>Math.PI||"major"===f&&e<Math.PI)&&(d=e,e=2*Math.PI),!(c<d)&&!(c>e)},meet:function(a,b,c,d){var e,f=__TURBOPACK__default__export__2.eps;return Math.abs(a[3])<f&&Math.abs(b[3])<f?this.meetLineLine(a,b,c,d):Math.abs(a[3])>=f&&Math.abs(b[3])<f?this.meetLineCircle(b,a,c,d):Math.abs(a[3])<f&&Math.abs(b[3])>=f?this.meetLineCircle(a,b,c,d):this.meetCircleCircle(a,b,c,d)},meetLineBoard:function(a,b,c){var d,e,f,g,h=[];for(__TURBOPACK__default__export__3.exists(c)||(c=0),h[0]=__TURBOPACK__default__export__2.crossProduct(a,[c,0,1]),h[1]=__TURBOPACK__default__export__2.crossProduct(a,[c,1,0]),h[2]=__TURBOPACK__default__export__2.crossProduct(a,[-c-b.canvasHeight,0,1]),h[3]=__TURBOPACK__default__export__2.crossProduct(a,[-c-b.canvasWidth,1,0]),f=0;f<4;f++)if(Math.abs(h[f][0])>__TURBOPACK__default__export__2.eps){for(g=2;g>0;g--)h[f][g]/=h[f][0];h[f][0]=1}return Math.abs(h[1][0])<__TURBOPACK__default__export__2.eps?(d=h[0],e=h[2]):Math.abs(h[0][0])<__TURBOPACK__default__export__2.eps?(d=h[1],e=h[3]):h[1][2]<0?(d=h[0],e=h[3][2]>b.canvasHeight?h[2]:h[3]):h[1][2]>b.canvasHeight?(d=h[2],e=h[3][2]<0?h[0]:h[3]):(d=h[1],e=h[3][2]<0?h[0]:h[3][2]>b.canvasHeight?h[2]:h[3]),[new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,d.slice(1),b),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,e.slice(1),b)]},meetLineLine:function(a,b,c,d){var e=isNaN(a[5]+b[5])?[0,0,0]:__TURBOPACK__default__export__2.crossProduct(a,b);return 1e-14>Math.abs(e[0])&&(e[0]=0),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,e,d)},meetLineCircle:function(a,b,c,d){var e,f,g,h,i,j,k,l,m;return b[4]<__TURBOPACK__default__export__2.eps?Math.abs(__TURBOPACK__default__export__2.innerProduct([1,b[6],b[7]],a,3))<__TURBOPACK__default__export__2.eps?new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,b.slice(6,8),d):new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[NaN,NaN],d):(g=b[0],f=b.slice(1,3),e=b[3],h=a[0],i=a.slice(1,3),j=e,(l=(k=f[0]*i[1]-f[1]*i[0])*k-4*j*(e*h*h-(f[0]*i[0]+f[1]*i[1])*h+g))>-__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps)?(m=[(-k+(l=Math.sqrt(Math.abs(l))))/(2*j),(-k-l)/(2*j)],0===__TURBOPACK__default__export__3.evaluate(c)?new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[-(-m[0]*i[1])-h*i[0],-m[0]*i[0]-h*i[1]],d):new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[-(-m[1]*i[1])-h*i[0],-m[1]*i[0]-h*i[1]],d)):new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0,0],d)},meetCircleCircle:function(a,b,c,d){var e;return a[4]<__TURBOPACK__default__export__2.eps?Math.abs(this.distance(a.slice(6,2),b.slice(6,8))-b[4])<__TURBOPACK__default__export__2.eps?new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a.slice(6,8),d):new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0,0],d):b[4]<__TURBOPACK__default__export__2.eps?Math.abs(this.distance(b.slice(6,2),a.slice(6,8))-a[4])<__TURBOPACK__default__export__2.eps?new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,b.slice(6,8),d):new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0,0],d):(e=[b[3]*a[0]-a[3]*b[0],b[3]*a[1]-a[3]*b[1],b[3]*a[2]-a[3]*b[2],0,1,1/0,1/0,1/0],e=__TURBOPACK__default__export__2.normalize(e),this.meetLineCircle(e,a,c,d))},meetCurveCurve:function(a,b,c,d,e,f){var g;return g=__TURBOPACK__default__export__3.exists(f)&&"newton"===f?__TURBOPACK__default__export__13.generalizedNewton(a,b,__TURBOPACK__default__export__3.evaluate(c),d):3===a.bezierDegree||3===b.bezierDegree?this.meetBezierCurveRedBlueSegments(a,b,c):this.meetCurveRedBlueSegments(a,b,c),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,g,e)},meetCurveLine:function(a,b,c,d,e){var f,g,h=[0,NaN,NaN];return __TURBOPACK__default__export__3.exists(d)||(d=a.board),a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE?(f=a,g=b):(f=b,g=a),h=this.meetCurveLineDiscrete(f,g,c,d,!e)},meetCurveLineContinuous:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=__TURBOPACK__default__export__2.eps,u=__TURBOPACK__default__export__2.eps;for(r=0,j=(i=this.meetCurveLineDiscrete(a,b,c,d,e)).usrCoords[1],k=i.usrCoords[2],f=function(b){var c,d;return b>a.maxX()||b<a.minX()?1/0:(c=a.X(b)-j)*c+(d=a.Y(b)-k)*d},g=function(c){var d=b.stdform[0]+b.stdform[1]*a.X(c)+b.stdform[2]*a.Y(c);return d*d},m=50,n=(a.maxX()-a.minX())/m,o=a.minX(),q=1e-4,p=NaN;r<m&&(h=__TURBOPACK__default__export__13.root(f,[Math.max(o,a.minX()),Math.min(o+n,a.maxX())]),!((s=Math.abs(f(h)))<=q)||(q=s,p=h,!(q<t)));r++)o+=n;return h=p,h=__TURBOPACK__default__export__13.root(g,[Math.max(h-n,a.minX()),Math.min(h+n,a.maxX())]),l=isNaN(s=g(h))||Math.abs(s)>u?0:1,new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[l,a.X(h),a.Y(h)],d)},meetCurveLineDiscrete:function(a,b,c,d,e){var f,g,h,i,j,k,l,m=__TURBOPACK__default__export__3.evaluate(c),n=b.point1.coords.usrCoords,o=b.point2.coords.usrCoords,p=0,q=a.numberPoints,r=b.evalVisProp("straightfirst"),s=b.evalVisProp("straightlast");for(k=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,NaN,NaN],d),0===n[0]?n=[1,o[1]+b.stdform[2],o[2]-b.stdform[1]]:0===o[0]&&(o=[1,n[1]+b.stdform[2],n[2]-b.stdform[1]]),i=a.points[0].usrCoords,f=1;f<q;f+=a.bezierDegree)if(h=i.slice(0),i=a.points[f].usrCoords,this.distance(h,i)>__TURBOPACK__default__export__2.eps){for(g=0,l=3===a.bezierDegree?this.meetBeziersegmentBeziersegment([a.points[f-1].usrCoords.slice(1),a.points[f].usrCoords.slice(1),a.points[f+1].usrCoords.slice(1),a.points[f+2].usrCoords.slice(1)],[n.slice(1),o.slice(1)],e):[this.meetSegmentSegment(h,i,n,o)];g<l.length;g++)if(0<=(j=l[g])[1]&&j[1]<=1){if(p===m){if(e&&(!r&&j[2]<0||!s&&j[2]>1))return k;return new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,j[0],d)}p+=1}}return k},meetCurveRedBlueSegments:function(a,b,c){var d,e,f,g,h,i,j,k,l,m=__TURBOPACK__default__export__3.evaluate(c),n=0,o=b.numberPoints,p=a.numberPoints;if(o<=1||p<=1)return[0,NaN,NaN];for(d=1;d<p;d++)for(e=1,f=a.points[d-1].usrCoords,g=a.points[d].usrCoords,k=Math.min(f[1],g[1]),l=Math.max(f[1],g[1]),i=b.points[0].usrCoords;e<o;e++)if(h=i,i=b.points[e].usrCoords,Math.min(h[1],i[1])<l&&Math.max(h[1],i[1])>k&&(j=this.meetSegmentSegment(f,g,h,i))[1]>=0&&j[2]>=0&&(j[1]<1&&j[2]<1||d===p-1&&1===j[1]||e===o-1&&1===j[2])){if(n===m)return j[0];n++}return[0,NaN,NaN]},meetSegmentSegment:function(a,b,c,d){var e,f,g,h,i=__TURBOPACK__default__export__2.crossProduct(a,b),j=__TURBOPACK__default__export__2.crossProduct(c,d),k=__TURBOPACK__default__export__2.crossProduct(i,j);return Math.abs(k[0])<__TURBOPACK__default__export__2.eps?[k,1/0,1/0]:(k[1]/=k[0],k[2]/=k[0],k[0]/=k[0],g=Math.abs(b[1]-b[0]*a[1])<__TURBOPACK__default__export__2.eps?2:1,h=a[g]/a[0],e=(k[g]-h)/(0!==b[0]?b[g]/b[0]-h:b[g]),g=Math.abs(d[1]-d[0]*c[1])<__TURBOPACK__default__export__2.eps?2:1,h=c[g]/c[0],f=(k[g]-h)/(0!==d[0]?d[g]/d[0]-h:d[g]),[k,e,f])},meetPathPath:function(a,b,c,d){var e,f,g,h,i=__TURBOPACK__default__export__3.evaluate(c);return((g=(e=__TURBOPACK__default__export__.Math.Clip._getPath(a,d)).length)>0&&this.distance(e[0].coords.usrCoords,e[g-1].coords.usrCoords,3)<__TURBOPACK__default__export__2.eps&&e.pop(),(g=(f=__TURBOPACK__default__export__.Math.Clip._getPath(b,d)).length)>0&&this.distance(f[0].coords.usrCoords,f[g-1].coords.usrCoords,3)<__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps&&f.pop(),c<0||__TURBOPACK__default__export__.Math.Clip.isEmptyCase(e,f,"intersection"))?new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0,0],d):(__TURBOPACK__default__export__.Math.Clip.makeDoublyLinkedList(e),__TURBOPACK__default__export__.Math.Clip.makeDoublyLinkedList(f),i<(h=__TURBOPACK__default__export__.Math.Clip.findIntersections(e,f,d)[0]).length)?h[i].coords:new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0,0],d)},meetPolygonLine:function(a,b,c,d,e){var f,g,h,i=__TURBOPACK__default__export__3.evaluate(c),j=[0,0,0],k=a.borders.length,l=[];for(f=0;f<k;f++)h=a.borders[f],g=this.meetSegmentSegment(h.point1.coords.usrCoords,h.point2.coords.usrCoords,b.point1.coords.usrCoords,b.point2.coords.usrCoords),(!e||g[2]>=0&&g[2]<1)&&g[1]>=0&&g[1]<1&&l.push(g[0]);return i>=0&&i<l.length&&(j=l[i]),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,j,d)},_bezierSplit:function(a){var b,c,d,e,f,g;return b=[(a[0][0]+a[1][0])*.5,(a[0][1]+a[1][1])*.5],c=[(a[1][0]+a[2][0])*.5,(a[1][1]+a[2][1])*.5],d=[(a[2][0]+a[3][0])*.5,(a[2][1]+a[3][1])*.5],e=[(b[0]+c[0])*.5,(b[1]+c[1])*.5],f=[(c[0]+d[0])*.5,(c[1]+d[1])*.5],g=[(e[0]+f[0])*.5,(e[1]+f[1])*.5],[[a[0],b,e,g],[g,f,d,a[3]]]},_bezierBbox:function(a){var b=[];return 4===a.length?(b[0]=Math.min(a[0][0],a[1][0],a[2][0],a[3][0]),b[1]=Math.max(a[0][1],a[1][1],a[2][1],a[3][1]),b[2]=Math.max(a[0][0],a[1][0],a[2][0],a[3][0]),b[3]=Math.min(a[0][1],a[1][1],a[2][1],a[3][1])):(b[0]=Math.min(a[0][0],a[1][0]),b[1]=Math.max(a[0][1],a[1][1]),b[2]=Math.max(a[0][0],a[1][0]),b[3]=Math.min(a[0][1],a[1][1])),b},_bezierOverlap:function(a,b){return a[2]>=b[0]&&a[0]<=b[2]&&a[1]>=b[3]&&a[3]<=b[1]},_bezierListConcat:function(a,b,c,d){var e,f=__TURBOPACK__default__export__3.exists(d),g=0,h=b.length,i=a.length;for(i>0&&h>0&&(1===a[i-1][1]&&0===b[0][1]||f&&1===a[i-1][2]&&0===b[0][2])&&(g=1),e=g;e<h;e++)f&&(b[e][2]*=.5,b[e][2]+=d),b[e][1]*=.5,b[e][1]+=c,a.push(b[e])},_bezierMeetSubdivision:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=[],q=5;return(e=this._bezierBbox(b),d=this._bezierBbox(a),this._bezierOverlap(e,d))?c<q?(i=(f=this._bezierSplit(a))[0],j=f[1],g=(f=this._bezierSplit(b))[0],h=f[1],this._bezierListConcat(p,this._bezierMeetSubdivision(i,g,c+1),0,0),this._bezierListConcat(p,this._bezierMeetSubdivision(i,h,c+1),0,.5),this._bezierListConcat(p,this._bezierMeetSubdivision(j,g,c+1),.5,0),this._bezierListConcat(p,this._bezierMeetSubdivision(j,h,c+1),.5,.5),p):(n=[1].concat(a[0]),o=[1].concat(a[3]),l=[1].concat(b[0]),m=[1].concat(b[3]),(k=this.meetSegmentSegment(n,o,l,m))[1]>=0&&k[2]>=0&&k[1]<=1&&k[2]<=1)?[k]:[]:[]},_bezierLineMeetSubdivision:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o=[],p=5;return(e=this._bezierBbox(b),f=this._bezierBbox(a),d&&!this._bezierOverlap(f,e))?[]:c<p?(h=(g=this._bezierSplit(a))[0],i=g[1],this._bezierListConcat(o,this._bezierLineMeetSubdivision(h,b,c+1),0),this._bezierListConcat(o,this._bezierLineMeetSubdivision(i,b,c+1),.5),o):(m=[1].concat(a[0]),n=[1].concat(a[3]),k=[1].concat(b[0]),l=[1].concat(b[1]),(j=this.meetSegmentSegment(m,n,k,l))[1]>=0&&j[1]<=1&&(!d||j[2]>=0&&j[2]<=1))?[j]:[]},meetBeziersegmentBeziersegment:function(a,b,c){var d,e,f;for((d=4===a.length&&4===b.length?this._bezierMeetSubdivision(a,b,0):this._bezierLineMeetSubdivision(a,b,0,c)).sort(function(a,b){return(a[1]-b[1])*1e7+(a[2]-b[2])}),e=[],f=0;f<d.length;f++)(0===f||d[f][1]!==d[f-1][1]||d[f][2]!==d[f-1][2])&&e.push(d[f]);return e},meetBezierCurveRedBlueSegments:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q=__TURBOPACK__default__export__3.evaluate(c),r=0,s=0,t=[];if(b.numberPoints<b.bezierDegree+1||a.numberPoints<a.bezierDegree+1)return[0,NaN,NaN];for(1===a.bezierDegree&&3===b.bezierDegree&&(i=a,a=b,b=i),o=b.numberPoints-b.bezierDegree,p=a.numberPoints-a.bezierDegree,a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR&&(r=3,p-=3),b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR&&(s=3,o-=3),e=r;e<p;e+=a.bezierDegree)for(j=[(d=a.points)[e].usrCoords.slice(1),d[e+1].usrCoords.slice(1)],3===a.bezierDegree&&(j[2]=d[e+2].usrCoords.slice(1),j[3]=d[e+3].usrCoords.slice(1)),l=this._bezierBbox(j),f=s;f<o;f+=b.bezierDegree)if(k=[(d=b.points)[f].usrCoords.slice(1),d[f+1].usrCoords.slice(1)],3===b.bezierDegree&&(k[2]=d[f+2].usrCoords.slice(1),k[3]=d[f+3].usrCoords.slice(1)),m=this._bezierBbox(k),this._bezierOverlap(l,m)){if(0===(n=this.meetBeziersegmentBeziersegment(j,k)).length)continue;for(g=0;g<n.length;g++)(h=n[g])[1]<-__TURBOPACK__default__export__2.eps||h[1]>1+__TURBOPACK__default__export__2.eps||h[2]<-__TURBOPACK__default__export__2.eps||h[2]>1+__TURBOPACK__default__export__2.eps||t.push(h);if(t.length>q)return t[q][0]}return t.length>q?t[q][0]:[0,NaN,NaN]},bezierSegmentEval:function(a,b){var c,d,e,f=1-a;return e=0,d=0+(c=f*f*f)*b[0][0],e+=c*b[0][1],d+=(c=3*a*f*f)*b[1][0],e+=c*b[1][1],d+=(c=3*a*a*f)*b[2][0],e+=c*b[2][1],[1,d+=(c=a*a*a)*b[3][0],e+=c*b[3][1]]},bezierArc:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=b[1],y=b[2],z=b[0],A=[],B=[];for(j=this.distance(b,a),x/=z,y/=z,k=this.rad(a.slice(1),b.slice(1),c.slice(1)),-1===e&&(k=2*Math.PI-k),m=k/4,f=a,f[1]/=f[0],f[2]/=f[0],f[0]/=f[0],i=f.slice(0),d?(A=[x,x+.333*(f[1]-x),x+.666*(f[1]-x),f[1]],B=[y,y+.333*(f[2]-y),y+.666*(f[2]-y),f[2]]):(A=[f[1]],B=[f[2]]);k>__TURBOPACK__default__export__2.eps;)k>m?(l=m,k-=m):(l=k,k=0),w=[[1,0,0],[x*(1-(n=Math.cos(e*l)))+y*(o=Math.sin(e*l)),n,-o],[y*(1-n)-x*o,o,n]],i=[(u=__TURBOPACK__default__export__2.matVecMult(w,f))[0]/u[0],u[1]/u[0],u[2]/u[0]],p=f[1]-x,q=f[2]-y,r=i[1]-x,s=i[2]-y,v=__TURBOPACK__default__export__2.hypot(p+r,q+s),t=Math.abs(s-q)>__TURBOPACK__default__export__2.eps?(p+r)*(j/v-.5)/(s-q)*8/3:(q+s)*(j/v-.5)/(p-r)*8/3,g=[1,f[1]-t*q,f[2]+t*p],h=[1,i[1]+t*s,i[2]-t*r],__TURBOPACK__default__export__3.concat(A,[g[1],h[1],i[1]]),__TURBOPACK__default__export__3.concat(B,[g[2],h[2],i[2]]),f=i.slice(0);return d&&(__TURBOPACK__default__export__3.concat(A,[i[1]+.333*(x-i[1]),i[1]+.666*(x-i[1]),x]),__TURBOPACK__default__export__3.concat(B,[i[2]+.333*(y-i[2]),i[2]+.666*(y-i[2]),y])),[A,B]},projectPointToCircle:function(a,b,c){var d,e,f,g,h,i=b.center.coords.usrCoords;return __TURBOPACK__default__export__3.exists(c)||(c=a.board),__TURBOPACK__default__export__3.isPoint(a)?(d=a.coords.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,b.center.coords),e=a.coords.usrCoords):(d=a.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,b.center.coords),e=a.usrCoords),Math.abs(d)<__TURBOPACK__default__export__2.eps&&(d=__TURBOPACK__default__export__2.eps),h=b.Radius()/d,f=i[1]+h*(e[1]-i[1]),g=i[2]+h*(e[2]-i[2]),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[f,g],c)},projectPointToLine:function(a,b,c){var d,e=[0,b.stdform[1],b.stdform[2]];return __TURBOPACK__default__export__3.exists(c)||(c=__TURBOPACK__default__export__3.exists(a.coords)?a.board:b.board),d=__TURBOPACK__default__export__3.exists(a.coords)?a.coords.usrCoords:a.usrCoords,e=__TURBOPACK__default__export__2.crossProduct(e,d),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,__TURBOPACK__default__export__2.crossProduct(e,b.stdform),c)},projectCoordsToSegment:function(a,b,c){var d,e=[c[1]-b[1],c[2]-b[2]],f=[a[1]-b[1],a[2]-b[2]];return Math.abs(e[0])<__TURBOPACK__default__export__2.eps&&Math.abs(e[1])<__TURBOPACK__default__export__2.eps?[b,0]:[[1,(d=__TURBOPACK__default__export__2.innerProduct(f,e)/__TURBOPACK__default__export__2.innerProduct(e,e))*e[0]+b[1],d*e[1]+b[2]],d]},projectCoordsToBeziersegment:function(a,b,c){var d,e=function(d){var e=[1,b.X(c+d),b.Y(c+d)];return e[1]-=a[1],e[2]-=a[2],e[1]*e[1]+e[2]*e[2]};return d=__TURBOPACK__default__export__.Math.Numerics.fminbr(e,[0,1]),[[1,b.X(d+c),b.Y(d+c)],d]},projectPointToCurve:function(a,b,c){__TURBOPACK__default__export__3.exists(c)||(c=a.board);var d=a.X(),e=a.Y(),f=a.position;return __TURBOPACK__default__export__3.exists(f)||(f="functiongraph"===b.evalVisProp("curvetype")?d:0),this.projectCoordsToCurve(d,e,f,b,c)},projectCoordsToCurve:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F=1/0;if(__TURBOPACK__default__export__3.exists(e)||(e=d.board),"plot"===d.evalVisProp("curvetype")){if(c=0,j=F,f=0===d.numberPoints?[0,1,1]:[d.Z(0),d.X(0),d.Y(0)],d.numberPoints>1)for(m=[1,a,b],3===d.bezierDegree?i=0:p=[d.Z(0),d.X(0),d.Y(0)],h=0;h<d.numberPoints-1;h++)3===d.bezierDegree?r=this.projectCoordsToBeziersegment(m,d,i):(q=[d.Z(h+1),d.X(h+1),d.Y(h+1)],r=this.projectCoordsToSegment(m,p,q)),l=r[1],n=r[0],0<=l&&l<=1?(k=this.distance(n,m),o=h+l):l<0?(n=p,k=this.distance(p,m),o=h):l>1&&h===d.numberPoints-2&&(n=q,k=this.distance(n,m),o=d.numberPoints-1),k<j&&(j=k,c=o,f=n),3===d.bezierDegree?(i++,h+=2):p=q;g=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,f,e)}else{for(D=d.minX(),E=d.maxX(),B=D,C=E,"functiongraph"===d.evalVisProp("curvetype")&&(isNaN(w=Math.abs(b-d.Y(a)))||(B=a-w,C=a+w)),v=(s=function(c){var e,f;return c<D||c>d.maxX_glob?1/0:(e=a-d.X(c))*e+(f=b-d.Y(c))*f})(c),x=(C-B)/(A=50),t=B,h=0;h<A;h++)((u=s(t))<v||v===1/0||isNaN(v))&&(c=t,v=u),t+=x;for(h=0,y=x;h<20&&isNaN(s(c-y));h++,y*=.5);for(isNaN(s(c-y))&&(y=0),z=x,h=0;h<20&&isNaN(s(c+z));h++,z*=.5);isNaN(s(c+z))&&(z=0),c=(c=(c=__TURBOPACK__default__export__13.fminbr(s,[Math.max(c-y,B),Math.min(c+z,C)]))<D?D:c)>E?E:c,g=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[d.X(c),d.Y(c)],e)}return[d.updateTransform(g),c]},projectCoordsToPolygon:function(a,b){var c,d,e,f,g,h=b.vertices.length,i=1/0;for(c=0;c<h-1;c++)0<=(e=__TURBOPACK__default__export__.Math.Geometry.projectCoordsToSegment(a,b.vertices[c].coords.usrCoords,b.vertices[c+1].coords.usrCoords))[1]&&e[1]<=1?(d=__TURBOPACK__default__export__.Math.Geometry.distance(e[0],a,3),f=e[0]):e[1]<0?(d=__TURBOPACK__default__export__.Math.Geometry.distance(b.vertices[c].coords.usrCoords,a,3),f=b.vertices[c].coords.usrCoords):(d=__TURBOPACK__default__export__.Math.Geometry.distance(b.vertices[c+1].coords.usrCoords,a,3),f=b.vertices[c+1].coords.usrCoords),d<i&&(g=f.slice(0),i=d);return g},projectPointToTurtle:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=0,o=0,p=1/0,q=b.objects.length;for(__TURBOPACK__default__export__3.exists(c)||(c=a.board),h=0;h<q;h++)(j=b.objects[h]).elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&(d=(l=this.projectPointToCurve(a,j))[0],m=l[1],(i=this.distance(d.usrCoords,a.coords.usrCoords))<p&&(f=d.usrCoords[1],g=d.usrCoords[2],e=m,p=i,k=j,o=n),n+=j.numberPoints);return d=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[f,g],c),[k.updateTransform(d),e+o]},projectPointToPoint:function(a,b){return b.coords},projectPointToBoard:function(a,b){var c,d,e,f=b||a.board,g=[[1,1,0,0,3,0,1],[-1,2,1,0,1,2,1],[-1,1,2,2,1,2,3],[1,2,3,0,3,2,3]],h=a.coords||a,i=f.getBoundingBox();for(c=0;c<4;c++)(e=g[c])[0]*h.usrCoords[e[1]]<e[0]*i[e[2]]&&((d=__TURBOPACK__default__export__2.crossProduct([1,i[e[3]],i[e[4]]],[1,i[e[5]],i[e[6]]]))[3]=0,d=__TURBOPACK__default__export__2.normalize(d),h=this.projectPointToLine({coords:h},{stdform:d},f));return h},distPointLine:function(a,b){var c,d=b[1],e=b[2],f=b[0];return Math.abs(d)+Math.abs(e)<__TURBOPACK__default__export__2.eps?1/0:(c=d*a[1]+e*a[2]+f,d*=d,e*=e,Math.abs(c)/Math.sqrt(d+e))},distPointSegment:function(a,b,c){var d,e,f,g,h,i,j=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps,k=1e6;return d=a[1]-b[1],e=a[2]-b[2],d=d===1/0?k:d===-1/0?-k:d,e=e===1/0?k:e===-1/0?-k:e,f=c[1]-b[1],g=c[2]-b[2],(h=(f=f===1/0?k:f===-1/0?-k:f)*f+(g=g===1/0?k:g===-1/0?-k:g)*g)>j&&((i=(d*f+e*g)/h)<0?i=0:i>1&&(i=1),d-=i*f,e-=i*g),__TURBOPACK__default__export__2.hypot(d,e)},intersectionFunction3D:function(a,b,c){var d,e=this;return b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_PLANE3D?c.type===__TURBOPACK__default__export__1.OBJECT_TYPE_PLANE3D?d=a.intersectionPlanePlane(b,c):c.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SPHERE3D&&(d=e.meetPlaneSphere(b,c)):b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SPHERE3D&&(c.type===__TURBOPACK__default__export__1.OBJECT_TYPE_PLANE3D?d=e.meetPlaneSphere(c,b):c.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SPHERE3D&&(d=e.meetSphereSphere(b,c))),d},meet3Planes:function(a,b,c,d,e,f){var g,h,i,j,k,l=[1,0,0,0];for(k=0,g=__TURBOPACK__default__export__2.crossProduct(e.slice(1),a.slice(1)),h=__TURBOPACK__default__export__2.crossProduct(a.slice(1),c.slice(1)),i=__TURBOPACK__default__export__2.crossProduct(c.slice(1),e.slice(1)),j=__TURBOPACK__default__export__2.innerProduct(a.slice(1),i,3);k<3;k++)l[k+1]=(b*i[k]+d*g[k]+f*h[k])/j;return l},meetPlanePlane:function(a,b,c,d){var e,f,g,h;return g=a.slice(1),h=b.slice(1),e=__TURBOPACK__default__export__2.crossProduct(g,h),g=c.slice(1),h=d.slice(1),f=__TURBOPACK__default__export__2.crossProduct(g,h),(h=__TURBOPACK__default__export__2.crossProduct(e,f)).unshift(0),h},meetPlaneSphere:function(a,b){var c=function(){return __TURBOPACK__default__export__2.innerProduct(a.normal,b.center.coords,4)-a.d};return[function(){return __TURBOPACK__default__export__2.axpy(-c(),a.normal,b.center.coords)},a.normal,function(){var a=b.Radius(),d=c();return Math.sqrt(a*a-d*d)}]},meetSphereSphere:function(a,b){var c=function(){var c=a.center.distance(b.center),d=a.Radius(),e=b.Radius();return(d-e)*(d+e)/(c*c)};return[function(){var d=c();return[1,.5*((1-d)*a.center.coords[1]+(1+d)*b.center.coords[1]),.5*((1-d)*a.center.coords[2]+(1+d)*b.center.coords[2]),.5*((1-d)*a.center.coords[3]+(1+d)*b.center.coords[3])]},function(){return __TURBOPACK__default__export__12.subtract(b.center.coords,a.center.coords)},function(){var d=a.center.distance(b.center),e=a.Radius(),f=b.Radius(),g=c();return Math.sqrt(.5*(e*e+f*f-.5*d*d*(1+g*g)))}]},_paramsOutOfRange:function(a,b,c){return a[0]<b[0]||a[0]>b[1]||a.length>1&&(a[1]<c[0]||a[1]>c[1])},projectCoordsToParametric:function(a,b,c,d){var e,f,g,h,i,j=0,k=200,l=.01*Math.random()+.5,m=2*c;return 1===c?e=.1*((h=[__TURBOPACK__default__export__3.evaluate(b.range[0]),__TURBOPACK__default__export__3.evaluate(b.range[1])])[1]-h[0]):2===c&&(h=[__TURBOPACK__default__export__3.evaluate(b.range_u[0]),__TURBOPACK__default__export__3.evaluate(b.range_u[1])],i=[__TURBOPACK__default__export__3.evaluate(b.range_v[0]),__TURBOPACK__default__export__3.evaluate(b.range_v[1])],e=.1*Math.min(h[1]-h[0],i[1]-i[0])),f=e/5e6,g=function(c,d,e,f){var g=[b.X.apply(b,e),b.Y.apply(b,e),b.Z.apply(b,e)],j=a[0]-g[0],k=a[1]-g[1],l=a[2]-g[2];return d>=2&&(f[0]=e[0]-h[0],f[1]=-e[0]+h[1]),d>=4&&(f[2]=e[1]-i[0],f[3]=-e[1]+i[1]),j*j+k*k+l*l},0===d.length&&(d[0]=l*(h[0]+h[1]),2===c&&(d[1]=l*(i[0]+i[1]))),__TURBOPACK__default__export__2.Nlp.FindMinimum(g,c,0,d,e,f,j,k),a=[b.X.apply(b,d),b.Y.apply(b,d),b.Z.apply(b,d)],this._paramsOutOfRange(d,h,i)&&(d[0]=l*(h[0]+h[1]),2===c&&(d[1]=l*(i[0]+i[1])),__TURBOPACK__default__export__2.Nlp.FindMinimum(g,c,m,d,e,f,j,k)),[1,b.X.apply(b,d),b.Y.apply(b,d),b.Z.apply(b,d)]},project3DTo3DPlane:function(a,b,c){var d,e,f=[0,0,0];return c=c||[0,0,0],d=__TURBOPACK__default__export__2.norm(b),e=(__TURBOPACK__default__export__2.innerProduct(a,b,3)-__TURBOPACK__default__export__2.innerProduct(c,b,3))/d,f=__TURBOPACK__default__export__2.axpy(-e,b,a)},getPlaneBounds:function(a,b,c,d,e){var f,g,h,i,j;return a[2]+b[0]!==0?(h=[[a[0],b[0]],[a[1],b[1]]],i=[d-c[0],d-c[1]],f=(j=__TURBOPACK__default__export__13.Gauss(h,i))[0],g=j[1],i=[e-c[0],e-c[1]],[f,(j=__TURBOPACK__default__export__13.Gauss(h,i))[0],g,j[1]]):null},reuleauxPolygon:function(a,b){var c,d=2*Math.PI,e=d/b,f=(b-1)/2,g=0,h=function(h,i){return function(j,k){var l=(j%d+d)%d,m=Math.floor(l/e)%b;return(k||(g=a[0].Dist(a[f]),c=__TURBOPACK__default__export__2.Geometry.rad([a[0].X()+1,a[0].Y()],a[0],a[f%b])),isNaN(m))?m:(l=.5*l+m*e*.5+c,a[m][h]()+g*Math[i](l))}};return[h("X","cos"),h("Y","sin"),0,d]}});let __TURBOPACK__default__export__14=__TURBOPACK__default__export__2.Geometry;__TURBOPACK__default__export__2.Quadtree=function(a,b,c){b=b||{capacity:10,pointType:"coords"},this.config={},this.config.capacity=b.capacity||10,this.config.pointType=b.pointType||"coords",this.points=[],this.xlb=a[0],this.xub=a[2],this.ylb=a[3],this.yub=a[1],this.parent=c||null,this.northWest=null,this.northEast=null,this.southEast=null,this.southWest=null},__TURBOPACK__default__export__3.extend(__TURBOPACK__default__export__2.Quadtree.prototype,{contains:function(a,b){return this.xlb<a&&a<=this.xub&&this.ylb<b&&b<=this.yub},insert:function(a){switch(this.config.pointType){case"coords":if(!this.contains(a.usrCoords[1],a.usrCoords[2]))return!1;break;case"object":if(!this.contains(a.x,a.y))return!1}return this.points.length<this.config.capacity&&null===this.northWest?(this.points.push(a),!0):(null===this.northWest&&this.subdivide(),!!(this.northWest.insert(a)||this.northEast.insert(a)||this.southEast.insert(a))||!!this.southWest.insert(a))},subdivide:function(){var a=this.xlb+(this.xub-this.xlb)*.5,b=this.ylb+(this.yub-this.ylb)*.5;this.northWest=new __TURBOPACK__default__export__2.Quadtree([this.xlb,this.yub,a,b],this.config,this),this.northEast=new __TURBOPACK__default__export__2.Quadtree([a,this.yub,this.xub,b],this.config,this),this.southEast=new __TURBOPACK__default__export__2.Quadtree([this.xlb,b,a,this.ylb],this.config,this),this.southWest=new __TURBOPACK__default__export__2.Quadtree([a,b,this.xub,this.ylb],this.config,this)},_query:function(a,b){var c;if(this.contains(a,b)){if(null===this.northWest)return this;if((c=this.northWest._query(a,b))||(c=this.northEast._query(a,b))||(c=this.southEast._query(a,b))||(c=this.southWest._query(a,b)))return c}return!1},query:function(a,b){var c,d;return __TURBOPACK__default__export__3.exists(b)?(c=a,d=b):(c=a.usrCoords[1],d=a.usrCoords[2]),this._query(c,d)},hasPoint:function(a,b,c){var d,e,f;if(this.contains(a,b)){switch(f=this.points.length,this.config.pointType){case"coords":for(e=0;e<f;e++)if(__TURBOPACK__default__export__14.distance([a,b],this.points[e].usrCoords.slice(1),2)<c)return!0;break;case"object":for(e=0;e<f;e++)if(__TURBOPACK__default__export__14.distance([a,b],[this.points[e].x,this.points[e].y],2)<c)return!0}if(null===this.northWest)return!1;if((d=this.northWest.hasPoint(a,b,c))||(d=this.northEast.hasPoint(a,b,c))||(d=this.southEast.hasPoint(a,b,c))||(d=this.southWest.hasPoint(a,b,c)))return d}return!1},getAllPoints:function(){var a=[];return this.getAllPointsRecursive(a),a},getAllPointsRecursive(a){Array.prototype.push.apply(a,this.points.slice()),null!==this.northWest&&(this.northWest.getAllPointsRecursive(a),this.northEast.getAllPointsRecursive(a),this.southEast.getAllPointsRecursive(a),this.southWest.getAllPointsRecursive(a))}});let __TURBOPACK__default__export__15=__TURBOPACK__default__export__2.Quadtree;__TURBOPACK__default__export__2.BoxQuadtree=function(a,b,c){var d,e,f,g;a--,this.depth=a,this.capacity=b,this.items=[],this.northWest=null,this.northEast=null,this.southEast=null,this.southWest=null,this.bbox=null,this.cx=null,this.cy=null,c&&(d=c[0],e=c[1],f=c[2],g=c[3],this.cx=(d+f)*.5,this.cy=(e+g)*.5,this.bbox=[d,e,f,g])},__TURBOPACK__default__export__3.extend(__TURBOPACK__default__export__2.BoxQuadtree.prototype,{insert:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=[],n=[],o=[],p=[];if(null===this.bbox){for(b=0,c=a.length,d=g=1/0,f=e=-1/0;b<a.length;b++)d=(h=a[b]).xlb<d?h.xlb:d,e=h.yub>e?h.yub:e,f=h.xub>f?h.xub:f,g=h.ylb<g?h.ylb:g;this.cx=(d+f)*.5,this.cy=(e+g)*.5,this.bbox=[d,e,f,g]}else d=this.bbox[0],e=this.bbox[1],f=this.bbox[2],g=this.bbox[3];if(0===this.depth||this.items.length+a.length<this.capacity)return this.items=this.items.concat(a),this;for(b=0,c=a.length;b<c;b++)i=(h=a[b]).xlb<=this.cx&&h.yub>this.cy,k=h.xlb<=this.cx&&h.ylb<=this.cy,j=h.xub>this.cx&&h.yub>this.cy,l=h.xub>this.cx&&h.ylb<=this.cy,i&&j&&l&&k?this.items.push(h):(i&&m.push(h),k&&o.push(h),j&&n.push(h),l&&p.push(h));return this.subdivide(m,o,n,p,d,e,f,g),this},insertItem:function(a){var b,c,d,e,f,g,h,i,j=[],k=[],l=[],m=[];return(null===this.bbox?(b=e=1/0,d=c=-1/0,b=a.xlb<b?a.xlb:b,c=a.yub>c?a.yub:c,d=a.xub>d?a.xub:d,e=a.ylb<e?a.ylb:e,this.cx=(b+d)*.5,this.cy=(c+e)*.5,this.bbox=[b,c,d,e]):(b=this.bbox[0],c=this.bbox[1],d=this.bbox[2],e=this.bbox[3]),0===this.depth||this.items.length+1<this.capacity)?this.items.push(a):(f=a.xlb<=this.cx&&a.yub>this.cy,h=a.xlb<=this.cx&&a.ylb<=this.cy,g=a.xub>this.cx&&a.yub>this.cy,i=a.xub>this.cx&&a.ylb<=this.cy,f&&g&&i&&h?this.items.push(a):(f&&j.push(a),h&&l.push(a),g&&k.push(a),i&&m.push(a)),this.subdivide(j,l,k,m,b,c,d,e)),this},subdivide:function(a,b,c,d,e,f,g,h){return a.length>0&&(null===this.northWest&&(this.northWest=new JXG.Math.BoxQuadtree(this.depth,this.capacity,[e,f,this.cx,this.cy])),this.northWest.insert(a)),b.length>0&&(null===this.southWest&&(this.southWest=new JXG.Math.BoxQuadtree(this.depth,this.capacity,[e,this.cy,this.cx,h])),this.southWest.insert(b)),c.length>0&&(null===this.northEast&&(this.northEast=new JXG.Math.BoxQuadtree(this.depth,this.capacity,[this.cx,f,g,this.cy])),this.northEast.insert(c)),d.length>0&&(null===this.southEast&&(this.southEast=new JXG.Math.BoxQuadtree(this.depth,this.capacity,[this.cx,this.cy,g,h])),this.southEast.insert(d)),this},find:function(a){var b,c,d=function(b){return a[2]>=b.xlb&&a[0]<=b.xub&&a[3]<=b.yub&&a[1]>=b.ylb},e=[];for(b=0,c=this.items.length;b<c;b++)d(this.items[b])&&e.push(this.items[b]);return null!==this.northWest&&a[0]<=this.cx&a[1]>=this.cy&&__TURBOPACK__default__export__3.concat(e,this.northWest.find(a)),null!==this.southWest&&a[0]<=this.cx&a[3]<=this.cy&&__TURBOPACK__default__export__3.concat(e,this.southWest.find(a)),null!==this.northEast&&a[2]>=this.cx&a[1]>=this.cy&&__TURBOPACK__default__export__3.concat(e,this.northEast.find(a)),null!==this.southEast&&a[2]>=this.cx&a[3]<=this.cy&&__TURBOPACK__default__export__3.concat(e,this.southEast.find(a)),e},analyzeTree:function(){var a,b={number_items:this.items.length,depth:1};return null!==this.northWest&&(a=this.northWest.analyzeTree(),b.number_items+=a.number_items,b.depth=Math.max(b.depth,1+a.depth)),null!==this.southWest&&(a=this.southWest.analyzeTree(),b.number_items+=a.number_items,b.depth=Math.max(b.depth,1+a.depth)),null!==this.northEast&&(a=this.northEast.analyzeTree(),b.number_items+=a.number_items,b.depth=Math.max(b.depth,1+a.depth)),null!==this.southEast&&(a=this.southEast.analyzeTree(),b.number_items+=a.number_items,b.depth=Math.max(b.depth,1+a.depth)),b},plot:function(){var a,b=[],c=[];return b.push(this.bbox[0]),c.push(this.bbox[3]),b.push(this.bbox[2]),c.push(this.bbox[3]),b.push(this.bbox[2]),c.push(this.bbox[1]),b.push(this.bbox[0]),c.push(this.bbox[1]),b.push(this.bbox[0]),c.push(this.bbox[3]),b.push(NaN),c.push(NaN),null!==this.northWest&&(a=this.northWest.plot(),__TURBOPACK__default__export__3.concat(b,a[0]),__TURBOPACK__default__export__3.concat(c,a[1])),null!==this.northEast&&(a=this.northEast.plot(),__TURBOPACK__default__export__3.concat(b,a[0]),__TURBOPACK__default__export__3.concat(c,a[1])),null!==this.southEast&&(a=this.southEast.plot(),__TURBOPACK__default__export__3.concat(b,a[0]),__TURBOPACK__default__export__3.concat(c,a[1])),null!==this.southWest&&(a=this.southWest.plot(),__TURBOPACK__default__export__3.concat(b,a[0]),__TURBOPACK__default__export__3.concat(c,a[1])),[b,c]}});let __TURBOPACK__default__export__16=__TURBOPACK__default__export__2.BoxQuadtree;__TURBOPACK__default__export__.Math.Nlp={arr:function(a){return new Float64Array(a)},arr2:function(a,b){for(var c=0,d=Array(a);c<a;)d[c]=this.arr(b),c++;return d},arraycopy:function(a,b,c,d,e){for(var f=0;f<e;)c[f+d]=a[f+b],f++},lastNumberOfEvaluations:0,GetLastNumberOfEvaluations:function(){return this.lastNumberOfEvaluations},Normal:0,MaxIterationsReached:1,DivergingRoundingErrors:2,FindMinimum:function(a,b,c,d,e,f,g,h,i){var j,k,l=c+2,m=this.arr(b+1),n=this;return this.lastNumberOfEvaluations=0,i&&console.log("Experimental feature 'testForRoundingErrors' is activated."),m[0]=0,this.arraycopy(d,0,m,1,b),k=function(b,c,d,e){var f,g,h=n.arr(b);return n.lastNumberOfEvaluations=n.lastNumberOfEvaluations+1,n.arraycopy(d,1,h,0,b),f=n.arr(c),g=a(b,c,h,f),n.arraycopy(f,0,e,1,c),g},j=this.cobylb(k,b,c,l,m,e,f,g,h,i),this.arraycopy(m,1,d,0,b),j},cobylb:function(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N=-1,O=.25,P=2.1,Q=.5,R=1.1,S=0,T=0,U=b+1,V=c+1,W=f,X=0,Y=!1,Z=!1,$=0,_=0,aa=0,ab=this.arr(1+d),ac=this.arr2(1+b,1+U),ad=this.arr2(1+b,1+b),ae=this.arr2(1+d,1+U),af=this.arr2(1+b,1+V),ag=this.arr(1+b),ah=this.arr(1+b),ai=this.arr(1+b),aj=this.arr(1+b),ak=this.arr(1+b),al=!0;for(h>=2&&console.log("The initial value of RHO is "+W+" and PARMU is set to zero."),r=0,p=1/W,l=1;l<=b;++l)ac[l][U]=e[l],ac[l][l]=W,ad[l][l]=p;s=U,t=!1;a:do{if(r>=i&&r>0){N=this.MaxIterationsReached;break}for(++r,S=a(b,c,e,ab),T=0,n=1;n<=c;++n)T=Math.max(T,-ab[n]);if((r===h-1||3===h)&&this.PrintIterationResult(r,S,T,e,b,h),ab[V]=S,ab[d]=T,u=!0,!t){for(l=1,u=!1;l<=d;++l)ae[l][s]=ab[l];if(r<=U){if(s<=b)if(ae[V][U]<=S)e[s]=ac[s][U];else{for(n=1,ac[s][U]=e[s];n<=d;++n)ae[n][s]=ae[n][U],ae[n][U]=ab[n];for(n=1;n<=s;++n){for(ac[s][n]=-W,p=0,l=n;l<=s;++l)p-=ad[l][n];ad[s][n]=p}}if(r<=b){s=r,e[s]+=W;continue}}t=!0}b:do{do{if(!u){for(m=1,v=ae[V][U]+X*ae[d][U],w=U;m<=b;++m)(p=ae[V][m]+X*ae[d][m])<v?(w=m,v=p):p===v&&0===X&&ae[d][m]<ae[d][w]&&(w=m);if(w<=b){for(l=1;l<=d;++l)p=ae[l][U],ae[l][U]=ae[l][w],ae[l][w]=p;for(l=1;l<=b;++l){for(p=ac[l][w],ac[l][w]=0,ac[l][U]+=p,q=0,n=1;n<=b;++n)ac[l][n]-=p,q-=ad[n][l];ad[w][l]=q}}if(x=0,j)for(l=1;l<=b;++l)for(m=1;m<=b;++m)x=Math.max(x,Math.abs(p=this.DOT_PRODUCT_ROW_COL(ad,l,ac,m,1,b)-(l===m)));if(x>.1){N=this.DivergingRoundingErrors;break a}for(n=1;n<=V;++n){for(m=1,ab[n]=-ae[n][U];m<=b;++m)ak[m]=ae[n][m]+ab[n];for(l=1;l<=b;++l)af[l][n]=(n===V?-1:1)*this.DOT_PRODUCT_ROW_COL(ak,-1,ad,l,1,b)}for(m=1,Y=!0,$=O*W,y=P*W;m<=b;++m){for(n=1,z=0,A=0;n<=b;++n)z+=ad[m][n]*ad[m][n],A+=ac[n][m]*ac[n][m];ag[m]=1/Math.sqrt(z),ah[m]=Math.sqrt(A),(ag[m]<$||ah[m]>y)&&(Y=!1)}if(!t&&!Y){for(m=1,s=0,p=y;m<=b;++m)ah[m]>p&&(s=m,p=ah[m]);if(0===s)for(m=1;m<=b;++m)ag[m]<p&&(s=m,p=ag[m]);for(n=1,p=Q*W*ag[s];n<=b;++n)aj[n]=p*ad[s][n];for(n=1,B=0,C=0,k=0;n<=V;++n)k=this.DOT_PRODUCT_ROW_COL(aj,-1,af,n,1,b),n<V&&(B=Math.max(B,-k-(p=ae[n][U])),C=Math.max(C,k-p));for(l=1,D=X*(B-C)>2*k?-1:1,p=0;l<=b;++l)aj[l]=D*aj[l],ac[l][s]=aj[l],p+=ad[s][l]*aj[l];for(n=1;n<=b;++n)ad[s][n]/=p;for(m=1;m<=b;++m){if(m!==s)for(n=1,p=this.DOT_PRODUCT_ROW_COL(ad,m,aj,-1,1,b);n<=b;++n)ad[m][n]-=p*ad[s][n];e[m]=ac[m][U]+aj[m]}continue a}if(!(Z=this.trstlp(b,c,af,ab,W,aj))){for(n=1,p=0;n<=b;++n)p+=aj[n]*aj[n];if(p<.25*W*W){t=!0;break}}for(n=1,k=0,E=0,ab[V]=0;n<=V;++n)k=ab[n]-this.DOT_PRODUCT_ROW_COL(aj,-1,af,n,1,b),n<V&&(E=Math.max(E,k));if(X<1.5*(F=(_=ae[d][U]-E)>0?k/_:0)){for(X=2*F,h>=2&&console.log("Increase in PARMU to "+X),G=ae[V][U]+X*ae[d][U],m=1;m<=b;++m)if((p=ae[V][m]+X*ae[d][m])<G||p===G&&0===X&&ae[d][m]<ae[d][U])continue b}for(n=1,aa=X*_-k;n<=b;++n)e[n]=ac[n][U]+aj[n];t=!0;continue a}for(u=!1,H=ae[V][U]+X*ae[d][U]-(S+X*T),0===X&&S===ae[V][U]&&(aa=_,H=ae[d][U]-T),I=+(H<=0),s=0,m=1;m<=b;++m)(p=Math.abs(this.DOT_PRODUCT_ROW_COL(ad,m,aj,-1,1,b)))>I&&(s=m,I=p),ai[m]=p*ag[m];for(m=1,J=R*W,o=0;m<=b;++m)if(ai[m]>=$||ai[m]>=ag[m]){if(p=ah[m],H>0){for(n=1,p=0;n<=b;++n)p+=Math.pow(aj[n]-ac[n][m],2);p=Math.sqrt(p)}p>J&&(o=m,J=p)}if(o>0&&(s=o),0!==s){for(l=1,p=0;l<=b;++l)ac[l][s]=aj[l],p+=ad[s][l]*aj[l];for(n=1;n<=b;++n)ad[s][n]/=p;for(m=1;m<=b;++m)if(m!==s)for(n=1,p=this.DOT_PRODUCT_ROW_COL(ad,m,aj,-1,1,b);n<=b;++n)ad[m][n]-=p*ad[s][n];for(n=1;n<=d;++n)ae[n][s]=ab[n];if(H>0&&H>=.1*aa)continue b}}while(!al)if(!Y){t=!1;continue}if(W<=g){N=this.Normal;break a}if(K=0,L=0,(W*=.5)<=1.5*g&&(W=g),X>0){for(n=1,M=0;n<=V;++n){for(l=1,L=K=ae[n][U];l<=b;++l)K=Math.min(K,ae[n][l]),L=Math.max(L,ae[n][l]);n<=c&&K<.5*L&&(p=Math.max(L,0)-K,M=M<=0?p:Math.min(M,p))}0===M?X=0:L-K<X*M&&(X=(L-K)/M)}h>=2&&console.log("Reduction in RHO to "+W+"  and PARMU = "+X),2===h&&this.PrintIterationResult(r,ae[V][U],ae[d][U],this.COL(ac,U),b,h)}while(al)}while(al)switch(N){case this.Normal:if(h>=1&&console.log("%nNormal return from subroutine COBYLA%n"),Z)return h>=1&&this.PrintIterationResult(r,S,T,e,b,h),N;break;case this.MaxIterationsReached:h>=1&&console.log("%nReturn from subroutine COBYLA because the MAXFUN limit has been reached.%n");break;case this.DivergingRoundingErrors:h>=1&&console.log("%nReturn from subroutine COBYLA because rounding errors are becoming damaging.%n")}for(n=1;n<=b;++n)e[n]=ac[n][U];return S=ae[V][U],T=ae[d][U],h>=1&&this.PrintIterationResult(r,S,T,e,b,h),N},trstlp:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=0,P=0,Q=0,R=this.arr2(1+a,1+a),S=this.arr(2+b),T=this.arr(2+b),U=this.arr(1+a),V=this.arr(1+a),W=this.arr(2+b),X=this.arr(2+b),Y=b,Z=0,$=!0;for(i=1;i<=a;++i)R[i][i]=1,f[i]=0;if(g=0,h=0,b>=1){for(j=1;j<=b;++j)d[j]>h&&(h=d[j],g=j);for(j=1;j<=b;++j)X[j]=j,T[j]=h-d[j]}k=!0;do c:do{(!k||k&&0===h)&&(g=Y=b+1,X[Y]=Y,T[Y]=0),k=!1,l=0,m=0,n=0,o=0;do{if(p=Y===b?h:-this.DOT_PRODUCT_ROW_COL(f,-1,c,Y,1,a),0===m||p<l?(l=p,P=Z,m=3):Z>P?(P=Z,m=3):--m,0===m)break c;if(q=0,g<=Z){if(g<Z){r=X[g],s=T[g],j=g;do{for(i=1,v=X[u=j+1],w=this.DOT_PRODUCT(this.PART(this.COL(R,j),1,a),this.PART(this.COL(c,v),1,a)),O=__TURBOPACK__default__export__2.hypot(w,S[u]),x=S[u]/O,y=w/O,S[u]=x*S[j],S[j]=O;i<=a;++i)O=x*R[i][u]+y*R[i][j],R[i][u]=x*R[i][j]-y*R[i][u],R[i][j]=O;X[j]=v,T[j]=T[u],j=u}while(j<Z)X[j]=r,T[j]=s}if(--Z,Y>b)for(j=1,O=1/S[Z];j<=a;++j)U[j]=O*R[j][Z];else for(j=1,O=this.DOT_PRODUCT_ROW_COL(U,-1,R,Z+1,1,a);j<=a;++j)U[j]-=O*R[j][Z+1]}else{for(j=1,v=X[g];j<=a;++j)V[j]=c[j][v];for(z=0,j=a;j>Z;){for(i=1,w=0,A=0;i<=a;++i)w+=O=R[i][j]*V[i],A+=Math.abs(O);if(B=A+.1*Math.abs(w),C=A+.2*Math.abs(w),(A>=B||B>=C)&&(w=0),0===z)z=w;else for(i=1,u=j+1,O=__TURBOPACK__default__export__2.hypot(w,z),x=w/O,y=z/O,z=O;i<=a;++i)O=x*R[i][j]+y*R[i][u],R[i][u]=x*R[i][u]-y*R[i][j],R[i][j]=O;--j}if(0===z){q=-1,j=Z;do{for(i=1,D=0,E=0;i<=a;++i)D+=O=R[i][j]*V[i],E+=Math.abs(O);if(B=E+.1*Math.abs(D),C=E+.2*Math.abs(D),E<B&&B<C){if((O=D/S[j])>0&&X[j]<=b&&(N=T[j]/O,(q<0||N<q)&&(q=N)),j>=2)for(i=1,F=X[j];i<=a;++i)V[i]-=O*c[i][F];W[j]=O}else W[j]=0}while(--j>0)if(q<0)break c;for(j=1;j<=Z;++j)T[j]=Math.max(0,T[j]-q*W[j]);if(g<Z){r=X[g],s=T[g],j=g;do{for(i=1,F=X[u=j+1],w=this.DOT_PRODUCT(this.PART(this.COL(R,j),1,a),this.PART(this.COL(c,F),1,a)),O=__TURBOPACK__default__export__2.hypot(w,S[u]),x=S[u]/O,y=w/O,S[u]=x*S[j],S[j]=O;i<=a;++i)O=x*R[i][u]+y*R[i][j],R[i][u]=x*R[i][j]-y*R[i][u],R[i][j]=O;X[j]=F,T[j]=T[u],j=u}while(j<Z)X[j]=r,T[j]=s}if(0===(O=this.DOT_PRODUCT(this.PART(this.COL(R,Z),1,a),this.PART(this.COL(c,v),1,a))))break c;S[Z]=O,T[g]=0,T[Z]=q}else S[++Z]=z,T[g]=T[Z],T[Z]=0;if(X[g]=X[Z],X[Z]=v,Y>b&&v!==Y){for(i=1,j=Z-1,w=this.DOT_PRODUCT(this.PART(this.COL(R,j),1,a),this.PART(this.COL(c,v),1,a)),O=__TURBOPACK__default__export__2.hypot(w,S[Z]),x=S[Z]/O,y=w/O,S[Z]=x*S[j],S[j]=O;i<=a;++i)O=x*R[i][Z]+y*R[i][j],R[i][Z]=x*R[i][j]-y*R[i][Z],R[i][j]=O;X[Z]=X[j],X[j]=v,O=T[j],T[j]=T[Z],T[Z]=O}if(Y>b)for(j=1,O=1/S[Z];j<=a;++j)U[j]=O*R[j][Z];else for(j=1,v=X[Z],O=(this.DOT_PRODUCT_ROW_COL(U,-1,c,v,1,a)-1)/S[Z];j<=a;++j)U[j]-=O*R[j][Z]}for(i=1,G=e*e,I=0,H=0;i<=a;++i)Math.abs(f[i])>=1e-6*e&&(G-=f[i]*f[i]),I+=f[i]*U[i],H+=U[i]*U[i];if(G<=0)break c;if(Math.abs(I)>=1e-6*(O=Math.sqrt(H*G))&&(O=Math.sqrt(H*G+I*I)),n=o=G/(O+I),Y===b){if(B=n+.1*h,C=n+.2*h,n>=B||B>=C)break;n=Math.min(n,h)}for(j=1;j<=a;++j)V[j]=f[j]+n*U[j];if(Y===b)for(j=1,Q=h,h=0;j<=Z;++j)h=Math.max(h,O=d[v=X[j]]-this.DOT_PRODUCT_ROW_COL(V,-1,c,v,1,a));j=Z;do{for(i=1,J=0,K=0;i<=a;++i)J+=O=R[i][j]*V[i],K+=Math.abs(O);if(B=K+.1*Math.abs(J),C=K+.2*Math.abs(J),(K>=B||B>=C)&&(J=0),W[j]=J/S[j],j>=2)for(i=1,v=X[j];i<=a;++i)V[i]-=W[j]*c[i][v]}while(j-- >=2)for(Y>b&&(W[Z]=Math.max(0,W[Z])),j=1;j<=a;++j)V[j]=f[j]+n*U[j];if(Y>Z)for(j=L=Z+1;j<=Y;++j){for(i=1,t=h-d[v=X[j]],M=h+Math.abs(d[v]);i<=a;++i)t+=O=c[i][v]*V[i],M+=Math.abs(O);B=M+.1*Math.abs(t),C=M+.2*Math.abs(t),(M>=B||B>=C)&&(t=0),W[j]=t}for(j=1,q=1,g=0;j<=Y;++j)W[j]<0&&(O=T[j]/(T[j]-W[j]))<q&&(q=O,g=j);for(j=1,O=1-q;j<=a;++j)f[j]=O*f[j]+q*V[j];for(j=1;j<=Y;++j)T[j]=Math.max(0,O*T[j]+q*W[j]);Y===b&&(h=Q+q*(h-Q))}while(g>0)if(n===o)return!0}while($)while(Y===b)return!1},PrintIterationResult:function(a,b,c,d,e,f){f>1&&console.log("NFVALS = "+a+"  F = "+b+"  MAXCV = "+c),f>1&&console.log("X = "+this.PART(d,1,e))},ROW:function(a,b){return a[b].slice()},COL:function(a,b){var c,d=a.length,e=[];for(c=0;c<d;++c)e[c]=a[c][b];return e},PART:function(a,b,c){return a.slice(b,c+1)},FORMAT:function(a){return a.join(",")},DOT_PRODUCT:function(a,b){var c,d=0,e=a.length;for(c=0;c<e;++c)d+=a[c]*b[c];return d},DOT_PRODUCT_ROW_COL:function(a,b,c,d,e,f){var g,h=0;if(-1===b)for(g=e;g<=f;++g)h+=a[g]*c[g][d];else if(-1===d)for(g=e;g<=f;++g)h+=a[b][g]*c[g];else for(g=e;g<=f;++g)h+=a[b][g]*c[g][d];return h}};let __TURBOPACK__default__export__17=__TURBOPACK__default__export__.Math.Nlp;__TURBOPACK__default__export__2.Plot={checkReal:function(a){var b,c,d=!1,e=a.length;for(b=0;b<e;b++)if(!isNaN((c=a[b].usrCoords)[1])&&!isNaN(c[2])&&Math.abs(c[0])>__TURBOPACK__default__export__2.eps){d=!0;break}return d},updateParametricCurveNaive:function(a,b,c,d){var e,f,g=!1,h=(c-b)/d;for(e=0;e<d;e++)f=b+e*h,a.points[e].setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(f,g),a.Y(f,g)],!1),a.points[e]._t=f,g=!0;return a},isSegmentOutside:function(a,b,c,d,e){return b<0&&d<0||b>e.canvasHeight&&d>e.canvasHeight||a<0&&c<0||a>e.canvasWidth&&c>e.canvasWidth},isDistOK:function(a,b,c,d){return Math.abs(a)<c&&Math.abs(b)<d&&!isNaN(a+b)},isSegmentDefined:function(a,b,c,d){return!(isNaN(a+b)&&isNaN(c+d))},updateParametricCurveOld:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o=!1,p=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],a.board,!1),q=[],r=[],s=[],t=[],u=!1,v=0,w=function(a,b,c){var d,e=c[1]-a[1],f=c[2]-a[2],g=b[0]-a[1],h=b[1]-a[2],i=g*g+h*h;return i>=__TURBOPACK__default__export__2.eps&&(d=(e*g+f*h)/i)>0&&(d<=1?(e-=d*g,f-=d*h):(e-=g,f-=h)),__TURBOPACK__default__export__2.hypot(e,f)};for(__TURBOPACK__default__export__.deprecated("Curve.updateParametricCurveOld()"),a.board.updateQuality===a.board.BOARD_QUALITY_LOW?(l=15,m=10,n=10):(l=21,m=.7,n=.7),t[0]=c-b,d=1;d<l;d++)t[d]=.5*t[d-1];d=1,q[0]=1,r[0]=0,e=b,p.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(e,o),a.Y(e,o)],!1),o=!0,h=p.scrCoords[1],i=p.scrCoords[2],e=c,p.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(e,o),a.Y(e,o)],!1),f=p.scrCoords[1],g=p.scrCoords[2],s[0]=[f,g],j=1,k=0,a.points=[],a.points[v++]=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[h,i],a.board,!1);do{for(u=this.isDistOK(f-h,g-i,m,n)||this.isSegmentOutside(h,i,f,g,a.board);k<l&&(!u||k<6)&&(k<=7||this.isSegmentDefined(h,i,f,g));)q[j]=d,r[j]=k,s[j]=[f,g],j+=1,e=b+(d=2*d-1)*t[++k],p.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(e,o),a.Y(e,o)],!1,!0),f=p.scrCoords[1],g=p.scrCoords[2],u=this.isDistOK(f-h,g-i,m,n)||this.isSegmentOutside(h,i,f,g,a.board);v>1&&.015>w(a.points[v-2].scrCoords,[f,g],a.points[v-1].scrCoords)&&(v-=1),a.points[v]=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[f,g],a.board,!1),a.points[v]._t=e,v+=1,h=f,i=g,j-=1,f=s[j][0],g=s[j][1],k=r[j]+1,d=2*q[j]}while(j>0&&v<5e5)return a.numberPoints=a.points.length,a},_insertPoint_v2:function(a,b,c){var d=!isNaN(this._lastCrds[1]+this._lastCrds[2]),e=!isNaN(b.scrCoords[1]+b.scrCoords[2]),f=a.board.canvasWidth,g=a.board.canvasHeight,h=500;(!(e=e&&b.scrCoords[1]>-h&&b.scrCoords[2]>-h&&b.scrCoords[1]<f+h&&b.scrCoords[2]<g+h)&&d||e&&(!d||Math.abs(b.scrCoords[1]-this._lastCrds[1])>.7||Math.abs(b.scrCoords[2]-this._lastCrds[2])>.7))&&(b._t=c,a.points.push(b),this._lastCrds=b.copy("scrCoords"))},neighborhood_isNaN_v2:function(a,b){var c,d,e,f=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],a.board,!1);return d=b+__TURBOPACK__default__export__2.eps,f.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(d,!0),a.Y(d,!0)],!1),(!!(c=isNaN((e=f.usrCoords)[1]+e[2]))||(d=b-__TURBOPACK__default__export__2.eps,f.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(d,!0),a.Y(d,!0)],!1),!!(c=isNaN((e=f.usrCoords)[1]+e[2]))))&&!0},_borderCase:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o=null,p=30,q=!1;if(h<=1){if(j=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],a.board,!1),isNaN(b[1]+b[2])&&!isNaN(d[1]+d[2])&&!this.neighborhood_isNaN_v2(a,e)||isNaN(c[1]+c[2])&&!isNaN(d[1]+d[2])&&!this.neighborhood_isNaN_v2(a,f)||isNaN(d[1]+d[2])&&(!isNaN(b[1]+b[2])||!isNaN(c[1]+c[2]))&&!this.neighborhood_isNaN_v2(a,g))return!1;l=0;do{if(isNaN(b[1]+b[2])&&!isNaN(d[1]+d[2]))m=e,n=g;else if(isNaN(c[1]+c[2])&&!isNaN(d[1]+d[2]))m=f,n=g;else if(isNaN(d[1]+d[2])&&!isNaN(c[1]+c[2]))m=g,n=f;else{if(!isNaN(d[1]+d[2])||isNaN(b[1]+b[2]))return!1;m=g,n=e}i=.5*(m+n),j.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(i,!0),a.Y(i,!0)],!1),(q=isNaN((k=j.usrCoords)[1]+k[2]))?m=i:n=i,++l}while(q&&l<p)if(l<p&&(o=k.slice(),d=k.slice(),n=i),null!==o)return this._insertPoint_v2(a,new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,o,a.board,!1)),!0}return!1},_plotRecursive_v2:function(a,b,c,d,e,f,g){var h,i,j,k,l,m=0,n=.5,o=.99,p=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],a.board,!1);if(!(a.numberPoints>65536))return f<this.nanLevel&&this._isUndefined(a,b,c,d,e)||f<this.nanLevel&&this._isOutside(b,c,d,e,a.board)||(h=(c+e)*.5,p.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(h,!0),a.Y(h,!0)],!1),i=p.scrCoords,this._borderCase(a,b,d,i,c,e,h,f)||(j=this._triangleDists(b,d,i),k=f<this.smoothLevel&&j[3]<g,l=f<=this.jumpLevel&&(isNaN(j[0])||isNaN(j[1])||isNaN(j[2]))||f<this.jumpLevel&&(j[2]>o*j[0]||j[1]>o*j[0]||j[0]===1/0||j[1]===1/0||j[2]===1/0),f<this.smoothLevel+2&&j[0]<n*(j[1]+j[2])&&(m=0,k=!1),--f,l?this._insertPoint_v2(a,new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[NaN,NaN],a.board,!1),h):f<=m||k?this._insertPoint_v2(a,p,h):(this._plotRecursive_v2(a,b,c,i,h,f,g),isNaN(p.scrCoords[1]+p.scrCoords[2])||this._insertPoint_v2(a,p,h),this._plotRecursive_v2(a,i,h,d,e,f,g)))),this},updateParametricCurve_v2:function(a,b,c){var d,e,f,g,h,i,j,k,l,m=!1,n=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],a.board,!1),o=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],a.board,!1);return a.board.updateQuality===a.board.BOARD_QUALITY_LOW?(h=a.evalVisProp("recursiondepthlow")||13,i=2,this.smoothLevel=h-6,this.jumpLevel=3):(h=a.evalVisProp("recursiondepthhigh")||17,i=2,this.smoothLevel=h-9,this.jumpLevel=2),this.nanLevel=h-4,a.points=[],"x"===this.xterm?(j=((k=a.board.getBoundingBox())[2]-k[0])*.3,d=Math.max(b,k[0]-j),e=Math.min(c,k[2]+j)):(d=b,e=c),n.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(d,m),a.Y(d,m)],!1),m=!0,o.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(e,m),a.Y(e,m)],!1),l=this._findStartPoint(a,n.scrCoords,d,o.scrCoords,e),n.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,l[0],!1),d=l[1],l=this._findStartPoint(a,o.scrCoords,e,n.scrCoords,d),o.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,l[0],!1),e=l[1],this._visibleArea=[d,e],f=n.copy("scrCoords"),g=o.copy("scrCoords"),n._t=d,a.points.push(n),this._lastCrds=n.copy("scrCoords"),this._plotRecursive_v2(a,f,d,g,e,h,i),o._t=e,a.points.push(o),a.numberPoints=a.points.length,a},_insertLimesPoint:function(a,b,c,d,e){var f,g,h;(Math.abs(this._lastUsrCrds[1])!==1/0||Math.abs(e.left_x)!==1/0)&&(Math.abs(this._lastUsrCrds[2])!==1/0||Math.abs(e.left_y)!==1/0)&&((f=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[e.left_x,e.left_y],a.board))._t=c,a.points.push(f),!isNaN(e.left_x)&&!isNaN(e.left_y)&&!isNaN(e.right_x)&&!isNaN(e.right_y)&&(Math.abs(e.left_x-e.right_x)>__TURBOPACK__default__export__2.eps||Math.abs(e.left_y-e.right_y)>__TURBOPACK__default__export__2.eps)&&((g=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,b,a.board))._t=c,a.points.push(g)),(h=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[e.right_x,e.right_y],a.board))._t=c,a.points.push(h),this._lastScrCrds=h.copy("scrCoords"),this._lastUsrCrds=h.copy("usrCoords"))},_insertPoint:function(a,b,c,d,e){var f,g=!isNaN(this._lastScrCrds[1]+this._lastScrCrds[2]),h=!isNaN(b[1]+b[2]),i=a.board.canvasWidth,j=a.board.canvasHeight,k=.8,l=500;if(__TURBOPACK__default__export__3.exists(e))return void this._insertLimesPoint(a,b,c,d,e);h=h&&b[1]>-l&&b[2]>-l&&b[1]<i+l&&b[2]<j+l,!g&&!h||h&&g&&Math.abs(b[1]-this._lastScrCrds[1])<k&&Math.abs(b[2]-this._lastScrCrds[2])<k||(Math.abs(b[1])!==1/0||Math.abs(this._lastUsrCrds[1])!==1/0)&&(Math.abs(b[2])!==1/0||Math.abs(this._lastUsrCrds[2])!==1/0)&&((f=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,b,a.board))._t=c,a.points.push(f),this._lastScrCrds=f.copy("scrCoords"),this._lastUsrCrds=f.copy("usrCoords"))},_triangleDists:function(a,b,c){var d,e,f;return d=[a[0]*b[0],(a[1]+b[1])*.5,(a[2]+b[2])*.5],e=__TURBOPACK__default__export__14.distance(a,b,3),f=__TURBOPACK__default__export__14.distance(a,c,3),[e,f,__TURBOPACK__default__export__14.distance(c,b,3),__TURBOPACK__default__export__14.distance(c,d,3)]},_isUndefined:function(a,b,c,d,e){var f,g,h;if(!isNaN(b[1]+b[2])||!isNaN(d[1]+d[2]))return!1;for(g=0,h=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],a.board,!1);g<20;++g)if(f=c+Math.random()*(e-c),h.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(f,!0),a.Y(f,!0)],!1),!isNaN(h.scrCoords[0]+h.scrCoords[1]+h.scrCoords[2]))return!1;return!0},_isOutside:function(a,b,c,d,e){var f=500,g=e.canvasWidth,h=e.canvasHeight;return!!(a[1]<-f&&c[1]<-f||a[2]<-f&&c[2]<-f||a[1]>g+f&&c[1]>g+f||a[2]>h+f&&c[2]>h+f)},_isOutsidePoint:function(a,b){var c=500,d=b.canvasWidth,e=b.canvasHeight;return!!(a[1]<-c||a[2]<-c||a[1]>d+c||a[2]>e+c)},_findStartPoint:function(a,b,c,d,e){return[b,c]},_getBorderPos:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n=30,o=!1;if(i=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],a.board,!1),k=0,isNaN(c[1]+c[2])&&!isNaN(e[1]+e[2]))m=b,l=d;else if(isNaN(g[1]+g[2])&&!isNaN(e[1]+e[2]))m=f,l=d;else if(isNaN(e[1]+e[2])&&!isNaN(g[1]+g[2]))m=d,l=f;else{if(!isNaN(e[1]+e[2])||isNaN(c[1]+c[2]))return!1;m=d,l=b}do h=.5*(l+m),i.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(h,!0),a.Y(h,!0)],!1),(o=isNaN((j=i.usrCoords)[1]+j[2]))?m=h:l=h,++k;while(k<n&&Math.abs(l-m)>__TURBOPACK__default__export__2.eps)return h},_getCuspPos:function(a,b,c){var d=[a.X(b,!0),a.Y(b,!0)],e=[a.X(c,!0),a.Y(c,!0)],f=function(b){var c=[a.X(b,!0),a.Y(b,!0)];return-(__TURBOPACK__default__export__2.hypot(d[0]-c[0],d[1]-c[1])+__TURBOPACK__default__export__2.hypot(e[0]-c[0],e[1]-c[1]))};return __TURBOPACK__default__export__13.fminbr(f,[b,c],a)},_getJumpPos:function(a,b,c){var d=function(b){var c=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps,d=[a.X(b,!0),a.Y(b,!0)],e=[a.X(b+c,!0),a.Y(b+c,!0)];return-Math.abs((e[1]-d[1])/(e[0]-d[0]))};return __TURBOPACK__default__export__13.fminbr(d,[b,c],a)},_getLimits:function(a,b){var c,d,e,f,g,h=2/(a.maxX()-a.minX());return d=(c=__TURBOPACK__default__export__11.limit(b,-h,a.X))[0],"infinite"===c[1]&&(d=1/0*Math.sign(d)),f=(c=__TURBOPACK__default__export__11.limit(b,-h,a.Y))[0],"infinite"===c[1]&&(f=1/0*Math.sign(f)),e=(c=__TURBOPACK__default__export__11.limit(b,h,a.X))[0],"infinite"===c[1]&&(e=1/0*Math.sign(e)),g=(c=__TURBOPACK__default__export__11.limit(b,h,a.Y))[0],"infinite"===c[1]&&(g=1/0*Math.sign(g)),{left_x:d,left_y:f,right_x:e,right_y:g,t:b}},_getLimes:function(a,b,c,d,e,f,g,h,i){var j;return"border"===h?j=this._getBorderPos(a,b,c,d,e,f,g):"cusp"===h?j=this._getCuspPos(a,b,f):"jump"===h&&(j=this._getJumpPos(a,b,f)),this._getLimits(a,j)},_plotNonRecursive:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=0,s=null,t=!1,u="",v=[],w=0;for(n=a.board.origin.scrCoords,v[w++]=[b,c,d,e,f,1/0];w>0;){if(b=(q=v[--w])[0],c=q[1],d=q[2],e=q[3],o=q[4],p=q[5],t=!1,u="",s=null,a.points.length>65536)return;o<this.nanLevel&&(this._isUndefined(a,b,c,d,e)||this._isOutside(b,c,d,e,a.board))||(g=(c+e)*.5,l=a.X(g,!0),m=a.Y(g,!0),h=[1,n[1]+l*a.board.unitX,n[2]-m*a.board.unitY],i=this._triangleDists(b,d,h),j=isNaN(b[1]+b[2]),k=isNaN(d[1]+d[2]),j&&!k||!j&&k?u="border":i[0]>.66*p||i[0]<this.cusp_threshold*(i[1]+i[2])||i[1]>5*i[2]||i[2]>5*i[1]?u="cusp":(i[2]>this.jump_threshold*i[0]||i[1]>this.jump_threshold*i[0]||i[0]===1/0||i[1]===1/0||i[2]===1/0)&&(u="jump"),t=""===u&&o<this.smoothLevel&&i[3]<this.smooth_threshold,o<this.testLevel&&!t&&(""===u?t=!0:s=this._getLimes(a,c,b,g,h,e,d,u,o)),null!==s?(h=[1,NaN,NaN],this._insertPoint(a,h,g,o,s)):o<=r||t?this._insertPoint(a,h,g,o,null):(v[w++]=[h,g,d,e,o-1,i[0]],v[w++]=[b,c,h,g,o-1,i[0]]))}return this},updateParametricCurve_v3:function(a,b,c){var d,e,f,g,h,i,j,k,l=!1,m=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],a.board,!1),n=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],a.board,!1);return h=a.board.updateQuality===a.board.BOARD_QUALITY_LOW?a.evalVisProp("recursiondepthlow")||14:a.evalVisProp("recursiondepthhigh")||17,this.smoothLevel=7,this.nanLevel=h-4,this.testLevel=4,this.cusp_threshold=.5,this.jump_threshold=.99,this.smooth_threshold=2,a.points=[],"x"===a.xterm?(i=((j=a.board.getBoundingBox())[2]-j[0])*.3,d=Math.max(b,j[0]-i),e=Math.min(c,j[2]+i)):(d=b,e=c),m.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(d,l),a.Y(d,l)],!1),l=!0,n.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.X(e,l),a.Y(e,l)],!1),k=this._findStartPoint(a,m.scrCoords,d,n.scrCoords,e),m.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,k[0],!1),d=k[1],k=this._findStartPoint(a,n.scrCoords,e,m.scrCoords,d),n.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,k[0],!1),e=k[1],this._visibleArea=[d,e],f=m.copy("scrCoords"),g=n.copy("scrCoords"),m._t=d,a.points.push(m),this._lastScrCrds=m.copy("scrCoords"),this._lastUsrCrds=m.copy("usrCoords"),this._plotNonRecursive(a,f,d,g,e,h),n._t=e,a.points.push(n),a.numberPoints=a.points.length,a},_criticalInterval:function(a,b,c){var d,e,f,g,h,i,j,k=!1,l=-1/0,m=!1,n=!1,o=0,p=[],q=[],r=[];for(j=__TURBOPACK__default__export__12.abs(a),(g=__TURBOPACK__default__export__12.median(j))<1e-7?(g=1e-7,m=!0):g*=this.criticalThreshold,d=0;d<b;d++)j[d]>g?(r.push({i:d,v:a[d],group:o}),l=d,k||(k=!0)):k&&d>l+4&&(r.length>0&&p.push(r.slice(0)),r=[],k=!1,o++);for(k&&r.length>1&&p.push(r.slice(0)),m&&0===p.length&&(n=!0),e=0;e<p.length;e++)if(q[e]="point",!((f=p[e].length)<64)){for(d=1,i=0,h=Math.sign(p[e][0].v);d<f;d++)Math.sign(p[e][d].v)!==h&&(i++,h=Math.sign(p[e][d].v));6*i>f&&(q[e]="interval")}return{smooth:n,groups:p,types:q}},Component:function(){this.left_isNaN=!1,this.right_isNaN=!1,this.left_t=null,this.right_t=null,this.t_values=[],this.x_values=[],this.y_values=[],this.len=0},findComponents:function(a,b,c,d){var e,f,g,h,i,j,k=[],l=0,m=0,n=0,o=!1,p=!1;for(e=0,g=(c-b)/d,k[l]=new this.Component,j=k[l],f=b;e<=d;e++,f+=g)h=a.X(f,p),i=a.Y(f,p),isNaN(h)||isNaN(i)?++n>1&&o&&(j.right_isNaN=!0,j.right_t=f-g,j.len=m,o=!1,k[++l]=new this.Component,j=k[l],n=0):(!o&&(o=!0,m=0,n>0&&(j.left_t=f-g,j.left_isNaN=!0)),n=0,j.t_values[m]=f,j.x_values[m]=h,j.y_values[m]=i,m++),0===e&&(p=!0);return o?j.len=m:k.pop(),k},getPointType:function(a,b,c,d,e,f,g){var h=e[0],i=f[0],j=d.length,k={idx:b,t:c,x:h[b],y:i[b],type:"other"};return b<5?(k.type="borderleft",k.idx=0,k.t=d[0],k.x=h[0],k.y=i[0]):b>g-6&&(k.type="borderright",k.idx=j-1,k.t=d[j-1],k.x=h[j-1],k.y=i[j-1]),k},newtonApprox:function(a,b,c,d,e){var f,g=0;for(f=d;f>0;f--)g=(g+e[f][a])*(b-(f-1)*c)/f;return g+e[0][a]},thiele:function(a,b,c,d,e){var f,g=0;for(f=e;f>1;f--)g=(a-c[d+f])/(b[f][d+1]-b[f-2][d+1]+g);return b[0][d+1]+(a-c[d+1])/(b[1][d+1]+g)},differenceMethodExperiments:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=a.t_values,o=a.x_values,p=a.y_values,q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=0,z=[];for(g=n[1]-n[0],u.push([]),v.push([]),w.push([]),x.push([]),e=p.length,c=0;c<e;c++)u[0][c]=o[c],v[0][c]=p[c],w[0][c]=o[c],x[0][c]=p[c];for(u.push([]),v.push([]),w.push([]),x.push([]),h=g,e=p.length-1,c=0;c<e;c++)q[c]=o[c+1]-o[c],r[c]=p[c+1]-p[c],s[c]=q[c],t[c]=r[c],u[1][c]=q[c],v[1][c]=r[c],w[1][c]=h/q[c],x[1][c]=h/r[c];for(e--,f=Math.min(8,p.length-1),d=1;d<f;d++){for(u.push([]),v.push([]),w.push([]),x.push([]),h*=g,c=0;c<e;c++)q[c]=q[c+1]-q[c],r[c]=r[c+1]-r[c],u[d+1][c]=q[c],v[d+1][c]=r[c],w[d+1][c]=h/(w[d][c+1]-w[d][c])+w[d-1][c+1],x[d+1][c]=h/(x[d][c+1]-x[d][c])+x[d-1][c+1];if(!1===(m=this._criticalPoints(r,e,d))){console.log("Polynomial of degree",d),m=[];break}if(m.length>0&&++y>1&&d%2==0)break;e--}for(c=0;c<m.length;c++){for(k=0,j=-1/0;k<m[c].length;k++)(l=Math.abs(m[c][k].v))>j&&(j=l,i=k);i=Math.floor(m[c][i].i+d/2),z.push(this.getPointType(b,i,n,o,p,s,t,e+1))}return[z,u,v,w,x]},getCenterOfCriticalInterval:function(a,b,c){var d,e,f,g,h,i=0,j=0,k=c[1]-c[0],l=[];for(e=0,d=-1/0,l=[];e<a.length;e++)(g=Math.abs(a[e].v))>d?(l=[e],d=g,f=e):d===g&&l.push(e);if(l.length>0&&(f=Math.floor(h=l.reduce(function(a,b){return a+b},0)/l.length),h+=a[0].i),d<1/0){for(e=0;e<a.length;e++)i+=Math.abs(a[e].v)*a[e].i,j+=Math.abs(a[e].v);h=i/j}return h+=b/2,[a[f].i+b/2,h,c[Math.floor(h)]+k*(h-Math.floor(h))]},differenceMethod:function(a,b){var c,d,e,f,g,h,i,j,k,l,m=a.t_values,n=a.x_values,o=a.y_values,p=[],q=[],r=0,s=-1,t=-1,u=[],v=[];for(e=o.length,p.push(new Float64Array(n)),q.push(new Float64Array(o)),f=Math.min(12,--e),d=0;d<f&&(p.push(new Float64Array(e)),q.push(new Float64Array(e)),p[d+1]=p[d].map(function(a,b,c){return c[b+1]-a}),q[d+1]=q[d].map(function(a,b,c){return c[b+1]-a}),!0===(j=this._criticalInterval(q[d+1],e,d)).smooth&&(t=d,u=[]),i=this._criticalInterval(p[d+1],e,d),-1===s&&!0===i.smooth&&(s=d),!(t>=0));d++){if(j.groups.length>0&&++r>2&&(d+1)%2==0){u=j.groups,l=j.types;break}e--}for(c=0;c<u.length;c++)"interval"!==l[c]&&(h=this.getCenterOfCriticalInterval(u[c],d+1,m),g=j[0],g=Math.floor(h[1]),k=h[2],v.push(this.getPointType(b,g,k,m,p,q,e+1)));return[v,p,q,s,t]},_insertPoint_v4:function(a,b,c,d){var e,f,g,h=null,i=.8;a.points.length>0&&(h=a.points[a.points.length-1].scrCoords),e=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,b,a.board),null!==h&&(f=e.scrCoords[1]-h[1])*f+(g=e.scrCoords[2]-h[2])*g<i*i||(e._t=c,a.points.push(e))},getInterval:function(a,b,c){var d,e;return __TURBOPACK__default__export__10.disable(),d=__TURBOPACK__default__export__10.Interval(b,c),a.board.mathLib=__TURBOPACK__default__export__10,a.board.mathLibJXG=__TURBOPACK__default__export__10,e=a.Y(d,!0),a.board.mathLib=Math,a.board.mathLibJXG=__TURBOPACK__default__export__.Math,e},sign:function(a){return a<0?-1:+(a>0)},handleBorder:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r=c.idx,s=32;if(q=b.t_values[1]-b.t_values[0],"borderleft"===c.type?h=(g=f=b.left_isNaN?b.left_t:c.t-q)+q:"borderright"===c.type?g=(h=f=b.right_isNaN?b.right_t:c.t+q)-q:console.log("No bordercase!!!"),0!==(o=this.findComponents(a,g,h,s)).length){for("borderleft"===c.type&&(g=o[0].left_t,h=o[0].t_values[0],q=o[0].t_values[1]-o[0].t_values[0],f=g=null===g?h-q:g,i=this.getInterval(a,g,h),__TURBOPACK__default__export__3.isObject(i)&&(l=i.lo,m=i.hi,j=a.X(f,!0),k=e[1][r]<0?m:l,this._insertPoint_v4(a,[1,j,k],f))),p=o[0].t_values.length,n=0;n<p;n++)f=o[0].t_values[n],j=o[0].x_values[n],k=o[0].y_values[n],this._insertPoint_v4(a,[1,j,k],f);"borderright"===c.type&&(g=o[0].t_values[p-1],h=o[0].right_t,q=o[0].t_values[1]-o[0].t_values[0],f=h=null===h?g+q:h,i=this.getInterval(a,g,h),__TURBOPACK__default__export__3.isObject(i)&&(l=i.lo,m=i.hi,j=a.X(f,!0),k=e[1][r]>0?m:l,this._insertPoint_v4(a,[1,j,k],f)))}},_seconditeration_v4:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;for(l=0,g=b.t_values[c.idx-2],h=b.t_values[c.idx+2],j=this.findComponents(a,g,h,64);l<j.length;l++){for(n=0,k=j[l],m=(i=this.differenceMethod(k,a))[0],o=i[1],p=i[2],q=0;n<=m.length;n++){for(r=n===m.length?k.len:m[n].idx,f=q;f<r;f++)isNaN(k.x_values[f])||isNaN(k.y_values[f])||this._insertPoint_v4(a,[1,k.x_values[f],k.y_values[f]],k.t_values[f]);n<m.length&&(this.handleSingularity(a,k,m[n],o,p),q=m[n].idx+1)}r=k.len,l<j.length-1&&this._insertPoint_v4(a,[1,NaN,NaN],k.right_t)}return this},_recurse_v4:function(a,b,c,d,e,f,g,h){var i,j,k=2,l=(b+c)*.5,m=a.X(l,!0),n=a.Y(l,!0);if(0===h)return void this._insertPoint_v4(a,[1,NaN,NaN],l);i=(m-d)*a.board.unitX,j=(n-e)*a.board.unitY,__TURBOPACK__default__export__2.hypot(i,j)>k?this._recurse_v4(a,b,l,d,e,m,n,h-1):this._insertPoint_v4(a,[1,m,n],l),i=(m-f)*a.board.unitX,j=(n-g)*a.board.unitY,__TURBOPACK__default__export__2.hypot(i,j)>k?this._recurse_v4(a,l,c,m,n,f,g,h-1):this._insertPoint_v4(a,[1,m,n],l)},handleSingularity:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=c.idx,r=100,s=5,t=3;console.log("HandleSingularity at t =",f=c.t),g=b.t_values[q-s],h=b.t_values[q+s],i=this.getInterval(a,g,h),__TURBOPACK__default__export__3.isObject(i)?(m=i.lo,n=i.hi):e[0][q-1]<e[0][q+1]?(m=e[0][q-1],n=e[0][q+1]):(m=e[0][q+1],n=e[0][q-1]),l=a.X(f,!0),console.log(":::",o=(e[0][q-t]-e[0][q-s])/(b.t_values[q-t]-b.t_values[q-s]),p=(e[0][q+t]-e[0][q+s])/(b.t_values[q+t]-b.t_values[q+s])),o<-r?(this._insertPoint_v4(a,[1,l,m],f,!0),p<=r&&this._insertPoint_v4(a,[1,NaN,NaN],f)):o>r?(this._insertPoint_v4(a,[1,l,n],f),p>=-r&&this._insertPoint_v4(a,[1,NaN,NaN],f)):(m===-1/0&&(this._insertPoint_v4(a,[1,l,m],f,!0),this._insertPoint_v4(a,[1,NaN,NaN],f)),n===1/0&&(this._insertPoint_v4(a,[1,NaN,NaN],f),this._insertPoint_v4(a,[1,l,n],f,!0)),c.t<b.t_values[q]?(j=q-1,k=q):(j=q,k=q+1),g=b.t_values[j],h=b.t_values[k],this._recurse_v4(a,g,h,d[0][j],e[0][j],d[0][k],e[0][k],10)),p<-r?this._insertPoint_v4(a,[1,l,n],f):p>r&&this._insertPoint_v4(a,[1,l,m],f)},steps:1021,criticalThreshold:1e3,plot_v4:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=(c-b)/d,u=function(b){return a.Y(b,!0)},v=function(b){return-a.Y(b,!0)},w=.5*t;for(h=0,g=this.findComponents(a,b,c,d);h<g.length;h++){for(i=g[h],j=(m=this.differenceMethod(i,a))[0],n=m[1],o=m[2],(0===j.length||"borderleft"!==j[0].type)&&j.unshift({idx:0,t:i.t_values[0],x:i.x_values[0],y:i.y_values[0],type:"borderleft"}),"borderright"!==j[j.length-1].type&&(f=i.t_values.length,j.push({idx:f-1,t:i.t_values[f-1],x:i.x_values[f-1],y:i.y_values[f-1],type:"borderright"})),l=0,k=0;k<=j.length;k++){for(f=k===j.length?i.len:j[k].idx-1,e=l;e<f-2;e++)this._insertPoint_v4(a,[1,i.x_values[e],i.y_values[e]],i.t_values[e]),e>=l+3&&e<f-3&&o.length>3&&Math.abs(o[2][e])>.2*Math.abs(o[0][e])&&(p=i.t_values[e],w=.25*t,s=this.getInterval(a,p,p+t),__TURBOPACK__default__export__3.isObject(s)?o[2][e]>0?this._insertPoint_v4(a,[1,p+w,s.lo],p+w):this._insertPoint_v4(a,[1,p+t-w,s.hi],p+t-w):(q=__TURBOPACK__default__export__13.fminbr(u,[p,p+t]))<(r=__TURBOPACK__default__export__13.fminbr(v,[p,p+t]))?(this._insertPoint_v4(a,[1,a.X(q,!0),a.Y(q,!0)],q),this._insertPoint_v4(a,[1,a.X(r,!0),a.Y(r,!0)],r)):(this._insertPoint_v4(a,[1,a.X(r,!0),a.Y(r,!0)],r),this._insertPoint_v4(a,[1,a.X(q,!0),a.Y(q,!0)],q)));k<j.length&&(e=j[k].idx,"borderleft"===j[k].type||"borderright"===j[k].type?this.handleBorder(a,i,j[k],n,o):this._seconditeration_v4(a,i,j[k],n,o),l=j[k].idx+1+1)}f=i.len,h<g.length-1&&this._insertPoint_v4(a,[1,NaN,NaN],i.right_t)}},updateParametricCurve_v4:function(a,b,c){var d,e,f,g;"x"===a.xterm?(f=((g=a.board.getBoundingBox())[2]-g[0])*.3,d=Math.max(b,g[0]-f),e=Math.min(c,g[2]+f)):(d=b,e=c),a.points=[],this.plot_v4(a,d,e,this.steps),a.numberPoints=a.points.length},updateParametricCurve:function(a,b,c){return this.updateParametricCurve_v2(a,b,c)}};let __TURBOPACK__default__export__18=__TURBOPACK__default__export__2.Plot;__TURBOPACK__default__export__2.ImplicitPlot=function(a,b,c,d,e){var f={resolution_out:5,resolution_in:5,max_steps:1024,alpha_0:.05,tol_u0:__TURBOPACK__default__export__2.eps,tol_newton:1e-7,tol_cusp:.05,tol_progress:1e-4,qdt_box:.2,kappa_0:.2,delta_0:.05,h_initial:.1,h_critical:.001,h_max:1,loop_dist:.09,loop_dir:.99,loop_detection:!0,unitX:10,unitY:10};this.config=__TURBOPACK__default__export__3.merge(f,b),this.f=c,this.dfx=null,this.dfy=null,__TURBOPACK__default__export__3.isFunction(d)?this.dfx=d:this.dfx=function(a,b){var c=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps;return(this.f(a+c,b)-this.f(a-c,b))*.5/c},__TURBOPACK__default__export__3.isFunction(e)?this.dfy=e:this.dfy=function(a,b){var c=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps;return(this.f(a,b+c)-this.f(a,b-c))*.5/c},this.bbox=a,this.qdt=new __TURBOPACK__default__export__16(20,5,a),this.components=[]},__TURBOPACK__default__export__3.extend(__TURBOPACK__default__export__2.ImplicitPlot.prototype,{plot:function(){var a,b,c,d,e,f,g,h=[],i=[],j=[],k=0,l=this,m=function(b){return l.f(a,b)},n=function(b){return-l.f(a,b)},o=function(a){return l.f(a,b)},p=function(a){return-l.f(a,b)};for(c=Math.min(this.bbox[0],this.bbox[2])-__TURBOPACK__default__export__2.eps,d=Math.max(this.bbox[0],this.bbox[2]),e=Math.min(this.bbox[1],this.bbox[3])+__TURBOPACK__default__export__2.eps,f=Math.max(this.bbox[1],this.bbox[3]),g=this.config.resolution_out/this.config.unitX*(1+__TURBOPACK__default__export__2.eps),a=c;a<d;a+=g)!1!==(j=this.searchLine(m,n,a,[e,f],"vertical",k,h,i,20))&&(h=j[0],i=j[1],k=j[2]);for(g=this.config.resolution_out/this.config.unitY*(1+__TURBOPACK__default__export__2.eps),b=e;b<f;b+=g)!1!==(j=this.searchLine(o,p,b,[c,d],"horizontal",k,h,i,20))&&(h=j[0],i=j[1],k=j[2]);return[h,i,k]},searchLine:function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=this.config.tol_u0,x=d[0],y=d[1];if(j=__TURBOPACK__default__export__13.fminbr(a,[x,y]),m=a(j),n=a(k=__TURBOPACK__default__export__13.fminbr(b,[x,y])),m<w&&n>-w){if(j=Math.min(o=j,k),k=Math.max(o,k),l=__TURBOPACK__default__export__13.fzero(a,[j,k]),Math.abs(a(l))>Math.max((n-m)*__TURBOPACK__default__export__2.eps,.001))return!1;if("vertical"===e?(q=[1,c,l],v=this.config.resolution_in/this.config.unitY):(q=[1,l,c],v=this.config.resolution_in/this.config.unitX),v*=1+__TURBOPACK__default__export__2.eps,this.curveContainsPoint(q,g,h,2*v,this.config.qdt_box));else if((t=this.traceComponent(q,1))[0].length>0){for(f>0&&(g.push(NaN),h.push(NaN)),u=g.length,s=t[0].length,r=1;r<s;r++)this.qdt.insertItem({xlb:Math.min(t[0][r-1],t[0][r]),xub:Math.max(t[0][r-1],t[0][r]),ylb:Math.min(t[1][r-1],t[1][r]),yub:Math.max(t[1][r-1],t[1][r]),idx1:u+r-1,idx2:u+r,comp:f});f++,__TURBOPACK__default__export__3.concat(g,t[0]),__TURBOPACK__default__export__3.concat(h,t[1])}return(p=l-.01*v)-x>v&&i>0&&!1!==(t=this.searchLine(a,b,c,[x,p],e,f,g,h,i-1))&&(g=t[0],h=t[1],f=t[2]),y-(p=l+.01*v)>v&&i>0&&!1!==(t=this.searchLine(a,b,c,[p,y],e,f,g,h,i-1))&&(g=t[0],h=t[1],f=t[2]),[g,h,f]}return!1},curveContainsPoint:function(a,b,c,d,e){var f,g,h,i=a[1],j=a[2];for(f=0,g=(h=this.qdt.find([i-e,j+e,i+e,j-e])).length;f<g;f++)if(__TURBOPACK__default__export__14.distPointSegment(a,[1,b[h[f].idx1],c[h[f].idx1]],[1,b[h[f].idx2],c[h[f].idx2]])<d)return!0;return!1},traceComponent:function(a){var b=[],c=[],d=[];return 0===(d=this.tracing(a,1)).length||(b=d[0],c=d[1]),d[2]||0===(d=this.tracing(a,-1)).length||(b=d[0].reverse().concat(b.slice(1)),c=d[1].reverse().concat(c.slice(1))),b.length>0&&b.length<6&&(b.push(b[b.length-1]),c.push(c[c.length-1])),[b,c]},tracing:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=[],y=[],z=[],A=[],B=0,C=0,D=!1,E=!1,F=!1,G=this.config.kappa_0,H=this.config.delta_0,I=this.config.alpha_0,J=this.config.h_initial,K=this.config.max_steps,L=b,M=[],N=[],O=[];if(x=a.slice(1),M.push(x[0]),N.push(x[1]),!1===(d=this.tangent(x)))return[];h=[this.dfx(x[0],x[1]),this.dfy(x[0],x[1])];do{if(!1===(d=this.tangent(x))){x=z.slice(),M.push(x[0]),N.push(x[1]);break}if(1===M.length)f=d.slice();else if(2===M.length)O.push(M.length-1);else if(E&&M.length>2&&!F){if((o=__TURBOPACK__default__export__14.distPointSegment([1,x[0],x[1]],[1,M[0],N[0]],[1,M[1],N[1]]))<this.config.loop_dist*J&&__TURBOPACK__default__export__2.innerProduct(d,f,2)>this.config.loop_dir){x=a.slice(1),M.push(x[0]),N.push(x[1]),D=!0;break}if(this.config.loop_detection){for(v=0,t=M.length-1,u=Math.floor(__TURBOPACK__default__export__2.log2(t));v<=u&&!((o=__TURBOPACK__default__export__14.distPointSegment([1,x[0],x[1]],[1,M[O[v]-1],N[O[v]-1]],[1,M[O[v]],N[O[v]]]))<this.config.loop_dist*J&&(e=this.tangent([M[O[v]],N[O[v]]]),__TURBOPACK__default__export__2.innerProduct(d,e,2)>this.config.loop_dir));v++);if(v<=u){D=!0;break}for(v=0,u=1,w=0;v<100&&(t+1)%u==0;v++)u*=2,w++;O[w]=t}}z[0]=x[0]+J*L*d[0],z[1]=x[1]+J*L*d[1],C=0;do n=(i=[this.dfx(z[0],z[1]),this.dfy(z[0],z[1])])[0]*i[0]+i[1]*i[1],j=this.f(z[0],z[1])/n,A[0]=z[0]-i[0]*j,A[1]=z[1]-i[1]*j,0===C?l=Math.abs(j)*Math.sqrt(n):1===C&&(m=Math.abs(j)*Math.sqrt(n)),z[0]=A[0],z[1]=A[1],C++;while(C<20&&Math.abs(this.f(z[0],z[1]))>this.config.tol_newton)if(q=l,p=C>1?m/l:0,e=this.tangent(z),r=Math.acos(k=Math.max(-1,Math.min(1,k=__TURBOPACK__default__export__2.innerProduct(d,e,2)))),F=!1,__TURBOPACK__default__export__14.distance(x,z,2)<this.config.tol_progress){x=z.slice(),M.push(x[0]),N.push(x[1]);break}if(k<0)if(J>this.config.h_critical);else if(F=!0,this.isBifurcation(x,this.config.tol_cusp))L*=-1,r=0;else{x=z.slice(),M.push(x[0]),N.push(x[1]);break}if(!F&&(isNaN(s=Math.max(Math.sqrt(p/G),Math.sqrt(q/H),r/I))&&(s=1),J/=s=Math.max(Math.min(s,2),.5),J=Math.min(this.config.h_max,J),s>=2)){if(++B>=3*K)break;E=!1;continue}x=z.slice(),M.push(x[0]),N.push(x[1]),E=!0,B++}while(B<K&&x[0]>=this.bbox[0]&&x[1]<=this.bbox[1]&&x[0]<=this.bbox[2]&&x[1]>=this.bbox[3])return c=M.length,y=[M[c-2],N[c-2]],x[0]<this.bbox[0]&&(x[0]!==y[0]&&(g=(this.bbox[0]-y[0])/(x[0]-y[0]),x[1]!==y[1]&&(x[1]=y[1]+g*(x[1]-y[1]))),x[0]=this.bbox[0]),x[0]>this.bbox[2]&&(x[0]!==y[0]&&(g=(this.bbox[2]-y[0])/(x[0]-y[0]),x[1]!==y[1]&&(x[1]=y[1]+g*(x[1]-y[1]))),x[0]=this.bbox[2]),x[1]<this.bbox[3]&&(x[1]!==y[1]&&(g=(this.bbox[3]-y[1])/(x[1]-y[1]),x[0]!==y[0]&&(x[0]=y[0]+g*(x[0]-y[0]))),x[1]=this.bbox[3]),x[1]>this.bbox[1]&&(x[1]!==y[1]&&(g=(this.bbox[1]-y[1])/(x[1]-y[1]),x[0]!==y[0]&&(x[0]=y[0]+g*(x[0]-y[0]))),x[1]=this.bbox[1]),M[c-1]=x[0],N[c-1]=x[1],[M,N,D]},isBifurcation:function(a,b){var c,d,e,f,g,h,i,j,k,l,m=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps*100;return c=a[0],d=a[1],e=.5*(this.dfx(c+m,d)-this.dfx(c-m,d))/m,f=.5*(this.dfx(c,d+m)-this.dfx(c,d-m))/m,g=.5*(this.dfy(c+m,d)-this.dfy(c-m,d))/m,l=(i=e+(h=.5*(this.dfy(c,d+m)-this.dfy(c,d-m))/m))*i-4*(e*h-f*g),j=.5*(i+Math.sqrt(l)),k=.5*(i-Math.sqrt(l)),!!(Math.abs(j)>b&&Math.abs(k)>b)},handleCriticalPoint:function(a,b,c,d){var e,f=Math.atan2(d*b[1],d*b[0]),g=function(b){var d=a[0]+c*Math.cos(b),e=a[1]+c*Math.sin(b);return this.f(d,e)};return e=__TURBOPACK__default__export__13.root(g,f),[a[0]+c*Math.cos(e),a[1]+c*Math.sin(e)]},updateA:function(a,b,c){var d,e,f=[c[0]-b[0],c[1]-b[1]],g=this.f(c[0],c[1])-this.f(b[0],b[1]);return e=f[0]*f[0]+f[1]*f[1],d=(g-(a[0]*f[0]+a[1]*f[1]))/e,a[0]+=d*f[0],a[1]+=d*f[1],a},tangent_A:function(a){var b=[-a[1],a[0]],c=__TURBOPACK__default__export__2.norm(b,2);return __TURBOPACK__default__export__2.eps,[b[0]/c,b[1]/c]},tangent:function(a){var b=[-this.dfy(a[0],a[1]),this.dfx(a[0],a[1])],c=__TURBOPACK__default__export__2.norm(b,2);return!(c<__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps)&&[b[0]/c,b[1]/c]}});let __TURBOPACK__default__export__19=__TURBOPACK__default__export__2.ImplicitPlot;__TURBOPACK__default__export__2.Metapost={MP_ENDPOINT:0,MP_EXPLICIT:1,MP_GIVEN:2,MP_CURL:3,MP_OPEN:4,MP_END_CYCLE:5,UNITY:1,FRACTION_ONE:1,FRACTION_THREE:3,ONE_EIGHTY_DEG:Math.PI,THREE_SIXTY_DEG:2*Math.PI,EPS_SQ:1e-5*1e-5,make_choices:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=!0;h=a[0];do{if(!h)break;g=h.next,h.rtype>this.MP_EXPLICIT&&(h.x-g.x)*(h.x-g.x)+(h.y-g.y)*(h.y-g.y)<this.EPS_SQ&&(h.rtype=this.MP_EXPLICIT,h.ltype===this.MP_OPEN&&(h.ltype=this.MP_CURL,h.set_left_curl(this.UNITY)),g.ltype=this.MP_EXPLICIT,g.rtype===this.MP_OPEN&&(g.rtype=this.MP_CURL,g.set_right_curl(this.UNITY)),h.rx=h.x,g.lx=h.x,h.ry=h.y,g.ly=h.y),h=g}while(h!==a[0])for(c=a[0];q&&c.ltype===this.MP_OPEN&&c.rtype===this.MP_OPEN;)if((c=c.next)===a[0]){c.ltype=this.MP_END_CYCLE;break}for(h=c;q&&h;){if(g=h.next,h.rtype>=this.MP_GIVEN){for(;g.ltype===this.MP_OPEN&&g.rtype===this.MP_OPEN;)g=g.next;for(d=0,i=h,f=a.length,m=[],n=[],o=[],p=[null];q&&(k=i.next,m.push(k.x-i.x),n.push(k.y-i.y),o.push(this.mp_pyth_add(m[d],n[d])),d>0&&(l=n[d-1]/o[d-1],j=m[d-1]/o[d-1],p.push(Math.atan2(n[d]*j-m[d]*l,m[d]*j+n[d]*l))),d++,(i=k)===g&&(f=d),!(d>=f)||i.ltype===this.MP_END_CYCLE););d===f?p.push(0):p.push(p[1]),g.ltype===this.MP_OPEN&&((e=g.rx-g.x)*e+(b=g.ry-g.y)*b<this.EPS_SQ?(g.ltype=this.MP_CURL,g.set_left_curl(this.UNITY)):(g.ltype=this.MP_GIVEN,g.set_left_given(Math.atan2(b,e)))),h.rtype===this.MP_OPEN&&h.ltype===this.MP_EXPLICIT&&((e=h.x-h.lx)*e+(b=h.y-h.ly)*b<this.EPS_SQ?(h.rtype=this.MP_CURL,h.set_right_curl(this.UNITY)):(h.rtype=this.MP_GIVEN,h.set_right_given(Math.atan2(b,e)))),this.mp_solve_choices(h,g,f,m,n,o,p)}else h.rtype===this.MP_ENDPOINT&&(h.rx=h.x,h.ry=h.y,g.lx=g.x,g.ly=g.y);if((h=g)===c)break}},mp_solve_choices:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=!0;for(F=0,q=Array(l=f.length+1),p=Array(l),j=Array(l),v=Array(l);F<l;F++)v[F]=j[F]=p[F]=q[F]=0;for(n=0,o=a,s=0;H;){if(t=o.next,0===n)if(o.rtype===this.MP_GIVEN){if(t.ltype===this.MP_GIVEN){h=Math.atan2(e[0],d[0]),A=(z=this.mp_n_sin_cos(a.right_given()-h))[0],B=z[1],D=(C=this.mp_n_sin_cos(b.left_given()-h))[0],E=C[1],this.mp_set_controls(a,b,d[0],e[0],B,A,-E,D);return}j[0]=o.right_given()-Math.atan2(e[0],d[0]),j[0]=this.reduce_angle(j[0]),q[0]=0,p[0]=0}else if(o.rtype===this.MP_CURL){if(t.ltype===this.MP_CURL){a.rtype=this.MP_EXPLICIT,b.ltype=this.MP_EXPLICIT,r=Math.abs(b.left_tension()),w=Math.abs(a.right_tension()),u=this.UNITY/(3*w),a.rx=a.x+d[0]*u,a.ry=a.y+e[0]*u,u=this.UNITY/(3*r),b.lx=b.x-d[0]*u,b.ly=b.y-e[0]*u;return}y=o.right_curl(),r=Math.abs(t.left_tension()),w=Math.abs(o.right_tension()),q[0]=this.mp_curl_ratio(y,w,r),j[0]=-g[1]*q[0],p[0]=0}else o.rtype===this.MP_OPEN&&(q[0]=0,j[0]=0,p[0]=this.FRACTION_ONE);else if(o.ltype===this.MP_END_CYCLE||o.ltype===this.MP_OPEN){if(h=this.UNITY/(3*Math.abs(s.right_tension())-this.UNITY),x=f[n]*(this.FRACTION_THREE-this.UNITY/Math.abs(s.right_tension())),k=this.UNITY/(3*Math.abs(t.left_tension())-this.UNITY),m=f[n-1]*(this.FRACTION_THREE-this.UNITY/Math.abs(t.left_tension())),x*=y=this.FRACTION_ONE-q[n-1]*h,(r=Math.abs(o.left_tension()))<(w=Math.abs(o.right_tension()))?x*=Math.pow(r/w,2):r>w&&(m*=Math.pow(w/r,2)),u=m/(m+x),q[n]=u*k,i=-g[n+1]*q[n],s.rtype===this.MP_CURL?(p[n]=0,j[n]=i-g[1]*(this.FRACTION_ONE-u)):(u=(this.FRACTION_ONE-u)/y,i-=g[n]*u,u*=h,j[n]=i-j[n-1]*u,p[n]=-p[n-1]*u),o.ltype===this.MP_END_CYCLE){for(h=0,k=this.FRACTION_ONE;H&&(0==(n-=1)&&(n=c),h=j[n]-h*q[n],k=p[n]-k*q[n],n!==c););for(h/=this.FRACTION_ONE-k,v[c]=h,j[0]=h,G=1;G<c;G++)j[G]=j[G]+h*p[G];break}}else{if(o.ltype===this.MP_CURL){y=o.left_curl(),r=Math.abs(o.left_tension()),w=Math.abs(s.right_tension()),u=this.mp_curl_ratio(y,r,w),v[c]=-(j[c-1]*u)/(this.FRACTION_ONE-u*q[c-1]);break}if(o.ltype===this.MP_GIVEN){v[c]=o.left_given()-Math.atan2(e[c-1],d[c-1]),v[c]=this.reduce_angle(v[c]);break}}s=o,o=t,n+=1}for(n=c-1;n>-1;n--)v[n]=j[n]-v[n+1]*q[n];for(o=a,n=0;H&&(t=o.next,A=(z=this.mp_n_sin_cos(v[n]))[0],B=z[1],D=(C=this.mp_n_sin_cos(-g[n+1]-v[n+1]))[0],E=C[1],this.mp_set_controls(o,t,d[n],e[n],B,A,E,D),n++,o=t,n!==c););},mp_n_sin_cos:function(a){return[Math.cos(a),Math.sin(a)]},mp_set_controls:function(a,b,c,d,e,f,g,h){var i,j,k,l,m;k=Math.abs(b.left_tension()),i=Math.abs(a.right_tension()),m=this.mp_velocity(e,f,g,h,i),j=this.mp_velocity(g,h,e,f,k),(0>a.right_tension()||0>b.left_tension())&&(e>=0&&g>=0||e<=0&&g<=0)&&(l=Math.abs(e)*h+Math.abs(g)*f)>0&&(l*=1.00024414062,0>a.right_tension()&&0>this.mp_ab_vs_cd(Math.abs(g),this.FRACTION_ONE,m,l)&&(m=Math.abs(g)/l),0>b.left_tension()&&0>this.mp_ab_vs_cd(Math.abs(e),this.FRACTION_ONE,j,l)&&(j=Math.abs(e)/l)),a.rx=a.x+(c*f-d*e)*m,a.ry=a.y+(d*f+c*e)*m,b.lx=b.x-(c*h+d*g)*j,b.ly=b.y-(d*h-c*g)*j,a.rtype=this.MP_EXPLICIT,b.ltype=this.MP_EXPLICIT},mp_pyth_add:function(a,b){return __TURBOPACK__default__export__2.hypot(a,b)},mp_curl_ratio:function(a,b,c){var d=1/b,e=1/c;return Math.min(4,((3-d)*d*d*a+e*e*e)/(d*d*d*a+(3-e)*e*e))},mp_ab_vs_cd:function(a,b,c,d){return a*b==c*d?0:a*b>c*d?1:-1},mp_velocity:function(a,b,c,d,e){return Math.min(4,(2+Math.sqrt(2)*(a-c/16)*(c-a/16)*(b-d))/(1.5*e*(2+(Math.sqrt(5)-1)*b+(3-Math.sqrt(5))*d)))},reduce_angle:function(a){return Math.abs(a)>this.ONE_EIGHTY_DEG&&(a>0?a-=this.THREE_SIXTY_DEG:a+=this.THREE_SIXTY_DEG),a},makeknots:function(a,b){var c,d,e=[];for(c=0,d=a.length;c<d;c++)e.push({x:a[c][0],y:a[c][1],ltype:this.MP_OPEN,rtype:this.MP_OPEN,lx:!1,rx:!1,ly:b,ry:b,left_curl:function(){return this.lx||0},right_curl:function(){return this.rx||0},left_tension:function(){return this.ly||1},right_tension:function(){return this.ry||1},set_right_curl:function(a){this.rx=a||0},set_left_curl:function(a){this.lx=a||0}});for(c=0,d=e.length;c<d;c++)e[c].next=e[c+1]||e[c],e[c].set_right_given=e[c].set_right_curl,e[c].set_left_given=e[c].set_left_curl,e[c].right_given=e[c].right_curl,e[c].left_given=e[c].left_curl;return e[d-1].next=e[0],e},curve:function(a,b){var c,d,e,f,g,h,i=!1,j=[],k=[];for(f in g=1,(b=b||{tension:1,direction:{},curl:{},isClosed:!1}).hasOwnProperty("tension")&&(g=__TURBOPACK__default__export__3.evaluate(b.tension)),d=(c=this.makeknots(a,g)).length,__TURBOPACK__default__export__3.exists(b.isClosed)&&__TURBOPACK__default__export__3.evaluate(b.isClosed)&&(i=!0),i||(c[0].ltype=this.MP_ENDPOINT,c[0].rtype=this.MP_CURL,c[d-1].rtype=this.MP_ENDPOINT,c[d-1].ltype=this.MP_CURL),b)if(b.hasOwnProperty(f)){if(isNaN(e=parseInt(f,10))||e<0||e>=d)continue;h=b[e],__TURBOPACK__default__export__3.exists(h.type)&&"curl"===h.type&&(g=__TURBOPACK__default__export__3.evaluate(h.curl),0===e?(c[e].rtype=this.MP_CURL,c[e].set_right_curl(g)):e===d-1?(c[e].ltype=this.MP_CURL,c[e].set_left_curl(g)):(c[e].ltype=this.MP_CURL,c[e].rtype=this.MP_CURL,c[e].lx=g,c[e].rx=g)),__TURBOPACK__default__export__3.exists(h.direction)&&(g=__TURBOPACK__default__export__3.evaluate(h.direction),__TURBOPACK__default__export__3.isArray(g)?(!1!==g[0]&&(c[e].lx=g[0]*Math.PI/180,c[e].ltype=this.MP_GIVEN),!1!==g[1]&&(c[e].rx=g[1]*Math.PI/180,c[e].rtype=this.MP_GIVEN)):(c[e].lx=g*Math.PI/180,c[e].rx=g*Math.PI/180,c[e].ltype=c[e].rtype=this.MP_GIVEN)),__TURBOPACK__default__export__3.exists(h.tension)&&(g=__TURBOPACK__default__export__3.evaluate(h.tension),__TURBOPACK__default__export__3.isArray(g)?(!1!==g[0]&&(c[e].ly=__TURBOPACK__default__export__3.evaluate(g[0])),!1!==g[1]&&(c[e].ry=__TURBOPACK__default__export__3.evaluate(g[1]))):(c[e].ly=g,c[e].ry=g))}for(this.make_choices(c),e=0;e<d-1;e++)j.push(c[e].x),j.push(c[e].rx),j.push(c[e+1].lx),k.push(c[e].y),k.push(c[e].ry),k.push(c[e+1].ly);return j.push(c[d-1].x),k.push(c[d-1].y),i&&(j.push(c[d-1].rx),k.push(c[d-1].ry),j.push(c[0].lx),k.push(c[0].ly),j.push(c[0].x),k.push(c[0].y)),[j,k]}};let __TURBOPACK__default__export__20=__TURBOPACK__default__export__2.Metapost;__TURBOPACK__default__export__2.Clip={_isSeparator:function(a){return isNaN(a.coords.usrCoords[1])&&isNaN(a.coords.usrCoords[2])},makeDoublyLinkedList:function(a){var b,c=null,d=[],e=a.length;if(e>0)for(b=0;b<e;b++){if(this._isSeparator(a[b])){a[b]._next=a[(b+1)%e],a[b]._prev=a[(e+b-1)%e];continue}null===c&&(c=b,d.push(c)),this._isSeparator(a[(b+1)%e])||b===e-1?(a[b]._next=a[c],a[c]._prev=a[b],a[b]._end=!0,c=null):(a[b]._next=a[(b+1)%e],a[c]._prev=a[b]),this._isSeparator(a[(e+b-1)%e])||(a[b]._prev=a[(e+b-1)%e])}return d},Vertex:function(a,b,c,d,e,f){this.pos=b,this.intersection=!0,this.coords=a,this.elementClass=__TURBOPACK__default__export__1.OBJECT_CLASS_POINT,this.data={alpha:c,path:d,pathname:e,done:!1,type:f,idx:0},this.neighbour=null,this.entry_exit=!1},_addToList:function(a,b,c){var d=a.length,e=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps;d>0&&Math.abs(a[d-1].coords.usrCoords[0]-b.usrCoords[0])<e&&Math.abs(a[d-1].coords.usrCoords[1]-b.usrCoords[1])<e&&Math.abs(a[d-1].coords.usrCoords[2]-b.usrCoords[2])<e||a.push({pos:c,intersection:!1,coords:b,elementClass:__TURBOPACK__default__export__1.OBJECT_CLASS_POINT})},sortIntersections:function(a){var b,c,d,e,f,g,h=[],i=a.length;for(b=0;b<i;b++)if(a[b].sort(function(a,b){return a.data.alpha>b.data.alpha?1:-1}),a[b].length>0){for(f=a[b].length-1,g=(e=(d=a[b][0]).data.path[d.pos])._next,b===i-1&&(e._end=!1),0===d.data.alpha&&"T"===d.data.type?(e.intersection=!0,e.data=d.data,e.neighbour=d.neighbour,e.neighbour.neighbour=e,e.entry_exit=!1,a[b][0]=e):(d._prev=e,d._prev._next=d),c=1;c<=f;c++)(d=a[b][c])._prev=a[b][c-1],d._prev._next=d;(d=a[b][f])._next=g,d._next._prev=d,b===i-1&&(d._end=!0),h=h.concat(a[b])}return h},_inbetween:function(a,b,c){var d,e=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps,f=c[1]-b[1],g=c[2]-b[2],h=a[1]-b[1],i=a[2]-b[2];return 0===f&&0===g&&0===h&&0===i||(Math.abs(d=Math.abs(h)<e&&Math.abs(f)<e?i/g:h/f)<e&&(d=0),d)},_print_array:function(a){var b,c;for(b=0;b<a.length;b++)try{c="",a[b]._end&&(c=" end"),console.log(b,a[b].coords.usrCoords,a[b].data.type,"	","prev",a[b]._prev.coords.usrCoords,"next",a[b]._next.coords.usrCoords+c)}catch(c){console.log(b,a[b].coords.usrCoords)}},_print_list:function(a){for(var b,c=0;c<100&&(b=a.data?a.data.alpha:"-",console.log("	",a.coords.usrCoords,"\n		is:",a.intersection,"end:",a._end,b,"\n		-:",a._prev.coords.usrCoords,"\n		+:",a._next.coords.usrCoords,"\n		n:",a.intersection?a.neighbour.coords.usrCoords:"-"),!a._end);)a=a._next,c++},_noOverlap:function(a,b,c,d){var e,f,g,h,i,j=Math.sqrt(__TURBOPACK__default__export__2.eps),k=!1;for(e=0;e<3;e++)if(f=Math.min(a[e],b[e]),g=Math.max(a[e],b[e]),h=Math.min(c[e],d[e]),i=Math.max(c[e],d[e]),g<h-j||f>i+j){k=!0;break}return k},findIntersections:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q=[],r=100*__TURBOPACK__default__export__2.eps,s=a.length,t=b.length,u=[],v=[],w=[],x=[],y=!1,z=!1;for(e=0;e<t;e++)x.push([]);for(d=0;d<s;d++){if(w.push([]),this._isSeparator(a[d])||this._isSeparator(a[(d+1)%s])){y=!0;continue}if(y&&d===s-1)break;for(e=0,g=a[d].coords.usrCoords,h=a[(d+1)%s].coords.usrCoords;e<t;e++){if(this._isSeparator(b[e])||this._isSeparator(b[(e+1)%t])){z=!0;continue}if(z&&e===t-1)break;if(i=b[e].coords.usrCoords,j=b[(e+1)%t].coords.usrCoords,!this._noOverlap(g,h,i,j)&&(q=__TURBOPACK__default__export__14.meetSegmentSegment(g,h,i,j),k=__TURBOPACK__default__export__14.distance(g,h,3),l=__TURBOPACK__default__export__14.distance(i,j,3),q[1]*k>-r&&q[1]<1-r/k&&q[2]*l>-r&&q[2]<1-r/l||q[1]===1/0&&q[2]===1/0&&__TURBOPACK__default__export__2.norm(q[0],3)<r)){if(f=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,q[0],c),n="X",Math.abs(q[1])*k<r||Math.abs(q[2])*l<r)n="T",Math.abs(q[1])*k<r&&(q[1]=0),Math.abs(q[2])*l<r&&(q[2]=0),f=0===q[1]?new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,g,c):new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,i,c);else if(q[1]===1/0&&q[2]===1/0&&__TURBOPACK__default__export__2.norm(q[0],3)<r){(m=this._inbetween(g,i,j))>=0&&m<1&&(n="T",f=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,g,c),q[1]=0,q[2]=m,o=new this.Vertex(f,d,q[1],a,"S",n),p=new this.Vertex(f,e,q[2],b,"C",n),o.neighbour=p,p.neighbour=o,w[d].push(o),x[e].push(p)),m=this._inbetween(i,g,h),__TURBOPACK__default__export__14.distance(g,i,3)>r&&m>=0&&m<1&&(n="T",f=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,i,c),q[1]=m,q[2]=0,o=new this.Vertex(f,d,q[1],a,"S",n),p=new this.Vertex(f,e,q[2],b,"C",n),o.neighbour=p,p.neighbour=o,w[d].push(o),x[e].push(p));continue}o=new this.Vertex(f,d,q[1],a,"S",n),p=new this.Vertex(f,e,q[2],b,"C",n),o.neighbour=p,p.neighbour=o,w[d].push(o),x[e].push(p)}}}for(d=0,u=this.sortIntersections(w);d<u.length;d++)u[d].data.idx=d,u[d].neighbour.data.idx=d;return[u,v=this.sortIntersections(x)]},_getPosition:function(a,b,c,d){var e=__TURBOPACK__default__export__14.det3p(a,b,c),f=__TURBOPACK__default__export__14.det3p(a,c,d);return __TURBOPACK__default__export__14.det3p(b,c,d)>=0?e>=0&&f>=0?"left":"right":e>=0||f>=0?"left":"right"},_classifyDegenerateIntersections:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=!0;for(j=__TURBOPACK__default__export__14.det3p,h=0,a._tours=0;p;){if(a.intersection&&"T"===a.data.type&&(b=a._next.coords.usrCoords,c=a._prev.coords.usrCoords,__TURBOPACK__default__export__14.distance(a.coords.usrCoords,b,3)<__TURBOPACK__default__export__2.eps&&(b=a._next._next.coords.usrCoords),__TURBOPACK__default__export__14.distance(a.coords.usrCoords,c,3)<__TURBOPACK__default__export__2.eps&&(c=a._prev._prev.coords.usrCoords),e=(f=a.neighbour)._prev.coords.usrCoords,d=f._next.coords.usrCoords,__TURBOPACK__default__export__14.distance(f.coords.usrCoords,d,3)<__TURBOPACK__default__export__2.eps&&(d=f._next._next.coords.usrCoords),__TURBOPACK__default__export__14.distance(f.coords.usrCoords,e,3)<__TURBOPACK__default__export__2.eps&&(e=f._prev._prev.coords.usrCoords),l=j(a.coords.usrCoords,c,e),m=j(a.coords.usrCoords,b,d),n=j(a.coords.usrCoords,c,d),o=j(a.coords.usrCoords,b,e),0===l&&0===m&&0===n&&0===o&&(a.coords.usrCoords[1]*=1+Math.random()*__TURBOPACK__default__export__2.eps,a.coords.usrCoords[2]*=1+Math.random()*__TURBOPACK__default__export__2.eps,f.coords.usrCoords[1]=a.coords.usrCoords[1],f.coords.usrCoords[2]=a.coords.usrCoords[2],l=j(a.coords.usrCoords,c,e),m=j(a.coords.usrCoords,b,d),n=j(a.coords.usrCoords,c,d),o=j(a.coords.usrCoords,b,e)),k=!1,0===l?0>__TURBOPACK__default__export__14.affineRatio(a.coords.usrCoords,c,e)&&(k=!0):0===m?0>__TURBOPACK__default__export__14.affineRatio(a.coords.usrCoords,b,d)&&(k=!0):0===n?__TURBOPACK__default__export__14.affineRatio(a.coords.usrCoords,c,d)>0&&(k=!0):0===o&&__TURBOPACK__default__export__14.affineRatio(a.coords.usrCoords,b,e)>0&&(k=!0),k&&(i=e,e=d,d=i,i=l,l=n,n=i,i=m,m=o,o=i),__TURBOPACK__default__export__3.exists(a.delayedStatus)||(a.delayedStatus=[]),0===l&&0===m?a.delayedStatus=["on","on"]:0===l?(g=this._getPosition(b,e,f.coords.usrCoords,d),a.delayedStatus=["on",g]):0===m?(g=this._getPosition(c,e,f.coords.usrCoords,d),a.delayedStatus=[g,"on"]):0===a.delayedStatus.length&&(this._getPosition(c,e,f.coords.usrCoords,d)!==this._getPosition(b,e,f.coords.usrCoords,d)?a.data.type="X":a.data.type="B")),__TURBOPACK__default__export__3.exists(a._tours)&&a._tours++,a._tours>3||a._end||h>1e3){h>1e3&&console.log("Clipping: _classifyDegenerateIntersections exit"),__TURBOPACK__default__export__3.exists(a._tours)&&delete a._tours;break}a.intersection&&h++,a=a._next}},_handleIntersectionChains:function(a){for(var b,c=0,d="Null",e=!0,f=!1,g=!1;e&&(!0===a.intersection&&("T"===a.data.type&&("on"!==a.delayedStatus[0]&&"on"===a.delayedStatus[1]?(f=!0,b=a,d=a.delayedStatus[0]):f&&"on"===a.delayedStatus[0]&&"on"===a.delayedStatus[1]?a.data.type="B":f&&"on"===a.delayedStatus[0]&&"on"!==a.delayedStatus[1]&&(f=!1,d===a.delayedStatus[1]?(b.data.type="DB",a.data.type="DB"):(b.data.type="DX",a.data.type="DX"))),c++),a._end&&(g=!0),!g||f);){if(c>1e3){console.log("Warning: _handleIntersectionChains: intersection chain reached maximum numbers of iterations");break}a=a._next}},_handleFullyDegenerateCase:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=[a,b];for(f=0;f<2;f++){for(k=0,m=(d=r[f]).length,q=!0;k<m;k++)if(!d[k].intersection){q=!1;break}if(q)for(k=0,n=(e=r[(f+1)%2]).length;k<m;k++){for(l=0,h=d[k].coords.usrCoords,i=d[k]._next.coords.usrCoords,g=[(h[0]+i[0])*.5,(h[1]+i[1])*.5,(h[2]+i[2])*.5],o=!1;l<n;l++)if(Math.abs(__TURBOPACK__default__export__14.det3p(e[l].coords.usrCoords,e[(l+1)%n].coords.usrCoords,g))<__TURBOPACK__default__export__2.eps){o=!0;break}if(!o){j={pos:k,intersection:!1,coords:new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,g,c),elementClass:__TURBOPACK__default__export__1.OBJECT_CLASS_POINT},p=d[k]._next,d[k]._next=j,j._prev=d[k],j._next=p,p._prev=j,d[k]._end&&(d[k]._end=!1,j._end=!0);break}}}},_getStatus:function(a,b){for(var c;a.intersection&&!a._end;)a=a._next;return c=0===__TURBOPACK__default__export__14.windingNumber(a.coords.usrCoords,b)?"entry":"exit",[a,c]},markEntryExit:function(a,b,c){var d,e,f,g,h,i,j,k=!0,l=null,m=0;for(h=0,i=c.length;h<i;h++)for(j=c[h],this._classifyDegenerateIntersections(a[j]),this._handleIntersectionChains(a[j]),e=(g=this._getStatus(a[j],b))[0],d=g[1],e._starter=!0,f=0,l=null,m=0;k&&(!0===e.intersection&&("X"===e.data.type&&1===m&&(l.entry_exit=d,"exit"===d&&(l.data.type="X"),m=2),("X"===e.data.type||"DB"===e.data.type)&&(e.entry_exit=d,d="entry"===d?"exit":"entry"),"DX"===e.data.type)&&(0===m?(l=e,m=1):1===m?(e.entry_exit=d,l.entry_exit=d,"exit"===d?l.data.type="X":e.data.type="X",d="entry"===d?"exit":"entry",l=null,m=0):2===m&&(e.entry_exit=d,e.data.type="X",d="entry"===d?"exit":"entry",l=null,m=0)),e=e._next,!__TURBOPACK__default__export__3.exists(e._starter)&&!(f>1e4));){;f++}},_stayOnPath:function(a,b){var c=!0;return a.intersection&&"B"!==a.data.type&&(c=b===a.entry_exit),c},_addVertex:function(a,b,c){return(isNaN(b.coords.usrCoords[1])||isNaN(b.coords.usrCoords[2])||a.push(b),b.intersection&&b.data.done)?(c&&console.log("Add last intersection point",b.coords.usrCoords,"on",b.data.pathname,b.entry_exit,b.data.type),!0):(b.intersection&&(b.data.done=!0,c&&console.log("Add intersection point",b.coords.usrCoords,"on",b.data.pathname,b.entry_exit,b.data.type)),!1)},tracing:function(a,b,c){for(var d,e,f,g,h=0,i=1e4,j=0,k=[],l=!1,m=!1;j<b.length&&h<i;){if((f=b[j]).data.done||"X"!==f.data.type){j++;continue}k.length>0&&k.push([NaN,NaN]),g=f.data.idx,d=a,l=this._addVertex(k,f,m),e=f.entry_exit;do{if(l)break;if("intersection"===c&&"entry"===f.entry_exit||"union"===c&&"exit"===f.entry_exit||"difference"===c&&d===a==("exit"===f.entry_exit)){do if(f=f._next,l=this._addVertex(k,f,m))break;while(this._stayOnPath(f,e))h++}else{do if(f=f._prev,l=this._addVertex(k,f,m))break;while(this._stayOnPath(f,e))h++}if(l)break;if(!f.neighbour)return console.log("Tracing: emergency break - no neighbour!!!!!!!!!!!!!!!!!",h),[[0],[0]];if((f=f.neighbour).data.done)break;f.data.done=!0,e=f.entry_exit,d=f.data.path}while(f.data.idx!==g&&h<i)h>=i&&console.log("Tracing: stopping an infinite loop!",h),j++}return this._getCoordsArrays(k,!1)},isEmptyCase:function(a,b,c){return"intersection"===c&&(0===a.length||0===b.length)||"union"===c&&0===a.length&&0===b.length||"difference"===c&&0===a.length},_getCoordsArrays:function(a,b){var c,d=[],e=[],f=a.length;for(c=0;c<f;c++)a[c].coords?(d.push(a[c].coords.usrCoords[1]),e.push(a[c].coords.usrCoords[2])):(d.push(a[c][0]),e.push(a[c][1]));return b&&f>0&&(a[0].coords?(d.push(a[0].coords.usrCoords[1]),e.push(a[0].coords.usrCoords[2])):(d.push(a[0][0]),e.push(a[0][1]))),[d,e]},handleEmptyIntersection:function(a,b,c){var d,e,f=!1,g=[];if(0===a.length)return g="union"===c?b:[],this._getCoordsArrays(g,!0);if(0===b.length)return g="intersection"===c?[]:a,this._getCoordsArrays(g,!0);if(a.length>0)for(d=a[0];d.intersection&&!(d=d._next)._end;);if(b.length>0)for(e=b[0];e.intersection&&!(e=e._next)._end;);return 0===__TURBOPACK__default__export__14.windingNumber(d.coords.usrCoords,b)?0!==__TURBOPACK__default__export__14.windingNumber(e.coords.usrCoords,a)?("union"===c?(__TURBOPACK__default__export__3.concat(g,a),g.push(a[0])):"difference"===c&&(__TURBOPACK__default__export__3.concat(g,a),g.push(a[0]),__TURBOPACK__default__export__14.signedPolygon(a)*__TURBOPACK__default__export__14.signedPolygon(b)>0&&g.reverse(),g.push([NaN,NaN])),("difference"===c||"intersection"===c)&&(__TURBOPACK__default__export__3.concat(g,b),g.push(b[0]),f=!1)):"difference"===c?(__TURBOPACK__default__export__3.concat(g,a),f=!0):"union"===c&&(__TURBOPACK__default__export__3.concat(g,a),g.push(a[0]),g.push([NaN,NaN]),__TURBOPACK__default__export__3.concat(g,b),g.push(b[0])):"intersection"===c?(__TURBOPACK__default__export__3.concat(g,a),f=!0):"union"===c&&(__TURBOPACK__default__export__3.concat(g,b),g.push(b[0])),this._getCoordsArrays(g,f)},_countCrossingIntersections:function(a){var b,c=a.length,d=0;for(b=0;b<c;b++)"X"===a[b].data.type&&d++;return d},_getPath:function(a,b){var c,d,e,f,g,h,i,j=[];if(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ARC||a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR)){for(i=Math.floor(180*(g=__TURBOPACK__default__export__14.rad(a.radiuspoint,a.center,a.anglepoint))/Math.PI),e=a.Radius(),f=g/i,h=Math.atan2(a.radiuspoint.coords.usrCoords[2]-a.center.coords.usrCoords[2],a.radiuspoint.coords.usrCoords[1]-a.center.coords.usrCoords[1]),a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR&&this._addToList(j,a.center.coords,0),c=0;c<=i;c++)this._addToList(j,new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.center.coords.usrCoords[0],a.center.coords.usrCoords[1]+Math.cos(c*f+h)*e,a.center.coords.usrCoords[2]+Math.sin(c*f+h)*e],b),c+1);a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR&&this._addToList(j,a.center.coords,i+2)}else if(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&__TURBOPACK__default__export__3.exists(a.points))for(c=0,d=a.numberPoints;c<d;c++)this._addToList(j,a.points[c],c);else if(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON)for(c=0;c<a.vertices.length;c++)this._addToList(j,a.vertices[c].coords,c);else if(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)for(c=0,i=359,e=a.Radius(),f=2*Math.PI/i;c<=i;c++)this._addToList(j,new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[a.center.coords.usrCoords[0],a.center.coords.usrCoords[1]+Math.cos(c*f)*e,a.center.coords.usrCoords[2]+Math.sin(c*f)*e],b),c);else if(__TURBOPACK__default__export__3.isArray(a))for(c=0,d=a.length;c<d;c++)__TURBOPACK__default__export__3.exists(a[c].coords)?this._addToList(j,a[c].coords,c):__TURBOPACK__default__export__3.isArray(a[c])?this._addToList(j,new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a[c],b),c):__TURBOPACK__default__export__3.exists(a[c].usrCoords)&&this._addToList(j,a[c],c);return j},greinerHormann:function(a,b,c,d){var e,f,g,h=[],i=[],j=[],k=[];return((e=(h=this._getPath(a,d)).length)>0&&__TURBOPACK__default__export__14.distance(h[0].coords.usrCoords,h[e-1].coords.usrCoords,3)<__TURBOPACK__default__export__2.eps&&h.pop(),(e=(i=this._getPath(b,d)).length)>0&&__TURBOPACK__default__export__14.distance(i[0].coords.usrCoords,i[e-1].coords.usrCoords,3)<__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps&&i.pop(),this.isEmptyCase(h,i,c))?[[],[]]:(f=this.makeDoublyLinkedList(h),g=this.makeDoublyLinkedList(i),j=(k=this.findIntersections(h,i,d))[0],this._handleFullyDegenerateCase(h,i,d),this.markEntryExit(h,i,f),this.markEntryExit(i,h,g),0===this._countCrossingIntersections(j))?this.handleEmptyIntersection(h,i,c):this.tracing(h,j,c)},union:function(a,b,c){return this.greinerHormann(a,b,"union",c)},intersection:function(a,b,c){return this.greinerHormann(a,b,"intersection",c)},difference:function(a,b,c){return this.greinerHormann(a,b,"difference",c)}};let __TURBOPACK__default__export__21=__TURBOPACK__default__export__2.Clip;__TURBOPACK__default__export__2.Poly={},__TURBOPACK__default__export__2.Poly.Ring=function(a){this.vars=a},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__2.Poly.Ring.prototype,{}),__TURBOPACK__default__export__2.Poly.Monomial=function(a,b,c){var d;if(!__TURBOPACK__default__export__3.exists(a))throw Error("JSXGraph error: In JXG.Math.Poly.monomial missing parameter 'ring'.");for(__TURBOPACK__default__export__3.isArray(c)||(c=[]),d=(c=c.slice(0,a.vars.length)).length;d<a.vars.length;d++)c.push(0);this.ring=a,this.coefficient=b||0,this.exponents=__TURBOPACK__default__export__3.deepCopy(c)},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__2.Poly.Monomial.prototype,{copy:function(){return new __TURBOPACK__default__export__2.Poly.Monomial(this.ring,this.coefficient,this.exponents)},print:function(){var a,b=[];for(a=0;a<this.ring.vars.length;a++)b.push(this.ring.vars[a]+"^"+this.exponents[a]);return this.coefficient+"*"+b.join("*")}}),__TURBOPACK__default__export__2.Poly.Polynomial=function(a,b){var c,d=function(){};if(!__TURBOPACK__default__export__3.exists(a))throw Error("JSXGraph error: In JXG.Math.Poly.polynomial missing parameter 'ring'.");c=__TURBOPACK__default__export__3.exists(b)&&__TURBOPACK__default__export__3.isString(b)?d(b):[],this.ring=a,this.monomials=c},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__2.Poly.Polynomial.prototype,{findSignature:function(a){var b;for(b=0;b<this.monomials.length;b++)if(__TURBOPACK__default__export__3.cmpArrays(this.monomials[b].exponents,a))return b;return -1},addSubMonomial:function(a,b){var c;(c=this.findSignature(a.exponents))>-1?this.monomials[c].coefficient+=b*a.coefficient:(a.coefficient*=b,this.monomials.push(a))},add:function(a){var b;if(__TURBOPACK__default__export__3.exists(a)&&a.ring===this.ring)if(__TURBOPACK__default__export__3.isArray(a.exponents))this.addSubMonomial(a,1);else for(b=0;b<a.monomials.length;b++)this.addSubMonomial(a.monomials[b],1);else throw Error("JSXGraph error: In JXG.Math.Poly.polynomial.add either summand is undefined or rings don't match.")},sub:function(a){var b;if(__TURBOPACK__default__export__3.exists(a)&&a.ring===this.ring)if(__TURBOPACK__default__export__3.isArray(a.exponents))this.addSubMonomial(a,-1);else for(b=0;b<a.monomials.length;b++)this.addSubMonomial(a.monomials[b],-1);else throw Error("JSXGraph error: In JXG.Math.Poly.polynomial.sub either summand is undefined or rings don't match.")},copy:function(){var a,b;for(a=0,b=new __TURBOPACK__default__export__2.Poly.Polynomial(this.ring);a<this.monomials.length;a++)b.monomials.push(this.monomials[a].copy());return b},print:function(){var a,b=[];for(a=0;a<this.monomials.length;a++)b.push("("+this.monomials[a].print()+")");return b.join("+")}});let __TURBOPACK__default__export__22=__TURBOPACK__default__export__2.Poly;__TURBOPACK__default__export__.Complex=function(a,b){this.isComplex=!0,a&&a.isComplex&&(b=a.imaginary,a=a.real),this.real=a||0,this.imaginary=b||0},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Complex.prototype,{toString:function(){return this.real+" + "+this.imaginary+"i"},add:function(a){return __TURBOPACK__default__export__3.isNumber(a)?this.real+=a:(this.real+=a.real,this.imaginary+=a.imaginary),this},sub:function(a){return __TURBOPACK__default__export__3.isNumber(a)?this.real-=a:(this.real-=a.real,this.imaginary-=a.imaginary),this},mult:function(a){var b,c;return __TURBOPACK__default__export__3.isNumber(a)?(this.real*=a,this.imaginary*=a):(b=this.real,c=this.imaginary,this.real=b*a.real-c*a.imaginary,this.imaginary=b*a.imaginary+c*a.real),this},div:function(a){var b,c,d;if(__TURBOPACK__default__export__3.isNumber(a)){if(Math.abs(a)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;this.real/=a,this.imaginary/=a}else{if(Math.abs(a.real)<Math.eps&&Math.abs(a.imaginary)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;b=a.real*a.real+a.imaginary*a.imaginary,d=this.real,c=this.imaginary,this.real=(d*a.real+c*a.imaginary)/b,this.imaginary=(c*a.real-d*a.imaginary)/b}return this},conj:function(){return this.imaginary*=-1,this},abs:function(){var a=this.real,b=this.imaginary;return Math.sqrt(a*a+b*b)},angle:function(){return Math.atan2(this.imaginary,this.real)}}),__TURBOPACK__default__export__.C={},__TURBOPACK__default__export__.C.add=function(a,b){var c=new __TURBOPACK__default__export__.Complex(a);return c.add(b),c},__TURBOPACK__default__export__.C.sub=function(a,b){var c=new __TURBOPACK__default__export__.Complex(a);return c.sub(b),c},__TURBOPACK__default__export__.C.mult=function(a,b){var c=new __TURBOPACK__default__export__.Complex(a);return c.mult(b),c},__TURBOPACK__default__export__.C.div=function(a,b){var c=new __TURBOPACK__default__export__.Complex(a);return c.div(b),c},__TURBOPACK__default__export__.C.conj=function(a){var b=new __TURBOPACK__default__export__.Complex(a);return b.conj(),b},__TURBOPACK__default__export__.C.abs=function(a){return new __TURBOPACK__default__export__.Complex(a).abs()},__TURBOPACK__default__export__.C.angle=function(a){return new __TURBOPACK__default__export__.Complex(a).angle()},__TURBOPACK__default__export__.C.copy=function(a){return new __TURBOPACK__default__export__.Complex(a)},__TURBOPACK__default__export__.Complex.C=__TURBOPACK__default__export__.C;let __TURBOPACK__default__export__23=__TURBOPACK__default__export__.Complex;var simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",venetianred:"ae181e",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},colorDefs=[{re:/^\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d.]{1,3})\s*\)\s*$/,example:["rgba(123, 234, 45, 0.5)","rgba(255,234,245,1.0)"],process:function(a){return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]}},{re:/^\s*rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}];__TURBOPACK__default__export__.rgbParser=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=a;if(!__TURBOPACK__default__export__3.exists(a))return[];if(__TURBOPACK__default__export__3.exists(b)&&__TURBOPACK__default__export__3.exists(c)&&(n=[a,b,c]),d=n,m=!1,__TURBOPACK__default__export__3.isArray(d)){for(i=0;i<3;i++)m=m||/\./.test(n[i].toString());for(i=0;i<3;i++)m=m&&n[i]>=0&&n[i]<=1;return m?[Math.ceil(255*n[0]),Math.ceil(255*n[1]),Math.ceil(255*n[2])]:n}for("string"==typeof n&&(d=n),"#"===d.charAt(0)&&(d=d.slice(1,7)),d=simpleColors[d=d.replace(/ /g,"").toLowerCase()]||d,i=0;i<colorDefs.length;i++)f=colorDefs[i].re,g=colorDefs[i].process,(h=f.exec(d))&&(j=(e=g(h))[0],k=e[1],l=e[2]);return isNaN(j)||isNaN(k)||isNaN(l)?[]:(j=j<0||isNaN(j)?0:j>255?255:j,[j,k=k<0||isNaN(k)?0:k>255?255:k,l=l<0||isNaN(l)?0:l>255?255:l])},__TURBOPACK__default__export__.isColor=function(a){var b=new Option().style;return b.color=a,""!==b.color},__TURBOPACK__default__export__.rgb2css=function(a,b,c){var d;return"rgb("+(d=__TURBOPACK__default__export__.rgbParser(a,b,c))[0]+", "+d[1]+", "+d[2]+")"},__TURBOPACK__default__export__.rgb2hex=function(a,b,c){var d,e,f;return e=(d=__TURBOPACK__default__export__.rgbParser(a,b,c))[1],f=d[2],d=(d=d[0]).toString(16),e=e.toString(16),f=f.toString(16),1===d.length&&(d="0"+d),1===e.length&&(e="0"+e),1===f.length&&(f="0"+f),"#"+d+e+f},__TURBOPACK__default__export__.hex2rgb=function(a){return __TURBOPACK__default__export__.deprecated("JXG.hex2rgb()","JXG.rgb2css()"),__TURBOPACK__default__export__.rgb2css(a)},__TURBOPACK__default__export__.hsv2rgb=function(a,b,c){var d,e,f,g,h,i,j,k,l;if(a=(a%360+360)%360,0===b)if(!isNaN(a)&&!(a<__TURBOPACK__default__export__2.eps))return"#ffffff";else d=c,e=c,f=c;else switch(h=Math.floor(i=(a>=360?0:a)/60),g=i-h,j=c*(1-b),k=c*(1-b*g),l=c*(1-b*(1-g)),h){case 0:d=c,e=l,f=j;break;case 1:d=k,e=c,f=j;break;case 2:d=j,e=c,f=l;break;case 3:d=j,e=k,f=c;break;case 4:d=l,e=j,f=c;break;case 5:d=c,e=j,f=k}return d=2===(d=Math.round(255*d).toString(16)).length?d:1===d.length?"0"+d:"00","#"+d+(e=2===(e=Math.round(255*e).toString(16)).length?e:1===e.length?"0"+e:"00")+(f=2===(f=Math.round(255*f).toString(16)).length?f:1===f.length?"0"+f:"00")},__TURBOPACK__default__export__.rgb2hsv=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;return e=(d=__TURBOPACK__default__export__.rgbParser(a,b,c))[1],f=d[2],g=(d=d[0])/255,h=e/255,i=f/255,o=Math.max(d,e,f),p=Math.min(d,e,f),j=o/255,k=p/255,m=0,(n=j)>0&&(m=(n-k)/n),l=1/(j-k),m>0&&(l=o===d?(h-i)*l:o===e?2+(i-g)*l:4+(g-h)*l),(l*=60)<0&&(l+=360),o===p&&(l=0),[l,m,n]},__TURBOPACK__default__export__.rgb2LMS=function(a,b,c){var d,e,f,g,h,i,j,k=[[.05059983,.08585369,.0095242],[.01893033,.08925308,.01370054],[.00292202,.00975732,.07145979]];return e=(d=__TURBOPACK__default__export__.rgbParser(a,b,c))[1],f=d[2],d=Math.pow(d=d[0],.476190476),e=Math.pow(e,.476190476),f=Math.pow(f,.476190476),g=d*k[0][0]+e*k[0][1]+f*k[0][2],(j=[g,h=d*k[1][0]+e*k[1][1]+f*k[1][2],i=d*k[2][0]+e*k[2][1]+f*k[2][2]]).l=g,j.m=h,j.s=i,j},__TURBOPACK__default__export__.LMS2rgb=function(a,b,c){var d,e,f,g,h=[[30.830854,-29.832659,1.610474],[-6.481468,17.715578,-2.532642],[-.37569,-1.199062,14.273846]],i=function(a){for(var b=127,c=64;c>0;){if(Math.pow(b,.476190476)>a)b-=c;else{if(Math.pow(b+1,.476190476)>a)return b;b+=c}c/=2}return 254===b&&13.994955247<a?255:b};return d=a*h[0][0]+b*h[0][1]+c*h[0][2],e=a*h[1][0]+b*h[1][1]+c*h[1][2],f=a*h[2][0]+b*h[2][1]+c*h[2][2],d=i(d),(g=[d,e=i(e),f=i(f)]).r=d,g.g=e,g.b=f,g},__TURBOPACK__default__export__.rgba2rgbo=function(a){var b;return 9===a.length&&"#"===a.charAt(0)?(b=parseInt(a.slice(7,9).toUpperCase(),16)/255,a=a.slice(0,7)):b=1,[a,b]},__TURBOPACK__default__export__.rgbo2rgba=function(a,b){var c;return"none"===a||"transparent"===a?a:(1===(c=Math.round(255*b).toString(16)).length&&(c="0"+c),__TURBOPACK__default__export__.rgb2hex(a)+c)},__TURBOPACK__default__export__.rgb2bw=function(a){var b,c,d,e="0123456789ABCDEF";return"none"===a?a:a="#"+(c=e.charAt((b=Math.floor(.3*(d=__TURBOPACK__default__export__.rgbParser(a))[0]+.59*d[1]+.11*d[2]))>>4&15)+e.charAt(15&b))+c+c},__TURBOPACK__default__export__.rgb2cb=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p="0123456789ABCDEF";if("none"===a)return a;switch(d=(g=__TURBOPACK__default__export__.rgb2LMS(a))[0],e=g[1],f=g[2],b=b.toLowerCase()){case"protanopia":i=-.06150039994295001,j=.08277001656812001,k=-.013200141220000003,l=.05858939668799999,m=-.07934519995360001,n=.013289415272000003,o=.6903216543277437,d=(h=f/e)<o?-(j*e+k*f)/i:-(m*e+n*f)/l;break;case"tritanopia":i=-58973116217e-14,j=.007690316482,k=-.01011703519052,l=.025495080838999994,m=-.0422740347,n=.017005316784,o=.8349489908460004,f=(h=e/d)<o?-(i*d+j*e)/k:-(l*d+m*e)/n;break;default:i=-.06150039994295001,j=.08277001656812001,k=-.013200141220000003,l=.05858939668799999,m=-.07934519995360001,n=.013289415272000003,o=.5763833686400911,e=(h=f/d)<o?-(i*d+k*f)/j:-(l*d+n*f)/m}return"#"+(h=p.charAt((c=__TURBOPACK__default__export__.LMS2rgb(d,e,f))[0]>>4&15)+p.charAt(15&c[0]))+(h=p.charAt(c[1]>>4&15)+p.charAt(15&c[1]))+(h=p.charAt(c[2]>>4&15)+p.charAt(15&c[2]))},__TURBOPACK__default__export__.shadeColor=function(a,b){var c=__TURBOPACK__default__export__.rgbParser(a),d=c[0],e=c[1],f=c[2];return d=parseInt(d+255*b),e=parseInt(e+255*b),f=parseInt(f+255*b),e=(e=e>0?e:0)<255?e:255,f=(f=f>0?f:0)<255?f:255,d=Math.round(d=(d=d>0?d:0)<255?d:255),e=Math.round(e),f=Math.round(f),__TURBOPACK__default__export__.rgb2hex([d,e,f])},__TURBOPACK__default__export__.lightenColor=function(a,b){return __TURBOPACK__default__export__.shadeColor(a,b)},__TURBOPACK__default__export__.darkenColor=function(a,b){return __TURBOPACK__default__export__.shadeColor(a,-1*b)},__TURBOPACK__default__export__.autoHighlight=function(a){var b=__TURBOPACK__default__export__.rgba2rgbo(a),c=b[0],d=b[1];return"#"===a.charAt(0)?(d<.3?d*=1.8:d*=.4,__TURBOPACK__default__export__.rgbo2rgba(c,d)):a},__TURBOPACK__default__export__.contrast=function(a,b,c,d){var e,f,g,h,i,j="#000000";return(b=b||"#000000",c=c||"#ffffff",d=d||7,e=__TURBOPACK__default__export__.rgbParser(a),f=__TURBOPACK__default__export__.rgbParser(j),(i=((g=.2126*Math.pow(e[0]/255,2.2)+.7152*Math.pow(e[1]/255,2.2)+.0722*Math.pow(e[2]/255,2.2))>(h=.2126*Math.pow(f[0]/255,2.2)+.7152*Math.pow(f[1]/255,2.2)+.0722*Math.pow(f[2]/255,2.2))?Math.floor((g+.05)/(h+.05)):Math.floor((h+.05)/(g+.05)))-1)>d)?b:c},__TURBOPACK__default__export__.setClassicColors=function(){__TURBOPACK__default__export__.Options.elements.strokeColor="blue",__TURBOPACK__default__export__.Options.elements.fillColor="red",__TURBOPACK__default__export__.Options.hatch.strokeColor="blue",__TURBOPACK__default__export__.Options.angle.fillColor="#ff7f00",__TURBOPACK__default__export__.Options.angle.highlightFillColor="#ff7f00",__TURBOPACK__default__export__.Options.angle.strokeColor="#ff7f00",__TURBOPACK__default__export__.Options.angle.label.strokeColor="blue",__TURBOPACK__default__export__.Options.arc.strokeColor="blue",__TURBOPACK__default__export__.Options.circle.center.fillColor="red",__TURBOPACK__default__export__.Options.circle.center.strokeColor="blue",__TURBOPACK__default__export__.Options.circumcircle.strokeColor="blue",__TURBOPACK__default__export__.Options.circumcircle.center.fillColor="red",__TURBOPACK__default__export__.Options.circumcircle.center.strokeColor="blue",__TURBOPACK__default__export__.Options.circumcirclearc.strokeColor="blue",__TURBOPACK__default__export__.Options.circumcirclesector.strokeColor="blue",__TURBOPACK__default__export__.Options.circumcirclesector.fillColor="green",__TURBOPACK__default__export__.Options.circumcirclesector.highlightFillColor="green",__TURBOPACK__default__export__.Options.conic.strokeColor="blue",__TURBOPACK__default__export__.Options.curve.strokeColor="blue",__TURBOPACK__default__export__.Options.incircle.strokeColor="blue",__TURBOPACK__default__export__.Options.incircle.center.fillColor="red",__TURBOPACK__default__export__.Options.incircle.center.strokeColor="blue",__TURBOPACK__default__export__.Options.inequality.fillColor="red",__TURBOPACK__default__export__.Options.integral.fillColor="red",__TURBOPACK__default__export__.Options.integral.curveLeft.color="red",__TURBOPACK__default__export__.Options.integral.curveRight.color="red",__TURBOPACK__default__export__.Options.line.strokeColor="blue",__TURBOPACK__default__export__.Options.point.fillColor="red",__TURBOPACK__default__export__.Options.point.strokeColor="red",__TURBOPACK__default__export__.Options.polygon.fillColor="green",__TURBOPACK__default__export__.Options.polygon.highlightFillColor="green",__TURBOPACK__default__export__.Options.polygon.vertices.strokeColor="red",__TURBOPACK__default__export__.Options.polygon.vertices.fillColor="red",__TURBOPACK__default__export__.Options.regularpolygon.fillColor="green",__TURBOPACK__default__export__.Options.regularpolygon.highlightFillColor="green",__TURBOPACK__default__export__.Options.regularpolygon.vertices.strokeColor="red",__TURBOPACK__default__export__.Options.regularpolygon.vertices.fillColor="red",__TURBOPACK__default__export__.Options.riemannsum.fillColor="yellow",__TURBOPACK__default__export__.Options.sector.fillColor="green",__TURBOPACK__default__export__.Options.sector.highlightFillColor="green",__TURBOPACK__default__export__.Options.semicircle.center.fillColor="red",__TURBOPACK__default__export__.Options.semicircle.center.strokeColor="blue",__TURBOPACK__default__export__.Options.slopetriangle.fillColor="red",__TURBOPACK__default__export__.Options.slopetriangle.highlightFillColor="red",__TURBOPACK__default__export__.Options.turtle.arrow.strokeColor="blue"},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__,{paletteWong:{black:"#000000",orange:"#E69F00",skyblue:"#56B4E9",bluishgreen:"#009E73",yellow:"#F0E442",darkblue:"#0072B2",vermillion:"#D55E00",reddishpurple:"#CC79A7",blue:"#0072B2",red:"#D55E00",green:"#009E73",purple:"#CC79A7",white:"#ffffff"}}),__TURBOPACK__default__export__.palette=__TURBOPACK__default__export__.paletteWong;let __TURBOPACK__default__export__24=__TURBOPACK__default__export__;__TURBOPACK__default__export__.Options={jc:{enabled:!0,compile:!0},board:{animationDelay:35,axis:!1,boundingBox:[-5,5,5,-5],browserPan:!1,clickDelay:600,dblClickSuppressClick:!1,defaultAxes:{x:{name:"x",fixed:!0,needsRegularUpdate:!1,ticks:{label:{visible:"inherit",anchorX:"middle",anchorY:"top",fontSize:12,offset:[0,-3]},tickEndings:[0,1],majorTickEndings:[1,1],drawZero:!1,visible:"inherit"}},y:{name:"y",fixed:!0,needsRegularUpdate:!1,ticks:{label:{visible:"inherit",anchorX:"right",anchorY:"middle",fontSize:12,offset:[-6,0]},tickEndings:[1,0],majorTickEndings:[1,1],drawZero:!1,visible:"inherit"}}},document:!1,drag:{enabled:!0},fullscreen:{symbol:'<svg height="1em" width="1em" version="1.1" viewBox="10 10 18 18"><path fill="#666" d="m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z"></path><path fill="#666" d="m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z"></path><path fill="#666" d="m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z"></path><path fill="#666" d="M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z"></path></svg>',scale:.85,id:null},ignoreLabels:!0,intl:{enabled:!1},keepAspectRatio:!1,keyboard:{enabled:!0,dx:10,dy:10,panShift:!0,panCtrl:!1},logging:{enabled:!1},minimizeReflow:"none",maxBoundingBox:[-1/0,1/0,1/0,-1/0],maxFrameRate:40,maxNameLength:1,moveTarget:null,offsetX:0,offsetY:0,pan:{enabled:!0,needShift:!0,needTwoFingers:!1},registerEvents:!0,renderer:"auto",resize:{enabled:!0,throttle:10},screenshot:{scale:1,type:"png",symbol:"â",css:"background-color:#eeeeee; opacity:1.0; border:2px solid black; border-radius:10px; text-align:center",cssButton:"padding: 4px 10px; border: solid #356AA0 1px; border-radius: 5px; position: absolute; right: 2ex; top: 2ex; background-color: rgba(255, 255, 255, 0.3);"},selection:{enabled:!1,name:"selectionPolygon",needShift:!1,needCtrl:!0,fillColor:"#ffff00",visible:!1,withLines:!1,vertices:{visible:!1}},showClearTraces:!1,showCopyright:!0,showFullscreen:!1,showInfobox:!0,showLogo:!1,showNavigation:!0,showReload:!1,showScreenshot:!1,showZoom:!0,takeFirst:!1,takeSizeFromFile:!1,theme:"default",title:"",zoom:{enabled:!0,factorX:1.25,factorY:1.25,wheel:!0,needShift:!0,center:"auto",min:1e-4,max:1e4,pinch:!0,pinchHorizontal:!0,pinchVertical:!0,pinchSensitivity:7},zoomX:1,zoomY:1},navbar:{strokeColor:"#333333",fillColor:"transparent",highlightFillColor:"#aaaaaa",padding:"2px",position:"absolute",fontSize:"14px",cursor:"pointer",zIndex:"100",right:"5px",bottom:"5px"},elements:{aria:{enabled:!1,label:"",live:"assertive"},cssClass:"",highlightCssClass:"",dash:0,dashScale:!1,draft:{draft:!1,strokeColor:"#565656",fillColor:"#565656",strokeOpacity:.8,fillOpacity:.8,strokeWidth:1},dragToTopOfLayer:!1,element3D:null,fillColor:__TURBOPACK__default__export__24.palette.red,fillOpacity:1,fixed:!1,frozen:!1,gradient:null,gradientAngle:0,gradientCX:.5,gradientCY:.5,gradientEndOffset:1,gradientFX:.5,gradientFY:.5,gradientFR:0,gradientR:.5,gradientSecondColor:"#ffffff",gradientSecondOpacity:1,gradientStartOffset:0,highlight:!0,highlightFillColor:"none",highlightFillOpacity:1,highlightStrokeColor:"#c3d9ff",highlightStrokeOpacity:1,highlightStrokeWidth:2,isLabel:!1,layer:0,lineCap:"butt",needsRegularUpdate:!0,nonnegativeOnly:!1,precision:"inherit",priv:!1,rotatable:!0,scalable:!0,shadow:{enabled:!1,color:[0,0,0],opacity:1,blur:3,blend:.1,offset:[5,5]},snapToGrid:!1,strokeColor:__TURBOPACK__default__export__24.palette.blue,strokeOpacity:1,strokeWidth:2,tabindex:-1,trace:!1,traceAttributes:{},transitionDuration:100,transitionProperties:["fill","fill-opacity","stroke","stroke-opacity","stroke-width"],visible:!0,withLabel:!1,ignoreForLabelAutoposition:!1},ticks:{generateLabelText:null,generateLabelValue:null,drawLabels:!1,label:{tabindex:null,layer:7,highlight:!1,autoPosition:!1},beautifulScientificTickLabels:!1,useUnicodeMinus:!0,anchor:"left",drawZero:!1,insertTicks:!1,minTicksDistance:10,minorHeight:4,majorHeight:10,tickEndings:[1,1],majorTickEndings:[1,1],ignoreInfiniteTickEndings:!0,minorTicks:4,ticksPerLabel:!1,scale:1,scaleSymbol:"",labels:[],maxLabelLength:5,precision:3,digits:3,ticksDistance:1,face:"|",strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"none",highlightFillColor:"none",visible:"inherit",includeBoundaries:!1,type:"linear",intl:{enabled:"inherit",options:{}},minorTicksInArrow:!1,majorTicksInArrow:!0,labelInArrow:!0,minorTicksInMargin:!1,majorTicksInMargin:!0,labelInMargin:!0,ignoreForLabelAutoposition:!0},hatch:{drawLabels:!1,drawZero:!0,majorHeight:20,anchor:"middle",face:"|",strokeWidth:2,strokeColor:__TURBOPACK__default__export__24.palette.blue,ticksDistance:.2},precision:{touch:30,touchMax:100,mouse:4,pen:4,epsilon:1e-4,hasPoint:4},layer:{numlayers:20,unused9:19,unused8:18,unused7:17,unused6:16,unused5:15,unused4:14,unused3:13,unused2:12,unused1:11,unused0:10,text:9,point:9,glider:9,arc:8,line:7,circle:6,curve:5,turtle:5,polygon:3,sector:3,angle:3,integral:3,axis:2,ticks:2,grid:1,image:0,trace:0},angle:{withLabel:!0,radius:"auto",type:"sector",orthoType:"square",orthoSensitivity:1,fillColor:__TURBOPACK__default__export__24.palette.orange,highlightFillColor:__TURBOPACK__default__export__24.palette.orange,strokeColor:__TURBOPACK__default__export__24.palette.orange,fillOpacity:.3,highlightFillOpacity:.3,radiuspoint:{withLabel:!1,visible:!1,name:""},pointsquare:{withLabel:!1,visible:!1,name:""},dot:{visible:!1,strokeColor:"none",fillColor:"#000000",size:2,face:"o",withLabel:!1,name:""},label:{position:"top",offset:[0,0],strokeColor:__TURBOPACK__default__export__24.palette.blue},arc:{visible:!1,fillColor:"none"}},arc:{selection:"auto",hasInnerPoints:!1,label:{anchorX:"auto",anchorY:"auto"},firstArrow:!1,lastArrow:!1,fillColor:"none",highlightFillColor:"none",strokeColor:__TURBOPACK__default__export__24.palette.blue,highlightStrokeColor:"#c3d9ff",useDirection:!1,center:{},radiusPoint:{},anglePoint:{}},arrow:{firstArrow:!1,lastArrow:{type:1,highlightSize:6,size:6}},arrowparallel:{firstArrow:!1,lastArrow:{type:1,highlightSize:6,size:6}},axis:{name:"",needsRegularUpdate:!1,strokeWidth:1,lastArrow:{type:1,highlightSize:8,size:8},strokeColor:"#666666",highlightStrokeWidth:1,highlightStrokeColor:"#888888",position:"static",anchor:"",anchorDist:"10%",ticksAutoPos:!1,ticksAutoPosThreshold:"5%",withTicks:!0,straightFirst:!0,straightLast:!0,margin:-4,withLabel:!1,scalable:!1,ticks:{label:{offset:[4,-9],parse:!1,needsRegularUpdate:!1,display:"internal",visible:"inherit",layer:9},visible:"inherit",needsRegularUpdate:!1,strokeWidth:1,strokeColor:"#666666",highlightStrokeColor:"#888888",drawLabels:!0,drawZero:!1,insertTicks:!0,minTicksDistance:5,minorHeight:10,majorHeight:-1,tickEndings:[0,1],majorTickEndings:[1,1],minorTicks:4,ticksDistance:1,strokeOpacity:.25},point1:{needsRegularUpdate:!1,visible:!1},point2:{needsRegularUpdate:!1,visible:!1},tabindex:-1,label:{position:"lft",offset:[10,10]},ignoreForLabelAutoposition:!0},bisector:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},bisectorlines:{line1:{strokeColor:"#000000"},line2:{strokeColor:"#000000"}},boxplot:{dir:"vertical",smallWidth:.5,strokeWidth:2,strokeColor:__TURBOPACK__default__export__24.palette.blue,fillColor:__TURBOPACK__default__export__24.palette.blue,fillOpacity:.2,highlightStrokeWidth:2,highlightStrokeColor:__TURBOPACK__default__export__24.palette.blue,highlightFillColor:__TURBOPACK__default__export__24.palette.blue,highlightFillOpacity:.1},button:{disabled:!1,display:"html"},cardinalspline:{createPoints:!0,isArrayOfCoordinates:!0,points:{strokeOpacity:.05,fillOpacity:.05,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},chart:{chartStyle:"line",colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],highlightcolors:null,fillcolor:null,highlightonsector:!1,highlightbysize:!1,fillOpacity:.6,withLines:!1,label:{}},checkbox:{disabled:!1,checked:!1,display:"html"},circle:{hasInnerPoints:!1,fillColor:"none",highlightFillColor:"none",strokeColor:__TURBOPACK__default__export__24.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,withLabel:!1,fixed:!1,fillColor:__TURBOPACK__default__export__24.palette.red,strokeColor:__TURBOPACK__default__export__24.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,name:""},point2:{fillColor:__TURBOPACK__default__export__24.palette.red,strokeColor:__TURBOPACK__default__export__24.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,visible:!1,withLabel:!1,fixed:!1,name:""},label:{position:"urt"}},circumcircle:{fillColor:"none",highlightFillColor:"none",strokeColor:__TURBOPACK__default__export__24.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:__TURBOPACK__default__export__24.palette.red,strokeColor:__TURBOPACK__default__export__24.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},circumcirclearc:{fillColor:"none",highlightFillColor:"none",strokeColor:__TURBOPACK__default__export__24.palette.blue,highlightStrokeColor:"#c3d9ff",useDirection:!0,center:{visible:!1,withLabel:!1,fixed:!1,name:""}},circumcirclesector:{useDirection:!0,fillColor:__TURBOPACK__default__export__24.palette.yellow,highlightFillColor:__TURBOPACK__default__export__24.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,strokeColor:__TURBOPACK__default__export__24.palette.blue,highlightStrokeColor:"#c3d9ff",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},comb:{frequency:.2,width:.4,angle:Math.PI/3,reverse:!1,point1:{visible:!1,withLabel:!1,fixed:!1,name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},strokeWidth:1,strokeColor:"#0000ff",fillColor:"none"},conic:{fillColor:"none",highlightFillColor:"none",strokeColor:__TURBOPACK__default__export__24.palette.blue,highlightStrokeColor:"#c3d9ff",foci:{fixed:!1,visible:!1,withLabel:!1,name:""},center:{visible:!1,withLabel:!1,name:""},point:{withLabel:!1,name:""},line:{visible:!1}},curve:{strokeWidth:1,strokeColor:__TURBOPACK__default__export__24.palette.blue,fillColor:"none",fixed:!0,curveType:null,doAdvancedPlot:!0,doAdvancedPlotOld:!1,firstArrow:!1,handDrawing:!1,label:{position:"lft"},lastArrow:!1,lineCap:"round",numberPointsHigh:1600,numberPointsLow:400,plotVersion:2,recursionDepthHigh:17,recursionDepthLow:15},foreignobject:{fixed:!0,visible:!0,needsRegularUpdate:!1,attractors:[],evaluateOnlyOnce:!1},functiongraph:{},glider:{label:{}},grid:{needsRegularUpdate:!1,hasGrid:!1,highlight:!1,gridX:null,gridY:null,majorStep:"auto",minorElements:0,forceSquare:!1,includeBoundaries:!1,size:void 0,face:void 0,margin:void 0,drawZero:void 0,polygonVertices:void 0,major:{size:5,face:"line",margin:0,drawZero:!0,polygonVertices:6},minor:{visible:"inherit",size:3,face:"point",margin:0,drawZero:!0,polygonVertices:6},snapToGrid:!1,strokeColor:"#c0c0c0",strokeWidth:1,strokeOpacity:.5,dash:0,theme:0,themes:[{},{forceSquare:"min",major:{face:"line"}},{major:{face:"line"},minor:{size:3,face:"point"},minorElements:"auto"},{major:{face:"line"},minor:{face:"line",strokeOpacity:.25},minorElements:"auto"},{major:{face:"line"},minor:{face:"+",size:"95%"},minorElements:"auto"},{major:{face:"+",size:10,strokeOpacity:1},minor:{face:"point",size:3},minorElements:"auto"},{major:{face:"circle",size:8,fillColor:"#c0c0c0"},minor:{face:"point",size:3},minorElements:"auto"}]},group:{needsRegularUpdate:!0},htmlslider:{widthRange:100,widthOut:34,step:.01,frozen:!0,isLabel:!1,strokeColor:"#000000",display:"html",anchorX:"left",anchorY:"middle",withLabel:!1},image:{imageString:null,fillOpacity:1,highlightFillOpacity:.6,cssClass:"JXGimage",highlightCssClass:"JXGimageHighlight",rotate:0,snapSizeX:1,snapSizeY:1,attractors:[]},implicitcurve:{margin:1,resolution_outer:5,resolution_inner:5,max_steps:1024,alpha_0:.05,tol_u0:__TURBOPACK__default__export__2.eps,tol_newton:1e-7,tol_cusp:.05,tol_progress:1e-4,qdt_box:.2,kappa_0:.2,delta_0:.05,h_initial:.1,h_critical:.001,h_max:.5,loop_dist:.09,loop_dir:.99,loop_detection:!0},incircle:{fillColor:"none",highlightFillColor:"none",strokeColor:__TURBOPACK__default__export__24.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:__TURBOPACK__default__export__24.palette.red,strokeColor:__TURBOPACK__default__export__24.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},inequality:{fillColor:__TURBOPACK__default__export__24.palette.red,fillOpacity:.2,strokeColor:"none",inverse:!1},infobox:{distanceX:-20,distanceY:25,intl:{enabled:"inherit",options:{}},fontSize:12,isLabel:!1,strokeColor:"#bbbbbb",display:"html",anchorX:"left",anchorY:"middle",cssClass:"JXGinfobox",rotate:0,visible:!0,parse:!1,transitionDuration:0,needsRegularUpdate:!1,tabindex:null,viewport:[0,0,0,0],ignoreForLabelAutoposition:!0},integral:{axis:"x",withLabel:!0,fixed:!0,strokeWidth:0,strokeOpacity:0,fillColor:__TURBOPACK__default__export__24.palette.red,fillOpacity:.3,highlightFillColor:__TURBOPACK__default__export__24.palette.red,highlightFillOpacity:.2,curveLeft:{visible:!0,withLabel:!1,color:__TURBOPACK__default__export__24.palette.red,fillOpacity:.8,layer:9},baseLeft:{visible:!1,fixed:!1,withLabel:!1,name:""},curveRight:{visible:!0,withLabel:!1,color:__TURBOPACK__default__export__24.palette.red,fillOpacity:.8,layer:9},baseRight:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{fontSize:20,digits:4,intl:{enabled:!1,options:{}}}},input:{disabled:!1,maxlength:524288,display:"html"},intersection:{alwaysIntersect:!0},label:{visible:"inherit",strokeColor:"#000000",strokeOpacity:1,highlightStrokeOpacity:.666666,highlightStrokeColor:"#000000",fixed:!0,tabindex:null,position:"urt",distance:1.5,offset:[10,10],autoPosition:!1,autoPositionMinDistance:12,autoPositionMaxDistance:28,autoPositionWhitelist:[]},legend:{style:"vertical",labels:["1","2","3","4","5","6","7","8"],colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],lineLength:1,strokeOpacity:[1],rowHeight:20,strokeWidth:5,frozen:!1},line:{firstArrow:!1,lastArrow:!1,margin:0,straightFirst:!0,straightLast:!0,fillColor:"none",highlightFillColor:"none",strokeColor:__TURBOPACK__default__export__24.palette.blue,highlightStrokeColor:"#c3d9ff",withTicks:!1,point1:{fillColor:__TURBOPACK__default__export__24.palette.red,strokeColor:__TURBOPACK__default__export__24.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,visible:!1,withLabel:!1,fixed:!1,name:""},point2:{fillColor:__TURBOPACK__default__export__24.palette.red,strokeColor:__TURBOPACK__default__export__24.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",layer:9,visible:!1,withLabel:!1,fixed:!1,name:""},ticks:{drawLabels:!0,label:{offset:[4,-9]},drawZero:!1,insertTicks:!1,ticksDistance:1,minTicksDistance:50,minorHeight:4,majorHeight:-1,minorTicks:4,strokeOpacity:.3,visible:"inherit"},label:{position:"llft"},snapToGrid:!1,snapSizeX:1,snapSizeY:1,touchFirstPoint:!1,touchLastPoint:!1},locus:{translateToOrigin:!1,translateTo10:!1,stretch:!1,toOrigin:null,to10:null},measurement:{baseUnit:"",units:{},showPrefix:!0,showSuffix:!0,prefix:"",suffix:"",dim:null,formatCoords:function(a,b,c,d){return 1!==parseFloat(d)?"Infinit coords":"("+b+", "+c+")"},formatDirection:function(a,b,c){return"("+b+", "+c+")"}},metapostspline:{createPoints:!0,isArrayOfCoordinates:!0,points:{strokeOpacity:.5,fillOpacity:.5,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},mirrorelement:{fixed:!0,point:{},center:{},type:"Euclidean"},nonreflexangle:{},normal:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},orthogonalprojection:{},otherintersection:{alwaysIntersect:!0,precision:.001},parallel:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{position:"llft"}},parallelogram:{parallelpoint:{withLabel:!1,name:""}},parallelpoint:{},perpendicular:{strokeColor:"#000000",straightFirst:!0,straightLast:!0},perpendicularsegment:{strokeColor:"#000000",straightFirst:!1,straightLast:!1,point:{visible:!1,fixed:!0,withLabel:!1,name:""}},point:{withLabel:!0,label:{},style:5,face:"o",size:3,sizeUnit:"screen",strokeWidth:2,transitionProperties:["fill","fill-opacity","stroke","stroke-opacity","stroke-width","width","height","rx","ry"],fillColor:__TURBOPACK__default__export__24.palette.red,strokeColor:__TURBOPACK__default__export__24.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",zoom:!1,showInfobox:"inherit",infoboxDigits:"auto",draft:!1,attractors:[],attractorUnit:"user",attractorDistance:0,snatchDistance:0,snapToGrid:!1,attractToGrid:!1,snapSizeX:1,snapSizeY:1,snapToPoints:!1,ignoredSnapToPoints:[]},polygon:{hasInnerPoints:!1,fillColor:__TURBOPACK__default__export__24.palette.yellow,highlightFillColor:__TURBOPACK__default__export__24.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"},visible:"inherit"},highlightByStrokeWidth:!1,vertices:{layer:9,withLabel:!1,name:"",strokeColor:__TURBOPACK__default__export__24.palette.red,fillColor:__TURBOPACK__default__export__24.palette.red,fixed:!1,visible:"inherit"},label:{offset:[0,0]}},polygonalchain:{fillColor:"none",highlightFillColor:"none"},prescribedangle:{anglePoint:{size:2,visible:!1,withLabel:!1}},reflection:{fixed:!0,center:{},type:"Euclidean"},reflexangle:{},regularpolygon:{hasInnerPoints:!1,fillColor:__TURBOPACK__default__export__24.palette.yellow,highlightFillColor:__TURBOPACK__default__export__24.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"}},vertices:{layer:9,withLabel:!0,strokeColor:__TURBOPACK__default__export__24.palette.red,fillColor:__TURBOPACK__default__export__24.palette.red,fixed:!1},label:{offset:[0,0]}},riemannsum:{withLabel:!1,fillOpacity:.3,fillColor:__TURBOPACK__default__export__24.palette.yellow},sector:{fillColor:__TURBOPACK__default__export__24.palette.yellow,highlightFillColor:__TURBOPACK__default__export__24.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,highlightOnSector:!1,highlightStrokeWidth:0,useDirection:!1,selection:"auto",arc:{visible:!1,fillColor:"none",withLabel:!1,name:"",center:{visible:!1,withLabel:!1,name:""},radiusPoint:{visible:!1,withLabel:!1,name:""},anglePoint:{visible:!1,withLabel:!1,name:""}},radiusPoint:{visible:!1,withLabel:!1},center:{visible:!1,withLabel:!1},anglePoint:{visible:!1,withLabel:!1},label:{offset:[0,0],anchorX:"auto",anchorY:"auto"}},segment:{label:{position:"top"}},semicircle:{center:{visible:!1,withLabel:!1,fixed:!1,fillColor:__TURBOPACK__default__export__24.palette.red,strokeColor:__TURBOPACK__default__export__24.palette.red,highlightFillColor:"#eeeeee",highlightStrokeColor:__TURBOPACK__default__export__24.palette.red,name:""}},slider:{snapWidth:-1,snapValues:[],snapValueDistance:0,precision:2,digits:2,intl:{enabled:"inherit",options:{}},firstArrow:!1,lastArrow:!1,withTicks:!0,withLabel:!0,suffixLabel:null,unitLabel:null,postLabel:null,layer:9,showInfobox:!1,name:"",visible:!0,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"#ffffff",highlightFillColor:"none",size:6,point1:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,frozen:"inherit",name:""},point2:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,frozen:"inherit",name:""},baseline:{needsRegularUpdate:!1,visible:"inherit",fixed:!0,scalable:!1,tabindex:null,name:"",strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888"},ticks:{needsRegularUpdate:!1,fixed:!0,drawLabels:!1,digits:2,includeBoundaries:!0,drawZero:!0,label:{offset:[-4,-14],display:"internal"},minTicksDistance:30,insertTicks:!0,ticksDistance:1,minorHeight:4,majorHeight:5,minorTicks:0,strokeOpacity:1,strokeWidth:1,tickEndings:[0,1],majortickEndings:[0,1],strokeColor:"#000000",visible:"inherit"},highline:{strokeWidth:3,visible:"inherit",fixed:!0,tabindex:null,name:"",strokeColor:"#000000",highlightStrokeColor:"#888888"},label:{visible:"inherit",strokeColor:"#000000"},moveOnUp:!0},slopefield:{strokeWidth:.5,highlightStrokeWidth:.5,highlightStrokeColor:__TURBOPACK__default__export__24.palette.blue,highlightStrokeOpacity:.8,scale:1,arrowhead:{enabled:!1,size:5,angle:.125*Math.PI}},slopetriangle:{fillColor:__TURBOPACK__default__export__24.palette.red,fillOpacity:.4,highlightFillColor:__TURBOPACK__default__export__24.palette.red,highlightFillOpacity:.3,borders:{lastArrow:{type:1,size:6}},glider:{fixed:!0,visible:!1,withLabel:!1},baseline:{visible:!1,withLabel:!1,name:""},basepoint:{visible:!1,withLabel:!1,name:""},tangent:{visible:!1,withLabel:!1,name:""},toppoint:{visible:!1,withLabel:!1,name:""},label:{visible:!0,position:"first"}},smartlabelangle:{cssClass:"smart-label-solid smart-label-angle",highlightCssClass:"smart-label-solid smart-label-angle",anchorX:"left",anchorY:"middle",unit:"",prefix:"",suffix:"",measure:"deg",useMathJax:!0},smartlabelcircle:{cssClass:"smart-label-solid smart-label-circle",highlightCssClass:"smart-label-solid smart-label-circle",anchorX:"middle",useMathJax:!0,unit:"",prefix:"",suffix:"",measure:"radius"},smartlabelline:{cssClass:"smart-label-solid smart-label-line",highlightCssClass:"smart-label-solid smart-label-line",anchorX:"middle",useMathJax:!0,unit:"",measure:"length"},smartlabelpoint:{cssClass:"smart-label-solid smart-label-point",highlightCssClass:"smart-label-solid smart-label-point",anchorX:"middle",anchorY:"top",useMathJax:!0,dir:"row",unit:""},smartlabelpolygon:{cssClass:"smart-label-solid smart-label-polygon",highlightCssClass:"smart-label-solid smart-label-polygon",anchorX:"middle",useMathJax:!0,unit:"",measure:"area"},stepfunction:{},tangent:{},tangentto:{polar:{visible:!1,strokeWidth:1,dash:3},point:{visible:!1}},tapemeasure:{strokeColor:"#000000",strokeWidth:2,highlightStrokeColor:"#000000",withTicks:!0,withLabel:!0,rotate:0,precision:2,digits:2,point1:{visible:!0,strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},point2:{visible:!0,strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},ticks:{drawLabels:!1,drawZero:!0,insertTicks:!0,ticksDistance:.1,minorHeight:8,majorHeight:16,minorTicks:4,tickEndings:[0,1],majorTickEndings:[0,1],strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",visible:"inherit",label:{anchorY:"top",anchorX:"middle",offset:[0,-10]}},label:{position:"top"}},text:{fontSize:12,fontUnit:"px",formatNumber:!1,digits:2,intl:{enabled:"inherit",options:{minimumFractionDigits:0,maximumFractionDigits:2}},parse:!0,useCaja:!1,isLabel:!1,strokeColor:"#000000",highlightStrokeColor:"#000000",highlightStrokeOpacity:.666666,cssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",highlightCssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",cssStyle:"",highlightCssStyle:"",transitionProperties:["color","opacity"],useASCIIMathML:!1,useMathJax:!1,useKatex:!1,katexMacros:{},toFraction:!1,display:"html",anchor:null,anchorX:"left",anchorY:"middle",cssClass:"JXGtext",highlightCssClass:"JXGtext",dragArea:"all",withLabel:!1,rotate:0,visible:!0,snapSizeX:1,snapSizeY:1,attractors:[]},tracecurve:{strokeColor:"#000000",fillColor:"none",numberPoints:100},turtle:{strokeWidth:1,fillColor:"none",strokeColor:"#000000",arrow:{strokeWidth:2,withLabel:!1,strokeColor:__TURBOPACK__default__export__24.palette.red,lastArrow:!0}},vectorfield:{strokeWidth:.5,highlightStrokeWidth:.5,highlightStrokeColor:__TURBOPACK__default__export__24.palette.blue,highlightStrokeOpacity:.8,scale:1,arrowhead:{enabled:!0,size:5,angle:.125*Math.PI}},shortcuts:{color:["strokeColor","fillColor"],opacity:["strokeOpacity","fillOpacity"],highlightColor:["highlightStrokeColor","highlightFillColor"],highlightOpacity:["highlightStrokeOpacity","highlightFillOpacity"],strokeWidth:["strokeWidth","highlightStrokeWidth"]}},__TURBOPACK__default__export__.Validator=function(){var a,b=function(a){return __TURBOPACK__default__export__3.isString(a)},c=function(a){return __TURBOPACK__default__export__3.isNumber(a,!0,!1)},d=function(a){return Math.abs(a-Math.round(a))<__TURBOPACK__default__export__2.eps},e=function(a){return d(a)&&a>=0},f=function(a){return d(a)&&a>0},g=function(a){return a>0},h=function(a){return a>=0},i={},j={attractorDistance:h,color:b,display:function(a){return"html"===a||"internal"===a},doAdvancedPlot:!1,draft:!1,drawLabels:!1,drawZero:!1,face:function(a){return __TURBOPACK__default__export__3.exists(__TURBOPACK__default__export__.normalizePointFace(a))},factor:c,fillColor:b,fillOpacity:c,firstArrow:!1,fontSize:d,dash:d,gridX:c,gridY:c,hasGrid:!1,highlightFillColor:b,highlightFillOpacity:c,highlightStrokeColor:b,highlightStrokeOpacity:c,insertTicks:!1,lastArrow:!1,layer:e,majorHeight:d,minorHeight:d,minorTicks:h,minTicksDistance:f,numberPointsHigh:f,numberPointsLow:f,opacity:c,radius:c,RDPsmoothing:!1,renderer:function(a){return"vml"===a||"svg"===a||"canvas"===a||"no"===a},right:function(a){return/^[0-9]+px$/.test(a)},showCopyright:!1,showInfobox:!1,showNavigation:!1,size:h,snapSizeX:g,snapSizeY:g,snapWidth:c,snapToGrid:!1,snatchDistance:h,straightFirst:!1,straightLast:!1,stretch:!1,strokeColor:b,strokeOpacity:c,strokeWidth:h,takeFirst:!1,takeSizeFromFile:!1,to10:!1,toOrigin:!1,translateTo10:!1,translateToOrigin:!1,useASCIIMathML:!1,useDirection:!1,useMathJax:!1,withLabel:!1,withTicks:!1,zoom:!1};for(a in j)j.hasOwnProperty(a)&&(i[a.toLowerCase()]=j[a]);return i}(),__TURBOPACK__default__export__.normalizePointFace=function(a){return({cross:"x",x:"x",circle:"o",o:"o",square:"[]","[]":"[]",plus:"+","+":"+",divide:"|","|":"|",minus:"-","-":"-",diamond:"<>","<>":"<>",diamond2:"<<>>","<<>>":"<<>>",triangleup:"^",A:"^",a:"^","^":"^",triangledown:"v",v:"v",triangleleft:"<","<":"<",triangleright:">",">":">"})[a]},__TURBOPACK__default__export__.useStandardOptions=function(a){var b,c,d,e,f=__TURBOPACK__default__export__.Options,g=a.hasGrid;for(b in a.options.grid.hasGrid=f.grid.hasGrid,a.options.grid.gridX=f.grid.gridX,a.options.grid.gridY=f.grid.gridY,a.options.grid.gridColor=f.grid.gridColor,a.options.grid.gridOpacity=f.grid.gridOpacity,a.options.grid.gridDash=f.grid.gridDash,a.options.grid.snapToGrid=f.grid.snapToGrid,a.options.grid.snapSizeX=f.grid.SnapSizeX,a.options.grid.snapSizeY=f.grid.SnapSizeY,a.takeSizeFromFile=f.takeSizeFromFile,e=function(a,b){a.visProp.fillcolor=b.fillColor,a.visProp.highlightfillcolor=b.highlightFillColor,a.visProp.strokecolor=b.strokeColor,a.visProp.highlightstrokecolor=b.highlightStrokeColor},a.objects)if(a.objects.hasOwnProperty(b))if((d=a.objects[b]).elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT)e(d,f.point);else if(d.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)for(e(d,f.line),c=0;c<d.ticks.length;c++)d.ticks[c].majorTicks=f.line.ticks.majorTicks,d.ticks[c].minTicksDistance=f.line.ticks.minTicksDistance,d.ticks[c].visProp.minorheight=f.line.ticks.minorHeight,d.ticks[c].visProp.majorheight=f.line.ticks.majorHeight;else d.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE?e(d,f.circle):d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE?e(d,f.angle):d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ARC?e(d,f.arc):d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON?e(d,f.polygon):d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC?e(d,f.conic):d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE?e(d,f.curve):d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR&&(d.arc.visProp.fillcolor=f.sector.fillColor,d.arc.visProp.highlightfillcolor=f.sector.highlightFillColor,d.arc.visProp.fillopacity=f.sector.fillOpacity,d.arc.visProp.highlightfillopacity=f.sector.highlightFillOpacity);a.fullUpdate(),g&&!a.hasGrid?a.removeGrids(a):!g&&a.hasGrid&&a.create("grid",[])},__TURBOPACK__default__export__.useBlackWhiteOptions=function(a){var b=__TURBOPACK__default__export__.Options;b.point.fillColor=__TURBOPACK__default__export__24.rgb2bw(b.point.fillColor),b.point.highlightFillColor=__TURBOPACK__default__export__24.rgb2bw(b.point.highlightFillColor),b.point.strokeColor=__TURBOPACK__default__export__24.rgb2bw(b.point.strokeColor),b.point.highlightStrokeColor=__TURBOPACK__default__export__24.rgb2bw(b.point.highlightStrokeColor),b.line.fillColor=__TURBOPACK__default__export__24.rgb2bw(b.line.fillColor),b.line.highlightFillColor=__TURBOPACK__default__export__24.rgb2bw(b.line.highlightFillColor),b.line.strokeColor=__TURBOPACK__default__export__24.rgb2bw(b.line.strokeColor),b.line.highlightStrokeColor=__TURBOPACK__default__export__24.rgb2bw(b.line.highlightStrokeColor),b.circle.fillColor=__TURBOPACK__default__export__24.rgb2bw(b.circle.fillColor),b.circle.highlightFillColor=__TURBOPACK__default__export__24.rgb2bw(b.circle.highlightFillColor),b.circle.strokeColor=__TURBOPACK__default__export__24.rgb2bw(b.circle.strokeColor),b.circle.highlightStrokeColor=__TURBOPACK__default__export__24.rgb2bw(b.circle.highlightStrokeColor),b.arc.fillColor=__TURBOPACK__default__export__24.rgb2bw(b.arc.fillColor),b.arc.highlightFillColor=__TURBOPACK__default__export__24.rgb2bw(b.arc.highlightFillColor),b.arc.strokeColor=__TURBOPACK__default__export__24.rgb2bw(b.arc.strokeColor),b.arc.highlightStrokeColor=__TURBOPACK__default__export__24.rgb2bw(b.arc.highlightStrokeColor),b.polygon.fillColor=__TURBOPACK__default__export__24.rgb2bw(b.polygon.fillColor),b.polygon.highlightFillColor=__TURBOPACK__default__export__24.rgb2bw(b.polygon.highlightFillColor),b.sector.fillColor=__TURBOPACK__default__export__24.rgb2bw(b.sector.fillColor),b.sector.highlightFillColor=__TURBOPACK__default__export__24.rgb2bw(b.sector.highlightFillColor),b.curve.strokeColor=__TURBOPACK__default__export__24.rgb2bw(b.curve.strokeColor),b.grid.gridColor=__TURBOPACK__default__export__24.rgb2bw(b.grid.gridColor),__TURBOPACK__default__export__.useStandardOptions(a)},__TURBOPACK__default__export__.Options.normalizePointFace=__TURBOPACK__default__export__.normalizePointFace;let __TURBOPACK__default__export__25=__TURBOPACK__default__export__.Options;__TURBOPACK__default__export__.AbstractRenderer=function(){this.vOffsetText=0,this.enhancedRendering=!0,this.container=null,this.type="",this.supportsForeignObject=!1,this.dashArray=[[2,2],[5,5],[10,10],[20,20],[20,10,10,10],[20,5,10,5],[0,5]]},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.AbstractRenderer.prototype,{_updateVisual:function(a,b,c){(c||this.enhancedRendering)&&(b=b||{},this.setObjectTransition(a),a.evalVisProp("draft")?this.setDraft(a):(b.stroke||(a.highlighted?(this.setObjectStrokeColor(a,a.evalVisProp("highlightstrokecolor"),a.evalVisProp("highlightstrokeopacity")),this.setObjectStrokeWidth(a,a.evalVisProp("highlightstrokewidth"))):(this.setObjectStrokeColor(a,a.evalVisProp("strokecolor"),a.evalVisProp("strokeopacity")),this.setObjectStrokeWidth(a,a.evalVisProp("strokewidth")))),b.fill||(a.highlighted?this.setObjectFillColor(a,a.evalVisProp("highlightfillcolor"),a.evalVisProp("highlightfillopacity")):this.setObjectFillColor(a,a.evalVisProp("fillcolor"),a.evalVisProp("fillopacity"))),b.dash||this.setDashStyle(a,a.visProp),b.shadow||this.setShadow(a),b.tabindex||this.setTabindex(a)),a.highlighted?this.setCssClass(a,a.evalVisProp("highlightcssclass")):this.setCssClass(a,a.evalVisProp("cssclass")),a.evalVisProp("aria.enabled")&&this.setARIA(a))},_getHighlighted:function(a){var b,c=!1;return __TURBOPACK__default__export__3.exists(a.board)&&__TURBOPACK__default__export__3.exists(a.board.highlightedObjects)||(c=!0),b=!c&&__TURBOPACK__default__export__3.exists(a.board.highlightedObjects[a.id])?"highlight":""},drawPoint:function(a){var b,c=__TURBOPACK__default__export__25.normalizePointFace(a.evalVisProp("face"));b="o"===c?"ellipse":"[]"===c?"rect":"path",a.rendNode=this.appendChildPrim(this.createPrim(b,a.id),a.evalVisProp("layer")),this.appendNodesToElement(a,b),this._updateVisual(a,{dash:!0,shadow:!0},!0),this.updatePoint(a)},updatePoint:function(a){var b,c=a.evalVisProp("size"),d=__TURBOPACK__default__export__25.normalizePointFace(a.evalVisProp("face")),e=a.evalVisProp("sizeunit"),f=a.evalVisProp("zoom");isNaN(a.coords.scrCoords[2]+a.coords.scrCoords[1])||("user"===e&&(c*=Math.sqrt(Math.abs(a.board.unitX*a.board.unitY))),c*=a.board&&f?Math.sqrt(a.board.zoomX*a.board.zoomY):1,b=0===c?0:c+1,"o"===d?this.updateEllipsePrim(a.rendNode,a.coords.scrCoords[1],a.coords.scrCoords[2],b,b):"[]"===d?this.updateRectPrim(a.rendNode,a.coords.scrCoords[1]-c,a.coords.scrCoords[2]-c,2*c,2*c):this.updatePathPrim(a.rendNode,this.updatePathStringPoint(a,c,d),a.board),this._updateVisual(a,{dash:!1,shadow:!1}),this.setShadow(a))},changePointStyle:function(a){var b=this.getElementById(a.id);__TURBOPACK__default__export__3.exists(b)&&this.remove(b),this.drawPoint(a),__TURBOPACK__default__export__3.clearVisPropOld(a),a.visPropCalc.visible||this.display(a,!1),a.evalVisProp("draft")&&this.setDraft(a)},drawLine:function(a){a.rendNode=this.appendChildPrim(this.createPrim("line",a.id),a.evalVisProp("layer")),this.appendNodesToElement(a,"lines"),this.updateLine(a)},updateLine:function(a){this._updateVisual(a),this.updatePathWithArrowHeads(a),this.setLineCap(a)},drawCurve:function(a){a.rendNode=this.appendChildPrim(this.createPrim("path",a.id),a.evalVisProp("layer")),this.appendNodesToElement(a,"path"),this.updateCurve(a)},updateCurve:function(a){this._updateVisual(a),this.updatePathWithArrowHeads(a),this.setLineCap(a)},updatePathWithArrowHeads:function(a,b){var c,d,e=b?"highlight":"";c=b&&a.evalVisProp("highlightstrokewidth")?Math.max(a.evalVisProp("highlightstrokewidth"),a.evalVisProp("strokewidth")):a.evalVisProp("strokewidth"),d=this.getArrowHeadData(a,c,e),this.makeArrows(a,d),a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?this.updateLineWithEndings(a,d):a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&this.updatePath(a),this.setArrowSize(a,d)},getArrowHeadData:function(a,b,c){var d,e,f,g,h=__TURBOPACK__default__export__2.eps,i=0,j=0,k=0,l=0,m=a.evalVisProp("firstarrow"),n=a.evalVisProp("lastarrow");return(m||n)&&(d=__TURBOPACK__default__export__3.exists(m.type)?a.eval(m.type):a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?1:7,e=__TURBOPACK__default__export__3.exists(n.type)?a.eval(n.type):a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?1:7,m&&(g=6,__TURBOPACK__default__export__3.exists(m.size)&&(g=a.eval(m.size)),""!==c&&__TURBOPACK__default__export__3.exists(m[c+"size"])&&(g=a.eval(m[c+"size"])),f=b*g,2===d?(f*=.5,h+=b*g):3===d?(f=b*g/3,h+=b):4===d||5===d||6===d?(f=b*g/1.5,h+=b*g):7===d?(f=0,g=10,h+=b):h+=b*g,i+=f,k=g),n&&(g=6,__TURBOPACK__default__export__3.exists(n.size)&&(g=a.eval(n.size)),""!==c&&__TURBOPACK__default__export__3.exists(n[c+"size"])&&(g=a.eval(n[c+"size"])),f=b*g,2===e?(f*=.5,h+=b*g):3===e?(f=b*g/3,h+=b):4===e||5===e||6===e?(f=b*g/1.5,h+=b*g):7===e?(f=0,g=10,h+=b):h+=b*g,j+=f,l=g)),a.visPropCalc.typeFirst=d,a.visPropCalc.typeLast=e,{evFirst:m,evLast:n,typeFirst:d,typeLast:e,offFirst:i,offLast:j,sizeFirst:k,sizeLast:l,showFirst:1,showLast:1,minLen:h,strokeWidth:b}},updateLineWithEndings:function(a,b){var c,d,e=null;return c=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a.point1.coords.usrCoords,a.board),d=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a.point2.coords.usrCoords,a.board),e=a.evalVisProp("margin"),__TURBOPACK__default__export__14.calcStraight(a,c,d,e),this.handleTouchpoints(a,c,d,b),this.getPositionArrowHead(a,c,d,b),this.updateLinePrim(a.rendNode,c.scrCoords[1],c.scrCoords[2],d.scrCoords[1],d.scrCoords[2],a.board),this},updatePath:function(a){return a.evalVisProp("handdrawing")?this.updatePathPrim(a.rendNode,this.updatePathStringBezierPrim(a),a.board):this.updatePathPrim(a.rendNode,this.updatePathStringPrim(a),a.board),this},getPositionArrowHead:function(a,b,c,d){var e,f,g,h,i;return(d.evFirst||d.evLast)&&(f=g=h=i=0,e=b.distance(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,c),d.evFirst&&"vml"!==a.board.renderer.type&&(e>=d.minLen?(f=(c.scrCoords[1]-b.scrCoords[1])*d.offFirst/e,g=(c.scrCoords[2]-b.scrCoords[2])*d.offFirst/e):d.showFirst=0),d.evLast&&"vml"!==a.board.renderer.type&&(e>=d.minLen?(h=(c.scrCoords[1]-b.scrCoords[1])*d.offLast/e,i=(c.scrCoords[2]-b.scrCoords[2])*d.offLast/e):d.showLast=0),b.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[b.scrCoords[1]+f,b.scrCoords[2]+g],!1,!0),c.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[c.scrCoords[1]-h,c.scrCoords[2]-i],!1,!0)),this},handleTouchpoints:function(a,b,c,d){var e,f,g,h,i,j,k;return(d.evFirst||d.evLast)&&(g=h=i=j=k=0,e=a.point1.evalVisProp("size")+a.point1.evalVisProp("strokewidth"),f=a.point2.evalVisProp("size")+a.point2.evalVisProp("strokewidth"),d.evFirst&&a.evalVisProp("touchfirstpoint")&&a.point1.evalVisProp("visible")&&(g=b.distance(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,c),h=(c.scrCoords[1]-b.scrCoords[1])*e/g,i=(c.scrCoords[2]-b.scrCoords[2])*e/g),d.evLast&&a.evalVisProp("touchlastpoint")&&a.point2.evalVisProp("visible")&&(g=b.distance(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,c),j=(c.scrCoords[1]-b.scrCoords[1])*f/g,k=(c.scrCoords[2]-b.scrCoords[2])*f/g),b.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[b.scrCoords[1]+h,b.scrCoords[2]+i],!1,!0),c.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[c.scrCoords[1]-j,c.scrCoords[2]-k],!1,!0)),this},setArrowSize:function(a,b){return b.evFirst&&this._setArrowWidth(a.rendNodeTriangleStart,b.showFirst*b.strokeWidth,a.rendNode,b.sizeFirst),b.evLast&&this._setArrowWidth(a.rendNodeTriangleEnd,b.showLast*b.strokeWidth,a.rendNode,b.sizeLast),this},setLineCap:function(a){},drawTicks:function(a){a.rendNode=this.appendChildPrim(this.createPrim("path",a.id),a.evalVisProp("layer")),this.appendNodesToElement(a,"path")},updateTicks:function(a){},drawEllipse:function(a){a.rendNode=this.appendChildPrim(this.createPrim("ellipse",a.id),a.evalVisProp("layer")),this.appendNodesToElement(a,"ellipse"),this.updateEllipse(a)},updateEllipse:function(a){this._updateVisual(a);var b=a.Radius();Math.abs(a.center.coords.usrCoords[0])>__TURBOPACK__default__export__2.eps&&!isNaN(b+a.center.coords.scrCoords[1]+a.center.coords.scrCoords[2])&&b*a.board.unitX<2e6&&this.updateEllipsePrim(a.rendNode,a.center.coords.scrCoords[1],a.center.coords.scrCoords[2],b*a.board.unitX,b*a.board.unitY),this.setLineCap(a)},drawPolygon:function(a){a.rendNode=this.appendChildPrim(this.createPrim("polygon",a.id),a.evalVisProp("layer")),this.appendNodesToElement(a,"polygon"),this.updatePolygon(a)},updatePolygon:function(a){this._updateVisual(a,{stroke:!0,dash:!0}),this.updatePolygonPrim(a.rendNode,a)},displayCopyright:function(a,b){},displayLogo:function(a,b){},drawInternalText:function(a){},updateInternalText:function(a){},drawText:function(a){var b,c,d,e;"html"===a.evalVisProp("display")&&__TURBOPACK__default__export__4.isBrowser&&"no"!==this.type?((b=this.container.ownerDocument.createElement("div")).style.position="absolute",b.className=a.evalVisProp("cssclass"),d=a.evalVisProp("layer"),__TURBOPACK__default__export__3.exists(d)||(d=0),c=""===this.container.style.zIndex?0:parseInt(this.container.style.zIndex,10),b.style.zIndex=c+d,this.container.appendChild(b),b.setAttribute("id",this.container.id+"_"+a.id)):b=this.drawInternalText(a),a.rendNode=b,a.htmlStr="",a.visProp.islabel&&__TURBOPACK__default__export__3.exists(a.visProp.anchor)?(e=a.visProp.anchor.evalVisProp("visible"),a.prepareUpdate().updateVisibility(e)):a.prepareUpdate().updateVisibility(),this.updateText(a)},updateText:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=a.plaintext;if(a.visPropCalc.visible)if(this.updateTextStyle(a,!1),"html"===a.evalVisProp("display")&&"no"!==this.type){if(isNaN(a.coords.scrCoords[1]+a.coords.scrCoords[2])||(c=1e6>Math.abs(c=a.coords.scrCoords[1])?c:1e6,"right"===(f=a.getAnchorX())?(b=a.board.canvasWidth-c,k="right"):"middle"===f?(b=c-.5*a.size[0],k="center"):(b=c,k="left"),a.visPropOld.left!==f+b&&("right"===f?(a.rendNode.style.right=b+"px",a.rendNode.style.left="auto"):(a.rendNode.style.left=b+"px",a.rendNode.style.right="auto"),a.visPropOld.left=f+b),c=1e6>Math.abs(c=a.coords.scrCoords[2]+this.vOffsetText)?c:1e6,"bottom"===(g=a.getAnchorY())?(b=a.board.canvasHeight-c,l="bottom"):"middle"===g?(b=c-.5*a.size[1],l="center"):(b=c,l="top"),a.visPropOld.top!==g+b&&("bottom"===g?(a.rendNode.style.top="auto",a.rendNode.style.bottom=b+"px"):(a.rendNode.style.bottom="auto",a.rendNode.style.top=b+"px"),a.visPropOld.top=g+b)),a.htmlStr!==m){try{a.type===__TURBOPACK__default__export__3.OBJECT_TYPE_BUTTON?a.rendNodeButton.innerHTML=m:a.type===__TURBOPACK__default__export__3.OBJECT_TYPE_CHECKBOX||a.type===__TURBOPACK__default__export__3.OBJECT_TYPE_INPUT?a.rendNodeLabel.innerHTML=m:a.rendNode.innerHTML=m}catch(b){d=a.rendNode.parentNode,a.rendNode.parentNode.removeChild(a.rendNode),a.rendNode.innerHTML=m,d.appendChild(a.rendNode)}if(a.htmlStr=m,a.evalVisProp("usemathjax"))try{MathJax.typeset?MathJax.typeset([a.rendNode]):MathJax.Hub.Queue(["Typeset",MathJax.Hub,a.rendNode])}catch(a){__TURBOPACK__default__export__.debug("MathJax (not yet) loaded")}else if(a.evalVisProp("usekatex"))try{(e=0===a.rendNode.innerHTML.indexOf("<span")&&a.rendNode.innerHTML.indexOf("<label")>0&&(a.rendNode.innerHTML.indexOf("<checkbox")>0||a.rendNode.innerHTML.indexOf("<input")>0)?a.rendNodeLabel:0===a.rendNode.innerHTML.indexOf("<button")?a.rendNodeButton:a.rendNode)&&katex.render(m,e,{macros:a.evalVisProp("katexmacros"),throwOnError:!1})}catch(a){__TURBOPACK__default__export__.debug("KaTeX not loaded (yet)")}else if(a.evalVisProp("useasciimathml"))try{AMprocessNode(a.rendNode,!1)}catch(a){__TURBOPACK__default__export__.debug("AsciiMathML not loaded (yet)")}}0!==(h=a.evalVisProp("rotate"))&&(h*=Math.PI/180,i=Math.cos(h),j=Math.sin(h),a.rendNode.style.transform="matrix("+[i,-1*j,j,i,0,0].join(",")+")",a.rendNode.style["transform-origin"]=k+" "+l),this.transformRect(a,a.transformations)}else this.updateInternalText(a)},_css2js:function(a){var b,c,d,e,f=[],g=__TURBOPACK__default__export__3.trim(a).replace(/;$/,"").split(";");for(b=0,c=g.length;b<c;++b)""!==__TURBOPACK__default__export__3.trim(g[b])&&(e=g[b].split(":"),d=__TURBOPACK__default__export__3.trim(e[0].replace(/-([a-z])/gi,function(a,b){return b.toUpperCase()})),f.push({key:d,val:__TURBOPACK__default__export__3.trim(e[1])}));return f},updateTextStyle:function(a,b){var c,d,e,f,g,h,i,j,k,l=__TURBOPACK__default__export__4.isBrowser?a.visProp.display:"internal",m=["rendNode","rendNodeTag","rendNodeLabel"],n=m.length,o=a.evalVisProp("fontunit"),p=["cssdefaultstyle","cssstyle"],q=p.length;if(b?(e=a.evalVisProp("highlightstrokecolor"),d=a.evalVisProp("highlightstrokeopacity"),f=a.evalVisProp("highlightcssclass")):(e=a.evalVisProp("strokecolor"),d=a.evalVisProp("strokeopacity"),f=a.evalVisProp("cssclass")),"no"!==this.type&&("html"===l||"canvas"!==this.type)){for(j=0;j<q;j++)for(g=0,k=a.evalVisProp((b?"highlight":"")+p[j]);g<n;g++)if(__TURBOPACK__default__export__3.exists(a[m[g]])&&""!==k&&a.visPropOld[p[j]+"_"+g]!==k){for(i in h=this._css2js(k))h.hasOwnProperty(i)&&(a[m[g]].style[h[i].key]=h[i].val);a.visPropOld[p[j]+"_"+g]=k}if(c=a.evalVisProp("fontsize"),a.visPropOld.fontsize!==c){a.needsSizeUpdate=!0;try{for(g=0;g<n;g++)__TURBOPACK__default__export__3.exists(a[m[g]])&&(a[m[g]].style.fontSize=c+o)}catch(b){for(g=0;g<n;g++)__TURBOPACK__default__export__3.exists(a[m[g]])&&(a[m[g]].style.fontSize=c)}a.visPropOld.fontsize=c}}return this.setTabindex(a),this.setObjectTransition(a),"html"===l&&"no"!==this.type?(a.visPropOld.cssclass!==f&&(a.rendNode.className=f,a.visPropOld.cssclass=f,a.needsSizeUpdate=!0),this.setObjectStrokeColor(a,e,d)):this.updateInternalTextStyle(a,e,d),a.evalVisProp("aria.enabled")&&this.setARIA(a),this},updateInternalTextStyle:function(a,b,c){this.setObjectStrokeColor(a,b,c)},drawImage:function(a){},updateImage:function(a){this.updateRectPrim(a.rendNode,a.coords.scrCoords[1],a.coords.scrCoords[2]-a.size[1],a.size[0],a.size[1]),this.updateImageURL(a),this.transformRect(a,a.transformations),this._updateVisual(a,{stroke:!0,dash:!0},!0)},joinTransforms:function(a,b){var c,d=a.board.origin.scrCoords[1],e=a.board.origin.scrCoords[2],f=a.board.unitX,g=a.board.unitY,h=b.length,i=[[1,0,0],[-d/f,1/f,0],[e/g,0,-1/g]];for(c=0;c<h;c++)i=__TURBOPACK__default__export__2.matMatMult(b[c].matrix,i);return __TURBOPACK__default__export__2.matMatMult([[1,0,0],[d,f,0],[e,0,-g]],i)},transformRect:function(a,b){},updateImageURL:function(a){},updateImageStyle:function(a,b){a.rendNode.className=a.evalVisProp(b?"highlightcssclass":"cssclass")},drawForeignObject:function(a){},updateForeignObject:function(a){},appendChildPrim:function(a,b){},appendNodesToElement:function(a,b){},createPrim:function(a,b){return null},remove:function(a){},makeArrows:function(a,b){},_setArrowWidth:function(a,b,c){},updateEllipsePrim:function(a,b,c,d,e){},updateLinePrim:function(a,b,c,d,e,f){},updatePathPrim:function(a,b,c){},updatePathStringPoint:function(a,b,c){},updatePathStringPrim:function(a){},updatePathStringBezierPrim:function(a){},updatePolygonPrim:function(a,b){},updateRectPrim:function(a,b,c,d,e){},display:function(a,b){a&&(a.visPropOld.visible=b)},hide:function(a){},highlight:function(a,b){var c,d,e;if(this.setObjectTransition(a),!a.visProp.draft){if(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(a,a.evalVisProp("highlightfillcolor"),a.evalVisProp("highlightfillopacity")),d=a.evalVisProp("highlightbystrokewidth"),c=0;c<a.borders.length;c++)this.highlight(a.borders[c],!d);else a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT?this.updateTextStyle(a,!0):(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_IMAGE?this.updateImageStyle(a,!0):this.setObjectStrokeColor(a,a.evalVisProp("highlightstrokecolor"),a.evalVisProp("highlightstrokeopacity")),this.setObjectFillColor(a,a.evalVisProp("highlightfillcolor"),a.evalVisProp("highlightfillopacity")));!b&&a.evalVisProp("highlightstrokewidth")&&(e=Math.max(a.evalVisProp("highlightstrokewidth"),a.evalVisProp("strokewidth")),this.setObjectStrokeWidth(a,e),(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE||a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)&&this.updatePathWithArrowHeads(a,!0))}return this.setCssClass(a,a.evalVisProp("highlightcssclass")),this},noHighlight:function(a){var b,c;if(this.setObjectTransition(a),!a.evalVisProp("draft")){if(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(a,a.evalVisProp("fillcolor"),a.evalVisProp("fillopacity")),b=0;b<a.borders.length;b++)this.noHighlight(a.borders[b]);else a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT?this.updateTextStyle(a,!1):(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_IMAGE?this.updateImageStyle(a,!1):this.setObjectStrokeColor(a,a.evalVisProp("strokecolor"),a.evalVisProp("strokeopacity")),this.setObjectFillColor(a,a.evalVisProp("fillcolor"),a.evalVisProp("fillopacity")));c=a.evalVisProp("strokewidth"),this.setObjectStrokeWidth(a,c),(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE||a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)&&this.updatePathWithArrowHeads(a,!1)}return this.setCssClass(a,a.evalVisProp("cssclass")),this},removeDraft:function(a){this.setObjectTransition(a),a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON?this.setObjectFillColor(a,a.evalVisProp("fillcolor"),a.evalVisProp("fillopacity")):(a.type===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT&&this.setObjectFillColor(a,a.evalVisProp("fillcolor"),a.evalVisProp("fillopacity")),this.setObjectStrokeColor(a,a.evalVisProp("strokecolor"),a.evalVisProp("strokeopacity")),this.setObjectStrokeWidth(a,a.evalVisProp("strokewidth")))},setARIA:function(a){},setBuffering:function(a,b){},setCssClass:function(a,b){},setDashStyle:function(a){},setDraft:function(a){if(a.evalVisProp("draft")){var b=a.board.options.elements.draft.color,c=a.board.options.elements.draft.opacity;this.setObjectTransition(a),a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON?this.setObjectFillColor(a,b,c):(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT?this.setObjectFillColor(a,b,c):this.setObjectFillColor(a,"none",0),this.setObjectStrokeColor(a,b,c),this.setObjectStrokeWidth(a,a.board.options.elements.draft.strokeWidth))}},setGradient:function(a){},setLayer:function(a,b){},setObjectFillColor:function(a,b,c){},setObjectStrokeColor:function(a,b,c){},setObjectStrokeWidth:function(a,b){},setObjectTransition:function(a,b){},setPropertyPrim:function(a,b,c){},setShadow:function(a){},setTabindex:function(a){},show:function(a){},updateGradient:function(a){},suspendRedraw:function(){},unsuspendRedraw:function(){},drawNavigationBar:function(a,b){var c,d,e=function(a){a||(a=window.event),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},f=function(b,f,g,h){var i;g=g||"",(i=c.createElement("span")).innerHTML=b,i.style.paddingLeft="7px",i.style.paddingRight="7px",void 0!==i.classList&&(i.classList.add("JXG_navigation_button"),i.classList.add("JXG_navigation_button_"+h)),i.setAttribute("id",g+"_navigation_"+h),i.setAttribute("aria-hidden","true"),d.appendChild(i),__TURBOPACK__default__export__4.addEvent(i,"click",function(b){return __TURBOPACK__default__export__3.bind(f,a)(),!1},a),__TURBOPACK__default__export__4.addEvent(i,"pointerup",e,a),__TURBOPACK__default__export__4.addEvent(i,"pointerdown",e,a),__TURBOPACK__default__export__4.addEvent(i,"pointerleave",e,a),__TURBOPACK__default__export__4.addEvent(i,"mouseup",e,a),__TURBOPACK__default__export__4.addEvent(i,"mousedown",e,a),__TURBOPACK__default__export__4.addEvent(i,"touchend",e,a),__TURBOPACK__default__export__4.addEvent(i,"touchstart",e,a)};__TURBOPACK__default__export__4.isBrowser&&"no"!==this.type&&((d=(c=a.containerObj.ownerDocument).createElement("div")).setAttribute("id",a.container+"_navigationbar"),d.style.color=b.strokecolor,d.style.backgroundColor=b.fillcolor,d.style.padding=b.padding,d.style.position=b.position,d.style.fontSize=b.fontsize,d.style.cursor=b.cursor,d.style.zIndex=b.zindex,a.containerObj.appendChild(d),d.style.right=b.right,d.style.bottom=b.bottom,void 0!==d.classList&&d.classList.add("JXG_navigation"),a.attr.showfullscreen&&f(a.attr.fullscreen.symbol,function(){a.toFullscreen(a.attr.fullscreen.id)},a.container,"fullscreen"),a.attr.showscreenshot&&f(a.attr.screenshot.symbol,function(){window.setTimeout(function(){a.renderer.screenshot(a,"",!1)},330)},a.container,"screenshot"),a.attr.showreload&&f("â»",function(){a.reload()},a.container,"reload"),a.attr.showcleartraces&&f("â",function(){a.clearTraces()},a.container,"cleartraces"),a.attr.shownavigation&&(a.attr.showzoom&&(f("â",a.zoomOut,a.container,"out"),f("o",a.zoom100,a.container,"100"),f("+",a.zoomIn,a.container,"in")),f("â",a.clickLeftArrow,a.container,"left"),f("â",a.clickUpArrow,a.container,"down"),f("â",a.clickDownArrow,a.container,"up"),f("â",a.clickRightArrow,a.container,"right")))},getElementById:function(a){var b;return __TURBOPACK__default__export__3.exists(this.container)?(b=this.container.id+"_"+a,__TURBOPACK__default__export__3.exists(CSS)&&__TURBOPACK__default__export__3.exists(CSS.escape)&&(b=CSS.escape(b)),this.container.querySelector("#"+b)):""},removeToInsertLater:function(a){var b=a.parentNode,c=a.nextSibling;if(null!==b)return b.removeChild(a),function(){c?b.insertBefore(a,c):b.appendChild(a)}},resize:function(a,b){},createTouchpoints:function(a){},showTouchpoint:function(a){},hideTouchpoint:function(a){},updateTouchpoint:function(a,b){},dumpToDataURI:function(a){},dumpToCanvas:function(a,b,c,d){},screenshot:function(a){}});let __TURBOPACK__default__export__26=__TURBOPACK__default__export__.AbstractRenderer;var UTF8_ACCEPT=0,UTF8D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,10,3,3,3,3,3,3,3,3,3,3,3,3,4,3,3,11,6,6,6,5,8,8,8,8,8,8,8,8,8,8,8,0,12,24,36,60,96,84,12,12,12,48,72,12,12,12,12,12,12,12,12,12,12,12,12,12,0,12,12,12,12,12,0,12,0,12,12,12,24,12,12,12,12,12,24,12,24,12,12,12,12,12,12,12,12,12,24,12,12,12,12,12,24,12,12,12,12,12,12,12,24,12,12,12,12,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,12,12,12,12,12];__TURBOPACK__default__export__.Util=__TURBOPACK__default__export__.Util||{},__TURBOPACK__default__export__.Util.UTF8={encode:function(a){var b,c,d="",e=a.length;if(a=a.replace(/\r\n/g,"\n"),"function"==typeof unescape&&"function"==typeof encodeURIComponent)return unescape(encodeURIComponent(a));for(b=0;b<e;b++)(c=a.charCodeAt(b))<128?d+=String.fromCharCode(c):(c>127&&c<2048?d+=String.fromCharCode(c>>6|192):(d+=String.fromCharCode(c>>12|224),d+=String.fromCharCode(c>>6&63|128)),d+=String.fromCharCode(63&c|128));return d},decode:function(a){var b,c,d,e=0,f=0,g=UTF8_ACCEPT,h=[],i=a.length,j=[];for(b=0;b<i;b++)d=UTF8D[c=a.charCodeAt(b)],f=g!==UTF8_ACCEPT?63&c|f<<6:255>>d&c,(g=UTF8D[256+g+d])===UTF8_ACCEPT&&(f>65535?h.push(55232+(f>>10),56320+(1023&f)):h.push(f),++e%1e4==0&&(j.push(String.fromCharCode.apply(null,h)),h=[]));return j.push(String.fromCharCode.apply(null,h)),j.join("")},asciiCharCodeAt:function(a,b){var c=a.charCodeAt(b);if(c>255)switch(c){case 8364:c=128;break;case 8218:c=130;break;case 402:c=131;break;case 8222:c=132;break;case 8230:c=133;break;case 8224:c=134;break;case 8225:c=135;break;case 710:c=136;break;case 8240:c=137;break;case 352:c=138;break;case 8249:c=139;break;case 338:c=140;break;case 381:c=142;break;case 8216:c=145;break;case 8217:c=146;break;case 8220:c=147;break;case 8221:c=148;break;case 8226:c=149;break;case 8211:c=150;break;case 8212:c=151;break;case 732:c=152;break;case 8482:c=153;break;case 353:c=154;break;case 8250:c=155;break;case 339:c=156;break;case 382:c=158;break;case 376:c=159}return c}};let __TURBOPACK__default__export__27=__TURBOPACK__default__export__.Util.UTF8;var alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pad="=";__TURBOPACK__default__export__.Util=__TURBOPACK__default__export__.Util||{},__TURBOPACK__default__export__.Util.Base64={_getByte:function(a,b){return 255&a.charCodeAt(b)},_getIndex:function(a,b){return alphabet.indexOf(a.charAt(b))},encode:function(a){var b,c,d,e,f,g=[];for(b=0,e=(d=(f=__TURBOPACK__default__export__27.encode(a)).length)%3;b<d-e;b+=3)c=this._getByte(f,b)<<16|this._getByte(f,b+1)<<8|this._getByte(f,b+2),g.push(alphabet.charAt(c>>18),alphabet.charAt(c>>12&63),alphabet.charAt(c>>6&63),alphabet.charAt(63&c));switch(e){case 1:c=this._getByte(f,d-1),g.push(alphabet.charAt(c>>2),alphabet.charAt(c<<4&63),pad,pad);break;case 2:c=this._getByte(f,d-2)<<8|this._getByte(f,d-1),g.push(alphabet.charAt(c>>10),alphabet.charAt(c>>4&63),alphabet.charAt(c<<2&63),pad)}return g.join("")},decode:function(a,b){var c,d,e,f,g,h,i=[],j=[];if((e=(c=a.replace(/[^A-Za-z0-9+/=]/g,"")).length)%4!=0)throw Error("JSXGraph/utils/base64: Can't decode string (invalid input length).");for(c.charAt(e-1)===pad&&(f=1,c.charAt(e-2)===pad&&(f=2),e-=4),d=0;d<e;d+=4)g=this._getIndex(c,d)<<18|this._getIndex(c,d+1)<<12|this._getIndex(c,d+2)<<6|this._getIndex(c,d+3),j.push(g>>16,g>>8&255,255&g),d%1e4==0&&(i.push(String.fromCharCode.apply(null,j)),j=[]);switch(f){case 1:g=this._getIndex(c,e)<<12|this._getIndex(c,e+1)<<6|this._getIndex(c,e+2),j.push(g>>10,g>>2&255);break;case 2:g=this._getIndex(c,d)<<6|this._getIndex(c,d+1),j.push(g>>4)}return i.push(String.fromCharCode.apply(null,j)),h=i.join(""),b&&(h=__TURBOPACK__default__export__27.decode(h)),h},decodeAsArray:function(a){var b,c=this.decode(a),d=[],e=c.length;for(b=0;b<e;b++)d[b]=c.charCodeAt(b);return d}};let __TURBOPACK__default__export__28=__TURBOPACK__default__export__.Util.Base64;__TURBOPACK__default__export__.FileReader={handleRemoteFile:function(a,b,c,d,e,f){var g=!1;try{g=new XMLHttpRequest,"raw"===c.toLowerCase()?g.overrideMimeType("text/plain; charset="+e):g.overrideMimeType("text/xml; charset="+e)}catch(a){try{g=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{g=new ActiveXObject("Microsoft.XMLHTTP")}catch(a){g=!1}}}if(!g)return void __TURBOPACK__default__export__.debug("AJAX not activated!");g.open("GET",a,d),"raw"===c.toLowerCase()?this.cbp=function(){var a=g;4===a.readyState&&b(a.responseText)}:this.cbp=function(){var a=g,d="";4===a.readyState&&(d=__TURBOPACK__default__export__3.exists(a.responseStream)&&("PK"===a.responseText.slice(0,2)||31===__TURBOPACK__default__export__27.asciiCharCodeAt(a.responseText.slice(0,1),0))?__TURBOPACK__default__export__28.decode(jxgBinFileReader(a)):a.responseText,this.parseString(d,b,c,f))},this.cb=__TURBOPACK__default__export__3.bind(this.cbp,this),g.onreadystatechange=this.cb;try{g.send(null)}catch(b){throw Error("JSXGraph: A problem occurred while trying to read remote file '"+a+"'.")}},handleLocalFile:function(a,b,c,d,e,f){__TURBOPACK__default__export__3.exists(d)||(d=!0),"raw"===c.toLowerCase()?this.cbp=function(a){b(a.target.result)}:this.cbp=function(a){var d=a.target.result;this.parseString(d,b,c,f)},this.cb=__TURBOPACK__default__export__3.bind(this.cbp,this);var g=new FileReader;g.onload=this.cb,"raw"===c.toLowerCase()?g.readAsText(a):g.readAsText(a,e)},parseFileContent:function(a,b,c,d,e,f){__TURBOPACK__default__export__3.isString(a)||void 0===FileReader?this.handleRemoteFile(a,b,c,d,e,f):this.handleLocalFile(a,b,c,d,e,f)},parseString:function(a,b,c,d){var e;if(c=c.toLowerCase(),e=__TURBOPACK__default__export__.readers[c],__TURBOPACK__default__export__3.exists(e))new e(b,a).read();else if("jessiecode"===c);else throw Error("JSXGraph: There is no reader available for '"+c+"'.");__TURBOPACK__default__export__3.isFunction(d)&&d(b)}},!__TURBOPACK__default__export__4.isMetroApp()&&__TURBOPACK__default__export__4.isBrowser&&"object"==typeof navigator&&/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)&&document&&document.write&&document.write('<script type="text/vbscript">\nFunction Base64Encode(inData)\n  Const Base64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"\n  Dim cOut, sOut, I\n  For I = 1 To LenB(inData) Step 3\n    Dim nGroup, pOut, sGroup\n    nGroup = &H10000 * AscB(MidB(inData, I, 1)) + _\n      &H100 * MyASC(MidB(inData, I + 1, 1)) + MyASC(MidB(inData, I + 2, 1))\n    nGroup = Oct(nGroup)\n    nGroup = String(8 - Len(nGroup), "0") & nGroup\n    pOut = Mid(Base64, CLng("&o" & Mid(nGroup, 1, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 3, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 5, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 7, 2)) + 1, 1)\n    sOut = sOut + pOut\n  Next\n  Select Case LenB(inData) Mod 3\n    Case 1: \'8 bit final\n      sOut = Left(sOut, Len(sOut) - 2) + "=="\n    Case 2: \'16 bit final\n      sOut = Left(sOut, Len(sOut) - 1) + "="\n  End Select\n  Base64Encode = sOut\nEnd Function\n\nFunction MyASC(OneChar)\n  If OneChar = "" Then MyASC = 0 Else MyASC = AscB(OneChar)\nEnd Function\n\nFunction jxgBinFileReader(xhr)\n    Dim byteString\n    Dim b64String\n    Dim i\n    byteString = xhr.responseBody\n    ReDim byteArray(LenB(byteString))\n    For i = 1 To LenB(byteString)\n        byteArray(i-1) = AscB(MidB(byteString, i, 1))\n    Next\n    b64String = Base64Encode(byteString)\n    jxgBinFileReader = b64String\nEnd Function\n</script>\n');let __TURBOPACK__default__export__29=__TURBOPACK__default__export__.FileReader;__TURBOPACK__default__export__.GeonextParser={replacePow:function(a){var b,c,d,e,f,g,h,i,j,k,l,m;for(k=(a=a.replace(/(\s*)\^(\s*)/g,"^")).indexOf("^"),e=-1;k>=0&&k<a.length-1;){if(e===k)throw Error("JSXGraph: Error while parsing expression '"+a+"'");if(e=k,j=a.slice(0,k),l=a.slice(k+1),")"===j.charAt(j.length-1)){for(b=1,c=j.length-2;c>=0&&b>0;)")"===(d=j.charAt(c))?b++:"("===d&&(b-=1),c-=1;if(0===b){for(f="",h=j.substring(0,c+1),i=c;i>=0&&h.slice(i,i+1).match(/([\w.]+)/);)f=RegExp.$1+f,i-=1;f+=j.substring(c+1,j.length),f=f.replace(/([()+*%^\-/\][])/g,"\\$1")}else throw Error("JSXGraph: Missing '(' in expression")}else f="[\\w\\.]+";if(l.match(/^([\w.]*\()/)){for(b=1,c=RegExp.$1.length;c<l.length&&b>0;)")"===(d=l.charAt(c))?b-=1:"("===d&&(b+=1),c+=1;if(0===b)g=(g=l.substring(0,c)).replace(/([()+*%^\-/[\]])/g,"\\$1");else throw Error("JSXGraph: Missing ')' in expression")}else g="[\\w\\.]+";m=RegExp("("+f+")\\^("+g+")"),k=(a=a.replace(m,"pow($1,$2)")).indexOf("^")}return a},replaceIf:function(a){var b,c,d,e,f,g,h,i,j,k="",l=null,m=null,n=null;if((d=a.indexOf("If("))<0)return a;for(a=a.replace(/""/g,"0");d>=0;){for(b=a.slice(0,d),c=a.slice(d+3),f=1,e=0,g=-1,h=-1;e<c.length&&f>0;)")"===(i=c.charAt(e))?f-=1:"("===i?f+=1:","===i&&1===f&&(g<0?g=e:h=e),e+=1;if(j=c.slice(0,e-1),c=c.slice(e),g<0||h<0)return"";l=j.slice(0,g),m=j.slice(g+1,h),n=j.slice(h+1),l=this.replaceIf(l),k+=b+"(("+l+")?("+(m=this.replaceIf(m))+"):("+(n=this.replaceIf(n))+"))",l=null,m=null,d=(a=c).indexOf("If(")}return k+c},replaceNameById:function(a,b,c){var d,e,f,g,h=0,i=["X","Y","L","V"],j=function(a){return c?"$('"+a+"')":a};for(g=0;g<i.length;g++)for(h=a.indexOf(i[g]+"(");h>=0;)h>=0&&(d=a.indexOf(")",h+2))>=0&&(e=(e=a.slice(h+2,d)).replace(/\\(['"])?/g,"$1"),(f=b.elementsByName[e])&&(a=a.slice(0,h+2)+(c?"$('":"")+j(f.id)+a.slice(d))),d=a.indexOf(")",h+2),h=a.indexOf(i[g]+"(",d);for(h=a.indexOf("Dist(");h>=0;)h>=0&&(d=a.indexOf(",",h+5))>=0&&(e=(e=a.slice(h+5,d)).replace(/\\(['"])?/g,"$1"),(f=b.elementsByName[e])&&(a=a.slice(0,h+5)+j(f.id)+a.slice(d))),d=a.indexOf(",",h+5),h=a.indexOf(",",d),(d=a.indexOf(")",h+1))>=0&&(e=(e=a.slice(h+1,d)).replace(/\\(['"])?/g,"$1"),(f=b.elementsByName[e])&&(a=a.slice(0,h+1)+j(f.id)+a.slice(d))),d=a.indexOf(")",h+1),h=a.indexOf("Dist(",d);for(g=0,i=["Deg","Rad"];g<i.length;g++)for(h=a.indexOf(i[g]+"(");h>=0;)h>=0&&(d=a.indexOf(",",h+4))>=0&&(e=(e=a.slice(h+4,d)).replace(/\\(['"])?/g,"$1"),(f=b.elementsByName[e])&&(a=a.slice(0,h+4)+j(f.id)+a.slice(d))),d=a.indexOf(",",h+4),h=a.indexOf(",",d),(d=a.indexOf(",",h+1))>=0&&(e=(e=a.slice(h+1,d)).replace(/\\(['"])?/g,"$1"),(f=b.elementsByName[e])&&(a=a.slice(0,h+1)+j(f.id)+a.slice(d))),d=a.indexOf(",",h+1),h=a.indexOf(",",d),(d=a.indexOf(")",h+1))>=0&&(e=(e=a.slice(h+1,d)).replace(/\\(['"])?/g,"$1"),(f=b.elementsByName[e])&&(a=a.slice(0,h+1)+j(f.id)+a.slice(d))),d=a.indexOf(")",h+1),h=a.indexOf(i[g]+"(",d);return a},replaceIdByObj:function(a){var b=/(X|Y|L)\(([\w_]+)\)/g;return a=a.replace(b,"$('$2').$1()"),b=/(V)\(([\w_]+)\)/g,a=a.replace(b,"$('$2').Value()"),b=/(Dist)\(([\w_]+),([\w_]+)\)/g,a=a.replace(b,"dist($('$2'), $('$3'))"),b=/(Deg)\(([\w_]+),([ \w[\w_]+),([\w_]+)\)/g,a=a.replace(b,"deg($('$2'),$('$3'),$('$4'))"),b=/Rad\(([\w_]+),([\w_]+),([\w_]+)\)/g,a=a.replace(b,"rad($('$1'),$('$2'),$('$3'))"),b=/N\((.+)\)/g,a=a.replace(b,"($1)")},geonext2JS:function(a,b){var c,d,e,f=["Abs","ACos","ASin","ATan","Ceil","Cos","Exp","Factorial","Floor","Log","Max","Min","Random","Round","Sin","Sqrt","Tan","Trunc"],g=["abs","acos","asin","atan","ceil","cos","exp","factorial","floor","log","max","min","random","round","sin","sqrt","tan","ceil"];for(e=0,d=a=(a=(a=a.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&"),d=this.replaceNameById(d,b),d=this.replaceIf(d),d=this.replacePow(d),d=this.replaceIdByObj(d);e<f.length;e++)c=RegExp("(\\W|^)("+f[e]+")","ig"),d=d.replace(c,"$1"+g[e]);return(d=(d=(d=(d=d.replace(/True/g,"true")).replace(/False/g,"false")).replace(/fasle/g,"false")).replace(/Pi/g,"PI")).replace(/"/g,"'")},findDependencies:function(a,b,c){var d,e,f,g;for(e in __TURBOPACK__default__export__3.exists(c)||(c=a.board),d=c.elementsByName)d.hasOwnProperty(e)&&e!==a.name&&(d[e].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT?!d[e].evalVisProp("islabel")&&(f=RegExp("\\(([\\w\\[\\]'_ ]+,)*("+(g=(g=e.replace(/\[/g,"\\[")).replace(/\]/g,"\\]"))+")(,[\\w\\[\\]'_ ]+)*\\)","g"),b.search(f)>=0&&d[e].addChild(a)):(f=RegExp("\\(([\\w\\[\\]'_ ]+,)*("+(g=(g=e.replace(/\[/g,"\\[")).replace(/\]/g,"\\]"))+")(,[\\w\\[\\]'_ ]+)*\\)","g"),b.search(f)>=0&&d[e].addChild(a)))},gxt2jc:function(a,b){var c;return c=a=(a=(a=a.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&"),c=(c=(c=(c=this.replaceNameById(c,b,!0)).replace(/True/g,"true")).replace(/False/g,"false")).replace(/fasle/g,"false")}};let __TURBOPACK__default__export__30=__TURBOPACK__default__export__.GeonextParser;__TURBOPACK__default__export__.GeometryElement=function(a,b,c,d){var e,f,g;if(this.needsUpdate=!0,this.isDraggable=!1,this.isReal=!0,this.childElements={},this.hasLabel=!1,this.highlighted=!1,this.notExistingParents={},this.traces={},this.numTraces=0,this.transformations=[],this.baseElement=null,this.descendants={},this.ancestors={},this.parents=[],this.symbolic={},this.rendNode=null,this.elType="",this.dump=!0,this.subs={},this.inherits=[],this._pos=-1,this.stdform=[1,0,0,0,1,1,0,0],this.methodMap={setLabel:"setLabel",label:"label",setName:"setName",getName:"getName",Name:"getName",addTransform:"addTransform",setProperty:"setAttribute",setAttribute:"setAttribute",addChild:"addChild",animate:"animate",on:"on",off:"off",trigger:"trigger",addTicks:"addTicks",removeTicks:"removeTicks",removeAllTicks:"removeAllTicks",Bounds:"bounds"},this.quadraticform=[[1,0,0],[0,1,0],[0,0,1]],this.visProp={},this.visPropCalc={visible:!1},__TURBOPACK__default__export__6.eventify(this),this.mouseover=!1,this.lastDragTime=new Date,this.view=null,arguments.length>0){for(f in this.board=a,this.type=c,this._org_type=c,this.elementClass=d||__TURBOPACK__default__export__1.OBJECT_CLASS_OTHER,this.id=b.id,e=b.name,__TURBOPACK__default__export__3.exists(e)||(e=this.board.generateName(this)),""!==e&&(this.board.elementsByName[e]=this),this.name=e,this.needsRegularUpdate=b.needsregularupdate,__TURBOPACK__default__export__3.clearVisPropOld(this),g=this.resolveShortcuts(b))g.hasOwnProperty(f)&&this._set(f,g[f]);this.visProp.draft=g.draft&&g.draft.draft}},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.GeometryElement.prototype,{addChild:function(a){var b,c;for(b in this.childElements[a.id]=a,this.addDescendants(a),a.ancestors[this.id]=this,this.descendants)if(this.descendants.hasOwnProperty(b))for(c in this.descendants[b].ancestors[this.id]=this,this.ancestors)this.ancestors.hasOwnProperty(c)&&(this.descendants[b].ancestors[this.ancestors[c].id]=this.ancestors[c]);for(b in this.ancestors)if(this.ancestors.hasOwnProperty(b))for(c in this.descendants)this.descendants.hasOwnProperty(c)&&(this.ancestors[b].descendants[this.descendants[c].id]=this.descendants[c]);return this},addDescendants:function(a){var b;for(b in this.descendants[a.id]=a,a.childElements)a.childElements.hasOwnProperty(b)&&this.addDescendants(a.childElements[b]);return this},addParents:function(a){var b,c,d;for(b=0,d=__TURBOPACK__default__export__3.isArray(a)?a:arguments,c=d.length;b<c;++b)__TURBOPACK__default__export__3.exists(d[b])&&(__TURBOPACK__default__export__3.isId(this.board,d[b])?this.parents.push(d[b]):__TURBOPACK__default__export__3.exists(d[b].id)&&this.parents.push(d[b].id));this.parents=__TURBOPACK__default__export__3.uniqueArray(this.parents)},setParents:function(a){this.parents=[],this.addParents(a)},addParentsFromJCFunctions:function(a){var b,c,d;for(b=0;b<a.length;b++)for(c in a[b].deps)d=a[b].deps[c],this.addParents(d),d.addChild(this);return this},removeChild:function(a){return delete this.childElements[a.id],this.removeDescendants(a),delete a.ancestors[this.id],this},removeDescendants:function(a){var b;for(b in delete this.descendants[a.id],a.childElements)a.childElements.hasOwnProperty(b)&&this.removeDescendants(a.childElements[b]);return this},countChildren:function(){var a,b,c=0;for(a in b=this.childElements)b.hasOwnProperty(a)&&0>a.indexOf("Label")&&c++;return c},getName:function(){return this.name},addTransform:function(a){return this},draggable:function(){return this.isDraggable&&!this.evalVisProp("fixed")&&this.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER},setPosition:function(a,b){var c,d,e,f,g=[];if(!__TURBOPACK__default__export__3.exists(this.parents))return this;for(d=0,e=this.parents.length;d<e;++d)if(c=this.board.select(this.parents[d]),__TURBOPACK__default__export__3.isPoint(c)){if(!c.draggable())return this;g.push(c)}if(3===b.length&&(b=b.slice(1)),f=this.board.create("transform",b,{type:"translate"}),(e=g.length)>0){if(f.applyOnce(g),__TURBOPACK__default__export__3.exists(this.view)&&"view3d"===this.view.elType)for(d=0;d<this.parents.length;++d)c=this.view.select(this.parents[d]),__TURBOPACK__default__export__3.exists(c.setPosition2D)&&c.setPosition2D(f)}else this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(f):this.addTransform(f);for(d=0;d<e;++d)g[d].type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&g[d].updateGlider();return this},setPositionDirectly:function(a,b,c){var d=new __TURBOPACK__default__export__7(a,b,this.board,!1),e=new __TURBOPACK__default__export__7(a,c,this.board,!1),f=__TURBOPACK__default__export__12.subtract(d.usrCoords,e.usrCoords);return this.setPosition(__TURBOPACK__default__export__1.COORDS_BY_USER,f),this},generatePolynomial:function(){return[]},animate:function(a,b,c){c=c||{};var d,e,f,g=Math.ceil(b/this.board.attr.animationdelay),h=this,i=function(a,b,c){var d,e,i,j,k;for(f=0,d=__TURBOPACK__default__export__24.rgb2hsv(a),i=((e=__TURBOPACK__default__export__24.rgb2hsv(b))[0]-d[0])/g,j=(e[1]-d[1])/g,k=(e[2]-d[2])/g,h.animationData[c]=[];f<g;f++)h.animationData[c][g-f-1]=__TURBOPACK__default__export__24.hsv2rgb(d[0]+(f+1)*i,d[1]+(f+1)*j,d[2]+(f+1)*k)},j=function(a,b,c,d){var e,i;if(a=parseFloat(a),b=parseFloat(b),!(isNaN(a)||isNaN(b)))for(f=0,i=(b-a)/g,h.animationData[c]=[];f<g;f++)e=a+(f+1)*i,h.animationData[c][g-f-1]=d?Math.floor(e):e};for(d in this.animationData={},a)if(a.hasOwnProperty(d))switch(e=d.toLowerCase()){case"strokecolor":case"fillcolor":i(this.visProp[e],a[d],e);break;case"size":if(!__TURBOPACK__default__export__3.isPoint(this))break;j(this.visProp[e],a[d],e,!0);break;case"strokeopacity":case"strokewidth":case"fillopacity":j(this.visProp[e],a[d],e,!1)}return this.animationCallback=c.callback,this.board.addAnimation(this),this},update:function(){return this.evalVisProp("trace")&&this.cloneToBackground(),this},updateRenderer:function(){return this},fullUpdate:function(a){return this.prepareUpdate().update().updateVisibility(a).updateRenderer()},setDisplayRendNode:function(a){var b,c,d,e,f;if(void 0===a&&(a=this.visPropCalc.visible),a===this.visPropOld.visible)return this;for(this.board.renderer.display(this,a),c=this.inherits.length,d=0;d<c;d++)if(f=this.inherits[d],__TURBOPACK__default__export__3.isArray(f))for(b=0,e=f.length;b<e;b++)__TURBOPACK__default__export__3.exists(f[b])&&__TURBOPACK__default__export__3.exists(f[b].rendNode)&&"inherit"===f[b].evalVisProp("visible")&&f[b].setDisplayRendNode(a);else __TURBOPACK__default__export__3.exists(f)&&__TURBOPACK__default__export__3.exists(f.rendNode)&&"inherit"===f.evalVisProp("visible")&&f.setDisplayRendNode(a);return this.hasLabel&&__TURBOPACK__default__export__3.exists(this.label)&&__TURBOPACK__default__export__3.exists(this.label.rendNode)&&"inherit"===this.label.evalVisProp("visible")&&this.label.setDisplayRendNode(a),this},hide:function(){return this.setAttribute({visible:!1}),this},hideElement:function(){return this.hide(),this},show:function(){return this.setAttribute({visible:!0}),this},showElement:function(){return this.show(),this},updateVisibility:function(a){var b,c,d,e,f,g;if(this.needsUpdate){if(__TURBOPACK__default__export__3.exists(this.view)&&!1===this.view.evalVisProp("visible"))this.visPropCalc.visible=!1;else for(void 0!==a?this.visPropCalc.visible=a:(g=this.evalVisProp("visible"),__TURBOPACK__default__export__3.exists(this.hiddenByParent)&&this.hiddenByParent&&(g=!1),"inherit"!==g&&(this.visPropCalc.visible=g)),c=this.inherits.length,d=0;d<c;d++)if(f=this.inherits[d],__TURBOPACK__default__export__3.isArray(f))for(b=0,e=f.length;b<e;b++)__TURBOPACK__default__export__3.exists(f[b])&&"inherit"===f[b].evalVisProp("visible")&&f[b].prepareUpdate().updateVisibility(this.visPropCalc.visible);else __TURBOPACK__default__export__3.exists(f)&&"inherit"===f.evalVisProp("visible")&&f.prepareUpdate().updateVisibility(this.visPropCalc.visible);__TURBOPACK__default__export__3.exists(this.label)&&__TURBOPACK__default__export__3.exists(this.label.visProp)&&this.label.evalVisProp("visible")&&this.label.prepareUpdate().updateVisibility(this.visPropCalc.visible)}return this},_set:function(a,b){var c;if(a=a.toLocaleLowerCase(),this.visProp.hasOwnProperty(a)&&a.indexOf("color")>=0&&__TURBOPACK__default__export__3.isString(b)&&9===b.length&&"#"===b.charAt(0))b=__TURBOPACK__default__export__24.rgba2rgbo(b),this.visProp[a]=b[0],this.visProp[a.replace("color","opacity")]=b[1];else if(null!==b&&__TURBOPACK__default__export__3.isObject(b)&&!__TURBOPACK__default__export__3.exists(b.id)&&!__TURBOPACK__default__export__3.exists(b.name))for(c in this.visProp[a]={},b)b.hasOwnProperty(c)&&(this.visProp[a][c.toLocaleLowerCase()]=b[c]);else this.visProp[a]=b},resolveShortcuts:function(a){var b,c,d,e=["traceattributes","traceAttributes"];for(b in __TURBOPACK__default__export__25.shortcuts)if(__TURBOPACK__default__export__25.shortcuts.hasOwnProperty(b)){if(__TURBOPACK__default__export__3.exists(a[b]))for(c=0;c<__TURBOPACK__default__export__25.shortcuts[b].length;c++)__TURBOPACK__default__export__3.exists(a[__TURBOPACK__default__export__25.shortcuts[b][c]])||(a[__TURBOPACK__default__export__25.shortcuts[b][c]]=a[b]);for(d=0;d<e.length;d++)__TURBOPACK__default__export__3.isObject(a[e[d]])&&(a[e[d]]=this.resolveShortcuts(a[e[d]]))}return a},setLabel:function(a){this.hasLabel||this.setAttribute({withlabel:!0}),this.setLabelText(a)},setLabelText:function(a){return __TURBOPACK__default__export__3.exists(this.label)&&(a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.label.setText(a)),this},setName:function(a){a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"slider"!==this.elType&&this.setLabelText(a),this.setAttribute({name:a})},setProperty:function(){__TURBOPACK__default__export__.deprecated("setProperty()","setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(a){var b,c,d,e,f,g,h,i,j,k={};for(b=0;b<arguments.length;b++)g=arguments[b],__TURBOPACK__default__export__3.isString(g)?(i=g.split(":"),k[__TURBOPACK__default__export__3.trim(i[0])]=__TURBOPACK__default__export__3.trim(i[1])):__TURBOPACK__default__export__3.isArray(g)?k[g[0]]=g[1]:__TURBOPACK__default__export__.extend(k,g);for(b in k=this.resolveShortcuts(k))if(k.hasOwnProperty(b)){if(e=b.replace(/\s+/g,"").toLowerCase(),f=k[b],__TURBOPACK__default__export__3.isObject(f)&&__TURBOPACK__default__export__3.exists(this.visProp[e])){if(!__TURBOPACK__default__export__3.isObject(this.visProp[e])&&null!==f&&__TURBOPACK__default__export__3.isObject(f)&&(this.visProp[e]={}),__TURBOPACK__default__export__3.mergeAttr(this.visProp[e],f),this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TICKS&&__TURBOPACK__default__export__3.exists(this.labels))for(c=0,d=this.labels.length;c<d;c++)this.labels[c].setAttribute(f);else if(__TURBOPACK__default__export__3.exists(this[e]))if(__TURBOPACK__default__export__3.isArray(this[e]))for(c=0;c<this[e].length;c++)this[e][c].setAttribute(f);else this[e].setAttribute(f);else j=null,this.triggerEventHandlers(["attribute:"+e],[j,f,this]);continue}switch(j=this.visProp[e],e){case"checked":__TURBOPACK__default__export__3.exists(this.rendNodeTag)&&(this.rendNodeCheckbox.checked=!!f);break;case"disabled":__TURBOPACK__default__export__3.exists(this.rendNodeTag)&&(this.rendNodeTag.disabled=!!f);break;case"face":__TURBOPACK__default__export__3.isPoint(this)&&(this.visProp.face=f,this.board.renderer.changePointStyle(this));break;case"generatelabelvalue":this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TICKS&&__TURBOPACK__default__export__3.isFunction(f)&&(this.generateLabelValue=f);break;case"gradient":this.visProp.gradient=f,this.board.renderer.setGradient(this);break;case"gradientsecondcolor":f=__TURBOPACK__default__export__24.rgba2rgbo(f),this.visProp.gradientsecondcolor=f[0],this.visProp.gradientsecondopacity=f[1],this.board.renderer.updateGradient(this);break;case"gradientsecondopacity":this.visProp.gradientsecondopacity=f,this.board.renderer.updateGradient(this);break;case"infoboxtext":__TURBOPACK__default__export__3.isString(f)?this.infoboxText=f:this.infoboxText=!1;break;case"labelcolor":h=(f=__TURBOPACK__default__export__24.rgba2rgbo(f))[1],f=f[0],0===h&&__TURBOPACK__default__export__3.exists(this.label)&&this.hasLabel&&this.label.hideElement(),__TURBOPACK__default__export__3.exists(this.label)&&this.hasLabel&&(this.label.visProp.strokecolor=f,this.board.renderer.setObjectStrokeColor(this.label,f,h)),this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT&&(this.visProp.strokecolor=f,this.visProp.strokeopacity=h,this.board.renderer.setObjectStrokeColor(this,f,h));break;case"layer":this.board.renderer.setLayer(this,this.eval(f)),this._set(e,f);break;case"maxlength":__TURBOPACK__default__export__3.exists(this.rendNodeTag)&&(this.rendNodeTag.maxlength=!!f);break;case"name":j=this.name,delete this.board.elementsByName[this.name],this.name=f,this.board.elementsByName[this.name]=this;break;case"needsregularupdate":this.needsRegularUpdate="false"!==f&&!1!==f,this.board.renderer.setBuffering(this,this.needsRegularUpdate?"auto":"static");break;case"onpolygon":this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&(this.onPolygon=!!f);break;case"radius":(this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE||this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR)&&this.setRadius(f);break;case"rotate":(this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT&&"internal"===this.evalVisProp("display")||this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_IMAGE)&&this.addRotation(f);break;case"tabindex":__TURBOPACK__default__export__3.exists(this.rendNode)&&(this.rendNode.setAttribute("tabindex",f),this._set(e,f));break;case"trace":"false"===f||!1===f?(this.clearTrace(),this.visProp.trace=!1):"pause"===f?this.visProp.trace=!1:this.visProp.trace=!0;break;case"visible":"false"===f?this.visProp.visible=!1:"true"===f?this.visProp.visible=!0:this.visProp.visible=f,this.setDisplayRendNode(this.evalVisProp("visible")),this.evalVisProp("visible")&&__TURBOPACK__default__export__3.exists(this.updateSize)&&this.updateSize();break;case"withlabel":this.visProp.withlabel=f,this.evalVisProp("withlabel")?(this.label||this.createLabel(),this.label.setAttribute({visible:"inherit"})):this.label&&this.hasLabel&&this.label.setAttribute({visible:!1}),this.hasLabel=f;break;case"straightfirst":case"straightlast":for(c in this._set(e,f),this.childElements)this.childElements.hasOwnProperty(c)&&"glider"===this.childElements[c].elType&&this.childElements[c].fullUpdate();break;default:__TURBOPACK__default__export__3.exists(this.visProp[e])&&(!__TURBOPACK__default__export__.Validator[e]||__TURBOPACK__default__export__.Validator[e]&&__TURBOPACK__default__export__.Validator[e](f)||__TURBOPACK__default__export__.Validator[e]&&__TURBOPACK__default__export__3.isFunction(f)&&__TURBOPACK__default__export__.Validator[e](f(this)))?(f=(!f.toLowerCase||"false"!==f.toLowerCase())&&f,this._set(e,f)):e in __TURBOPACK__default__export__25.shortcuts||__TURBOPACK__default__export__.warn("attribute '"+e+"' does not accept type '"+typeof f+"' of value "+f+".")}this.triggerEventHandlers(["attribute:"+e],[j,f,this])}return this.triggerEventHandlers(["attribute"],[k,this]),this.evalVisProp("needsregularupdate")?this.board.update(this):this.board.fullUpdate(),this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT&&this.updateSize(),this},getProperty:function(){__TURBOPACK__default__export__.deprecated("getProperty()","getAttribute()"),this.getProperty.apply(this,arguments)},getAttribute:function(a){var b;switch(a=a.toLowerCase()){case"needsregularupdate":b=this.needsRegularUpdate;break;case"labelcolor":b=this.label.visProp.strokecolor;break;case"infoboxtext":b=this.infoboxText;break;case"withlabel":b=this.hasLabel;break;default:b=this.visProp[a]}return b},evalVisProp:function(a){var b,c,d,e;if(-1===(a=a.toLowerCase()).indexOf("."))b=this.visProp[a];else for(d=0,e=(c=a.split(".")).length,b=this.visProp;d<e;d++)b=b[c[d]];if(__TURBOPACK__default__export__.isFunction(b))return!0===this.visProp.islabel&&__TURBOPACK__default__export__3.exists(this.visProp.anchor)?b(null!==this.visProp.anchor.visProp.element3d?this.visProp.anchor.visProp.element3d:this.visProp.anchor):b(__TURBOPACK__default__export__.exists(this.visProp.element3d)?this.visProp.element3d:this);return b},eval:function(a){if(__TURBOPACK__default__export__.isFunction(a))return!0===this.visProp.islabel&&__TURBOPACK__default__export__3.exists(this.visProp.anchor)?a(null!==this.visProp.anchor.visProp.element3d?this.visProp.anchor.visProp.element3d:this.visProp.anchor):a(null!==this.visProp.element3d?this.visProp.element3d:this);return a},setDash:function(a){return this.setAttribute({dash:a}),this},prepareUpdate:function(){return this.needsUpdate=!0,this},remove:function(){return this.board.renderer.remove(this.rendNode),this.hasLabel&&this.board.renderer.remove(this.board.renderer.getElementById(this.label.id)),this},getTextAnchor:function(){return new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],this.board)},getLabelAnchor:function(){return new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],this.board)},setArrow:function(a,b){return this.visProp.firstarrow=a,this.visProp.lastarrow=b,b&&(this.type=__TURBOPACK__default__export__1.OBJECT_TYPE_VECTOR,this.elType="arrow"),this.prepareUpdate().update().updateVisibility().updateRenderer(),this},createGradient:function(){var a=this.evalVisProp("gradient");("linear"===a||"radial"===a)&&this.board.renderer.setGradient(this)},createLabel:function(){var a,b=this;return __TURBOPACK__default__export__.elements.text?((a=__TURBOPACK__default__export__3.deepCopy(this.visProp.label,null)).id=this.id+"Label",a.isLabel=!0,a.anchor=this,a.priv=this.visProp.priv,this.visProp.withlabel&&(this.label=__TURBOPACK__default__export__.elements.text(this.board,[0,0,function(){return __TURBOPACK__default__export__3.isFunction(b.name)?b.name(b):b.name}],a),this.label.needsUpdate=!0,this.label.dump=!1,this.label.fullUpdate(),this.hasLabel=!0)):__TURBOPACK__default__export__.debug("JSXGraph: Can't create label: text element is not available. Make sure you include base/text"),this},highlight:function(a){return a=__TURBOPACK__default__export__3.def(a,!1),this.evalVisProp("highlight")&&(!this.highlighted||a)&&(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this)),this},noHighlight:function(){return this.highlighted&&(this.highlighted=!1,delete this.board.highlightedObjects[this.id],this.board.renderer.noHighlight(this)),this},clearTrace:function(){var a;for(a in this.traces)this.traces.hasOwnProperty(a)&&this.board.renderer.remove(this.traces[a]);return this.numTraces=0,this},cloneToBackground:function(){return this},bounds:function(){return[0,0,0,0]},normalize:function(){return this.stdform=__TURBOPACK__default__export__2.normalize(this.stdform),this},toJSON:function(){var a,b,c=['{"name":',this.name];for(b in c.push(', "id":'+this.id),a=[],this.visProp)this.visProp.hasOwnProperty(b)&&__TURBOPACK__default__export__3.exists(this.visProp[b])&&a.push('"'+b+'":'+this.visProp[b]);return c.push(', "visProp":{'+a.toString()+"}"),c.push("}"),c.join("")},addRotation:function(a){var b,c,d,e,f,g=this;return(this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT||this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_IMAGE)&&0!==a&&(b=this.board.create("transform",[function(){return-g.X()},function(){return-g.Y()}],{type:"translate"}),c=this.board.create("transform",[function(){return g.X()},function(){return g.Y()}],{type:"translate"}),d=this.board.create("transform",[function(){return g.board.unitX/g.board.unitY},function(){return 1}],{type:"scale"}),e=this.board.create("transform",[function(){return g.board.unitY/g.board.unitX},function(){return 1}],{type:"scale"}),f=this.board.create("transform",[function(){return g.eval(a)*Math.PI/180}],{type:"rotate"}),b.bindTo(this),d.bindTo(this),f.bindTo(this),e.bindTo(this),c.bindTo(this)),this},highlightStrokeColor:function(a){return __TURBOPACK__default__export__.deprecated("highlightStrokeColor()","setAttribute()"),this.setAttribute({highlightStrokeColor:a}),this},strokeColor:function(a){return __TURBOPACK__default__export__.deprecated("strokeColor()","setAttribute()"),this.setAttribute({strokeColor:a}),this},strokeWidth:function(a){return __TURBOPACK__default__export__.deprecated("strokeWidth()","setAttribute()"),this.setAttribute({strokeWidth:a}),this},fillColor:function(a){return __TURBOPACK__default__export__.deprecated("fillColor()","setAttribute()"),this.setAttribute({fillColor:a}),this},highlightFillColor:function(a){return __TURBOPACK__default__export__.deprecated("highlightFillColor()","setAttribute()"),this.setAttribute({highlightFillColor:a}),this},labelColor:function(a){return __TURBOPACK__default__export__.deprecated("labelColor()","setAttribute()"),this.setAttribute({labelColor:a}),this},dash:function(a){return __TURBOPACK__default__export__.deprecated("dash()","setAttribute()"),this.setAttribute({dash:a}),this},visible:function(a){return __TURBOPACK__default__export__.deprecated("visible()","setAttribute()"),this.setAttribute({visible:a}),this},shadow:function(a){return __TURBOPACK__default__export__.deprecated("shadow()","setAttribute()"),this.setAttribute({shadow:a}),this},getType:function(){return this.elType},getParents:function(){return __TURBOPACK__default__export__3.isArray(this.parents)?this.parents:[]},snapToGrid:function(){return this},snapToPoints:function(){return this},getAttributes:function(){var a,b=__TURBOPACK__default__export__3.deepCopy(this.visProp),c=[],d=c.length;for(a=0,b.id=this.id,b.name=this.name;a<d;a++)delete b[c[a]];return b},hasPoint:function(a,b){return!1},addTicks:function(a){return""!==a.id&&__TURBOPACK__default__export__3.exists(a.id)||(a.id=this.id+"_ticks_"+(this.ticks.length+1)),this.board.renderer.drawTicks(a),this.ticks.push(a),a.id},removeAllTicks:function(){var a;if(__TURBOPACK__default__export__3.exists(this.ticks)){for(a=this.ticks.length-1;a>=0;a--)this.removeTicks(this.ticks[a]);this.ticks=[],this.board.update()}},removeTicks:function(a){var b,c;if(__TURBOPACK__default__export__3.exists(this.defaultTicks)&&this.defaultTicks===a&&(this.defaultTicks=null),__TURBOPACK__default__export__3.exists(this.ticks)){for(b=this.ticks.length-1;b>=0;b--)if(this.ticks[b]===a){if(this.board.removeObject(this.ticks[b]),this.ticks[b].ticks)for(c=0;c<this.ticks[b].ticks.length;c++)__TURBOPACK__default__export__3.exists(this.ticks[b].labels[c])&&this.board.removeObject(this.ticks[b].labels[c]);delete this.ticks[b];break}}},getSnapSizes:function(){var a,b,c;return a=this.evalVisProp("snapsizex"),b=this.evalVisProp("snapsizey"),a<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(a=(c=this.board.defaultAxes.x.defaultTicks).ticksDelta*(c.evalVisProp("minorticks")+1)),b<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(b=(c=this.board.defaultAxes.y.defaultTicks).ticksDelta*(c.evalVisProp("minorticks")+1)),[a,b]},handleSnapToGrid:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=!1,o=this.evalVisProp("attracttogrid"),p=this.evalVisProp("attractorunit"),q=this.evalVisProp("attractordistance");return!__TURBOPACK__default__export__3.exists(this.coords)||this.evalVisProp("fixed")||(n=this.evalVisProp("snaptogrid")||o||!0===a)&&(c=this.coords.usrCoords[1],d=this.coords.usrCoords[2],l=(k=this.getSnapSizes())[0],m=k[1],l>0&&m>0&&(j=this.board.getBoundingBox(),e=Math.round(c/l)*l,f=Math.round(d/m)*m,g=new __TURBOPACK__default__export__.Coords(__TURBOPACK__default__export__1.COORDS_BY_USER,[e,f],this.board),(!o||g.distance("screen"===p?__TURBOPACK__default__export__1.COORDS_BY_SCREEN:__TURBOPACK__default__export__1.COORDS_BY_USER,this.coords)<q)&&(c=e,d=f,!b&&(h=Math.min(j[0],j[2]),i=Math.max(j[0],j[2]),c<h&&c>h-l?c+=l:c>i&&c<i+l&&(c-=l),h=Math.min(j[1],j[3]),i=Math.max(j[1],j[3]),d<h&&d>h-m?d+=m:d>i&&d<i+m&&(d-=m)),this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[c,d])))),this},getBoundingBox:function(){var a,b,c,d,e,f,g=[1/0,1/0,-1/0,-1/0];if(this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON){if((b=this.vertices.length-1)<=0)return g;for(a=0;a<b;a++)c=this.vertices[a].X(),g[0]=c<g[0]?c:g[0],g[2]=c>g[2]?c:g[2],c=this.vertices[a].Y(),g[1]=c<g[1]?c:g[1],g[3]=c>g[3]?c:g[3]}else if(this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)d=this.center.X(),e=this.center.Y(),g=[d-this.radius,e+this.radius,d+this.radius,e-this.radius];else if(this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE){if(0===(b=this.points.length))return g;for(a=0;a<b;a++)c=this.points[a].usrCoords[1],g[0]=c<g[0]?c:g[0],g[2]=c>g[2]?c:g[2],c=this.points[a].usrCoords[2],g[1]=c<g[1]?c:g[1],g[3]=c>g[3]?c:g[3]}else this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT?(d=this.X(),e=this.Y(),g=[d-(f=this.evalVisProp("size"))/this.board.unitX,e-f/this.board.unitY,d+f/this.board.unitX,e+f/this.board.unitY]):this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&(c=this.point1.coords.usrCoords[1],g[0]=c<g[0]?c:g[0],g[2]=c>g[2]?c:g[2],c=this.point1.coords.usrCoords[2],g[1]=c<g[1]?c:g[1],g[3]=c>g[3]?c:g[3],c=this.point2.coords.usrCoords[1],g[0]=c<g[0]?c:g[0],g[2]=c>g[2]?c:g[2],c=this.point2.coords.usrCoords[2],g[1]=c<g[1]?c:g[1],g[3]=c>g[3]?c:g[3]);return g},addEvent:__TURBOPACK__default__export__.shortcut(__TURBOPACK__default__export__.GeometryElement.prototype,"on"),removeEvent:__TURBOPACK__default__export__.shortcut(__TURBOPACK__default__export__.GeometryElement.prototype,"off"),formatNumberLocale:function(a,b){var c,d,e,f={},g={maximumfractiondigits:"maximumFractionDigits",minimumfractiondigits:"minimumFractionDigits",compactdisplay:"compactDisplay",currencydisplay:"currencyDisplay",currencysign:"currencySign",localematcher:"localeMatcher",numberingsystem:"numberingSystem",signdisplay:"signDisplay",unitdisplay:"unitDisplay",usegrouping:"useGrouping",roundingmode:"roundingMode",roundingpriority:"roundingPriority",roundingincrement:"roundingIncrement",trailingzerodisplay:"trailingZeroDisplay",minimumintegerdigits:"minimumIntegerDigits",minimumsignificantdigits:"minimumSignificantDigits",maximumsignificantdigits:"maximumSignificantDigits"};if(__TURBOPACK__default__export__3.exists(Intl)&&this.useLocale()){for(e in c=this.evalVisProp("intl.locale")||this.eval(this.board.attr.intl.locale),d=this.evalVisProp("intl.options")||{})d.hasOwnProperty(e)&&(g.hasOwnProperty(e)?f[g[e]]=this.eval(d[e]):f[e]=this.eval(d[e]));return e="maximumfractiondigits",__TURBOPACK__default__export__3.exists(d[e])||(f[g[e]]=b),Intl.NumberFormat(c,f).format(a)}return a},useLocale:function(){var a;return!!__TURBOPACK__default__export__3.exists(this.visProp.intl)&&!!__TURBOPACK__default__export__3.exists(this.visProp.intl.enabled)&&(!0===(a=this.evalVisProp("intl.enabled"))||"inherit"===a&&!0===this.eval(this.board.attr.intl.enabled))},__evt__over:function(a){},__evt__mouseover:function(a){},__evt__out:function(a){},__evt__mouseout:function(a){},__evt__move:function(a){},__evt__mousemove:function(a){},__evt__drag:function(a){},__evt__mousedrag:function(a){},__evt__pendrag:function(a){},__evt__touchdrag:function(a){},__evt__keydrag:function(a){},__evt__down:function(a){},__evt__mousedown:function(a){},__evt__pendown:function(a){},__evt__touchdown:function(a){},__evt__click:function(a){},__evt__dblclick:function(a){},__evt__mouseclick:function(a){},__evt__mousedblclick:function(a){},__evt__pointerclick:function(a){},__evt__pointerdblclick:function(a){},__evt__up:function(a){},__evt__mouseup:function(a){},__evt__penup:function(a){},__evt__touchup:function(a){},__evt__attribute:function(a,b){},__evt__attribute_:function(a,b,c){},__evt:function(){}});let __TURBOPACK__default__export__31=__TURBOPACK__default__export__.GeometryElement;__TURBOPACK__default__export__.CoordsElement=function(a,b){var c;for(__TURBOPACK__default__export__3.exists(a)||(a=[1,0,0]),c=0;c<a.length;++c)a[c]=parseFloat(a[c]);this.coords=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a,this.board),this.initialCoords=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a,this.board),this.actualCoords=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a,this.board),this.position=null,this.isConstrained=!1,this.onPolygon=!1,this.slideObject=null,this.slideObjects=[],this.needsUpdateFromParent=!0,this.groups=[],this.Xjc=null,this.Yjc=null,this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{move:"moveTo",moveTo:"moveTo",moveAlong:"moveAlong",visit:"visit",glide:"makeGlider",makeGlider:"makeGlider",intersect:"makeIntersection",makeIntersection:"makeIntersection",X:"X",Y:"Y",Coords:"Coords",free:"free",setPosition:"setGliderPosition",setGliderPosition:"setGliderPosition",addConstraint:"addConstraint",dist:"Dist",Dist:"Dist",onPolygon:"onPolygon",startAnimation:"startAnimation",stopAnimation:"stopAnimation"}),__TURBOPACK__default__export__3.exists(this.element)&&this.addAnchor(a,b),this.isDraggable=!0},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.CoordsElement.prototype,{updateConstraint:function(){return this},updateCoords:function(a){return this.needsUpdate&&(__TURBOPACK__default__export__3.exists(a)||(a=!1),this.evalVisProp("frozen")||this.updateConstraint(),this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&(this.isConstrained&&(a=!1),a?this.updateGliderFromParent():this.updateGlider()),this.updateTransform(a)),this},updateGlider:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=2*Math.PI,v=!1,w=this.slideObject,x=[];if(this.needsUpdateFromParent=!1,w.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)this.evalVisProp("isgeonext")&&(u=1),n=__TURBOPACK__default__export__14.projectPointToCircle(this,w,this.board),o=__TURBOPACK__default__export__14.rad([w.center.X()+1,w.center.Y()],w.center,this)/u;else if(w.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE){if(this.onPolygon){if(d=w.point1.coords.usrCoords,Math.abs(b=(e=w.point2.coords.usrCoords)[a=1]-d[a])<__TURBOPACK__default__export__2.eps&&(b=e[a=2]-d[a]),g=(__TURBOPACK__default__export__14.projectPointToLine(this,w,this.board).usrCoords[a]-d[a])/b,f=w.parentPolygon,g<0){for(a=0;a<f.borders.length;a++)if(w===f.borders[a]){w=f.borders[(a-1+f.borders.length)%f.borders.length];break}}else if(g>1){for(a=0;a<f.borders.length;a++)if(w===f.borders[a]){w=f.borders[(a+1+f.borders.length)%f.borders.length];break}}w.id!==this.slideObject.id&&(this.slideObject=w)}d=w.point1.coords,e=w.point2.coords,(b=d.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,e))<__TURBOPACK__default__export__2.eps?(n=d,v=!0,o=0):(n=__TURBOPACK__default__export__14.projectPointToLine(this,w,this.board),d=d.usrCoords.slice(0),Math.abs((e=e.usrCoords.slice(0))[0])<__TURBOPACK__default__export__2.eps?(Math.abs(b=e[a=1])<__TURBOPACK__default__export__2.eps&&(b=e[a=2]),o=((b=(n.usrCoords[a]-d[a])/b)>=0?1:-1)*(b=Math.abs(b))/(b+1)):Math.abs(d[0])<__TURBOPACK__default__export__2.eps?(Math.abs(b=d[a=1])<__TURBOPACK__default__export__2.eps&&(b=d[a=2]),o=(b=(n.usrCoords[a]-e[a])/b)<0?(1-2*b)/(1-b):1/(b+1)):(Math.abs(b=e[a=1]-d[a])<__TURBOPACK__default__export__2.eps&&(b=e[a=2]-d[a]),o=(n.usrCoords[a]-d[a])/b)),null!==(q=this.findClosestSnapValue(o))?(o=(this.evalVisProp("snapvalues")[q]-this._smin)/(this._smax-this._smin),this.update(!0)):(p=this.evalVisProp("snapwidth"))>0&&Math.abs(this._smax-this._smin)>=__TURBOPACK__default__export__2.eps&&(o=((c=Math.round((c=(o=Math.max(Math.min(o,1),0))*(this._smax-this._smin))/p)*p+this._smin)-this._smin)/(this._smax-this._smin),this.update(!0)),d=w.point1.coords,!w.evalVisProp("straightfirst")&&Math.abs(d.usrCoords[0])>__TURBOPACK__default__export__2.eps&&o<0&&(n=d,v=!0,o=0),e=w.point2.coords,!w.evalVisProp("straightlast")&&Math.abs(e.usrCoords[0])>__TURBOPACK__default__export__2.eps&&o>1&&(n=e,v=!0,o=1)}else if(w.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TURTLE)this.updateConstraint(),n=(r=__TURBOPACK__default__export__14.projectPointToTurtle(this,w,this.board))[0],o=r[1];else if(w.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)if(w.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ARC||w.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR)n=__TURBOPACK__default__export__14.projectPointToCircle(this,w,this.board),h=__TURBOPACK__default__export__14.rad(w.radiuspoint,w.center,this),i=0,j=__TURBOPACK__default__export__14.rad(w.radiuspoint,w.center,w.anglepoint),o=h,("minor"===(p=w.evalVisProp("selection"))&&j>Math.PI||"major"===p&&j<Math.PI)&&(i=j,j=2*Math.PI),(h<i||h>j)&&(o=j,(h<i&&h>.5*i||h>j&&h>.5*j+Math.PI)&&(o=i),this.needsUpdateFromParent=!0,this.updateGliderFromParent()),u=j-i,this.visProp.isgeonext&&(u=1),Math.abs(u)>__TURBOPACK__default__export__2.eps&&(o/=u);else if(this.updateConstraint(),w.transformations.length>0){for(t=!1,(r=w.getTransformationSource())[0]&&(t=r[0],x.push(w),x.push(r[1]));r[0]&&__TURBOPACK__default__export__3.exists(r[1]._transformationSource);)r=r[1].getTransformationSource(),x.push(r[1]);if(s=this.coords.usrCoords,t){for(a=0;a<x.length;a++)x[a].updateTransformMatrix(),m=__TURBOPACK__default__export__2.inverse(x[a].transformMat),s=__TURBOPACK__default__export__2.matVecMult(m,s);for(k=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,s,this.board).usrCoords,s=(l=__TURBOPACK__default__export__14.projectCoordsToCurve(k[1],k[2],this.position||0,x[x.length-1],this.board))[0].usrCoords,a=x.length-2;a>=0;a--)s=__TURBOPACK__default__export__2.matVecMult(x[a].transformMat,s);l[0]=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,s,this.board)}else w.updateTransformMatrix(),m=__TURBOPACK__default__export__2.inverse(w.transformMat),s=__TURBOPACK__default__export__2.matVecMult(m,s),k=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,s,this.board).usrCoords,l=__TURBOPACK__default__export__14.projectCoordsToCurve(k[1],k[2],this.position||0,w,this.board);n=l[0],o=l[1]}else n=(r=__TURBOPACK__default__export__14.projectPointToCurve(this,w,this.board))[0],o=r[1];else __TURBOPACK__default__export__3.isPoint(w)&&(n=__TURBOPACK__default__export__14.projectPointToPoint(this,w,this.board),o=this.position);this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,n.usrCoords,v),this.position=o},findClosestSnapValue:function(a){var b,c,d,e,f=null;if(d=this.evalVisProp("snapvalues"),e=this.evalVisProp("snapvaluedistance"),__TURBOPACK__default__export__3.isArray(d)&&Math.abs(this._smax-this._smin)>=__TURBOPACK__default__export__2.eps&&e>0)for(b=0;b<d.length;b++)(c=Math.abs(a*(this._smax-this._smin)+this._smin-d[b]))<e&&(e=c,f=b);return f},updateGliderFromParent:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=this.slideObject,n=[],o=2*Math.PI;if(!this.needsUpdateFromParent){this.needsUpdateFromParent=!0;return}if(m.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)c=m.Radius(),this.evalVisProp("isgeonext")&&(o=1),e=[m.center.X()+c*Math.cos(this.position*o),m.center.Y()+c*Math.sin(this.position*o)];else if(m.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)a=m.point1.coords.usrCoords,b=m.point2.coords.usrCoords,0===a[0]&&0===a[1]&&0===a[2]||0===b[0]&&0===b[1]&&0===b[2]?e=[0,0,0]:Math.abs(b[0])<__TURBOPACK__default__export__2.eps?(d=Math.min(Math.abs(this.position),1-__TURBOPACK__default__export__2.eps),d/=1-d,this.position<0&&(d=-d),e=[a[0]+d*b[0],a[1]+d*b[1],a[2]+d*b[2]]):Math.abs(a[0])<__TURBOPACK__default__export__2.eps?(d=(d=Math.min(d=Math.max(this.position,__TURBOPACK__default__export__2.eps),2-__TURBOPACK__default__export__2.eps))>1?(d-1)/(d-2):(1-d)/d,e=[b[0]+d*a[0],b[1]+d*a[1],b[2]+d*a[2]]):(d=this.position,e=[a[0]+d*(b[0]-a[0]),a[1]+d*(b[1]-a[1]),a[2]+d*(b[2]-a[2])]);else if(m.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TURTLE)this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[m.Z(this.position),m.X(this.position),m.Y(this.position)]),this.updateConstraint(),e=__TURBOPACK__default__export__14.projectPointToTurtle(this,m,this.board)[0].usrCoords;else if(m.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE){for(h=!1,(f=m.getTransformationSource())[0]&&(h=f[0],n.push(m),n.push(f[1]));f[0]&&__TURBOPACK__default__export__3.exists(f[1]._transformationSource);)f=f[1].getTransformationSource(),n.push(f[1]);if(h?this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[n[n.length-1].Z(this.position),n[n.length-1].X(this.position),n[n.length-1].Y(this.position)]):this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[m.Z(this.position),m.X(this.position),m.Y(this.position)]),m.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ARC||m.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR)i=__TURBOPACK__default__export__14.rad([m.center.X()+1,m.center.Y()],m.center,m.radiuspoint),j=0,l=__TURBOPACK__default__export__14.rad(m.radiuspoint,m.center,m.anglepoint),("minor"===m.visProp.selection&&l>Math.PI||"major"===m.visProp.selection&&l<Math.PI)&&(j=l,l=2*Math.PI),o=l-j,this.evalVisProp("isgeonext")&&(o=1),((k=this.position*o)<j||k>l)&&(((k=l)<j&&k>.5*j||k>l&&k>.5*l+Math.PI)&&(k=j),this.position=k,Math.abs(o)>__TURBOPACK__default__export__2.eps&&(this.position/=o)),c=m.Radius(),e=[m.center.X()+c*Math.cos(this.position*o+i),m.center.Y()+c*Math.sin(this.position*o+i)];else if(this.updateConstraint(),h)for(e=__TURBOPACK__default__export__14.projectPointToCurve(this,n[n.length-1],this.board)[0].usrCoords,g=n.length-2;g>=0;g--)e=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,__TURBOPACK__default__export__2.matVecMult(n[g].transformMat,e),this.board).usrCoords;else e=__TURBOPACK__default__export__14.projectPointToCurve(this,m,this.board)[0].usrCoords}else __TURBOPACK__default__export__3.isPoint(m)&&(e=__TURBOPACK__default__export__14.projectPointToPoint(this,m,this.board).usrCoords);this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,e,!1)},updateRendererGeneric:function(a){return this.needsUpdate&&this.board.renderer&&(this.visPropCalc.visible&&(this.isReal=!isNaN(this.coords.usrCoords[1]+this.coords.usrCoords[2]),this.isReal=Math.abs(this.coords.usrCoords[0])>__TURBOPACK__default__export__2.eps&&this.isReal,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer[a](this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1),this},X:function(){return this.coords.usrCoords[1]},Y:function(){return this.coords.usrCoords[2]},Z:function(){return this.coords.usrCoords[0]},Coords:function(a){return a?this.coords.usrCoords.slice():this.coords.usrCoords.slice(1)},XEval:function(){return this.coords.usrCoords[1]},YEval:function(){return this.coords.usrCoords[2]},ZEval:function(){return this.coords.usrCoords[0]},Dist:function(a){return this.isReal&&a.isReal?this.coords.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,a.coords):NaN},snapToGrid:function(a){return this.handleSnapToGrid(a)},handleSnapToPoints:function(a){var b,c,d,e,f,g,h,i,j=0,k=1/0,l=null,m=this.evalVisProp("ignoredsnaptopoints"),n=!1;if(e=this.board.objectsList.length,m&&(h=m.length),this.evalVisProp("snaptopoints")||a){for(b=0,f=this.evalVisProp("attractorunit"),g=this.evalVisProp("attractordistance");b<e;b++){if(c=this.board.objectsList[b],m){for(i=0,n=!1;i<h;i++)if(c===this.board.select(m[i])){n=!0;break}if(n)continue}__TURBOPACK__default__export__3.isPoint(c)&&c!==this&&c.visPropCalc.visible&&(d=__TURBOPACK__default__export__14.projectPointToPoint(this,c,this.board),(j="screen"===f?d.distance(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,this.coords):d.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,this.coords))<g&&j<k&&(k=j,l=d))}null!==l&&this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,l.usrCoords)}return this},snapToPoints:function(a){return this.handleSnapToPoints(a)},handleAttractors:function(){var a,b,c,d,e=0,f=this.evalVisProp("attractorunit"),g=this.evalVisProp("attractordistance"),h=this.evalVisProp("snatchdistance"),i=this.evalVisProp("attractors"),j=i.length;if(0!==g){for(a=0;a<j;a++)if(b=this.board.select(i[a]),__TURBOPACK__default__export__3.exists(b)&&b!==this){if(__TURBOPACK__default__export__3.isPoint(b)?c=__TURBOPACK__default__export__14.projectPointToPoint(this,b,this.board):b.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?(d=__TURBOPACK__default__export__14.projectCoordsToSegment(this.coords.usrCoords,b.point1.coords.usrCoords,b.point2.coords.usrCoords),c=!b.evalVisProp("straightfirst")&&d[1]<0?b.point1.coords:!b.evalVisProp("straightlast")&&d[1]>1?b.point2.coords:new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,d[0],this.board)):b.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE?c=__TURBOPACK__default__export__14.projectPointToCircle(this,b,this.board):b.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE?c=__TURBOPACK__default__export__14.projectPointToCurve(this,b,this.board)[0]:b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TURTLE?c=__TURBOPACK__default__export__14.projectPointToTurtle(this,b,this.board)[0]:b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON&&(c=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,__TURBOPACK__default__export__14.projectCoordsToPolygon(this.coords.usrCoords,b),this.board)),(e="screen"===f?c.distance(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,this.coords):c.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,this.coords))<g){this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&(b===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===b)||this.makeGlider(b);break}e>=h&&(b===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===b)&&this.popSlideObject()}return this}},setPositionDirectly:function(a,b){var c,d,e,f,g,h=this.coords;if(this.relativeCoords)return d=new __TURBOPACK__default__export__7(a,b,this.board),this.evalVisProp("islabel")?(e=__TURBOPACK__default__export__12.subtract(d.scrCoords,h.scrCoords),this.relativeCoords.scrCoords[1]+=e[1],this.relativeCoords.scrCoords[2]+=e[2]):(e=__TURBOPACK__default__export__12.subtract(d.usrCoords,h.usrCoords),this.relativeCoords.usrCoords[1]+=e[1],this.relativeCoords.usrCoords[2]+=e[2]),this;if(this.coords.setCoordinates(a,b),this.handleSnapToGrid(),this.handleSnapToPoints(),this.handleAttractors(),this.actualCoords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,this.coords.usrCoords),this.transformations.length>0){for(a===__TURBOPACK__default__export__1.COORDS_BY_SCREEN?g=new __TURBOPACK__default__export__7(a,b,this.board).usrCoords:(2===b.length&&(b=[1].concat(b)),g=b),f=[[1,0,0],[0,1,0],[0,0,1]],c=0;c<this.transformations.length;c++)f=__TURBOPACK__default__export__2.matMatMult(this.transformations[c].matrix,f);g=__TURBOPACK__default__export__2.matVecMult(__TURBOPACK__default__export__2.inverse(f),g),this.initialCoords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,g),this.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_POINT&&this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,g)}return this.prepareUpdate().update(),this.board.isSuspendedUpdate&&this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&this.updateGlider(),this},setPositionByTransform:function(a,b){var c;return b=new __TURBOPACK__default__export__7(a,b,this.board),c=this.board.create("transform",b.usrCoords.slice(1),{type:"translate"}),this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(c):this.addTransform(this,c),this.prepareUpdate().update(),this},setPosition:function(a,b){return this.setPositionDirectly(a,b)},setGliderPosition:function(a){return this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&(this.position=a,this.board.update()),this},makeGlider:function(a){var b,c,d,e=this.board.select(a),f=!1;if(e.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON){for(c=0,b=Number.MAX_VALUE;c<e.borders.length;c++)(d=__TURBOPACK__default__export__.Math.Geometry.distPointLine(this.coords.usrCoords,e.borders[c].stdform))<b&&(b=d,a=e.borders[c]);e=this.board.select(a),f=!0}if(__TURBOPACK__default__export__3.exists(e)){if(e.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TICKS)throw Error("JSXGraph: gliders on ticks are not possible.")}else throw Error("JSXGraph: slide object undefined.");return this.slideObject=this.board.select(a),this.slideObjects.push(this.slideObject),this.addParents(a),this.type=__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER,this.elType="glider",this.visProp.snapwidth=-1,this.slideObject.addChild(this),this.isDraggable=!0,this.onPolygon=f,this.generatePolynomial=function(){return this.slideObject.generatePolynomial(this)},this.updateGlider(),this.needsUpdateFromParent=!0,this.updateGliderFromParent(),this},popSlideObject:function(){this.slideObjects.length>0&&(this.slideObjects.pop(),this.slideObject.removeChild(this),0===this.slideObjects.length?(this.type=this._org_type,this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POINT?this.elType="point":this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT?this.elType="text":this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_IMAGE?this.elType="image":this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_FOREIGNOBJECT&&(this.elType="foreignobject"),this.slideObject=null):this.slideObject=this.slideObjects[this.slideObjects.length-1])},free:function(){var a,b;if(this.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER){if(this.transformations.length=0,delete this.updateConstraint,this.isConstrained=!1,this.isDraggable)return;this.isDraggable=!0,this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT&&(this.type=__TURBOPACK__default__export__1.OBJECT_TYPE_POINT,this.elType="point"),this.XEval=function(){return this.coords.usrCoords[1]},this.YEval=function(){return this.coords.usrCoords[2]},this.ZEval=function(){return this.coords.usrCoords[0]},this.Xjc=null,this.Yjc=null}for(a in this.board.objects)this.board.objects.hasOwnProperty(a)&&(b=this.board.objects[a]).descendants&&(delete b.descendants[this.id],delete b.childElements[this.id],this.hasLabel&&(delete b.descendants[this.label.id],delete b.childElements[this.label.id]));this.ancestors={},this.parents=[],this.slideObject=null,this.slideObjects=[],this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT?(this.type=__TURBOPACK__default__export__1.OBJECT_TYPE_POINT,this.elType="point"):this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT?(this.type=this._org_type,this.elType="text"):this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_OTHER&&(this.type=this._org_type,this.elType="image")},addConstraint:function(a){var b,c,d=[],e=["X","Y"],f=function(a){return function(){return a}},g=function(a){return function(){return a.Value()}};for(this.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT&&(this.type=__TURBOPACK__default__export__1.OBJECT_TYPE_CAS),this.isDraggable=!1,b=0;b<a.length;b++)c=a[b],__TURBOPACK__default__export__3.isString(c)?(d[b]=this.board.jc.snippet(c,!0,null,!0),this.addParentsFromJCFunctions([d[b]]),2===a.length&&(this[e[b]+"jc"]=a[b])):__TURBOPACK__default__export__3.isFunction(c)?d[b]=c:__TURBOPACK__default__export__3.isNumber(c)?d[b]=f(c):__TURBOPACK__default__export__3.isObject(c)&&__TURBOPACK__default__export__3.isFunction(c.Value)&&(d[b]=g(c)),d[b].origin=c;return 1===a.length?this.updateConstraint=function(){var a=d[0]();return __TURBOPACK__default__export__3.isArray(a)?this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,a):this.coords=a,this}:2===a.length?(this.XEval=d[0],this.YEval=d[1],this.addParents([d[0].origin,d[1].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.XEval(),this.YEval()]),this}):(this.ZEval=d[0],this.XEval=d[1],this.YEval=d[2],this.addParents([d[0].origin,d[1].origin,d[2].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()]),this}),this.isConstrained=!0,this.prepareUpdate().update(),!this.board.isSuspendedUpdate&&(this.updateVisibility().updateRenderer(),this.hasLabel&&this.label.fullUpdate()),this},addAnchor:function(a,b){b?this.relativeCoords=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,a.slice(0,2),this.board):this.relativeCoords=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a,this.board),this.element.addChild(this),b&&this.addParents(this.element),this.XEval=function(){var a,b;return this.evalVisProp("islabel")?(a=parseFloat(this.evalVisProp("offset")[0]),b=this.element.getLabelAnchor(),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a+this.relativeCoords.scrCoords[1]+b.scrCoords[1],0],this.board).usrCoords[1]):(b=this.element.getTextAnchor(),this.relativeCoords.usrCoords[1]+b.usrCoords[1])},this.YEval=function(){var a,b;return this.evalVisProp("islabel")?(a=-parseFloat(this.evalVisProp("offset")[1]),b=this.element.getLabelAnchor(),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[0,a+this.relativeCoords.scrCoords[2]+b.scrCoords[2]],this.board).usrCoords[2]):(b=this.element.getTextAnchor(),this.relativeCoords.usrCoords[2]+b.usrCoords[2])},this.ZEval=__TURBOPACK__default__export__3.createFunction(1,this.board,""),this.updateConstraint=function(){this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()])},this.isConstrained=!0,this.updateConstraint()},updateTransform:function(a){var b,c;if(0===this.transformations.length||null===this.baseElement)return this;for(this.transformations[0].update(),b=this===this.baseElement?this.transformations[0].apply(this,"self"):this.transformations[0].apply(this.baseElement),c=1;c<this.transformations.length;c++)this.transformations[c].update(),b=__TURBOPACK__default__export__2.matVecMult(this.transformations[c].matrix,b);return this.actualCoords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,b),this},addTransform:function(a,b){var c,d=__TURBOPACK__default__export__3.isArray(b)?b:[b],e=d.length;for(0===this.transformations.length&&(this.baseElement=a),c=0;c<e;c++)this.transformations.push(d[c]);return this},startAnimation:function(a,b,c,d){var e=__TURBOPACK__default__export__3.evaluate(a),f=__TURBOPACK__default__export__3.evaluate(b),g=this;return c=__TURBOPACK__default__export__3.evaluate(c)||250,d="undefined"!==(d=__TURBOPACK__default__export__3.evaluate(d))?d:-1,this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&!__TURBOPACK__default__export__3.exists(this.intervalCode)&&0!==d&&(this.roundsCount=0,this.intervalCode=window.setInterval(function(){g._anim(e,f,d)},c),__TURBOPACK__default__export__3.exists(this.intervalCount)||(this.intervalCount=0)),this},stopAnimation:function(){return __TURBOPACK__default__export__3.exists(this.intervalCode)&&(window.clearInterval(this.intervalCode),delete this.intervalCode),this},moveAlong:function(a,b,c){c=c||{};var d,e,f,g,h,i=[],j=[],k=b/this.board.attr.animationdelay,l=function(b,c){return function(){return a[b][c]}};if(__TURBOPACK__default__export__3.isArray(a)){for(d=0,f=a.length;d<f;d++)__TURBOPACK__default__export__3.isPoint(a[d])?j[d]=a[d]:j[d]={elementClass:__TURBOPACK__default__export__1.OBJECT_CLASS_POINT,X:l(d,0),Y:l(d,1)};if(0===(b=b||0))return this.setPosition(__TURBOPACK__default__export__1.COORDS_BY_USER,[j[j.length-1].X(),j[j.length-1].Y()]),this.board.update(this);if(!__TURBOPACK__default__export__3.exists(c.interpolate)||c.interpolate)for(d=0,e=__TURBOPACK__default__export__13.Neville(j);d<k;d++)i[d]=[],i[d][0]=e[0]((k-d)/k*e[3]()),i[d][1]=e[1]((k-d)/k*e[3]());else{for(d=0,f=a.length-1;d<k;++d)g=Math.floor(d/k*f),h=d/k*f-g,i[d]=[],i[d][0]=(1-h)*j[g].X()+h*j[g+1].X(),i[d][1]=(1-h)*j[g].Y()+h*j[g+1].Y();i.push([j[f].X(),j[f].Y()]),i.reverse()}this.animationPath=i}else __TURBOPACK__default__export__3.isFunction(a)&&(this.animationPath=a,this.animationStart=new Date().getTime());return this.animationCallback=c.callback,this.board.addAnimation(this),this},moveTo:function(a,b,c){c=c||{},a=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a,this.board);var d,e=Math.ceil(b/this.board.attr.animationdelay),f=[],g=this.coords.usrCoords[1],h=this.coords.usrCoords[2],i=a.usrCoords[1]-g,j=a.usrCoords[2]-h,k=function(a){var b=a/e;if(c.effect){if("<>"===c.effect)return Math.pow(Math.sin(b*Math.PI/2),2);if("<"===c.effect)return b*b*b;if(">"===c.effect)return 1-Math.pow(1-b,3);if("=="===c.effect)return a/e;throw Error("valid effects are '==', '<>', '>', and '<'.")}return a/e};if(!__TURBOPACK__default__export__3.exists(b)||0===b||Math.abs(a.usrCoords[0]-this.coords.usrCoords[0])>__TURBOPACK__default__export__2.eps)return this.setPosition(__TURBOPACK__default__export__1.COORDS_BY_USER,a.usrCoords),this.board.update(this);if(!__TURBOPACK__default__export__3.exists(c.callback)&&Math.abs(i)<__TURBOPACK__default__export__2.eps&&Math.abs(j)<__TURBOPACK__default__export__2.eps)return this;for(d=e;d>=0;d--)f[e-d]=[a.usrCoords[0],g+i*k(d),h+j*k(d)];return this.animationPath=f,this.animationCallback=c.callback,this.board.addAnimation(this),this},visit:function(a,b,c){a=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a,this.board);var d,e,f,g=this.board.attr.animationdelay,h=[],i=this.coords.usrCoords[1],j=this.coords.usrCoords[2],k=a.usrCoords[1]-i,l=a.usrCoords[2]-j,m=function(a){var b=a<f/2?2*a/f:2*(f-a)/f;if(c.effect){if("<>"===c.effect)return Math.pow(Math.sin(b*Math.PI/2),2);if("<"===c.effect)return b*b*b;if(">"===c.effect)return 1-Math.pow(1-b,3);if("=="===c.effect)return b;throw Error("valid effects are '==', '<>', '>', and '<'.")}return b};for(__TURBOPACK__default__export__3.isNumber(c)?c={repeat:c}:(c=c||{},__TURBOPACK__default__export__3.exists(c.repeat)||(c.repeat=1)),f=Math.ceil(b/(g*c.repeat)),e=0;e<c.repeat;e++)for(d=f;d>=0;d--)h[e*(f+1)+f-d]=[a.usrCoords[0],i+k*m(d),j+l*m(d)];return this.animationPath=h,this.animationCallback=c.callback,this.board.addAnimation(this),this},moveAlongES6:function(a,b,c){return new Promise((d,e)=>{__TURBOPACK__default__export__3.exists(c)&&__TURBOPACK__default__export__3.exists(c.callback)?c.callback=d:c={callback:d},this.moveAlong(a,b,c)})},moveToES6:function(a,b,c){return new Promise((d,e)=>{__TURBOPACK__default__export__3.exists(c)&&__TURBOPACK__default__export__3.exists(c.callback)?c.callback=d:c={callback:d},this.moveTo(a,b,c)})},visitES6:function(a,b,c){return new Promise((d,e)=>{__TURBOPACK__default__export__3.exists(c)&&__TURBOPACK__default__export__3.exists(c.callback)?c.callback=d:c={callback:d},this.visit(a,b,c)})},_anim:function(a,b,c){var d,e,f,g,h,i,j,k,l;return(this.intervalCount+=1,this.intervalCount>b&&(this.intervalCount=0,this.roundsCount+=1,c>0&&this.roundsCount>=c))?(this.roundsCount=0,this.stopAnimation()):(this.slideObject.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?(j=this.slideObject.point1.coords.scrCoords,d=Math.round(((k=this.slideObject.point2.coords.scrCoords)[1]-j[1])*this.intervalCount/b),e=Math.round((k[2]-j[2])*this.intervalCount/b),a>0?g=this.slideObject.point1:(g=this.slideObject.point2,d*=-1,e*=-1),this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[g.coords.scrCoords[1]+d,g.coords.scrCoords[2]+e])):this.slideObject.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE?(h=a>0?(this.slideObject.maxX()-this.slideObject.minX())*this.intervalCount/b+this.slideObject.minX():-(this.slideObject.maxX()-this.slideObject.minX())*this.intervalCount/b+this.slideObject.maxX(),this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.slideObject.X(h),this.slideObject.Y(h)]),l=__TURBOPACK__default__export__14.projectPointToCurve(this,this.slideObject,this.board),this.coords=l[0],this.position=l[1]):this.slideObject.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE&&(f=2*Math.PI,a<0?f*=this.intervalCount/b:f*=(b-this.intervalCount)/b,i=this.slideObject.Radius(),this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.slideObject.center.coords.usrCoords[1]+i*Math.cos(f),this.slideObject.center.coords.usrCoords[2]+i*Math.sin(f)])),this.board.update(this),this)},getTextAnchor:function(){return this.coords},getLabelAnchor:function(){return this.coords},getParents:function(){var a=[this.Z(),this.X(),this.Y()];return 0!==this.parents.length&&(a=this.parents),this.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&(a=[this.X(),this.Y(),this.slideObject.id]),a}}),__TURBOPACK__default__export__.CoordsElement.create=function(a,b,c,d,e,f){var g,h,i=!1;for(h=0;h<c.length;h++)(__TURBOPACK__default__export__3.isFunction(c[h])||__TURBOPACK__default__export__3.isString(c[h]))&&(i=!0);if(i)(g=new a(b,[0,0],d,e,f)).addConstraint(c);else if(__TURBOPACK__default__export__3.isNumber(c[0])&&__TURBOPACK__default__export__3.isNumber(c[1]))g=new a(b,c,d,e,f),__TURBOPACK__default__export__3.exists(d.slideobject)?g.makeGlider(d.slideobject):g.baseElement=g,g.isDraggable=!0;else{if(!(__TURBOPACK__default__export__3.isObject(c[0])&&__TURBOPACK__default__export__3.isTransformationOrArray(c[1])))return!1;(g=new a(b,[0,0],d,e,f)).addTransform(c[0],c[1]),g.isDraggable=!1}return g.handleSnapToGrid(),g.handleSnapToPoints(),g.handleAttractors(),g.addParents(c),g};let __TURBOPACK__default__export__32=__TURBOPACK__default__export__.CoordsElement;var priv={HTMLSliderInputEventHandler:function(){this._val=parseFloat(this.rendNodeRange.value),this.rendNodeOut.value=this.rendNodeRange.value,this.board.update()}};__TURBOPACK__default__export__.Text=function(a,b,c,d){var e;this.constructor(a,c,__TURBOPACK__default__export__1.OBJECT_TYPE_TEXT,__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT),this.element=this.board.select(c.anchor),this.coordsConstructor(b,this.evalVisProp("islabel")),this.content="",this.plaintext="",this.plaintextOld=null,this.orgText="",this.needsSizeUpdate=!1,this.hiddenByParent=!1,this.size=[1,1],this.id=this.board.setId(this,"T"),this.board.renderer.drawText(this),this.board.finalizeAdding(this),e=this.visProp.visible,this.visProp.visible=!0,this.setText(d),this.visProp.visible=e,__TURBOPACK__default__export__3.isString(this.content)&&this.notifyParents(this.content),this.elType="text",this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{setText:"setTextJessieCode",move:"setCoords",Size:"getSize",setAutoPosition:"setAutoPosition"})},__TURBOPACK__default__export__.Text.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Text,__TURBOPACK__default__export__32,"coordsConstructor"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Text.prototype,{hasPoint:function(a,b){var c,d,e,f,g,h,i,j;return(__TURBOPACK__default__export__3.isObject(this.evalVisProp("precision"))?(i=this.board._inputDevice,j=this.evalVisProp("precision."+i)):j=this.board.options.precision.hasPoint,this.transformations.length>0&&(a=(c=__TURBOPACK__default__export__2.matVecMult(__TURBOPACK__default__export__2.inverse(this.board.renderer.joinTransforms(this,this.transformations)),[1,a,b]))[1],b=c[2]),d=(c="right"===(g=this.getAnchorX())?this.coords.scrCoords[1]-this.size[0]:"middle"===g?this.coords.scrCoords[1]-.5*this.size[0]:this.coords.scrCoords[1])+this.size[0],e=(f="top"===(h=this.getAnchorY())?this.coords.scrCoords[2]+this.size[1]:"middle"===h?this.coords.scrCoords[2]+.5*this.size[1]:this.coords.scrCoords[2])-this.size[1],"all"===this.evalVisProp("dragarea"))?a>=c-j&&a<d+j&&b>=e-j&&b<=f+j:b>=e-j&&b<=f+j&&(a>=c-j&&a<=c+2*j||a>=d-2*j&&a<=d+j)},_createFctUpdateText:function(a){var b,c,d,e,f,g,h=this.evalVisProp("parse"),i=this.evalVisProp("usemathjax"),j=this.evalVisProp("usekatex"),k=!1;if(this.orgText=a,__TURBOPACK__default__export__3.isFunction(a))this.updateText=function(){e=a().toString(),!h||i||j?this.plaintext=e:this.plaintext=this.replaceSub(this.replaceSup(this.convertGeonextAndSketchometry2CSS(e,!1)))};else if(__TURBOPACK__default__export__3.isNumber(a)&&this.evalVisProp("formatnumber")?this.evalVisProp("tofraction")?i?this.content="\\("+__TURBOPACK__default__export__3.toFraction(a,!0)+"\\)":this.content=__TURBOPACK__default__export__3.toFraction(a,j):(d=this.evalVisProp("digits"),this.useLocale()?this.content=this.formatNumberLocale(a,d):this.content=__TURBOPACK__default__export__3.toFixed(a,d)):__TURBOPACK__default__export__3.isString(a)&&h?(this.evalVisProp("useasciimathml")?this.content="'`"+a+"`'":i||j?(this.content=this.valueTagToJessieCode(a),__TURBOPACK__default__export__3.isArray(this.content)||(this.content=this.content.replace(/\\/g,"\\\\"))):this.content=this.poorMansTeX(this.valueTagToJessieCode(a)),k=!0):this.content=a,k){if(__TURBOPACK__default__export__3.isArray(this.content)){for(f=0,g=this;f<this.content.length;f++)if('"'!==this.content[f][0])for(c in this.content[f]=this.board.jc.snippet(this.content[f],!0,"",!1),this.content[f].deps)this.addParents(this.content[f].deps[c]),this.content[f].deps[c].addChild(this);b=function(){var a,b,c=g.evalVisProp("digits"),d="";for(a=0;a<g.content.length;a++)__TURBOPACK__default__export__3.isFunction(g.content[a])?(b=g.content[a](),b=g.useLocale()?g.formatNumberLocale(b,c):__TURBOPACK__default__export__3.toFixed(b,c)):'"'===(b=g.content[a])[0]&&'"'===b[b.length-1]&&(b=b.slice(1,-1)),d+=b;return d}}else for(c in(b=this.board.jc.snippet(this.content,!0,"",!1)).deps)this.addParents(b.deps[c]),b.deps[c].addChild(this);this.updateText=function(){this.plaintext=this.unescapeTicks(b())}}else this.updateText=function(){this.plaintext=this.content}},_setText:function(a){return this._createFctUpdateText(a),this.updateText(),this.fullUpdate(),this.board.infobox&&this.id===this.board.infobox.id||this.updateSize(),this},setTextJessieCode:function(a){var b;return this.visProp.castext=a,b=__TURBOPACK__default__export__3.isFunction(a)?function(){return __TURBOPACK__default__export__3.sanitizeHTML(a())}:__TURBOPACK__default__export__3.isNumber(a)?a:__TURBOPACK__default__export__3.sanitizeHTML(a),this._setText(b)},setText:function(a){return this._setText(a)},updateSize:function(){var a,b,c,d=this.evalVisProp("display");return __TURBOPACK__default__export__4.isBrowser&&"no"!==this.board.renderer.type&&(c=this.rendNode,"html"===d||"vml"===this.board.renderer.type?__TURBOPACK__default__export__3.exists(c.offsetWidth)?(b=this,window.setTimeout(function(){b.size=[c.offsetWidth,c.offsetHeight],b.needsUpdate=!0,b.updateRenderer()},0)):this.size=this.crudeSizeEstimate():"internal"===d&&("svg"===this.board.renderer.type?(b=this,window.setTimeout(function(){try{a=c.getBBox(),b.size=[a.width,a.height],b.needsUpdate=!0,b.updateRenderer()}catch(a){}},0)):"canvas"===this.board.renderer.type&&(this.size=this.crudeSizeEstimate()))),this},crudeSizeEstimate:function(){var a=parseFloat(this.evalVisProp("fontsize"));return[a*this.plaintext.length*.45,.9*a]},utf8_decode:function(a){return a.replace(/&#x(\w+);/g,function(a,b){return String.fromCharCode(parseInt(b,16))})},replaceSub:function(a){if(!a.indexOf)return a;for(var b,c=a.indexOf("_{");c>=0;)(b=(a=a.slice(0,c)+a.slice(c).replace(/_\{/,"<sub>")).indexOf("}",c+4))>=0&&(a=a.slice(0,b)+a.slice(b).replace(/\}/,"</sub>")),c=a.indexOf("_{");for(c=a.indexOf("_");c>=0;)c=(a=a.slice(0,c)+a.slice(c).replace(/_(.?)/,"<sub>$1</sub>")).indexOf("_");return a},replaceSup:function(a){if(!a.indexOf)return a;for(var b,c=a.indexOf("^{");c>=0;)(b=(a=a.slice(0,c)+a.slice(c).replace(/\^\{/,"<sup>")).indexOf("}",c+4))>=0&&(a=a.slice(0,b)+a.slice(b).replace(/\}/,"</sup>")),c=a.indexOf("^{");for(c=a.indexOf("^");c>=0;)c=(a=a.slice(0,c)+a.slice(c).replace(/\^(.?)/,"<sup>$1</sup>")).indexOf("^");return a},getSize:function(){return this.size},setCoords:function(a,b){var c,d,e;return __TURBOPACK__default__export__3.isArray(a)&&a.length>1&&(b=a[1],a=a[0]),this.evalVisProp("islabel")&&__TURBOPACK__default__export__3.exists(this.element)?(d=(a-(c=this.element.getLabelAnchor()).usrCoords[1])*this.board.unitX,e=-(b-c.usrCoords[2])*this.board.unitY,this.relativeCoords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[d,e])):this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[a,b]),this.fullUpdate(),this},update:function(a){return this.needsUpdate&&(this.updateCoords(a),this.updateText(),"internal"===this.evalVisProp("display")&&__TURBOPACK__default__export__3.isString(this.plaintext)&&(this.plaintext=this.utf8_decode(this.plaintext)),this.checkForSizeUpdate(),this.needsSizeUpdate&&this.updateSize()),this},checkForSizeUpdate:function(){this.board.infobox&&this.id===this.board.infobox.id?this.needsSizeUpdate=!1:(this.needsSizeUpdate=this.plaintextOld!==this.plaintext,this.needsSizeUpdate&&(this.plaintextOld=this.plaintext))},updateRenderer:function(){return this.evalVisProp("autoposition")&&this.setAutoPosition().updateConstraint(),this.updateRendererGeneric("updateText")},expandShortMath:function(a){var b=/([)0-9.])\s*([(a-zA-Z_])/g;return a.replace(b,"$1*$2")},generateTerm:function(a,b,c){var d,e,f,g,h='""';if(f=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a||"").replace(/\r/g,"")).replace(/\n/g,"")).replace(/"/g,"'")).replace(/'/g,"\\'")).replace(/&amp;arc;/g,"&ang;")).replace(/<arc\s*\/>/g,"&ang;")).replace(/&lt;arc\s*\/&gt;/g,"&ang;")).replace(/&lt;sqrt\s*\/&gt;/g,"&radic;")).replace(/&lt;value&gt;/g,"<value>")).replace(/&lt;\/value&gt;/g,"</value>")).indexOf("<value>"),g=a.indexOf("</value>"),f>=0)for(;f>=0;)h+=' + "'+this.replaceSub(this.replaceSup(a.slice(0,f)))+'"',e=(e=a.slice(f+7,g)).replace(/\s+/g,""),!0===b&&(e=this.expandShortMath(e)),0>(d=(d=(d=c?e:__TURBOPACK__default__export__30.geonext2JS(e,this.board)).replace(/\\"/g,"'")).replace(/\\'/g,"'")).indexOf("toFixed")&&__TURBOPACK__default__export__3.isNumber(__TURBOPACK__default__export__3.bind(this.board.jc.snippet(d,!0,"",!1),this)())?h+="+("+d+").toFixed("+this.evalVisProp("digits")+")":h+="+("+d+")",f=(a=a.slice(g+8)).indexOf("<value>"),g=a.indexOf("</value>");return h+=' + "'+this.replaceSub(this.replaceSup(a))+'"',h=(h=(h=this.convertGeonextAndSketchometry2CSS(h)).replace(/&amp;/g,"&")).replace(/"/g,"'")},valueTagToJessieCode:function(a){var b,c,d,e,f=[],g='"';if(d=(a=(a=(a=(a=(a=a||"").replace(/\r/g,"")).replace(/\n/g,"")).replace(/&lt;value&gt;/g,"<value>")).replace(/&lt;\/value&gt;/g,"</value>")).indexOf("<value>"),e=a.indexOf("</value>"),d>=0)for(;d>=0;)f.push(g+this.escapeTicks(a.slice(0,d))+g),c=(c=a.slice(d+7,e)).replace(/\s+/g,""),b=(b=c=this.expandShortMath(c)).replace(/\\"/g,"'").replace(/\\'/g,"'"),f.push("("+b+")"),d=(a=a.slice(e+8)).indexOf("<value>"),e=a.indexOf("</value>");for(f.push(g+this.escapeTicks(a)+g),d=0;d<f.length;d++)f[d]=f[d].replace(/&amp;/g,"&");return f},poorMansTeX:function(a){var b,c;if(__TURBOPACK__default__export__3.isArray(a)){for(b=0,c=[];b<a.length;b++)c.push(this.poorMansTeX(a[b]));return c}return a=a.replace(/<arc\s*\/*>/g,"&ang;").replace(/&lt;arc\s*\/*&gt;/g,"&ang;").replace(/<sqrt\s*\/*>/g,"&radic;").replace(/&lt;sqrt\s*\/*&gt;/g,"&radic;"),this.convertGeonextAndSketchometry2CSS(this.replaceSub(this.replaceSup(a)),!0)},escapeTicks:function(a){return a.replace(/"/g,"%22").replace(/'/g,"%27")},unescapeTicks:function(a){return a.replace(/%22/g,'"').replace(/%27/g,"'")},convertGeonext2CSS:function(a){return __TURBOPACK__default__export__3.isString(a)&&(a=(a=(a=(a=a.replace(/(<|&lt;)overline(>|&gt;)/g,"<span style=text-decoration:overline;>")).replace(/(<|&lt;)\/overline(>|&gt;)/g,"</span>")).replace(/(<|&lt;)arrow(>|&gt;)/g,"<span style=text-decoration:overline;>")).replace(/(<|&lt;)\/arrow(>|&gt;)/g,"</span>")),a},convertSketchometry2CSS:function(a,b){var c='<span class="sketcho sketcho-inherit sketcho-',d='"></span>';return __TURBOPACK__default__export__3.isString(a)&&(b&&(c=this.escapeTicks(c),d=this.escapeTicks(d)),a=(a=a.replace(/(<|&lt;)sketchofont(>|&gt;)/g,c)).replace(/(<|&lt;)\/sketchofont(>|&gt;)/g,d)),a},convertGeonextAndSketchometry2CSS:function(a,b){return a=this.convertGeonext2CSS(a),a=this.convertSketchometry2CSS(a,b)},notifyParents:function(a){var b,c=null;a=(a=a.replace(/&lt;value&gt;/g,"<value>")).replace(/&lt;\/value&gt;/g,"</value>");do null!==(c=(b=/<value>([\w\s*/^\-+()[\],<>=!]+)<\/value>/).exec(a))&&(__TURBOPACK__default__export__30.findDependencies(this,c[1],this.board),a=(a=a.slice(c.index)).replace(b,""));while(null!==c)return this},getParents:function(){var a;return a=void 0!==this.relativeCoords?[this.relativeCoords.usrCoords[1],this.relativeCoords.usrCoords[2],this.orgText]:[this.Z(),this.X(),this.Y(),this.orgText],0!==this.parents.length&&(a=this.parents),a},bounds:function(){var a=this.coords.usrCoords;return this.evalVisProp("islabel")||0===this.board.unitY||0===this.board.unitX?[0,0,0,0]:[a[1],a[2]+this.size[1]/this.board.unitY,a[1]+this.size[0]/this.board.unitX,a[2]]},getAnchorX:function(){var a=this.evalVisProp("anchorx");if("auto"===a)switch(this.visProp.position){case"top":case"bot":return"middle";case"rt":case"lrt":case"urt":return"left";default:return"right"}return a},getAnchorY:function(){var a=this.evalVisProp("anchory");if("auto"===a)switch(this.visProp.position){case"top":case"ulft":case"urt":return"bottom";case"bot":case"lrt":case"llft":return"top";default:return"middle"}return a},getNumberOfConflicts:function(a,b,c,d,e){e=e||[];var f,g,h,i,j,k,l,m,n=0,o=this.board.options.precision.hasPoint;for(f=0,this.board.options.precision.hasPoint=(c+d)*.3;f<this.board.objectsList.length;f++)(g=this.board.objectsList[f]).visPropCalc.visible&&g!==this&&-1===e.indexOf(g.id)&&!0!==g.evalVisProp("ignoreforlabelautoposition")&&(i=g.visProp.hasinnerpoints,g.visProp.hasinnerpoints=!1,g.visProp.islabel||g.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT?(j=(h=g.coords.scrCoords)[1],k=h[2],l=g.size[0],m=g.size[1],g.visProp.islabel?("top"===g.visProp.anchory?k+=m/2:k-=m/2,"left"===g.visProp.anchorx?j+=l/2:j-=l/2):(l=0,m=0),Math.abs(j-a)<(c+l)/2&&Math.abs(k-b)<(d+m)/2&&n++):g.hasPoint(a,b)&&n++,g.visProp.hasinnerpoints=i);return this.board.options.precision.hasPoint=o,n},calculateScore:function(a,b){var c,d,e,f,g,h,i,j=0,k=[0,0],l=this.getSize()[0],m=this.getSize()[1],n=this.evalVisProp("offset"),o=this.board.getBoundingBox();return this.evalVisProp("islabel")&&__TURBOPACK__default__export__3.exists(this.element)?(i=this.element.getLabelAnchor().scrCoords,e=Math.cos(b),f=Math.sin(b),c=i[1]+a*e,d=i[2]-a*f,e<0?(k[0]=c-l,c-=l/2):(k[0]=c+l,c+=l/2),f<0?(k[1]=d+m,d+=m/2):(k[1]=d-m,d-=m/2),(k[0]<0||k[0]>(o[2]-o[0])*this.board.unitX||k[1]<0||k[1]>(o[1]-o[3])*this.board.unitY)&&(j-=1),j-=this.getNumberOfConflicts(c,d,l,m,__TURBOPACK__default__export__3.evaluate(this.visProp.autopositionwhitelist)),j-=a/this.evalVisProp("autopositionmindistance")/10-.1,(g=Math.atan2(n[1],n[0]))<0&&(g+=2*Math.PI),j-=(h=e>0&&Math.cos(g)>0&&Math.abs(b-g)>Math.PI?Math.abs(b-g-2*Math.PI):Math.abs(b-g))/10):0},setAutoPosition:function(){var a,b,c,d,e,f,g,h,i,j,k,l=-1/0,m=this.evalVisProp("autopositionmindistance"),n=this.evalVisProp("autopositionmaxdistance"),o=this.evalVisProp("offset"),p=60,q=4;if(this===this.board.infobox||!this.element||!this.visPropCalc.visible||!this.evalVisProp("islabel")||(j=Math.sqrt(o[0]*o[0]+o[1]*o[1]),k=Math.atan2(o[1],o[0]),0===this.calculateScore(j,k)))return this;for(a=m,c=(n-m)/(q-1);n-a>-.01;){for(d=0;d<p;d++)if(b=d/p*2*Math.PI,(g=this.calculateScore(a,b))>l&&(f=b,e=a,l=g),0===l){a=n;break}a+=c}return h=Math.cos(f),i=Math.sin(f),h<0?this.visProp.anchorx="right":this.visProp.anchorx="left",i<0?this.visProp.anchory="top":this.visProp.anchory="bottom",this.visProp.offset=[e*h,e*i],this}}),__TURBOPACK__default__export__.createText=function(a,b,c){var d,e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"text"),f=b.slice(0,-1),g=b[b.length-1];if(e.anchor=e.parent||e.anchor,!(d=__TURBOPACK__default__export__32.create(__TURBOPACK__default__export__.Text,a,f,e,g)))throw Error("JSXGraph: Can't create text with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return 0!==e.rotate&&d.addRotation(e.rotate),d},__TURBOPACK__default__export__.registerElement("text",__TURBOPACK__default__export__.createText),__TURBOPACK__default__export__.createHTMLSlider=function(a,b,c){var d,e,f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"htmlslider");if(2!==b.length||2!==b[0].length||3!==b[1].length)throw Error("JSXGraph: Can't create htmlslider with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parents are: [[x,y], [min, start, max]]");f.anchor=f.parent||f.anchor,f.fixed=f.fixed||!0,e=[b[0][0],b[0][1],'<form style="display:inline"><input type="range" /><span></span><input type="text" /></form>'],(d=__TURBOPACK__default__export__.createText(a,e,f)).type=__TURBOPACK__default__export__3.OBJECT_TYPE_HTMLSLIDER,d.rendNodeForm=d.rendNode.childNodes[0],d.rendNodeRange=d.rendNodeForm.childNodes[0],d.rendNodeRange.min=b[1][0],d.rendNodeRange.max=b[1][2],d.rendNodeRange.step=f.step,d.rendNodeRange.value=b[1][1],d.rendNodeLabel=d.rendNodeForm.childNodes[1],d.rendNodeLabel.id=d.rendNode.id+"_label",f.withlabel&&(d.rendNodeLabel.innerHTML=d.name+"="),d.rendNodeOut=d.rendNodeForm.childNodes[2],d.rendNodeOut.value=b[1][1];try{d.rendNodeForm.id=d.rendNode.id+"_form",d.rendNodeRange.id=d.rendNode.id+"_range",d.rendNodeOut.id=d.rendNode.id+"_out"}catch(a){__TURBOPACK__default__export__.debug(a)}return d.rendNodeRange.style.width=f.widthrange+"px",d.rendNodeRange.style.verticalAlign="middle",d.rendNodeOut.style.width=f.widthout+"px",d._val=b[1][1],__TURBOPACK__default__export__.supportsVML()?__TURBOPACK__default__export__4.addEvent(d.rendNodeForm,"change",priv.HTMLSliderInputEventHandler,d):__TURBOPACK__default__export__4.addEvent(d.rendNodeForm,"input",priv.HTMLSliderInputEventHandler,d),d.Value=function(){return this._val},d},__TURBOPACK__default__export__.registerElement("htmlslider",__TURBOPACK__default__export__.createHTMLSlider);let __TURBOPACK__default__export__33=__TURBOPACK__default__export__.Text;Object.create||(Object.create=function(a,b){if("object"!=typeof a&&"function"!=typeof a)throw TypeError("Object prototype may only be an Object: "+a);if(null===a)throw Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==b)throw Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function c(){}return c.prototype=a,new c});var priv1={modules:{math:__TURBOPACK__default__export__2,"math/geometry":__TURBOPACK__default__export__14,"math/statistics":__TURBOPACK__default__export__12,"math/numerics":__TURBOPACK__default__export__2.Numerics}};__TURBOPACK__default__export__.JessieCode=function(a,b){this.scope={id:0,hasChild:!0,args:[],locals:{},context:null,previous:null},this.scopes=[],this.scopes.push(this.scope),this.dpstack=[[]],this.pscope=0,this.propstack=[{}],this.propscope=0,this.lhs=[],this.isLHS=!1,this.warnLog="jcwarn",this.$log=[],this.builtIn=this.defineBuiltIn(),this.operands=this.getPossibleOperands(),this.board=null,this.forceValueCall=!1,this.lineToElement={},this.parCurLine=1,this.parCurColumn=0,this.line=1,this.col=1,__TURBOPACK__default__export__.CA&&(this.CA=new __TURBOPACK__default__export__.CA(this.node,this.createNode,this)),this.code="","string"==typeof a&&this.parse(a,b)},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.JessieCode.prototype,{node:function(a,b,c){return{type:a,value:b,children:c}},createNode:function(a,b,c){var d,e=this.node(a,b,[]);for(d=2;d<arguments.length;d++)e.children.push(arguments[d]);return"node_const"===e.type&&__TURBOPACK__default__export__3.isNumber(e.value)&&(e.isMath=!0),e.line=this.parCurLine,e.col=this.parCurColumn,e},pushScope:function(a){var b={args:a,locals:{},context:null,previous:this.scope};return this.scope.hasChild=!0,this.scope=b,b.id=this.scopes.push(b)-1,b},popScope:function(){var a=this.scope.previous;return this.scope=null!==a?a:this.scope,this.scope},getElementById:function(a){return this.board.objects[a]},log:function(){this.$log.push(arguments),"object"==typeof console&&console.log&&console.log.apply(console,arguments)},creator:function(){var a,b={};return(a=function(a){var c;return"function"==typeof b[this.board.id+a]?c=b[this.board.id+a]:((c=function(b){return function(c,d){var e;return void 0===(e=__TURBOPACK__default__export__3.exists(d)?d:{}).name&&void 0===e.id&&(e.name=0!==b.lhs[b.scope.id]?b.lhs[b.scope.id]:""),b.board.create(a,c,e)}}(this)).creator=!0,b[this.board.id+a]=c),c}).clearCache=function(){b={}},a}(),letvar:function(a,b){this.builtIn[a]&&this._warn('"'+a+'" is a predefined value.'),this.scope.locals[a]=b},isLocalVariable:function(a){for(var b=this.scope;null!==b;){if(__TURBOPACK__default__export__3.exists(b.locals[a]))return b;b=b.previous}return null},isParameter:function(a){for(var b=this.scope;null!==b;){if(__TURBOPACK__default__export__3.indexOf(b.args,a)>-1)return b;b=b.previous}return null},isCreator:function(a){return!!__TURBOPACK__default__export__.elements[a]},isMathMethod:function(a){return"E"!==a&&!!Math[a]},isBuiltIn:function(a){return!!this.builtIn[a]},getvar:function(a,b,c){var d;if(b=__TURBOPACK__default__export__3.def(b,!1),null!==(d=this.isLocalVariable(a)))return d.locals[a];if("$board"===a||"EULER"===a||"PI"===a)return this.builtIn[a];if(c){if(this.isBuiltIn(a))return this.builtIn[a];if(this.isMathMethod(a))return Math[a];if(this.isCreator(a))return this.creator(a)}if(!b&&(d=this.board.select(a))!==a)return d},resolve:function(a){for(var b=this.scope;null!==b;){if(__TURBOPACK__default__export__3.exists(b.locals[a]))return b.locals[a];b=b.previous}},getvarJS:function(a,b,c){var d,e,f="";if(b=__TURBOPACK__default__export__3.def(b,!1),c=__TURBOPACK__default__export__3.def(c,!1),null!==(d=this.isParameter(a)))return a;if(null!==(d=this.isLocalVariable(a))&&!c)return"$jc$.resolve('"+a+"')";if(this.isCreator(a))return"(function () { var a = Array.prototype.slice.call(arguments, 0), props = "+(c?"a.pop()":"{}")+"; return $jc$.board.create.apply($jc$.board, ['"+a+"'].concat([a, props])); })";if(c&&this._error("Syntax error (attribute values are allowed with element creators only)"),this.isBuiltIn(a))return(f=this.builtIn[a].src||this.builtIn[a],__TURBOPACK__default__export__3.isNumber(f)||f.match(/board\.select/))?f:(a=f.split(".").pop(),__TURBOPACK__default__export__3.exists(this.board.mathLib)&&null!==(e=RegExp("^Math."+a)).exec(f))?f.replace(e,"$jc$.board.mathLib."+a):__TURBOPACK__default__export__3.exists(this.board.mathLibJXG)&&null!==(e=RegExp("^JXG.Math.")).exec(f)?f.replace(e,"$jc$.board.mathLibJXG."):f;return this.isMathMethod(a)?"$jc$.board.mathLib."+a:b?"":(__TURBOPACK__default__export__3.isId(this.board,a)?(f="$jc$.board.objects['"+a+"']","slider"===this.board.objects[a].elType&&(f+=".Value()")):__TURBOPACK__default__export__3.isName(this.board,a)?(f="$jc$.board.elementsByName['"+a+"']","slider"===this.board.elementsByName[a].elType&&(f+=".Value()")):__TURBOPACK__default__export__3.isGroup(this.board,a)&&(f="$jc$.board.groups['"+a+"']"),f)},makeMap:function(a){return a.isMap=!0,a},functionCodeJS:function(a){var b=a.children[0].join(", "),c="",d="";return"op_map"===a.value&&(c="{ return  ",d=" }"),"function ("+b+") {\nvar $oldscope$ = $jc$.scope;\n$jc$.scope = $jc$.scopes["+this.scope.id+"];\nvar r = (function () "+c+this.compile(a.children[1],!0)+d+")();\n$jc$.scope = $oldscope$;\nreturn r;\n}"},defineFunction:function(node){var fun,i,that=this,list=node.children[0],scope=this.pushScope(list);if(this.board.options.jc.compile){for(i=0,this.isLHS=!1;i<list.length;i++)scope.locals[list[i]]=list[i];this.replaceNames(node.children[1]),fun=function(jc){var fun,str="var f = function($jc$) { return "+jc.functionCodeJS(node)+"}; f;";try{for(i=0,fun=eval(str)(jc),scope.argtypes=[];i<list.length;i++)scope.argtypes.push(that.resolveType(list[i],node));return fun}catch(e){return jc._warn("error compiling function\n\n"+str+"\n\n"+e.toString()),function(){}}}(this),this.popScope()}else fun=function(a,b,c){return function(){var d,e;for(d=0,e=b.scope,b.scope=b.scopes[c];d<a.length;d++)b.scope.locals[a[d]]=arguments[d];return d=b.execute(node.children[1]),b.scope=e,d}}(list,this,scope.id);return fun.node=node,fun.scope=scope,fun.toJS=fun.toString,fun.toString=function(a){return function(){return a.compile(a.replaceIDs(__TURBOPACK__default__export__3.deepCopy(node)))}}(this),fun.deps={},this.collectDependencies(node.children[1],node.children[0],fun.deps),fun},mergeAttributes:function(a){var b,c={};for(b=0;b<arguments.length;b++)c=__TURBOPACK__default__export__3.deepCopy(c,arguments[b],!0);return c},setProp:function(a,b,c){var d,e,f={};a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT&&("X"===b||"Y"===b)?(b=b.toLowerCase(),a.isDraggable&&"number"==typeof c?(d="x"===b?c:a.X(),e="y"===b?c:a.Y(),a.setPosition(__TURBOPACK__default__export__1.COORDS_BY_USER,[d,e])):a.isDraggable&&("function"==typeof c||"string"==typeof c)?(d="x"===b?c:a.coords.usrCoords[1],e="y"===b?c:a.coords.usrCoords[2],a.addConstraint([d,e])):a.isDraggable||(d="x"===b?c:a.XEval.origin,e="y"===b?c:a.YEval.origin,a.addConstraint([d,e])),this.board.update()):a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT&&("X"===b||"Y"===b)?("number"==typeof c?a[b]=function(){return c}:"function"==typeof c?(a.isDraggable=!1,a[b]=c):"string"==typeof c&&(a.isDraggable=!1,a[b]=__TURBOPACK__default__export__3.createFunction(c,this.board),a[b+"jc"]=c),a[b].origin=c,this.board.update()):a.type&&a.elementClass&&a.visProp?__TURBOPACK__default__export__3.exists(a[a.methodMap[b]])&&"function"!=typeof a[a.methodMap[b]]?a[a.methodMap[b]]=c:(f[b]=c,a.setAttribute(f)):a[b]=c},_genericParse:function(a,b,c,d){var e,f,g,h,i=a.replace(/\r\n/g,"\n").split("\n"),j=[];d||(this.code+=a+"\n"),__TURBOPACK__default__export__33&&(f=__TURBOPACK__default__export__33.prototype.setText,__TURBOPACK__default__export__33.prototype.setText=__TURBOPACK__default__export__33.prototype.setTextJessieCode);try{for(__TURBOPACK__default__export__3.exists(c)||(c=!1),e=0;e<i.length;e++)c&&(i[e]=__TURBOPACK__default__export__.GeonextParser.geonext2JS(i[e],this.board)),j.push(i[e]);switch(a=j.join("\n"),g=parser.parse(a),this.CA&&(g=this.CA.expandDerivatives(g,null,g),g=this.CA.removeTrivialNodes(g)),b){case"parse":h=this.execute(g);break;case"manipulate":h=this.compile(g);break;case"getAst":h=g;break;default:h=!1}}catch(a){throw a}finally{__TURBOPACK__default__export__33&&(__TURBOPACK__default__export__33.prototype.setText=f)}return h},parse:function(a,b,c){return this._genericParse(a,"parse",b,c)},manipulate:function(a,b,c){return this._genericParse(a,"manipulate",b,c)},getAST:function(a,b,c){return this._genericParse(a,"getAst",b,c)},snippet:function(a,b,c,d,e){var f;return b=__TURBOPACK__default__export__3.def(b,!0),c=__TURBOPACK__default__export__3.def(c,""),d=__TURBOPACK__default__export__3.def(d,!1),this.forceValueCall=__TURBOPACK__default__export__3.def(e,!0),f=(b?" function ("+c+") { return ":"")+a+(b?"; }":"")+";",this.parse(f,d,!0)},replaceIDs:function(a){var b,c;if(a.replaced&&(c=this.board.objects[a.children[1][0].value],__TURBOPACK__default__export__3.exists(c)&&""!==c.name&&(a.type="node_var",a.value=c.name,a.children.length=0,delete a.replaced)),__TURBOPACK__default__export__3.isArray(a))for(b=0;b<a.length;b++)a[b]=this.replaceIDs(a[b]);if(a.children)for(b=a.children.length;b>0;b--)__TURBOPACK__default__export__3.exists(a.children[b-1])&&(a.children[b-1]=this.replaceIDs(a.children[b-1]));return a},replaceNames:function(a,b){var c,d,e=!1;if(void 0!==b&&(e=b),d=a.value,"node_op"===a.type&&"op_lhs"===d&&1===a.children.length?this.isLHS=!0:"node_var"===a.type&&(this.isLHS?this.letvar(d,!0):!__TURBOPACK__default__export__3.exists(this.getvar(d,!0))&&__TURBOPACK__default__export__3.exists(this.board.elementsByName[d])&&(e&&"slider"!==this.board.elementsByName[d].elType&&(e=!1),a=this.createReplacementNode(a,e))),__TURBOPACK__default__export__3.isArray(a))for(c=0;c<a.length;c++)a[c]=this.replaceNames(a[c],e);if(a.children)for(this.forceValueCall&&("op_execfun"===a.value&&"V"!==a.children[0].value&&"$"!==a.children[0].value&&(__TURBOPACK__default__export__3.exists(Math[a.children[0].value])||__TURBOPACK__default__export__3.exists(__TURBOPACK__default__export__2[a.children[0].value]))&&"node_var"===a.children[1][0].type||"op_return"===a.value&&1===a.children.length&&"node_var"===a.children[0].type)&&(e=!0),c=a.children.length;c>0;c--)__TURBOPACK__default__export__3.exists(a.children[c-1])&&(a.children[c-1]=this.replaceNames(a.children[c-1],e));return"node_op"===a.type&&"op_lhs"===a.value&&1===a.children.length&&(this.isLHS=!1),a},createReplacementNode:function(a,b){var c=a.value,d=this.board.elementsByName[c];return(a=this.createNode("node_op","op_execfun",this.createNode("node_var",!0===b?"$value":"$"),[this.createNode("node_str",d.id)])).replaced=!0,a},collectDependencies:function(a,b,c){var d,e,f,g;if(__TURBOPACK__default__export__3.isArray(a)){for(d=0,g=a.length;d<g;d++)this.collectDependencies(a[d],b,c);return}if(e=a.value,"node_var"===a.type&&0>b.indexOf(e)&&(f=this.getvar(e))&&f.visProp&&f.elType&&f.elementClass&&f.id&&(c[f.id]=f),"node_op"===a.type&&"op_execfun"===a.value&&a.children.length>1&&("$"===a.children[0].value||"$value"===a.children[0].value)&&a.children[1].length>0&&(c[f=a.children[1][0].value]=this.board.objects[f]),a.children)for(d=a.children.length;d>0;d--)__TURBOPACK__default__export__3.exists(a.children[d-1])&&this.collectDependencies(a.children[d-1],b,c)},resolveProperty:function(a,b,c){return(c=__TURBOPACK__default__export__3.def(c,!1),a&&a.methodMap&&(__TURBOPACK__default__export__3.exists(a.subs)&&__TURBOPACK__default__export__3.exists(a.subs[b])?a=a.subs:__TURBOPACK__default__export__3.exists(a.methodMap[b])?b=a.methodMap[b]:(a=a.visProp,b=b.toLowerCase())),__TURBOPACK__default__export__3.isFunction(a)&&this._error("Accessing function properties is not allowed."),__TURBOPACK__default__export__3.exists(a)||this._error(a+" is not an object"),__TURBOPACK__default__export__3.exists(a[b])||this._error("unknown property "+b),c&&"function"==typeof a[b])?function(){return a[b].apply(a,arguments)}:a[b]},resolveType:function(a,b){var c,d,e="any";if(__TURBOPACK__default__export__3.isArray(b)){for(c=0;c<b.length;c++)if("any"!==(d=this.resolveType(a,b[c])))return d}if("node_op"===b.type&&"op_execfun"===b.value&&"node_var"===b.children[0].type&&b.children[0].value===a)return"function";if("node_op"===b.type){for(c=0;c<b.children.length;c++)if("node_var"===b.children[0].type&&b.children[0].value===a&&("op_add"===b.value||"op_sub"===b.value||"op_mul"===b.value||"op_div"===b.value||"op_mod"===b.value||"op_exp"===b.value||"op_neg"===b.value))return"any";for(c=0;c<b.children.length;c++)if("any"!==(d=this.resolveType(a,b.children[c])))return d}return"any"},getLHS:function(a){var b;if("node_var"===a.type)b={o:this.scope.locals,what:a.value};else if("node_op"===a.type&&"op_property"===a.value)b={o:this.execute(a.children[0]),what:a.children[1]};else if("node_op"===a.type&&"op_extvalue"===a.value)b={o:this.execute(a.children[0]),what:this.execute(a.children[1])};else throw Error("Syntax error: Invalid left-hand side of assignment.");return b},getLHSCompiler:function(a,b){var c;if("node_var"===a.type)c=a.value;else if("node_op"===a.type&&"op_property"===a.value)c=[this.compile(a.children[0],b),"'"+a.children[1]+"'"];else if("node_op"===a.type&&"op_extvalue"===a.value)c=[this.compile(a.children[0],b),"node_const"===a.children[1].type?a.children[1].value:this.compile(a.children[1],b)];else throw Error("Syntax error: Invalid left-hand side of assignment.");return c},execute:function(a){var b,c,d,e,f,g,h,i,j,k,l,m=[];if(b=0,!a)return b;switch(this.line=a.line,this.col=a.col,a.type){case"node_op":switch(a.value){case"op_none":a.children[0]&&this.execute(a.children[0]),a.children[1]&&(b=this.execute(a.children[1]));break;case"op_assign":c=this.getLHS(a.children[0]),this.lhs[this.scope.id]=c.what,c.o.type&&c.o.elementClass&&c.o.methodMap&&"label"===c.what&&this._error("Left-hand side of assignment is read-only."),b=this.execute(a.children[1]),c.o!==this.scope.locals||__TURBOPACK__default__export__3.isArray(c.o)&&"number"==typeof c.what?this.setProp(c.o,c.what,b):this.letvar(c.what,b),this.lhs[this.scope.id]=0;break;case"op_if":this.execute(a.children[0])&&(b=this.execute(a.children[1]));break;case"op_conditional":case"op_if_else":b=this.execute(a.children[0])?this.execute(a.children[1]):this.execute(a.children[2]);break;case"op_while":for(;this.execute(a.children[0]);)this.execute(a.children[1]);break;case"op_do":do this.execute(a.children[0]);while(this.execute(a.children[1]))break;case"op_for":for(this.execute(a.children[0]);this.execute(a.children[1]);this.execute(a.children[2]))this.execute(a.children[3]);break;case"op_proplst":a.children[0]&&this.execute(a.children[0]),a.children[1]&&this.execute(a.children[1]);break;case"op_emptyobject":b={};break;case"op_proplst_val":this.propstack.push({}),this.propscope++,this.execute(a.children[0]),b=this.propstack[this.propscope],this.propstack.pop(),this.propscope--;break;case"op_prop":this.propstack[this.propscope][a.children[0]]=this.execute(a.children[1]);break;case"op_array":for(d=0,b=[],f=a.children[0].length;d<f;d++)b.push(this.execute(a.children[0][d]));break;case"op_extvalue":b=this.execute(a.children[0]),b="number"==typeof(d=this.execute(a.children[1]))&&Math.abs(Math.round(d)-d)<__TURBOPACK__default__export__2.eps?b[d]:g;break;case"op_return":if(0!==this.scope)return this.execute(a.children[0]);this._error("Unexpected return.");break;case"op_map":a.children[1].isMath||"node_var"===a.children[1].type||this._error("execute: In a map only function calls and mathematical expressions are allowed."),(j=this.defineFunction(a)).isMap=!0,b=j;break;case"op_function":(j=this.defineFunction(a)).isMap=!1,b=j;break;case"op_execfun":if(this.dpstack.push([]),this.pscope++,h=a.children[1],__TURBOPACK__default__export__3.exists(a.children[2]))if(a.children[3])for(d=0,i=a.children[2],k={};d<i.length;d++)k=__TURBOPACK__default__export__3.deepCopy(k,this.execute(i[d]),!0);else k=this.execute(a.children[2]);for(a.children[0]._isFunctionName=!0,j=this.execute(a.children[0]),delete a.children[0]._isFunctionName,l=__TURBOPACK__default__export__3.exists(j)&&__TURBOPACK__default__export__3.exists(j.sc)?j.sc:this,!j.creator&&__TURBOPACK__default__export__3.exists(a.children[2])&&this._error("Unexpected value. Only element creators are allowed to have a value after the function call."),d=0;d<h.length;d++)__TURBOPACK__default__export__3.exists(j.scope)&&__TURBOPACK__default__export__3.exists(j.scope.argtypes)&&"function"===j.scope.argtypes[d]?(h[d]._isFunctionName=!0,m[d]=this.execute(h[d]),delete h[d]._isFunctionName):m[d]=this.execute(h[d]),this.dpstack[this.pscope].push({line:a.children[1][d].line,col:a.children[1][d].ecol});if("function"!=typeof j||j.creator)if("function"==typeof j&&j.creator){e=this.line;try{for((b=j(m,k)).jcLineStart=e,b.jcLineEnd=a.eline,d=e;d<=a.line;d++)this.lineToElement[d]=b;b.debugParents=this.dpstack[this.pscope]}catch(a){this._error(a.toString())}}else this._error("Function '"+j+"' is undefined.");else b=j.apply(l,m);this.dpstack.pop(),this.pscope--;break;case"op_property":e=this.execute(a.children[0]),c=a.children[1],b=this.resolveProperty(e,c,!1),__TURBOPACK__default__export__3.exists(b)&&0>["number","string","boolean"].indexOf(typeof b)&&(b.sc=e);break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),this.use(a.children[0].toString());break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),c=this.getvar(a.children[0]),b=this.del(c);break;case"op_eq":b=this.execute(a.children[0])==this.execute(a.children[1]);break;case"op_neq":b=this.execute(a.children[0])!=this.execute(a.children[1]);break;case"op_approx":b=Math.abs(this.execute(a.children[0])-this.execute(a.children[1]))<__TURBOPACK__default__export__2.eps;break;case"op_gt":b=this.execute(a.children[0])>this.execute(a.children[1]);break;case"op_lt":b=this.execute(a.children[0])<this.execute(a.children[1]);break;case"op_geq":b=this.execute(a.children[0])>=this.execute(a.children[1]);break;case"op_leq":b=this.execute(a.children[0])<=this.execute(a.children[1]);break;case"op_or":b=this.execute(a.children[0])||this.execute(a.children[1]);break;case"op_and":b=this.execute(a.children[0])&&this.execute(a.children[1]);break;case"op_not":b=!this.execute(a.children[0]);break;case"op_add":b=this.add(this.execute(a.children[0]),this.execute(a.children[1]));break;case"op_sub":b=this.sub(this.execute(a.children[0]),this.execute(a.children[1]));break;case"op_div":b=this.div(this.execute(a.children[0]),this.execute(a.children[1]));break;case"op_mod":b=this.mod(this.execute(a.children[0]),this.execute(a.children[1]),!0);break;case"op_mul":b=this.mul(this.execute(a.children[0]),this.execute(a.children[1]));break;case"op_exp":b=this.pow(this.execute(a.children[0]),this.execute(a.children[1]));break;case"op_neg":b=this.neg(this.execute(a.children[0]))}break;case"node_var":b=this.getvar(a.value,!1,a._isFunctionName);break;case"node_const":b=null===a.value?null:Number(a.value);break;case"node_const_bool":b=a.value;break;case"node_str":b=a.value.replace(/\\(.)/g,"$1")}return b},compile:function(a,b){var c,d,e,f,g="";if(__TURBOPACK__default__export__3.exists(b)||(b=!1),!a)return g;switch(a.type){case"node_op":switch(a.value){case"op_none":a.children[0]&&(g=this.compile(a.children[0],b)),a.children[1]&&(g+=this.compile(a.children[1],b));break;case"op_assign":b?(c=this.getLHSCompiler(a.children[0],b),__TURBOPACK__default__export__3.isArray(c)?g="$jc$.setProp("+c[0]+", "+c[1]+", "+this.compile(a.children[1],b)+");\n":(this.isLocalVariable(c)!==this.scope&&(this.scope.locals[c]=!0),g="$jc$.scopes["+this.scope.id+"].locals['"+c+"'] = "+this.compile(a.children[1],b)+";\n")):g=(c=this.compile(a.children[0]))+" = "+this.compile(a.children[1],b)+";\n";break;case"op_if":g=" if ("+this.compile(a.children[0],b)+") "+this.compile(a.children[1],b);break;case"op_if_else":g=" if ("+this.compile(a.children[0],b)+")"+this.compile(a.children[1],b)+" else "+this.compile(a.children[2],b);break;case"op_conditional":g="(("+this.compile(a.children[0],b)+")?("+this.compile(a.children[1],b)+("):("+this.compile(a.children[2],b))+"))";break;case"op_while":g=" while ("+this.compile(a.children[0],b)+") {\n"+this.compile(a.children[1],b)+"}\n";break;case"op_do":g=" do {\n"+this.compile(a.children[0],b)+"} while ("+this.compile(a.children[1],b)+");\n";break;case"op_for":g=" for ("+this.compile(a.children[0],b)+this.compile(a.children[1],b)+"; "+this.compile(a.children[2],b).slice(0,-2)+") {\n"+this.compile(a.children[3],b)+"\n}\n";break;case"op_proplst":a.children[0]&&(g=this.compile(a.children[0],b)+", "),g+=this.compile(a.children[1],b);break;case"op_prop":g=a.children[0]+": "+this.compile(a.children[1],b);break;case"op_emptyobject":g=b?"{}":"<< >>";break;case"op_proplst_val":g=this.compile(a.children[0],b);break;case"op_array":for(d=0,e=[];d<a.children[0].length;d++)e.push(this.compile(a.children[0][d],b));g="["+e.join(", ")+"]";break;case"op_extvalue":g=this.compile(a.children[0],b)+"["+this.compile(a.children[1],b)+"]";break;case"op_return":g=" return "+this.compile(a.children[0],b)+";\n";break;case"op_map":a.children[1].isMath||"node_var"===a.children[1].type||this._error("compile: In a map only function calls and mathematical expressions are allowed."),e=a.children[0],g=b?" $jc$.makeMap(function ("+e.join(", ")+") { return "+this.compile(a.children[1],b)+"; })":"map ("+e.join(", ")+") -> "+this.compile(a.children[1],b);break;case"op_function":e=a.children[0],f=this.pushScope(e),g=b?this.functionCodeJS(a):" function ("+e.join(", ")+") "+this.compile(a.children[1],b),this.popScope();break;case"op_execfunmath":console.log("op_execfunmath: TODO"),g="-1";break;case"op_execfun":if(a.children[2]){for(d=0,e=[];d<a.children[2].length;d++)e.push(this.compile(a.children[2][d],b));c=b?"$jc$.mergeAttributes("+e.join(", ")+")":e.join(", ")}for(d=0,a.children[0].withProps=!!a.children[2],e=[];d<a.children[1].length;d++)e.push(this.compile(a.children[1][d],b));g=this.compile(a.children[0],b)+"("+e.join(", ")+(a.children[2]&&b?", "+c:"")+")"+(a.children[2]&&!b?" "+c:""),b&&(g+="\n"),b&&"$"===a.children[0].value&&(g="$jc$.board.objects["+this.compile(a.children[1][0],b)+"]");break;case"op_property":g=b&&"X"!==a.children[1]&&"Y"!==a.children[1]?"$jc$.resolveProperty("+this.compile(a.children[0],b)+", '"+a.children[1]+"', true)":this.compile(a.children[0],b)+"."+a.children[1];break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),g=(b?"$jc$.use('":"use('")+a.children[0].toString()+"');";break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),g=(b?"$jc$.del(":"remove(")+this.compile(a.children[0],b)+")";break;case"op_eq":g="("+this.compile(a.children[0],b)+" === "+this.compile(a.children[1],b)+")";break;case"op_neq":g="("+this.compile(a.children[0],b)+" !== "+this.compile(a.children[1],b)+")";break;case"op_approx":g="("+this.compile(a.children[0],b)+" ~= "+this.compile(a.children[1],b)+")";break;case"op_gt":g=b?"$jc$.gt("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" > "+this.compile(a.children[1],b)+")";break;case"op_lt":g=b?"$jc$.lt("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" < "+this.compile(a.children[1],b)+")";break;case"op_geq":g=b?"$jc$.geq("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" >= "+this.compile(a.children[1],b)+")";break;case"op_leq":g=b?"$jc$.leq("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" <= "+this.compile(a.children[1],b)+")";break;case"op_or":g="("+this.compile(a.children[0],b)+" || "+this.compile(a.children[1],b)+")";break;case"op_and":g="("+this.compile(a.children[0],b)+" && "+this.compile(a.children[1],b)+")";break;case"op_not":g="!("+this.compile(a.children[0],b)+")";break;case"op_add":g=b?"$jc$.add("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" + "+this.compile(a.children[1],b)+")";break;case"op_sub":g=b?"$jc$.sub("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" - "+this.compile(a.children[1],b)+")";break;case"op_div":g=b?"$jc$.div("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" / "+this.compile(a.children[1],b)+")";break;case"op_mod":g=b?"$jc$.mod("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+", true)":"("+this.compile(a.children[0],b)+" % "+this.compile(a.children[1],b)+")";break;case"op_mul":g=b?"$jc$.mul("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+" * "+this.compile(a.children[1],b)+")";break;case"op_exp":g=b?"$jc$.pow("+this.compile(a.children[0],b)+", "+this.compile(a.children[1],b)+")":"("+this.compile(a.children[0],b)+"^"+this.compile(a.children[1],b)+")";break;case"op_neg":g=b?"$jc$.neg("+this.compile(a.children[0],b)+")":"(-"+this.compile(a.children[0],b)+")"}break;case"node_var":g=b?this.getvarJS(a.value,!1,a.withProps):a.value;break;case"node_const":case"node_const_bool":g=a.value;break;case"node_str":g="'"+a.value+"'"}return a.needsBrackets&&(g="{\n"+g+" }\n"),a.needsAngleBrackets&&(g=b?"{\n"+g+" }\n":"<< "+g+" >>\n"),g},getName:function(a,b){var c="";return __TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.getName)?(c=a.getName(),(!__TURBOPACK__default__export__3.exists(c)||""===c)&&b&&(c=a.id)):b&&(c=a.id),c},X:function(a){return a.X()},Y:function(a){return a.Y()},V:function(a){return a.Value()},L:function(a){return a.L()},area:function(a){return __TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.Area)||this._error("Error: Can't calculate area."),a.Area()},perimeter:function(a){return __TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.Perimeter)||this._error("Error: Can't calculate perimeter."),a.Perimeter()},dist:function(a,b){return __TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.Dist)||this._error("Error: Can't calculate distance."),a.Dist(b)},radius:function(a){return __TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.Radius)||this._error("Error: Can't calculate radius."),a.Radius()},slope:function(a){return __TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.Slope)||this._error("Error: Can't calculate slope."),a.Slope()},add:function(a,b){var c,d,e;if(a=__TURBOPACK__default__export__3.evalSlider(a),b=__TURBOPACK__default__export__3.evalSlider(b),__TURBOPACK__default__export__10.isInterval(a)||__TURBOPACK__default__export__10.isInterval(b))e=__TURBOPACK__default__export__10.add(a,b);else if(__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isArray(b))for(c=0,d=Math.min(a.length,b.length),e=[];c<d;c++)e[c]=a[c]+b[c];else __TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isNumber(b)?e=a+b:__TURBOPACK__default__export__3.isString(a)||__TURBOPACK__default__export__3.isString(b)?e=a.toString()+b.toString():this._error("Operation + not defined on operands "+typeof a+" and "+typeof b);return e},sub:function(a,b){var c,d,e;if(a=__TURBOPACK__default__export__3.evalSlider(a),b=__TURBOPACK__default__export__3.evalSlider(b),__TURBOPACK__default__export__10.isInterval(a)||__TURBOPACK__default__export__10.isInterval(b))e=__TURBOPACK__default__export__10.sub(a,b);else if(__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isArray(b))for(c=0,d=Math.min(a.length,b.length),e=[];c<d;c++)e[c]=a[c]-b[c];else __TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isNumber(b)?e=a-b:this._error("Operation - not defined on operands "+typeof a+" and "+typeof b);return e},neg:function(a){var b,c,d;if(a=__TURBOPACK__default__export__3.evalSlider(a),__TURBOPACK__default__export__10.isInterval(a))d=__TURBOPACK__default__export__10.negative(a);else if(__TURBOPACK__default__export__3.isArray(a))for(b=0,c=a.length,d=[];b<c;b++)d[b]=-a[b];else __TURBOPACK__default__export__3.isNumber(a)?d=-a:this._error("Unary operation - not defined on operand "+typeof a);return d},mul:function(a,b){var c,d,e;if(a=__TURBOPACK__default__export__3.evalSlider(a),b=__TURBOPACK__default__export__3.evalSlider(b),__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isNumber(b)&&(c=a,b=a=b),__TURBOPACK__default__export__10.isInterval(a)||__TURBOPACK__default__export__10.isInterval(b))e=__TURBOPACK__default__export__10.mul(a,b);else if(__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isArray(b))d=Math.min(a.length,b.length),e=__TURBOPACK__default__export__2.innerProduct(a,b,d);else if(__TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isArray(b))for(c=0,d=b.length,e=[];c<d;c++)e[c]=a*b[c];else __TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isNumber(b)?e=a*b:this._error("Operation * not defined on operands "+typeof a+" and "+typeof b);return e},div:function(a,b){var c,d,e;if(a=__TURBOPACK__default__export__3.evalSlider(a),b=__TURBOPACK__default__export__3.evalSlider(b),__TURBOPACK__default__export__10.isInterval(a)||__TURBOPACK__default__export__10.isInterval(b))e=__TURBOPACK__default__export__10.div(a,b);else if(__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isNumber(b))for(c=0,d=a.length,e=[];c<d;c++)e[c]=a[c]/b;else __TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isNumber(b)?e=a/b:this._error("Operation * not defined on operands "+typeof a+" and "+typeof b);return e},mod:function(a,b){var c,d,e;if(a=__TURBOPACK__default__export__3.evalSlider(a),b=__TURBOPACK__default__export__3.evalSlider(b),__TURBOPACK__default__export__10.isInterval(a)||__TURBOPACK__default__export__10.isInterval(b))return __TURBOPACK__default__export__10.fmod(a,b);if(__TURBOPACK__default__export__3.isArray(a)&&__TURBOPACK__default__export__3.isNumber(b))for(c=0,d=a.length,e=[];c<d;c++)e[c]=__TURBOPACK__default__export__2.mod(a[c],b,!0);else __TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isNumber(b)?e=__TURBOPACK__default__export__2.mod(a,b,!0):this._error("Operation * not defined on operands "+typeof a+" and "+typeof b);return e},pow:function(a,b){return(a=__TURBOPACK__default__export__3.evalSlider(a),b=__TURBOPACK__default__export__3.evalSlider(b),__TURBOPACK__default__export__10.isInterval(a)||__TURBOPACK__default__export__10.isInterval(b))?__TURBOPACK__default__export__10.pow(a,b):__TURBOPACK__default__export__2.pow(a,b)},lt:function(a,b){return __TURBOPACK__default__export__10.isInterval(a)||__TURBOPACK__default__export__10.isInterval(b)?__TURBOPACK__default__export__10.lt(a,b):a<b},leq:function(a,b){return __TURBOPACK__default__export__10.isInterval(a)||__TURBOPACK__default__export__10.isInterval(b)?__TURBOPACK__default__export__10.leq(a,b):a<=b},gt:function(a,b){return __TURBOPACK__default__export__10.isInterval(a)||__TURBOPACK__default__export__10.isInterval(b)?__TURBOPACK__default__export__10.gt(a,b):a>b},geq:function(a,b){return __TURBOPACK__default__export__10.isInterval(a)||__TURBOPACK__default__export__10.isInterval(b)?__TURBOPACK__default__export__10.geq(a,b):a>=b},randint:function(a,b,c){return __TURBOPACK__default__export__3.exists(c)||(c=1),Math.round(Math.random()*(b-a)/c)*c+a},DDD:function(a){console.log("Dummy derivative function. This should never appear!")},ifthen:function(a,b,c){return a?b:c},del:function(a){"object"==typeof a&&__TURBOPACK__default__export__.exists(a.type)&&__TURBOPACK__default__export__.exists(a.elementClass)&&this.board.removeObject(a)},eval:function(a){return __TURBOPACK__default__export__.evaluate(a)},use:function(a){var b,c,d=!1;if("string"==typeof a){for(b in __TURBOPACK__default__export__.boards)if(__TURBOPACK__default__export__.boards.hasOwnProperty(b)&&__TURBOPACK__default__export__.boards[b].container===a){c=__TURBOPACK__default__export__.boards[b],d=!0;break}}else c=a,d=!0;d?(this.board=c,this.builtIn.$board=c,this.builtIn.$board.src="$jc$.board"):this._error("Board '"+a+"' not found!")},findSymbol:function(a,b){var c,d;for(d=-1===(b=__TURBOPACK__default__export__3.def(b,-1))?this.scope:this.scopes[b];null!==d;){for(c in d.locals)if(d.locals.hasOwnProperty(c)&&d.locals[c]===a)return[c,d];d=d.previous}return[]},importModule:function(a){return priv1.modules[a.toLowerCase()]},defineBuiltIn:function(){var a=this,b={PI:Math.PI,EULER:Math.E,D:a.DDD,X:a.X,Y:a.Y,V:a.V,Value:a.V,L:a.L,Length:a.L,acosh:__TURBOPACK__default__export__2.acosh,acot:__TURBOPACK__default__export__2.acot,asinh:__TURBOPACK__default__export__2.asinh,binomial:__TURBOPACK__default__export__2.binomial,cbrt:__TURBOPACK__default__export__2.cbrt,cosh:__TURBOPACK__default__export__2.cosh,cot:__TURBOPACK__default__export__2.cot,deg:__TURBOPACK__default__export__14.trueAngle,A:a.area,area:a.area,Area:a.area,perimeter:a.perimeter,Perimeter:a.perimeter,dist:a.dist,Dist:a.dist,R:a.radius,radius:a.radius,Radius:a.radius,erf:__TURBOPACK__default__export__2.erf,erfc:__TURBOPACK__default__export__2.erfc,erfi:__TURBOPACK__default__export__2.erfi,factorial:__TURBOPACK__default__export__2.factorial,gcd:__TURBOPACK__default__export__2.gcd,lb:__TURBOPACK__default__export__2.log2,lcm:__TURBOPACK__default__export__2.lcm,ld:__TURBOPACK__default__export__2.log2,lg:__TURBOPACK__default__export__2.log10,ln:Math.log,log:__TURBOPACK__default__export__2.log,log10:__TURBOPACK__default__export__2.log10,log2:__TURBOPACK__default__export__2.log2,ndtr:__TURBOPACK__default__export__2.ndtr,ndtri:__TURBOPACK__default__export__2.ndtri,nthroot:__TURBOPACK__default__export__2.nthroot,pow:__TURBOPACK__default__export__2.pow,rad:__TURBOPACK__default__export__14.rad,ratpow:__TURBOPACK__default__export__2.ratpow,trunc:__TURBOPACK__default__export__3.trunc,sinh:__TURBOPACK__default__export__2.sinh,slope:a.slope,Slope:a.slope,randint:a.randint,IfThen:a.ifthen,import:a.importModule,eval:a.eval,use:a.use,remove:a.del,$:a.getElementById,$value:function(b){return a.getElementById(b).Value()},getName:a.getName,name:a.getName,$board:a.board,$log:a.log};return b.rad.sc=__TURBOPACK__default__export__14,b.deg.sc=__TURBOPACK__default__export__14,b.factorial.sc=__TURBOPACK__default__export__2,b.X.src="$jc$.X",b.Y.src="$jc$.Y",b.V.src="$jc$.V",b.Value.src="$jc$.V",b.L.src="$jc$.L",b.Length.src="$jc$.L",b.acosh.src="JXG.Math.acosh",b.acot.src="JXG.Math.acot",b.asinh.src="JXG.Math.asinh",b.binomial.src="JXG.Math.binomial",b.cbrt.src="JXG.Math.cbrt",b.cot.src="JXG.Math.cot",b.cosh.src="JXG.Math.cosh",b.deg.src="JXG.Math.Geometry.trueAngle",b.erf.src="JXG.Math.erf",b.erfc.src="JXG.Math.erfc",b.erfi.src="JXG.Math.erfi",b.A.src="$jc$.area",b.area.src="$jc$.area",b.Area.src="$jc$.area",b.perimeter.src="$jc$.perimeter",b.Perimeter.src="$jc$.perimeter",b.dist.src="$jc$.dist",b.Dist.src="$jc$.dist",b.R.src="$jc$.radius",b.radius.src="$jc$.radius",b.Radius.src="$jc$.radius",b.factorial.src="JXG.Math.factorial",b.gcd.src="JXG.Math.gcd",b.lb.src="JXG.Math.log2",b.lcm.src="JXG.Math.lcm",b.ld.src="JXG.Math.log2",b.lg.src="JXG.Math.log10",b.ln.src="Math.log",b.log.src="JXG.Math.log",b.log10.src="JXG.Math.log10",b.log2.src="JXG.Math.log2",b.ndtr.src="JXG.Math.ndtr",b.ndtri.src="JXG.Math.ndtri",b.nthroot.src="JXG.Math.nthroot",b.pow.src="JXG.Math.pow",b.rad.src="JXG.Math.Geometry.rad",b.ratpow.src="JXG.Math.ratpow",b.trunc.src="JXG.trunc",b.sinh.src="JXG.Math.sinh",b.slope.src="$jc$.slope",b.Slope.src="$jc$.slope",b.randint.src="$jc$.randint",b.import.src="$jc$.importModule",b.eval.src="$jc$.eval",b.use.src="$jc$.use",b.remove.src="$jc$.del",b.IfThen.src="$jc$.ifthen",b.$.src="(function (n) { return $jc$.board.select(n); })",b.$value.src="(function (n) { return $jc$.board.select(n).Value(); })",b.getName.src="$jc$.getName",b.name.src="$jc$.getName",b.$board&&(b.$board.src="$jc$.board"),b.$log.src="$jc$.log",b=__TURBOPACK__default__export__.merge(b,a._addedBuiltIn)},_addedBuiltIn:{},addBuiltIn:function(a,b){if(__TURBOPACK__default__export__3.exists(this.builtIn)){if(__TURBOPACK__default__export__3.exists(this.builtIn[a]))return;this.builtIn[a]=b,this.builtIn[a].src="$jc$."+a}__TURBOPACK__default__export__3.exists(this._addedBuiltIn[a])||(this._addedBuiltIn[a]=b,this._addedBuiltIn[a].src="$jc$."+a,__TURBOPACK__default__export__.JessieCode.prototype[a]=b)},getPossibleOperands:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o=["E"],p=this.builtIn||this.defineBuiltIn(),q=Math;for(m=function(a,b){return a.toLowerCase().localeCompare(b.toLowerCase())},n=function(a,b){var c=null;if("jc"===b)c=p[a];else{if("Math"!==b)return;c=q[a]}if(!(o.indexOf(a)>=0)){if(__TURBOPACK__default__export__.isFunction(c))return{name:a,type:"function",numParams:c.length,origin:b};if(__TURBOPACK__default__export__.isNumber(c))return{name:a,type:"constant",value:c,origin:b};a.startsWith("$")||void 0!==c&&console.error("undefined type",c)}},a=Object.getOwnPropertyNames(p).sort(m),b=Object.getOwnPropertyNames(q).sort(m),c=[],d=0,e=0;d<a.length||e<b.length;)a[d]===b[e]?(f=n(b[e],"Math"),__TURBOPACK__default__export__.exists(f)&&c.push(f),d++,e++):!__TURBOPACK__default__export__.exists(b[e])||0>a[d].toLowerCase().localeCompare(b[e].toLowerCase())?(f=n(a[d],"jc"),__TURBOPACK__default__export__.exists(f)&&c.push(f),d++):(f=n(b[e],"Math"),__TURBOPACK__default__export__.exists(f)&&c.push(f),e++);for(d=0,i=[],j=[],k=[],l={},g=c.length;d<g;d++){switch((h=c[d]).type){case"function":i.push(h.name),"jc"===h.origin&&j.push(h.name);break;case"constant":k.push(h.name)}l[h.name]=h}return{all:l,list:c,functions:i,functions_jessiecode:j,constants:k}},_debug:function(a){"object"==typeof console?console.log(a):__TURBOPACK__default__export__4.isBrowser&&document&&null!==document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=a+"<br />")},_error:function(a){var b=Error("Error("+this.line+"): "+a);throw b.line=this.line,b},_warn:function(a){"object"==typeof console?console.log("Warning("+this.line+"): "+a):__TURBOPACK__default__export__4.isBrowser&&document&&null!==document.getElementById(this.warnLog)&&(document.getElementById(this.warnLog).innerHTML+="Warning("+this.line+"): "+a+"<br />")},_log:function(a){"object"==typeof self&&self.postMessage?self.postMessage({type:"log",msg:"Log: "+a.toString()}):console.log("Log: ",arguments)}});var parser=function(){var a=function(a,b,c,d){for(c=c||{},d=a.length;d--;c[a[d]]=b);return c},b=[2,14],c=[1,13],d=[1,37],e=[1,14],f=[1,15],g=[1,21],h=[1,16],i=[1,17],j=[1,33],k=[1,18],l=[1,19],m=[1,12],n=[1,59],o=[1,60],p=[1,58],q=[1,46],r=[1,48],s=[1,49],t=[1,50],u=[1,51],v=[1,52],w=[1,53],x=[1,54],y=[1,45],z=[1,38],A=[1,39],B=[5,7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],C=[5,7,8,12,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],D=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],E=[2,48],F=[1,72],G=[10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,66,83,86],H=[1,78],I=[8,10,16,32,34,35,37,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],J=[1,82],K=[8,10,16,32,34,35,37,39,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],L=[1,83],M=[1,84],N=[1,85],O=[8,10,16,32,34,35,37,39,41,42,43,50,51,53,54,55,57,64,65,66,83,86],P=[1,89],Q=[1,90],R=[1,91],S=[1,92],T=[1,97],U=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,53,54,55,57,64,65,66,83,86],V=[1,103],W=[1,104],X=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,57,64,65,66,83,86],Y=[1,105],Z=[1,106],$=[1,107],_=[1,126],aa=[1,139],ab=[83,86],ac=[1,150],ad=[10,66,86],ae=[8,10,16,20,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,82,83,86],af=[1,167],ag=[10,86],ah={trace:function(){},yy:{},symbols_:{error:2,Program:3,StatementList:4,EOF:5,IfStatement:6,IF:7,"(":8,Expression:9,")":10,Statement:11,ELSE:12,LoopStatement:13,WHILE:14,FOR:15,";":16,DO:17,UnaryStatement:18,USE:19,IDENTIFIER:20,DELETE:21,ReturnStatement:22,RETURN:23,EmptyStatement:24,StatementBlock:25,"{":26,"}":27,ExpressionStatement:28,AssignmentExpression:29,ConditionalExpression:30,LeftHandSideExpression:31,"=":32,LogicalORExpression:33,"?":34,":":35,LogicalANDExpression:36,"||":37,EqualityExpression:38,"&&":39,RelationalExpression:40,"==":41,"!=":42,"~=":43,AdditiveExpression:44,"<":45,">":46,"<=":47,">=":48,MultiplicativeExpression:49,"+":50,"-":51,UnaryExpression:52,"*":53,"/":54,"%":55,ExponentExpression:56,"^":57,"!":58,MemberExpression:59,CallExpression:60,PrimaryExpression:61,FunctionExpression:62,MapExpression:63,".":64,"[":65,"]":66,BasicLiteral:67,ObjectLiteral:68,ArrayLiteral:69,NullLiteral:70,BooleanLiteral:71,StringLiteral:72,NumberLiteral:73,NULL:74,TRUE:75,FALSE:76,STRING:77,NUMBER:78,NAN:79,INFINITY:80,ElementList:81,"<<":82,">>":83,PropertyList:84,Property:85,",":86,PropertyName:87,Arguments:88,AttributeList:89,Attribute:90,FUNCTION:91,ParameterDefinitionList:92,MAP:93,"->":94,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"IF",8:"(",10:")",12:"ELSE",14:"WHILE",15:"FOR",16:";",17:"DO",19:"USE",20:"IDENTIFIER",21:"DELETE",23:"RETURN",26:"{",27:"}",32:"=",34:"?",35:":",37:"||",39:"&&",41:"==",42:"!=",43:"~=",45:"<",46:">",47:"<=",48:">=",50:"+",51:"-",53:"*",54:"/",55:"%",57:"^",58:"!",64:".",65:"[",66:"]",74:"NULL",75:"TRUE",76:"FALSE",77:"STRING",78:"NUMBER",79:"NAN",80:"INFINITY",82:"<<",83:">>",86:",",91:"FUNCTION",93:"MAP",94:"->"},productions_:[0,[3,2],[6,5],[6,7],[13,5],[13,9],[13,7],[18,2],[18,2],[22,2],[22,3],[24,1],[25,3],[4,2],[4,0],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[28,2],[9,1],[29,1],[29,3],[30,1],[30,5],[33,1],[33,3],[36,1],[36,3],[38,1],[38,3],[38,3],[38,3],[40,1],[40,3],[40,3],[40,3],[40,3],[44,1],[44,3],[44,3],[49,1],[49,3],[49,3],[49,3],[56,1],[56,3],[52,1],[52,2],[52,2],[52,2],[31,1],[31,1],[59,1],[59,1],[59,1],[59,3],[59,4],[61,1],[61,1],[61,1],[61,1],[61,3],[67,1],[67,1],[67,1],[67,1],[70,1],[71,1],[71,1],[72,1],[73,1],[73,1],[73,1],[69,2],[69,3],[68,2],[68,3],[84,1],[84,3],[85,3],[87,1],[87,1],[87,1],[60,2],[60,3],[60,2],[60,4],[60,3],[88,2],[88,3],[89,1],[89,3],[90,1],[90,1],[81,1],[81,3],[62,4],[62,5],[63,5],[63,6],[92,1],[92,3]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;switch(e){case 1:return f[h-1];case 2:this.$=ai.createNode(aj(g[h-4]),"node_op","op_if",f[h-2],f[h]);break;case 3:this.$=ai.createNode(aj(g[h-6]),"node_op","op_if_else",f[h-4],f[h-2],f[h]);break;case 4:this.$=ai.createNode(aj(g[h-4]),"node_op","op_while",f[h-2],f[h]);break;case 5:this.$=ai.createNode(aj(g[h-8]),"node_op","op_for",f[h-6],f[h-4],f[h-2],f[h]);break;case 6:this.$=ai.createNode(aj(g[h-6]),"node_op","op_do",f[h-5],f[h-2]);break;case 7:this.$=ai.createNode(aj(g[h-1]),"node_op","op_use",f[h]);break;case 8:this.$=ai.createNode(aj(g[h-1]),"node_op","op_delete",f[h]);break;case 9:this.$=ai.createNode(aj(g[h-1]),"node_op","op_return",void 0);break;case 10:this.$=ai.createNode(aj(g[h-2]),"node_op","op_return",f[h-1]);break;case 11:case 14:this.$=ai.createNode(aj(g[h]),"node_op","op_none");break;case 12:this.$=f[h-1],this.$.needsBrackets=!0;break;case 13:this.$=ai.createNode(aj(g[h-1]),"node_op","op_none",f[h-1],f[h]);break;case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 23:case 24:case 26:case 28:case 30:case 32:case 36:case 41:case 44:case 48:case 50:case 52:case 54:case 55:case 56:case 58:case 62:case 81:case 84:case 85:case 86:this.$=f[h];break;case 22:case 65:case 93:this.$=f[h-1];break;case 25:this.$=ai.createNode(aj(g[h-2]),"node_op","op_assign",f[h-2],f[h]),this.$.isMath=!1;break;case 27:this.$=ai.createNode(aj(g[h-4]),"node_op","op_conditional",f[h-4],f[h-2],f[h]),this.$.isMath=!1;break;case 29:this.$=ai.createNode(aj(g[h-2]),"node_op","op_or",f[h-2],f[h]),this.$.isMath=!1;break;case 31:this.$=ai.createNode(aj(g[h-2]),"node_op","op_and",f[h-2],f[h]),this.$.isMath=!1;break;case 33:this.$=ai.createNode(aj(g[h-2]),"node_op","op_eq",f[h-2],f[h]),this.$.isMath=!1;break;case 34:this.$=ai.createNode(aj(g[h-2]),"node_op","op_neq",f[h-2],f[h]),this.$.isMath=!1;break;case 35:this.$=ai.createNode(aj(g[h-2]),"node_op","op_approx",f[h-2],f[h]),this.$.isMath=!1;break;case 37:this.$=ai.createNode(aj(g[h-2]),"node_op","op_lt",f[h-2],f[h]),this.$.isMath=!1;break;case 38:this.$=ai.createNode(aj(g[h-2]),"node_op","op_gt",f[h-2],f[h]),this.$.isMath=!1;break;case 39:this.$=ai.createNode(aj(g[h-2]),"node_op","op_leq",f[h-2],f[h]),this.$.isMath=!1;break;case 40:this.$=ai.createNode(aj(g[h-2]),"node_op","op_geq",f[h-2],f[h]),this.$.isMath=!1;break;case 42:this.$=ai.createNode(aj(g[h-2]),"node_op","op_add",f[h-2],f[h]),this.$.isMath=!0;break;case 43:this.$=ai.createNode(aj(g[h-2]),"node_op","op_sub",f[h-2],f[h]),this.$.isMath=!0;break;case 45:this.$=ai.createNode(aj(g[h-2]),"node_op","op_mul",f[h-2],f[h]),this.$.isMath=!0;break;case 46:this.$=ai.createNode(aj(g[h-2]),"node_op","op_div",f[h-2],f[h]),this.$.isMath=!0;break;case 47:this.$=ai.createNode(aj(g[h-2]),"node_op","op_mod",f[h-2],f[h]),this.$.isMath=!0;break;case 49:this.$=ai.createNode(aj(g[h-2]),"node_op","op_exp",f[h-2],f[h]),this.$.isMath=!0;break;case 51:this.$=ai.createNode(aj(g[h-1]),"node_op","op_not",f[h]),this.$.isMath=!1;break;case 53:this.$=ai.createNode(aj(g[h-1]),"node_op","op_neg",f[h]),this.$.isMath=!0;break;case 57:case 63:case 64:case 66:case 67:case 68:case 97:this.$=f[h],this.$.isMath=!1;break;case 59:case 91:this.$=ai.createNode(aj(g[h-2]),"node_op","op_property",f[h-2],f[h]),this.$.isMath=!0;break;case 60:case 90:this.$=ai.createNode(aj(g[h-3]),"node_op","op_extvalue",f[h-3],f[h-1]),this.$.isMath=!0;break;case 61:this.$=ai.createNode(aj(g[h]),"node_var",f[h]);break;case 69:this.$=f[h],this.$.isMath=!0;break;case 70:this.$=ai.createNode(aj(g[h]),"node_const",null);break;case 71:this.$=ai.createNode(aj(g[h]),"node_const_bool",!0);break;case 72:this.$=ai.createNode(aj(g[h]),"node_const_bool",!1);break;case 73:this.$=ai.createNode(aj(g[h]),"node_str",f[h].substring(1,f[h].length-1));break;case 74:this.$=ai.createNode(aj(g[h]),"node_const",parseFloat(f[h]));break;case 75:this.$=ai.createNode(aj(g[h]),"node_const",NaN);break;case 76:this.$=ai.createNode(aj(g[h]),"node_const",1/0);break;case 77:this.$=ai.createNode(aj(g[h-1]),"node_op","op_array",[]);break;case 78:this.$=ai.createNode(aj(g[h-2]),"node_op","op_array",f[h-1]);break;case 79:this.$=ai.createNode(aj(g[h-1]),"node_op","op_emptyobject",{}),this.$.needsAngleBrackets=!0;break;case 80:this.$=ai.createNode(aj(g[h-2]),"node_op","op_proplst_val",f[h-1]),this.$.needsAngleBrackets=!0;break;case 82:this.$=ai.createNode(aj(g[h-2]),"node_op","op_proplst",f[h-2],f[h]);break;case 83:this.$=ai.createNode(aj(g[h-2]),"node_op","op_prop",f[h-2],f[h]);break;case 87:case 89:this.$=ai.createNode(aj(g[h-1]),"node_op","op_execfun",f[h-1],f[h]),this.$.isMath=!0;break;case 88:this.$=ai.createNode(aj(g[h-2]),"node_op","op_execfun",f[h-2],f[h-1],f[h],!0),this.$.isMath=!1;break;case 92:this.$=[];break;case 94:case 98:case 104:this.$=[f[h]];break;case 95:case 99:case 105:this.$=f[h-2].concat(f[h]);break;case 96:this.$=ai.createNode(aj(g[h]),"node_var",f[h]),this.$.isMath=!0;break;case 100:this.$=ai.createNode(aj(g[h-3]),"node_op","op_function",[],f[h]),this.$.isMath=!1;break;case 101:this.$=ai.createNode(aj(g[h-4]),"node_op","op_function",f[h-2],f[h]),this.$.isMath=!1;break;case 102:this.$=ai.createNode(aj(g[h-4]),"node_op","op_map",[],f[h]);break;case 103:this.$=ai.createNode(aj(g[h-5]),"node_op","op_map",f[h-3],f[h])}},table:[a([5,7,8,14,15,16,17,19,20,21,23,26,50,51,58,65,74,75,76,77,78,79,80,82,91,93],b,{3:1,4:2}),{1:[3]},{5:[1,3],6:6,7:c,8:d,9:20,11:4,13:7,14:e,15:f,16:g,17:h,18:8,19:i,20:j,21:k,22:9,23:l,24:11,25:5,26:m,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{1:[2,1]},a(B,[2,13]),a(C,[2,15]),a(C,[2,16]),a(C,[2,17]),a(C,[2,18]),a(C,[2,19]),a(C,[2,20]),a(C,[2,21]),a([7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],b,{4:61}),{8:[1,62]},{8:[1,63]},{8:[1,64]},{6:6,7:c,8:d,9:20,11:65,13:7,14:e,15:f,16:g,17:h,18:8,19:i,20:j,21:k,22:9,23:l,24:11,25:5,26:m,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{20:[1,66]},{20:[1,67]},{8:d,9:69,16:[1,68],20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{16:[1,70]},a(C,[2,11]),a(D,[2,23]),a(D,[2,24]),a([8,10,16,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],E,{32:[1,71],57:F}),a([8,10,16,32,35,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],[2,26],{34:[1,73],37:[1,74]}),a(G,[2,54],{88:77,8:H,64:[1,75],65:[1,76]}),a(G,[2,55],{88:79,8:H,64:[1,81],65:[1,80]}),a(I,[2,28],{39:J}),a(D,[2,56]),a(D,[2,57]),a(D,[2,58]),a(K,[2,30],{41:L,42:M,43:N}),a(D,[2,61]),a(D,[2,62]),a(D,[2,63]),a(D,[2,64]),{8:d,9:86,20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:[1,87]},{8:[1,88]},a(O,[2,32],{45:P,46:Q,47:R,48:S}),a(D,[2,66]),a(D,[2,67]),a(D,[2,68]),a(D,[2,69]),{20:T,72:98,73:99,77:u,78:v,79:w,80:x,83:[1,93],84:94,85:95,87:96},{8:d,20:j,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,66:[1,100],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,81:101,82:y,91:z,93:A},a(U,[2,36],{50:V,51:W}),a(D,[2,70]),a(D,[2,71]),a(D,[2,72]),a(D,[2,73]),a(D,[2,74]),a(D,[2,75]),a(D,[2,76]),a(X,[2,41],{53:Y,54:Z,55:$}),a(D,[2,44]),a(D,[2,50]),{8:d,20:j,31:109,50:n,51:o,52:108,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,50:n,51:o,52:110,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,50:n,51:o,52:111,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{6:6,7:c,8:d,9:20,11:4,13:7,14:e,15:f,16:g,17:h,18:8,19:i,20:j,21:k,22:9,23:l,24:11,25:5,26:m,27:[1,112],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,9:113,20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,9:114,20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,9:115,20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{14:[1,116]},a(C,[2,7]),a(C,[2,8]),a(C,[2,9]),{16:[1,117]},a(C,[2,22]),{8:d,20:j,29:118,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,50:n,51:o,52:119,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,29:120,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,36:121,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{20:[1,122]},{8:d,9:123,20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},a(D,[2,87],{89:124,90:125,68:127,20:_,82:y}),{8:d,10:[1,128],20:j,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,81:129,82:y,91:z,93:A},a(D,[2,89]),{8:d,9:130,20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{20:[1,131]},{8:d,20:j,31:109,38:132,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,40:133,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,40:134,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,40:135,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{10:[1,136]},{10:[1,137],20:aa,92:138},{10:[1,140],20:aa,92:141},{8:d,20:j,31:109,44:142,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,44:143,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,44:144,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,44:145,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},a(D,[2,79]),{83:[1,146],86:[1,147]},a(ab,[2,81]),{35:[1,148]},{35:[2,84]},{35:[2,85]},{35:[2,86]},a(D,[2,77]),{66:[1,149],86:ac},a(ad,[2,98]),{8:d,20:j,31:109,49:151,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,49:152,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,50:n,51:o,52:153,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,50:n,51:o,52:154,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,31:109,50:n,51:o,52:155,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},a(D,[2,51]),a([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],E,{57:F}),a(D,[2,52]),a(D,[2,53]),a([5,7,8,10,12,14,15,16,17,19,20,21,23,26,27,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,58,64,65,66,74,75,76,77,78,79,80,82,83,86,91,93],[2,12]),{10:[1,156]},{10:[1,157]},{16:[1,158]},{8:[1,159]},a(C,[2,10]),a(D,[2,25]),a(D,[2,49]),{35:[1,160]},a(I,[2,29],{39:J}),a(D,[2,59]),{66:[1,161]},a([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83],[2,88],{86:[1,162]}),a(D,[2,94]),a(D,[2,96]),a(D,[2,97]),a(ae,[2,92]),{10:[1,163],86:ac},{66:[1,164]},a(D,[2,91]),a(K,[2,31],{41:L,42:M,43:N}),a(O,[2,33],{45:P,46:Q,47:R,48:S}),a(O,[2,34],{45:P,46:Q,47:R,48:S}),a(O,[2,35],{45:P,46:Q,47:R,48:S}),a(D,[2,65]),{25:165,26:m},{10:[1,166],86:af},a(ag,[2,104]),{94:[1,168]},{10:[1,169],86:af},a(U,[2,37],{50:V,51:W}),a(U,[2,38],{50:V,51:W}),a(U,[2,39],{50:V,51:W}),a(U,[2,40],{50:V,51:W}),a(D,[2,80]),{20:T,72:98,73:99,77:u,78:v,79:w,80:x,85:170,87:96},{8:d,20:j,29:171,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},a(D,[2,78]),{8:d,20:j,29:172,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},a(X,[2,42],{53:Y,54:Z,55:$}),a(X,[2,43],{53:Y,54:Z,55:$}),a(D,[2,45]),a(D,[2,46]),a(D,[2,47]),{6:6,7:c,8:d,9:20,11:173,13:7,14:e,15:f,16:g,17:h,18:8,19:i,20:j,21:k,22:9,23:l,24:11,25:5,26:m,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{6:6,7:c,8:d,9:20,11:174,13:7,14:e,15:f,16:g,17:h,18:8,19:i,20:j,21:k,22:9,23:l,24:11,25:5,26:m,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,9:175,20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,9:176,20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,20:j,29:177,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},a(D,[2,60]),{20:_,68:127,82:y,90:178},a(ae,[2,93]),a(D,[2,90]),a(D,[2,100]),{25:179,26:m},{20:[1,180]},{8:d,9:181,20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{94:[1,182]},a(ab,[2,82]),a(ab,[2,83]),a(ad,[2,99]),a(B,[2,2],{12:[1,183]}),a(C,[2,4]),{16:[1,184]},{10:[1,185]},a(D,[2,27]),a(D,[2,95]),a(D,[2,101]),a(ag,[2,105]),a(D,[2,102]),{8:d,9:186,20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{6:6,7:c,8:d,9:20,11:187,13:7,14:e,15:f,16:g,17:h,18:8,19:i,20:j,21:k,22:9,23:l,24:11,25:5,26:m,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{8:d,9:188,20:j,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},{16:[1,189]},a(D,[2,103]),a(C,[2,3]),{10:[1,190]},a(C,[2,6]),{6:6,7:c,8:d,9:20,11:191,13:7,14:e,15:f,16:g,17:h,18:8,19:i,20:j,21:k,22:9,23:l,24:11,25:5,26:m,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:n,51:o,52:56,56:57,58:p,59:26,60:27,61:29,62:30,63:31,65:q,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:r,75:s,76:t,77:u,78:v,79:w,80:x,82:y,91:z,93:A},a(C,[2,5])],defaultActions:{3:[2,1],97:[2,84],98:[2,85],99:[2,86]},parseError:function(a,b){if(b.recoverable)this.trace(a);else{var c=Error(a);throw c.hash=b,c}},parse:function(a){var b=this,c=[0],d=[null],e=[],f=this.table,g="",h=0,i=0,j=0,k=2,l=1,m=e.slice.call(arguments,1),n=Object.create(this.lexer),o={};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(o[p]=this.yy[p]);n.setInput(a,o),o.lexer=n,o.parser=this,void 0===n.yylloc&&(n.yylloc={});var q=n.yylloc;e.push(q);var r=n.options&&n.options.ranges;"function"==typeof o.parseError?this.parseError=o.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var s,t,u,v,w,x,y,z,A,B=function(){var a;return"number"!=typeof(a=n.lex()||l)&&(a=b.symbols_[a]||a),a},C={};;){if(u=c[c.length-1],this.defaultActions[u]?v=this.defaultActions[u]:(null==s&&(s=B()),v=f[u]&&f[u][s]),void 0===v||!v.length||!v[0]){var D="";for(x in A=[],f[u])this.terminals_[x]&&x>k&&A.push("'"+this.terminals_[x]+"'");D=n.showPosition?"Parse error on line "+(h+1)+":\n"+n.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[s]||s)+"'":"Parse error on line "+(h+1)+": Unexpected "+(s==l?"end of input":"'"+(this.terminals_[s]||s)+"'"),this.parseError(D,{text:n.match,token:this.terminals_[s]||s,line:n.yylineno,loc:q,expected:A})}if(v[0]instanceof Array&&v.length>1)throw Error("Parse Error: multiple actions possible at state: "+u+", token: "+s);switch(v[0]){case 1:c.push(s),d.push(n.yytext),e.push(n.yylloc),c.push(v[1]),s=null,t?(s=t,t=null):(i=n.yyleng,g=n.yytext,h=n.yylineno,q=n.yylloc,j>0&&j--);break;case 2:if(y=this.productions_[v[1]][1],C.$=d[d.length-y],C._$={first_line:e[e.length-(y||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(y||1)].first_column,last_column:e[e.length-1].last_column},r&&(C._$.range=[e[e.length-(y||1)].range[0],e[e.length-1].range[1]]),void 0!==(w=this.performAction.apply(C,[g,i,h,o,v[1],d,e].concat(m))))return w;y&&(c=c.slice(0,-1*y*2),d=d.slice(0,-1*y),e=e.slice(0,-1*y)),c.push(this.productions_[v[1]][0]),d.push(C.$),e.push(C._$),z=f[c[c.length-2]][c[c.length-1]],c.push(z);break;case 3:return!0}}return!0}},ai={node:function(a,b,c){return{type:a,value:b,children:c}},createNode:function(a,b,c,d){var e,f=this.node(b,c,[]);for(e=3;e<arguments.length;e++)f.children.push(arguments[e]);return f.line=a[0],f.col=a[1],f.eline=a[2],f.ecol=a[3],f}},aj=function(a){return[a.first_line,a.first_column,a.last_line,a.last_column]};function ak(){this.yy={}}return ah.lexer=function(){return{EOF:1,parseError:function(a,b){if(this.yy.parser)this.yy.parser.parseError(a,b);else throw Error(a)},setInput:function(a,b){return this.yy=b||this.yy||{},this._input=a,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];return this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a,a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},test_match:function(a,b){var c,d,e;if(this.options.backtrack_lexer&&(e={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(e.yylloc.range=this.yylloc.range.slice(0))),(d=a[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length},this.yytext+=a[0],this.match+=a[0],this.matches=a,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(a[0].length),this.matched+=a[0],c=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),c)return c;if(this._backtrack)for(var f in e)this[f]=e[f];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a,b,c,d,e=this._currentRules(),f=0;f<e.length;f++)if((c=this._input.match(this.rules[e[f]]))&&(!b||c[0].length>b[0].length)){if(b=c,d=f,this.options.backtrack_lexer){if(!1!==(a=this.test_match(c,e[f])))return a;if(!this._backtrack)return!1;b=!1;continue}if(!this.options.flex)break}return b?!1!==(a=this.test_match(b,e[d]))&&a:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return a||this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(a){return(a=this.conditionStack.length-1-Math.abs(a||0))>=0?this.conditionStack[a]:"INITIAL"},pushState:function(a){this.begin(a)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(a,b,c,d){switch(c){case 0:case 6:case 7:break;case 1:case 2:case 3:return 78;case 4:case 5:return 77;case 8:return 7;case 9:return 12;case 10:return 14;case 11:return 17;case 12:return 15;case 13:return 91;case 14:return 93;case 15:return 19;case 16:return 23;case 17:return 21;case 18:return 75;case 19:return 76;case 20:return 74;case 21:return 80;case 22:case 23:return 94;case 24:return 82;case 25:return 83;case 26:return 26;case 27:return 27;case 28:return 16;case 29:return"#";case 30:return 34;case 31:return 35;case 32:return 79;case 33:return 64;case 34:return 65;case 35:return 66;case 36:return 8;case 37:return 10;case 38:return 58;case 39:case 40:return 57;case 41:return 53;case 42:return 54;case 43:return 55;case 44:return 50;case 45:return 51;case 46:return 47;case 47:return 45;case 48:return 48;case 49:return 46;case 50:return 41;case 51:return 43;case 52:return 42;case 53:return 39;case 54:return 37;case 55:return 32;case 56:return 86;case 57:return 5;case 58:return 20;case 59:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:[0-9]*\.?[0-9]+([eE][-+]?[0-9]+))/,/^(?:[0-9]+\.[0-9]*|[0-9]*\.[0-9]+\b)/,/^(?:[0-9]+)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:\/\/.*)/,/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:if\b)/,/^(?:else\b)/,/^(?:while\b)/,/^(?:do\b)/,/^(?:for\b)/,/^(?:function\b)/,/^(?:map\b)/,/^(?:use\b)/,/^(?:return\b)/,/^(?:delete\b)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:Infinity\b)/,/^(?:->)/,/^(?:=>)/,/^(?:<<)/,/^(?:>>)/,/^(?:\{)/,/^(?:\})/,/^(?:;)/,/^(?:#)/,/^(?:\?)/,/^(?::)/,/^(?:NaN\b)/,/^(?:\.)/,/^(?:\[)/,/^(?:\])/,/^(?:\()/,/^(?:\))/,/^(?:!)/,/^(?:\^)/,/^(?:\*\*)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:\+)/,/^(?:-)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:==)/,/^(?:~=)/,/^(?:!=)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:=)/,/^(?:,)/,/^(?:$)/,/^(?:[A-Za-z_\$][A-Za-z0-9_]*)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],inclusive:!0}}}}(),ak.prototype=ah,ah.Parser=ak,new ak}();parser.yy.parseError=parser.parseError;let __TURBOPACK__default__export__34=__TURBOPACK__default__export__.JessieCode;__TURBOPACK__default__export__.Composition=function(a){var b,c=this,d=["setAttribute","setParents","prepareUpdate","updateRenderer","update","fullUpdate","highlight","noHighlight"],e=function(a){return function(){var b;for(b in c.elements)c.elements.hasOwnProperty(b)&&__TURBOPACK__default__export__3.exists(c.elements[b][a])&&c.elements[b][a].apply(c.elements[b],arguments);return c}};for(b=0;b<d.length;b++)this[d[b]]=e(d[b]);for(b in this.elements={},this.objects=this.elements,this.elementsByName={},this.objectsList=[],this.groups={},this.methodMap={setAttribute:"setAttribute",setProperty:"setAttribute",setParents:"setParents",add:"add",remove:"remove",select:"select"},a)a.hasOwnProperty(b)&&this.add(b,a[b]);this.dump=!0,this.subs={}},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Composition.prototype,{add:function(a,b){return!!(!__TURBOPACK__default__export__3.exists(this[a])&&__TURBOPACK__default__export__3.exists(b))&&(__TURBOPACK__default__export__3.exists(b.id)?this.elements[b.id]=b:this.elements[a]=b,__TURBOPACK__default__export__3.exists(b.name)&&(this.elementsByName[b.name]=b),b.on("attribute:name",this.nameListener,this),this.objectsList.push(b),this[a]=b,this.methodMap[a]=b,!0)},remove:function(a){var b,c=!1;for(b in this.elements)if(this.elements.hasOwnProperty(b)&&this.elements[b].id===this[a].id){c=!0;break}return c&&(delete this.elements[this[a].id],delete this[a]),c},nameListener:function(a,b,c){delete this.elementsByName[a],this.elementsByName[b]=c},select:function(a){return __TURBOPACK__default__export__3.exists(__TURBOPACK__default__export__.Board)?__TURBOPACK__default__export__.Board.prototype.select.call(this,a):new __TURBOPACK__default__export__.Composition},getParents:function(){return this.parents},getType:function(){return this.elType},getAttributes:function(){var a,b={};for(a in this.subs)this.subs.hasOwnProperty(a)&&(b[a]=this.subs[a].visProp);return this.attr}});let __TURBOPACK__default__export__35=__TURBOPACK__default__export__.Composition;__TURBOPACK__default__export__.Board=function(a,b,c,d,e,f,g,h,i,j,k){if(this.BOARD_MODE_NONE=0,this.BOARD_MODE_DRAG=1,this.BOARD_MODE_MOVE_ORIGIN=2,this.BOARD_MODE_ZOOM=17,this.BOARD_QUALITY_LOW=1,this.BOARD_QUALITY_HIGH=2,__TURBOPACK__default__export__3.exists(k.document)&&!1!==k.document?this.document=k.document:__TURBOPACK__default__export__4.isBrowser&&(this.document=document),this.container="",this.id="",this.containerObj=null,__TURBOPACK__default__export__3.isString(a)?(this.container=a,this.containerObj=__TURBOPACK__default__export__4.isBrowser?this.document.getElementById(this.container):null):__TURBOPACK__default__export__4.isBrowser&&(this.containerObj=a,this.container=this.containerObj.getAttribute("id"),null===this.container&&(this.container="null"+parseInt(0x1000000*Math.random()).toString())),__TURBOPACK__default__export__4.isBrowser&&"no"!==b.type&&null===this.containerObj)throw Error('\nJSXGraph: HTML container element "'+a+'" not found.');__TURBOPACK__default__export__3.exists(c)&&""!==c&&__TURBOPACK__default__export__4.isBrowser&&!__TURBOPACK__default__export__3.exists(this.document.getElementById(c))?this.id=c:this.id=this.generateId(),this.renderer=b,this.grids=[],this.options=__TURBOPACK__default__export__3.deepCopy(__TURBOPACK__default__export__25),this.attr=k,"default"!==this.attr.theme&&__TURBOPACK__default__export__3.exists(__TURBOPACK__default__export__.themes[this.attr.theme])&&__TURBOPACK__default__export__3.mergeAttr(this.options,__TURBOPACK__default__export__.themes[this.attr.theme],!0),this.dimension=2,this.jc=new __TURBOPACK__default__export__34,this.jc.use(this),this.origin={},this.origin.usrCoords=[1,0,0],this.origin.scrCoords=[1,d[0],d[1]],this.zoomX=e,this.zoomY=f,this.unitX=g*this.zoomX,this.unitY=h*this.zoomY,this.keepaspectratio=!1,this.canvasWidth=i,this.canvasHeight=j,__TURBOPACK__default__export__6.eventify(this),this.hooks=[],this.dependentBoards=[],this.inUpdate=!1,this.objects={},this.objectsList=[],this.groups={},this.animationObjects={},this.highlightedObjects={},this.numObjects=0,this.elementsByName={},this.mode=this.BOARD_MODE_NONE,this.updateQuality=this.BOARD_QUALITY_HIGH,this.isSuspendedRedraw=!1,this.calculateSnapSizes(),this.drag_dx=0,this.drag_dy=0,this.drag_position=[0,0],this.mouse={},this.touches=[],this.xmlString="",this.cPos=[],this.touchMoveLast=0,this.touchMoveLastId=1/0,this.positionAccessLast=0,this.downObjects=[],this.clickObjects={},this.focusObjects=[],(this.attr.showcopyright||this.attr.showlogo)&&this.renderer.displayLogo(__TURBOPACK__default__export__1.licenseLogo,parseInt(this.options.text.fontSize,10),this),this.attr.showcopyright&&this.renderer.displayCopyright(__TURBOPACK__default__export__1.licenseText,parseInt(this.options.text.fontSize,10)),this.needsFullUpdate=!1,this.reducedUpdate=!1,this.currentCBDef="none",this.geonextCompatibilityMode=!1,this.options.text.useASCIIMathML&&translateASCIIMath?init():this.options.text.useASCIIMathML=!1,this.hasMouseHandlers=!1,this.hasTouchHandlers=!1,this.hasPointerHandlers=!1,this.hasWheelHandlers=!1,this.hasMouseUp=!1,this.hasTouchEnd=!1,this.hasPointerUp=!1,this.resizeHandlers=[],this._drag_offset=[0,0],this._inputDevice="mouse",this._board_touches=[],this.selectingMode=!1,this.isSelecting=!1,this._isScrolling=!1,this._isResizing=!1,this._change3DView=!1,this.selectingBox=[[0,0],[0,0]],this.userLog=[],this.mathLib=Math,this.mathLibJXG=__TURBOPACK__default__export__.Math,!0===this.attr.registerevents?this.attr.registerevents={fullscreen:!0,keyboard:!0,pointer:!0,resize:!0,wheel:!0}:"object"==typeof this.attr.registerevents&&(__TURBOPACK__default__export__3.exists(this.attr.registerevents.fullscreen)||(this.attr.registerevents.fullscreen=!0),__TURBOPACK__default__export__3.exists(this.attr.registerevents.keyboard)||(this.attr.registerevents.keyboard=!0),__TURBOPACK__default__export__3.exists(this.attr.registerevents.pointer)||(this.attr.registerevents.pointer=!0),__TURBOPACK__default__export__3.exists(this.attr.registerevents.resize)||(this.attr.registerevents.resize=!0),__TURBOPACK__default__export__3.exists(this.attr.registerevents.wheel)||(this.attr.registerevents.wheel=!0)),!1!==this.attr.registerevents&&(this.attr.registerevents.fullscreen&&this.addFullscreenEventHandlers(),this.attr.registerevents.keyboard&&this.addKeyboardEventHandlers(),this.attr.registerevents.pointer&&this.addEventHandlers(),this.attr.registerevents.resize&&this.addResizeEventHandlers(),this.attr.registerevents.wheel&&this.addWheelEventHandlers()),this.methodMap={update:"update",fullUpdate:"fullUpdate",on:"on",off:"off",trigger:"trigger",setAttribute:"setAttribute",setBoundingBox:"setBoundingBox",setView:"setBoundingBox",getBoundingBox:"getBoundingBox",BoundingBox:"getBoundingBox",getView:"getBoundingBox",View:"getBoundingBox",migratePoint:"migratePoint",colorblind:"emulateColorblindness",suspendUpdate:"suspendUpdate",unsuspendUpdate:"unsuspendUpdate",clearTraces:"clearTraces",left:"clickLeftArrow",right:"clickRightArrow",up:"clickUpArrow",down:"clickDownArrow",zoomIn:"zoomIn",zoomOut:"zoomOut",zoom100:"zoom100",zoomElements:"zoomElements",remove:"removeObject",removeObject:"removeObject"}},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Board.prototype,{generateName:function(a){var b,c,d=this.attr.maxnamelength,e="",f="",g=[],h="";if(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TICKS)return"";for(b=__TURBOPACK__default__export__3.isPoint(a)||__TURBOPACK__default__export__3.isPoint3D(a)?["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]:a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE?["","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;"]:["","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],__TURBOPACK__default__export__3.isPoint(a)||__TURBOPACK__default__export__3.isPoint3D(a)||a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE||a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE||(e=a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON?"P_{":a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE?"k_{":a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT?"t_{":"s_{",f="}"),c=0;c<d;c++)g[c]=0;for(;g[d-1]<b.length;){for(g[0]=1;g[0]<b.length;g[0]++){for(h=e,c=d;c>0;c--)h+=b[g[c-1]];if(!__TURBOPACK__default__export__3.exists(this.elementsByName[h+f]))return h+f}for(c=1,g[0]=b.length;c<d;c++)g[c-1]===b.length&&(g[c-1]=1,g[c]+=1)}return""},generateId:function(){for(var a=1;__TURBOPACK__default__export__3.exists(__TURBOPACK__default__export__.boards["jxgBoard"+a]);)a=Math.round(0x1000000*Math.random());return"jxgBoard"+a},setId:function(a,b){var c,d=this.numObjects,e=a.id;if(this.numObjects+=1,""===e||!__TURBOPACK__default__export__3.exists(e))for(e=this.id+b+d;__TURBOPACK__default__export__3.exists(this.objects[e]);)c=Math.round(65535*Math.random()),e=this.id+b+d+"-"+c;return a.id=e,this.objects[e]=a,a._pos=this.objectsList.length,this.objectsList[this.objectsList.length]=a,e},finalizeAdding:function(a){!1===a.evalVisProp("visible")&&this.renderer.display(a,!1)},finalizeLabel:function(a){a.hasLabel&&!a.label.evalVisProp("islabel")&&!1===a.label.evalVisProp("visible")&&this.renderer.display(a.label,!1)},checkFrameRate:function(a){var b=!1,c=new Date().getTime();return __TURBOPACK__default__export__3.exists(a.pointerId)&&this.touchMoveLastId!==a.pointerId&&(b=!0,this.touchMoveLastId=a.pointerId),!b&&(c-this.touchMoveLast)*this.attr.maxframerate>=1e3&&(b=!0),b&&(this.touchMoveLast=c),b},getCoordsTopLeftCorner:function(){var a,b,c,d,e,f=this.document.ownerDocument||this.document,g=f.documentElement||this.document.body.parentNode,h=f.body,i=this.containerObj;if(this.cPos.length>0&&(this.mode===this.BOARD_MODE_DRAG||this.mode===this.BOARD_MODE_MOVE_ORIGIN||new Date().getTime()-this.positionAccessLast<1e3))return this.cPos;if(this.positionAccessLast=new Date().getTime(),i.getBoundingClientRect){for(c=i.getBoundingClientRect(),d=1,e=i;e&&__TURBOPACK__default__export__3.exists(e.parentNode);)__TURBOPACK__default__export__3.exists(e.style)&&__TURBOPACK__default__export__3.exists(e.style.zoom)&&""!==e.style.zoom&&(d*=parseFloat(e.style.zoom)),e=e.parentNode;return a=[c.left*d,c.top*d],a[0]+=__TURBOPACK__default__export__4.getProp(i,"border-left-width"),a[1]+=__TURBOPACK__default__export__4.getProp(i,"border-top-width"),"vml"!==this.renderer.type&&(a[0]+=__TURBOPACK__default__export__4.getProp(i,"padding-left"),a[1]+=__TURBOPACK__default__export__4.getProp(i,"padding-top")),this.cPos=a.slice(),this.cPos}return a=__TURBOPACK__default__export__4.getOffset(i),b=this.document.documentElement.ownerDocument,!this.containerObj.currentStyle&&b.defaultView&&(a[0]+=__TURBOPACK__default__export__4.getProp(g,"margin-left"),a[1]+=__TURBOPACK__default__export__4.getProp(g,"margin-top"),a[0]+=__TURBOPACK__default__export__4.getProp(g,"border-left-width"),a[1]+=__TURBOPACK__default__export__4.getProp(g,"border-top-width"),a[0]+=__TURBOPACK__default__export__4.getProp(g,"padding-left"),a[1]+=__TURBOPACK__default__export__4.getProp(g,"padding-top")),h&&(a[0]+=__TURBOPACK__default__export__4.getProp(h,"left"),a[1]+=__TURBOPACK__default__export__4.getProp(h,"top")),"object"==typeof google&&google.translate&&(a[0]+=10,a[1]+=25),a[0]+=__TURBOPACK__default__export__4.getProp(i,"border-left-width"),a[1]+=__TURBOPACK__default__export__4.getProp(i,"border-top-width"),"vml"!==this.renderer.type&&(a[0]+=__TURBOPACK__default__export__4.getProp(i,"padding-left"),a[1]+=__TURBOPACK__default__export__4.getProp(i,"padding-top")),a[0]+=this.attr.offsetx,a[1]+=this.attr.offsety,this.cPos=a.slice(),this.cPos},getPointLoc:function(a,b){var c,d,e,f;return c=this.getBoundingBox(),2===(d=a).length&&d.unshift(void 0),e=[0,0],f=b||0,__TURBOPACK__default__export__3.isNumber(f)&&(f=[f,f,f,f]),d[1]>c[2]-f[1]&&(e[0]=1),d[1]<c[0]+f[3]&&(e[0]=-1),d[2]>c[1]-f[0]&&(e[1]=1),d[2]<c[3]+f[2]&&(e[1]=-1),e},getLocationOrigin:function(a){return this.getPointLoc([0,0],a)},getMousePosition:function(a,b){var c,d,e=this.getCoordsTopLeftCorner();return c=__TURBOPACK__default__export__4.getPosition(a,b,this.document),this.updateCSSTransforms(),d=[1,c[0]-e[0],c[1]-e[1]],d=__TURBOPACK__default__export__2.matVecMult(this.cssTransMat,d),d[1]/=d[0],d[2]/=d[0],[d[1],d[2]]},initMoveOrigin:function(a,b){this.drag_dx=a-this.origin.scrCoords[1],this.drag_dy=b-this.origin.scrCoords[2],this.mode=this.BOARD_MODE_MOVE_ORIGIN,this.updateQuality=this.BOARD_QUALITY_LOW},initMoveObject:function(a,b,c,d){var e,f,g,h=[],i=[],j=this.objectsList.length,k={visProp:{layer:-1e4}};for(f=0,this._shiftKey=c.shiftKey,this._ctrlKey=c.ctrlKey;f<j;f++)g=(e=this.objectsList[f]).hasPoint&&e.hasPoint(a,b),e.visPropCalc.visible&&g&&(e.triggerEventHandlers([d+"down","down"],[c]),this.downObjects.push(e)),g&&e.isDraggable&&e.visPropCalc.visible&&(this.geonextCompatibilityMode&&(__TURBOPACK__default__export__3.isPoint(e)||e.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!e.evalVisProp("fixed")&&(e.visProp.layer>k.visProp.layer||e.visProp.layer===k.visProp.layer&&e.lastDragTime.getTime()>=k.lastDragTime.getTime())&&(!this.attr.ignorelabels||!__TURBOPACK__default__export__3.exists(k.label)||e!==k.label)&&(k=e,h.push(k),__TURBOPACK__default__export__3.exists(k.coords)?k.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT||k.relativeCoords?i.push(__TURBOPACK__default__export__12.subtract(k.coords.scrCoords.slice(1),[a,b])):i.push(__TURBOPACK__default__export__12.subtract(k.actualCoords.scrCoords.slice(1),[a,b])):i.push([0,0]));return this.attr.drag.enabled&&h.length>0&&(this.mode=this.BOARD_MODE_DRAG),this.attr.takefirst?(h.length=1,this._drag_offset=i[0]):(h=h.slice(-1),this._drag_offset=i[i.length-1]),this._drag_offset||(this._drag_offset=[0,0]),"svg"===this.renderer.type&&__TURBOPACK__default__export__3.exists(h[0])&&h[0].evalVisProp("dragtotopoflayer")&&1===h.length&&__TURBOPACK__default__export__3.exists(h[0].rendNode)&&h[0].rendNode.parentNode.appendChild(h[0].rendNode),h.length>=1&&(h[0].highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[c,h[0]])),h},moveObject:function(a,b,c,d,e){var f,g,h,i=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,this.getScrCoordsOfMouse(a,b),this);c&&c.obj&&((f=c.obj).coords&&(g=f.coords.scrCoords.slice()),this.addLogEntry("drag",f,i.usrCoords.slice(1)),this.drag_position=[i.scrCoords[1],i.scrCoords[2]],this.drag_position=__TURBOPACK__default__export__12.add(this.drag_position,this._drag_offset),this._shiftKey=d.shiftKey,this._ctrlKey=d.ctrlKey,__TURBOPACK__default__export__3.exists(f.coords)?f.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,this.drag_position,[a,b]):(this.displayInfobox(!1),isNaN(c.targets[0].Xprev+c.targets[0].Yprev)||f.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[i.scrCoords[1],i.scrCoords[2]],[c.targets[0].Xprev,c.targets[0].Yprev]),c.targets[0].Xprev=i.scrCoords[1],c.targets[0].Yprev=i.scrCoords[2]),__TURBOPACK__default__export__3.exists(f.coords)&&(f.prepareUpdate().update(!1).updateRenderer(),this.updateInfobox(f),f.prepareUpdate().update(!0).updateRenderer()),f.coords&&(h=f.coords.scrCoords),f.coords&&g[1]===h[1]&&g[2]===h[2]||(f.triggerEventHandlers([e+"drag","drag"],[d]),this.update(f)),f.highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[d,f]),f.lastDragTime=new Date)},twoFingerMove:function(a,b,c){var d;__TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.obj)&&(d=a.obj,d.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE||d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON?this.twoFingerTouchObject(a.targets,d,b):d.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE&&this.twoFingerTouchCircle(a.targets,d,b),c&&d.triggerEventHandlers(["touchdrag","drag"],[c]))},getTwoFingerTransform(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return f=(e=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a.Xprev,a.Yprev],this).usrCoords)[1],g=e[2],h=(e=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[b.Xprev,b.Yprev],this).usrCoords)[1],i=e[2],l=(e=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a.X,a.Y],this).usrCoords)[1],m=e[2],n=(e=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[b.X,b.Y],this).usrCoords)[1],o=e[2],j=h-f,k=i-g,p=n-l,q=o-m,t=j*j+k*k,r=(p*j+q*k)/t,s=(q*j-p*k)/t,c||(w=__TURBOPACK__default__export__2.hypot(r,s),r/=w,s/=w),d||(s=0),u=.5*(l+n-r*(f+h)+s*(g+i)),v=.5*(m+o-s*(f+h)-r*(g+i)),[1,0,0,u,r,-s,v,s,r]},twoFingerTouchObject:function(a,b,c){var d,e,f,g,h,i=!1;if(__TURBOPACK__default__export__3.exists(a[0])&&__TURBOPACK__default__export__3.exists(a[1])&&!isNaN(a[0].Xprev+a[0].Yprev+a[1].Xprev+a[1].Yprev)){if(e=this.getTwoFingerTransform(a[0],a[1],b.evalVisProp("scalable"),b.evalVisProp("rotatable")),(d=this.create("transform",e,{type:"generic"})).update(),b.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)f=[],b.point1.draggable()&&f.push(b.point1),b.point2.draggable()&&f.push(b.point2),d.applyOnce(f);else if(b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON){for(g=0,h=b.vertices.length-1,i=b.evalVisProp("snaptogrid")||b.evalVisProp("snaptopoints");g<h&&!i;++g)i=(i=i||b.vertices[g].evalVisProp("snaptogrid")||b.vertices[g].evalVisProp("snaptopoints"))||!b.vertices[g].draggable();if(!i){for(g=0,f=[];g<h;++g)b.vertices[g].draggable()&&f.push(b.vertices[g]);d.applyOnce(f)}}this.update(),b.highlight(!0)}},twoFingerTouchCircle:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;"pointCircle"!==b.method&&"pointLine"!==b.method&&__TURBOPACK__default__export__3.exists(a[0])&&__TURBOPACK__default__export__3.exists(a[1])&&!isNaN(a[0].Xprev+a[0].Yprev+a[1].Xprev+a[1].Yprev)&&(c===a[0].num?(d=a[1],e=a[0]):(d=a[0],e=a[1]),h=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[d.Xprev,d.Yprev],this).usrCoords,g=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[e.Xprev,e.Yprev],this).usrCoords,f=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[e.X,e.Y],this).usrCoords,j=__TURBOPACK__default__export__14.rad(g.slice(1),h.slice(1),f.slice(1)),k=this.create("transform",[-h[1],-h[2]],{type:"translate"}),l=this.create("transform",[j],{type:"rotate"}),k.melt(l),b.evalVisProp("scalable")&&(i=__TURBOPACK__default__export__14.distance(h,f)/__TURBOPACK__default__export__14.distance(h,g),m=this.create("transform",[i,i],{type:"scale"}),k.melt(m)),n=this.create("transform",[h[1],h[2]],{type:"translate"}),k.melt(n),b.center.draggable()&&k.applyOnce([b.center]),"twoPoints"===b.method?b.point2.draggable()&&k.applyOnce([b.point2]):"pointRadius"===b.method&&__TURBOPACK__default__export__3.isNumber(b.updateRadius.origin)&&b.setRadius(b.radius*i),this.update(b.center),b.highlight(!0))},highlightElements:function(a,b,c,d){var e,f,g,h={},i=this.objectsList.length;for(e=0;e<i;e++)g=(f=this.objectsList[e]).id,__TURBOPACK__default__export__3.exists(f.hasPoint)&&f.visPropCalc.visible&&f.hasPoint(a,b)&&(this.updateInfobox(f),__TURBOPACK__default__export__3.exists(this.highlightedObjects[g])||(h[g]=f,f.highlight(),this.triggerEventHandlers(["mousehit","hit"],[c,f,d])),f.mouseover?f.triggerEventHandlers(["mousemove","move"],[c]):(f.triggerEventHandlers(["mouseover","over"],[c]),f.mouseover=!0));for(e=0;e<i;e++)g=(f=this.objectsList[e]).id,f.mouseover&&!h[g]&&(f.triggerEventHandlers(["mouseout","out"],[c]),f.mouseover=!1)},saveStartPos:function(a,b){var c,d,e=[];if(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TICKS)e.push([1,NaN,NaN]);else if(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)e.push(a.point1.coords.usrCoords),e.push(a.point2.coords.usrCoords);else if(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)e.push(a.center.coords.usrCoords),"twoPoints"===a.method&&e.push(a.point2.coords.usrCoords);else if(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON)for(c=0,d=a.vertices.length-1;c<d;c++)e.push(a.vertices[c].coords.usrCoords);else if(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR)e.push(a.point1.coords.usrCoords),e.push(a.point2.coords.usrCoords),e.push(a.point3.coords.usrCoords);else if(__TURBOPACK__default__export__3.isPoint(a)||a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER)e.push(a.coords.usrCoords);else if(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)a.points.length>0&&e.push(a.points[0].usrCoords);else try{e.push(a.coords.usrCoords)}catch(a){__TURBOPACK__default__export__.debug("JSXGraph+ saveStartPos: obj.coords.usrCoords not available: "+a)}for(c=0,d=e.length;c<d;c++)b.Zstart.push(e[c][0]),b.Xstart.push(e[c][1]),b.Ystart.push(e[c][2])},mouseOriginMoveStart:function(a){var b,c;return(b=this._isRequiredKeyPressed(a,"pan"))&&(c=this.getMousePosition(a),this.initMoveOrigin(c[0],c[1])),b},mouseOriginMove:function(a){var b,c=this.mode===this.BOARD_MODE_MOVE_ORIGIN;return c&&(b=this.getMousePosition(a),this.moveOrigin(b[0],b[1],!0)),c},touchStartMoveOriginOneFinger:function(a){var b,c,d=a.touches;return(b=this.attr.pan.enabled&&!this.attr.pan.needtwofingers&&1===d.length)&&(c=this.getMousePosition(a,0),this.initMoveOrigin(c[0],c[1])),b},touchOriginMove:function(a){var b,c=this.mode===this.BOARD_MODE_MOVE_ORIGIN;return c&&(b=this.getMousePosition(a,0),this.moveOrigin(b[0],b[1],!0)),c},originMoveEnd:function(){this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE},suppressDefault:function(a){return __TURBOPACK__default__export__3.exists(a)&&a.preventDefault(),!1},addEventHandlers:function(){__TURBOPACK__default__export__4.supportsPointerEvents()?this.addPointerEventHandlers():(this.addMouseEventHandlers(),this.addTouchEventHandlers()),null!==this.containerObj&&__TURBOPACK__default__export__4.addEvent(this.containerObj,"contextmenu",this.suppressDefault,this)},removeEventHandlers:function(){(this.hasPointerHandlers||this.hasMouseHandlers||this.hasTouchHandlers)&&null!==this.containerObj&&__TURBOPACK__default__export__4.removeEvent(this.containerObj,"contextmenu",this.suppressDefault,this),this.removeMouseEventHandlers(),this.removeTouchEventHandlers(),this.removePointerEventHandlers(),this.removeFullscreenEventHandlers(),this.removeKeyboardEventHandlers(),this.removeResizeEventHandlers()},addResizeEventHandlers:function(){if(this.resizeHandlers=[],__TURBOPACK__default__export__4.isBrowser){try{this.startResizeObserver(),this.resizeHandlers.push("resizeobserver")}catch(a){__TURBOPACK__default__export__4.addEvent(window,"resize",this.resizeListener,this),this.startIntersectionObserver(),this.resizeHandlers.push("resize")}__TURBOPACK__default__export__4.addEvent(window,"scroll",this.scrollListener,this),this.resizeHandlers.push("scroll");try{window.matchMedia("print").addEventListener("change",this.printListenerMatch.bind(this)),window.matchMedia("screen").addEventListener("change",this.printListenerMatch.bind(this)),this.resizeHandlers.push("print")}catch(a){__TURBOPACK__default__export__.debug("Error adding printListener",a)}}},removeResizeEventHandlers:function(){var a;if(this.resizeHandlers.length>0&&__TURBOPACK__default__export__4.isBrowser){for(a=0;a<this.resizeHandlers.length;a++)switch(this.resizeHandlers[a]){case"resizeobserver":__TURBOPACK__default__export__3.exists(this.resizeObserver)&&this.stopResizeObserver();break;case"resize":__TURBOPACK__default__export__4.removeEvent(window,"resize",this.resizeListener,this),__TURBOPACK__default__export__3.exists(this.intersectionObserver)&&this.stopIntersectionObserver();break;case"scroll":__TURBOPACK__default__export__4.removeEvent(window,"scroll",this.scrollListener,this);break;case"print":window.matchMedia("print").removeEventListener("change",this.printListenerMatch.bind(this),!1),window.matchMedia("screen").removeEventListener("change",this.printListenerMatch.bind(this),!1)}this.resizeHandlers=[]}},addPointerEventHandlers:function(){if(!this.hasPointerHandlers&&__TURBOPACK__default__export__4.isBrowser){var a=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(__TURBOPACK__default__export__4.addEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),__TURBOPACK__default__export__4.addEvent(a,"MSPointerMove",this.pointerMoveListener,this)):(__TURBOPACK__default__export__4.addEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),__TURBOPACK__default__export__4.addEvent(a,"pointermove",this.pointerMoveListener,this),__TURBOPACK__default__export__4.addEvent(a,"pointerleave",this.pointerLeaveListener,this),__TURBOPACK__default__export__4.addEvent(a,"click",this.pointerClickListener,this),__TURBOPACK__default__export__4.addEvent(a,"dblclick",this.pointerDblClickListener,this)),null!==this.containerObj&&(this.containerObj.style.touchAction="none"),this.hasPointerHandlers=!0}},addMouseEventHandlers:function(){if(!this.hasMouseHandlers&&__TURBOPACK__default__export__4.isBrowser){var a=this.attr.movetarget||this.containerObj;__TURBOPACK__default__export__4.addEvent(this.containerObj,"mousedown",this.mouseDownListener,this),__TURBOPACK__default__export__4.addEvent(a,"mousemove",this.mouseMoveListener,this),__TURBOPACK__default__export__4.addEvent(a,"click",this.mouseClickListener,this),__TURBOPACK__default__export__4.addEvent(a,"dblclick",this.mouseDblClickListener,this),this.hasMouseHandlers=!0}},addTouchEventHandlers:function(a){if(!this.hasTouchHandlers&&__TURBOPACK__default__export__4.isBrowser){var b=this.attr.movetarget||this.containerObj;__TURBOPACK__default__export__4.addEvent(this.containerObj,"touchstart",this.touchStartListener,this),__TURBOPACK__default__export__4.addEvent(b,"touchmove",this.touchMoveListener,this),this.hasTouchHandlers=!0}},addWheelEventHandlers:function(){!this.hasWheelHandlers&&__TURBOPACK__default__export__4.isBrowser&&(__TURBOPACK__default__export__4.addEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),__TURBOPACK__default__export__4.addEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasWheelHandlers=!0)},addFullscreenEventHandlers:function(){var a,b=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],c=b.length;if(!this.hasFullscreenEventHandlers&&__TURBOPACK__default__export__4.isBrowser){for(a=0;a<c;a++)__TURBOPACK__default__export__4.addEvent(this.document,b[a],this.fullscreenListener,this);this.hasFullscreenEventHandlers=!0}},addKeyboardEventHandlers:function(){this.attr.keyboard.enabled&&!this.hasKeyboardHandlers&&__TURBOPACK__default__export__4.isBrowser&&(__TURBOPACK__default__export__4.addEvent(this.containerObj,"keydown",this.keyDownListener,this),__TURBOPACK__default__export__4.addEvent(this.containerObj,"focusin",this.keyFocusInListener,this),__TURBOPACK__default__export__4.addEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!0)},removeKeyboardEventHandlers:function(){this.hasKeyboardHandlers&&__TURBOPACK__default__export__4.isBrowser&&(__TURBOPACK__default__export__4.removeEvent(this.containerObj,"keydown",this.keyDownListener,this),__TURBOPACK__default__export__4.removeEvent(this.containerObj,"focusin",this.keyFocusInListener,this),__TURBOPACK__default__export__4.removeEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!1)},removeFullscreenEventHandlers:function(){var a,b=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],c=b.length;if(this.hasFullscreenEventHandlers&&__TURBOPACK__default__export__4.isBrowser){for(a=0;a<c;a++)__TURBOPACK__default__export__4.removeEvent(this.document,b[a],this.fullscreenListener,this);this.hasFullscreenEventHandlers=!1}},removePointerEventHandlers:function(){if(this.hasPointerHandlers&&__TURBOPACK__default__export__4.isBrowser){var a=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(__TURBOPACK__default__export__4.removeEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),__TURBOPACK__default__export__4.removeEvent(a,"MSPointerMove",this.pointerMoveListener,this)):(__TURBOPACK__default__export__4.removeEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),__TURBOPACK__default__export__4.removeEvent(a,"pointermove",this.pointerMoveListener,this),__TURBOPACK__default__export__4.removeEvent(a,"pointerleave",this.pointerLeaveListener,this),__TURBOPACK__default__export__4.removeEvent(a,"click",this.pointerClickListener,this),__TURBOPACK__default__export__4.removeEvent(a,"dblclick",this.pointerDblClickListener,this)),this.hasWheelHandlers&&(__TURBOPACK__default__export__4.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),__TURBOPACK__default__export__4.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this)),this.hasPointerUp&&(window.navigator.msPointerEnabled?__TURBOPACK__default__export__4.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(__TURBOPACK__default__export__4.removeEvent(this.document,"pointerup",this.pointerUpListener,this),__TURBOPACK__default__export__4.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this.hasPointerHandlers=!1}},removeMouseEventHandlers:function(){if(this.hasMouseHandlers&&__TURBOPACK__default__export__4.isBrowser){var a=this.attr.movetarget||this.containerObj;__TURBOPACK__default__export__4.removeEvent(this.containerObj,"mousedown",this.mouseDownListener,this),__TURBOPACK__default__export__4.removeEvent(a,"mousemove",this.mouseMoveListener,this),__TURBOPACK__default__export__4.removeEvent(a,"click",this.mouseClickListener,this),__TURBOPACK__default__export__4.removeEvent(a,"dblclick",this.mouseDblClickListener,this),this.hasMouseUp&&(__TURBOPACK__default__export__4.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),this.hasWheelHandlers&&(__TURBOPACK__default__export__4.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),__TURBOPACK__default__export__4.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this)),this.hasMouseHandlers=!1}},removeTouchEventHandlers:function(){if(this.hasTouchHandlers&&__TURBOPACK__default__export__4.isBrowser){var a=this.attr.movetarget||this.containerObj;__TURBOPACK__default__export__4.removeEvent(this.containerObj,"touchstart",this.touchStartListener,this),__TURBOPACK__default__export__4.removeEvent(a,"touchmove",this.touchMoveListener,this),this.hasTouchEnd&&(__TURBOPACK__default__export__4.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.hasTouchHandlers=!1}},clickLeftArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]+.1*this.canvasWidth,this.origin.scrCoords[2]),this},clickRightArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]-.1*this.canvasWidth,this.origin.scrCoords[2]),this},clickUpArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]-.1*this.canvasHeight),this},clickDownArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]+.1*this.canvasHeight),this},gestureChangeListener:function(a){var b,c,d,e,f,g,h,i,j,k,l=[],m=[],n=10,o=!1,p=this.attr.zoom.factorx,q=this.attr.zoom.factory,r=!1;return this.mode!==this.BOARD_MODE_ZOOM||(a.preventDefault(),e=__TURBOPACK__default__export__14.distance([a.touches[0].clientX,a.touches[0].clientY],[a.touches[1].clientX,a.touches[1].clientY],2),void 0===a.scale&&(a.scale=e/this.prevDist),!!__TURBOPACK__default__export__3.exists(this.prevCoords)&&(l=[a.touches[0].clientX-this.prevCoords[0][0],a.touches[0].clientY-this.prevCoords[0][1]],m=[a.touches[1].clientX-this.prevCoords[1][0],a.touches[1].clientY-this.prevCoords[1][1]],(!(l[0]*l[0]+l[1]*l[1]<n*n)||!(m[0]*m[0]+m[1]*m[1]<n*n))&&(c=__TURBOPACK__default__export__14.rad(l,[0,0],m),"pan"!==this.isPreviousGesture&&Math.abs(c)>.2*Math.PI&&Math.abs(c)<1.8*Math.PI&&(o=!0),"pan"!==this.isPreviousGesture&&!o&&(.77>Math.abs(a.scale)||Math.abs(a.scale)>1.3)&&(o=!0),d=a.scale/this.prevScale,this.prevScale=a.scale,this.prevCoords=[[a.touches[0].clientX,a.touches[0].clientY],[a.touches[1].clientX,a.touches[1].clientY]],b=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,this.getMousePosition(a,0),this),this.attr.pan.enabled&&this.attr.pan.needtwofingers&&!o?(this.isPreviousGesture="pan",this.moveOrigin(b.scrCoords[1],b.scrCoords[2],!0)):this.attr.zoom.enabled&&.5>Math.abs(d-1)&&(r=!1,h=this.attr.zoom.center,(this.attr.zoom.pinchhorizontal||this.attr.zoom.pinchvertical)&&(i=Math.abs(a.touches[0].clientX-a.touches[1].clientX),f=Math.abs(Math.atan2(Math.abs(a.touches[0].clientY-a.touches[1].clientY),i)),g=Math.PI*this.attr.zoom.pinchsensitivity/90),!this.keepaspectratio&&this.attr.zoom.pinchhorizontal&&f<g?(this.attr.zoom.factorx=d,this.attr.zoom.factory=1,j=0,k=0,r=!0):!this.keepaspectratio&&this.attr.zoom.pinchvertical&&Math.abs(f-.5*Math.PI)<g?(this.attr.zoom.factorx=1,this.attr.zoom.factory=d,j=0,k=0,r=!0):this.attr.zoom.pinch&&(this.attr.zoom.factorx=d,this.attr.zoom.factory=d,j=b.usrCoords[1],k=b.usrCoords[2],r=!0),r&&("board"===h?this.zoomIn():this.zoomIn(j,k),this.attr.zoom.factorx=p,this.attr.zoom.factory=q)),!1)))},gestureStartListener:function(a){var b;return a.preventDefault(),this.prevScale=1,this.prevDist=__TURBOPACK__default__export__14.distance([a.touches[0].clientX,a.touches[0].clientY],[a.touches[1].clientX,a.touches[1].clientY],2),this.prevCoords=[[a.touches[0].clientX,a.touches[0].clientY],[a.touches[1].clientX,a.touches[1].clientY]],this.isPreviousGesture="none",b=this.getMousePosition(a,0),this.initMoveOrigin(b[0],b[1]),this.mode=this.BOARD_MODE_ZOOM,!1},_isRequiredKeyPressed:function(a,b){var c=this.attr[b];return!!c.enabled&&(!!c.needshift&&!!a.shiftKey||!c.needshift&&!a.shiftKey)&&(!!c.needctrl&&!!a.ctrlKey||!c.needctrl&&!a.ctrlKey)},_isPointerRegistered:function(a){var b,c=this._board_touches.length;for(b=0;b<c;b++)if(this._board_touches[b].pointerId===a.pointerId)return!0;return!1},_pointerStorePosition:function(a){var b,c;for(b=0,c=!1;b<this._board_touches.length;b++)if(this._board_touches[b].pointerId===a.pointerId){this._board_touches[b].clientX=a.clientX,this._board_touches[b].clientY=a.clientY,c=!0;break}return!c&&this._board_touches.length<2&&this._board_touches.push({pointerId:a.pointerId,clientX:a.clientX,clientY:a.clientY}),this},_pointerRemoveTouches:function(a){var b;for(b=0;b<this._board_touches.length;b++)if(this._board_touches[b].pointerId===a.pointerId){this._board_touches.splice(b,1);break}return this},_pointerClearTouches:function(a){this._board_touches.length>0&&this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE,this._board_touches=[],this.touches=[]},_getPointerInputDevice:function(a){if(__TURBOPACK__default__export__4.isBrowser){if("touch"===a.pointerType||window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>1)return"touch";if("mouse"===a.pointerType)return"mouse";if("pen"===a.pointerType)return"pen"}return"mouse"},pointerDownListener:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n="mouse";if(!b&&this._isPointerRegistered(a))return!1;if(null===__TURBOPACK__default__export__3.evaluate(this.attr.movetarget)&&__TURBOPACK__default__export__3.exists(a.target)&&__TURBOPACK__default__export__3.exists(a.target.releasePointerCapture)&&a.target.releasePointerCapture(a.pointerId),b||a.isPrimary,this.hasPointerUp||(window.navigator.msPointerEnabled?__TURBOPACK__default__export__4.addEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(__TURBOPACK__default__export__4.addEvent(this.document,"pointerup",this.pointerUpListener,this),__TURBOPACK__default__export__4.addEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!0),this.hasMouseHandlers&&this.removeMouseEventHandlers(),this.hasTouchHandlers&&this.removeTouchEventHandlers(),this.document.selection&&__TURBOPACK__default__export__3.isFunction(this.document.selection.empty))this.document.selection.empty();else if(window.getSelection&&(i=window.getSelection()).removeAllRanges)try{i.removeAllRanges()}catch(a){}if(this._inputDevice=this._getPointerInputDevice(a),n=this._inputDevice,this.options.precision.hasPoint=this.options.precision[n],g=this.getMousePosition(a),this._testForSelection(a),this.selectingMode){this._startSelecting(g),this.triggerEventHandlers(["touchstartselecting","pointerstartselecting","startselecting"],[a]);return}if(this.attr.drag.enabled&&b?(h=[b],this.mode=this.BOARD_MODE_DRAG):h=this.initMoveObject(g[0],g[1],a,n),j={num:a.pointerId,X:g[0],Y:g[1],Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},h.length>0){for(d=0,l=h[h.length-1],k=!1;d<this.touches.length;d++)if(this.touches[d].obj===l){e=d,f=this.touches[d].targets.push(j)-1,k=!0;break}k||(f=0,e=this.touches.push({obj:l,targets:[j]})-1),this.dehighlightAll(),l.highlight(!0),this.saveStartPos(l,this.touches[e].targets[f]),a&&a.preventDefault&&!c&&a.preventDefault()}return this.touches.length>0&&!c&&(a.preventDefault(),a.stopPropagation()),!!__TURBOPACK__default__export__4.isBrowser&&("touch"!==this._getPointerInputDevice(a)?this.mode===this.BOARD_MODE_NONE&&this.mouseOriginMoveStart(a):(this._pointerStorePosition(a),a.touches=this._board_touches,1===a.touches.length&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(a)||2===a.touches.length&&(this.mode===this.BOARD_MODE_NONE||this.mode===this.BOARD_MODE_MOVE_ORIGIN)&&(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(a))),m="none",this.mode===this.BOARD_MODE_NONE&&(!0===__TURBOPACK__default__export__3.evaluate(this.attr.browserpan)||!0===__TURBOPACK__default__export__3.evaluate(this.attr.browserpan.enabled))&&(!1===__TURBOPACK__default__export__3.evaluate(this.attr.pan.enabled)||!0===__TURBOPACK__default__export__3.evaluate(this.attr.pan.needtwofingers))&&(m="auto"),this.containerObj.style.touchAction=m,this.triggerEventHandlers(["touchstart","down","pointerdown","MSPointerDown"],[a]),!0)},_handleClicks:function(a,b){var c,d,e=this;if(this.selectingMode)return void a.stopPropagation();if(d=__TURBOPACK__default__export__3.evaluate(this.attr.clickdelay),__TURBOPACK__default__export__3.evaluate(this.attr.dblclicksuppressclick))this._preventSingleClick=!1,this._singleClickTimer=setTimeout(function(){if(!e._preventSingleClick)for(c in e.triggerEventHandlers(b,[a]),e.clickObjects)e.clickObjects.hasOwnProperty(c)&&(e.clickObjects[c].triggerEventHandlers(b,[a]),delete e.clickObjects[c])},d);else{for(c in e.triggerEventHandlers(b,[a]),e.clickObjects)e.clickObjects.hasOwnProperty(c)&&e.clickObjects[c].triggerEventHandlers(b,[a]);setTimeout(function(){for(c in e.clickObjects)e.clickObjects.hasOwnProperty(c)&&delete e.clickObjects[c]},d)}a.stopPropagation()},_handleDblClicks:function(a,b){var c;if(this.selectingMode)return void a.stopPropagation();for(c in this._preventSingleClick=!0,clearTimeout(this._singleClickTimer),this.triggerEventHandlers(b,[a]),this.clickObjects)this.clickObjects.hasOwnProperty(c)&&(this.clickObjects[c].triggerEventHandlers(b,[a]),delete this.clickObjects[c]);a.stopPropagation()},pointerClickListener:function(a){this._handleClicks(a,["click","pointerclick"])},pointerDblClickListener:function(a){this._handleDblClicks(a,["dblclick","pointerdblclick"])},mouseClickListener:function(a){this._handleClicks(a,["click","mouseclick"])},mouseDblClickListener:function(a){this._handleDblClicks(a,["dblclick","mousedblclick"])},pointerMoveListener:function(a){var b,c,d,e,f,g="mouse";if("touch"===this._getPointerInputDevice(a)&&!this._isPointerRegistered(a))return this.BOARD_MODE_NONE;if(!this.checkFrameRate(a))return!1;if(this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.mode!==this.BOARD_MODE_NONE&&(a.preventDefault(),a.stopPropagation()),this.updateQuality=this.BOARD_QUALITY_LOW,this._inputDevice=this._getPointerInputDevice(a),g=this._inputDevice,this.options.precision.hasPoint=this.options.precision[g],e=.3333*this.options.precision.hasPoint,d=this.getMousePosition(a),null===__TURBOPACK__default__export__3.evaluate(this.attr.movetarget)&&d[0]<=e||d[1]<=e||d[0]>=this.canvasWidth-e||d[1]>=this.canvasHeight-e)return this.mode===this.BOARD_MODE_NONE;if(this.selectingMode)this._moveSelecting(d),this.triggerEventHandlers(["touchmoveselecting","moveselecting","pointermoveselecting"],[a,this.mode]);else if(!this.mouseOriginMove(a))if(this.mode===this.BOARD_MODE_DRAG){for(b=0;b<this.touches.length;b++)for(c=0,f=this.touches[b].targets;c<f.length;c++)if(f[c].num===a.pointerId){f[c].X=d[0],f[c].Y=d[1],1===f.length?this.moveObject(d[0],d[1],this.touches[b],a,g):2===f.length&&(this.twoFingerMove(this.touches[b],a.pointerId,a),f[c].Xprev=d[0],f[c].Yprev=d[1]);break}}else"touch"===this._getPointerInputDevice(a)&&(this._pointerStorePosition(a),2===this._board_touches.length&&(a.touches=this._board_touches,this.gestureChangeListener(a))),this.highlightElements(d[0],d[1],a,-1);return this.triggerEventHandlers(["pointermove","MSPointerMove","move"],[a,this.mode]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},pointerUpListener:function(a){var b,c,d,e,f,g=!1;if(this.triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[a]),this.displayInfobox(!1),a){for(b=0;b<this.touches.length;b++)for(c=0,f=this.touches[b].targets;c<f.length;c++)if(f[c].num===a.pointerId){f.splice(c,1),0===f.length&&this.touches.splice(b,1);break}}if(this.originMoveEnd(),this.update(),this.selectingMode)this._stopSelecting(a),this.triggerEventHandlers(["touchstopselecting","pointerstopselecting","stopselecting"],[a]),this.stopSelectionMode();else for(b=this.downObjects.length-1;b>-1;b--){for(c=0,d=!1;c<this.touches.length;c++)this.touches[c].obj.id===this.downObjects[b].id&&(d=!0);d||(this.downObjects[b].triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[a]),__TURBOPACK__default__export__3.exists(this.downObjects[b].coords)||(this.downObjects[b].snapToGrid(),this.downObjects[b].snapToPoints(),g=!0),e=this.downObjects[b].eventHandlers,(__TURBOPACK__default__export__3.exists(e.click)&&e.click.length>0||__TURBOPACK__default__export__3.exists(e.pointerclick)&&e.pointerclick.length>0||__TURBOPACK__default__export__3.exists(e.dblclick)&&e.dblclick.length>0||__TURBOPACK__default__export__3.exists(e.pointerdblclick)&&e.pointerdblclick.length>0)&&(this.clickObjects[this.downObjects[b].id]=this.downObjects[b]),this.downObjects.splice(b,1))}return this.hasPointerUp&&(window.navigator.msPointerEnabled?__TURBOPACK__default__export__4.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(__TURBOPACK__default__export__4.removeEvent(this.document,"pointerup",this.pointerUpListener,this),__TURBOPACK__default__export__4.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this._pointerClearTouches(a.pointerId),"touch"!==this._getPointerInputDevice(a)&&this.dehighlightAll(),g&&this.update(),!0},pointerLeaveListener:function(a){return this.displayInfobox(!1),this.dehighlightAll(),!0},touchStartListener:function(a){var b,c,d,e,f,g,h,i,j,k,l=this.options.precision.touch,m=a.touches;for(this.hasTouchEnd||(__TURBOPACK__default__export__4.addEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!0),this.document.selection&&__TURBOPACK__default__export__3.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,b=0;b<m.length;b++)m[b].jxg_isused=!1;for(b=0;b<this.touches.length;b++)for(c=0,k=this.touches[b].targets;c<k.length;c++){k[c].num=-1,l=this.options.precision.touch;do{for(d=0;d<m.length;d++)if(Math.abs(Math.pow(m[d].screenX-k[c].X,2)+Math.pow(m[d].screenY-k[c].Y,2))<l*l){k[c].num=d,k[c].X=m[d].screenX,k[c].Y=m[d].screenY,m[d].jxg_isused=!0;break}l*=2}while(-1===k[c].num&&l<this.options.precision.touchMax)-1===k[c].num&&(__TURBOPACK__default__export__.debug("i couldn't find a targettouches for target no "+c+" on "+this.touches[b].obj.name+" ("+this.touches[b].obj.id+"). Removed the target."),__TURBOPACK__default__export__.debug("eps = "+l+", touchMax = "+__TURBOPACK__default__export__25.precision.touchMax),k.splice(b,1))}for(b=0;b<m.length;b++)if(!m[b].jxg_isused){if(e=this.getMousePosition(a,b),this.selectingMode)return this._startSelecting(e),this.triggerEventHandlers(["touchstartselecting","startselecting"],[a]),a.preventDefault(),a.stopPropagation(),this.options.precision.hasPoint=this.options.precision.mouse,this.touches.length>0;if(0!==(f=this.initMoveObject(e[0],e[1],a,"touch")).length){if(g=f[f.length-1],j={num:b,X:m[b].screenX,Y:m[b].screenY,Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},__TURBOPACK__default__export__3.isPoint(g)||g.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT||g.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TICKS||g.type===__TURBOPACK__default__export__1.OBJECT_TYPE_IMAGE)i=[j],this.saveStartPos(g,i[0]),this.touches.push({obj:g,targets:i}),g.highlight(!0);else if(g.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE||g.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE||g.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE||g.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON){for(c=0,h=!1;c<this.touches.length;c++)g.id===this.touches[c].obj.id&&(h=!0,1===this.touches[c].targets.length&&(this.saveStartPos(g,j),this.touches[c].targets.push(j)),m[b].jxg_isused=!0);h||(i=[j],this.saveStartPos(g,i[0]),this.touches.push({obj:g,targets:i}),g.highlight(!0))}}m[b].jxg_isused=!0}return this.touches.length>0&&(a.preventDefault(),a.stopPropagation()),1===m.length&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(a)||2===m.length&&(this.mode===this.BOARD_MODE_NONE||this.mode===this.BOARD_MODE_MOVE_ORIGIN)&&(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(a)),this.options.precision.hasPoint=this.options.precision.mouse,this.triggerEventHandlers(["touchstart","down"],[a]),!1},touchMoveListener:function(a){var b,c,d,e,f=a.touches;if(!this.checkFrameRate(a))return!1;if(this.mode!==this.BOARD_MODE_NONE&&(a.preventDefault(),a.stopPropagation()),this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,this.updateQuality=this.BOARD_QUALITY_LOW,this.selectingMode){for(b=0;b<f.length;b++)if(!f[b].jxg_isused){c=this.getMousePosition(a,b),this._moveSelecting(c),this.triggerEventHandlers(["touchmoves","moveselecting"],[a,this.mode]);break}}else if(!this.touchOriginMove(a))if(this.mode===this.BOARD_MODE_DRAG){for(b=0;b<this.touches.length;b++)if(1===(e=this.touches[b].targets).length){if(f[e[0].num]){if((c=this.getMousePosition(a,e[0].num))[0]<0||c[0]>this.canvasWidth||c[1]<0||c[1]>this.canvasHeight)return;e[0].X=c[0],e[0].Y=c[1],this.moveObject(c[0],c[1],this.touches[b],a,"touch")}}else if(2===e.length&&e[0].num>-1&&e[1].num>-1&&f[e[0].num]&&f[e[1].num]){if(c=this.getMousePosition(a,e[0].num),d=this.getMousePosition(a,e[1].num),c[0]<0||c[0]>this.canvasWidth||c[1]<0||c[1]>this.canvasHeight||d[0]<0||d[0]>this.canvasWidth||d[1]<0||d[1]>this.canvasHeight)return;e[0].X=c[0],e[0].Y=c[1],e[1].X=d[0],e[1].Y=d[1],this.twoFingerMove(this.touches[b],e[0].num,a),e[0].Xprev=c[0],e[0].Yprev=c[1],e[1].Xprev=d[0],e[1].Yprev=d[1]}}else 2===f.length&&this.gestureChangeListener(a),c=this.getMousePosition(a,0),this.highlightElements(c[0],c[1],a,-1);return this.mode!==this.BOARD_MODE_DRAG&&this.displayInfobox(!1),this.triggerEventHandlers(["touchmove","move"],[a,this.mode]),this.options.precision.hasPoint=this.options.precision.mouse,this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},touchEndListener:function(a){var b,c,d,e,f,g,h=this.options.precision.touch,i=[],j=a&&a.touches,k=!1;if(this.triggerEventHandlers(["touchend","up"],[a]),this.displayInfobox(!1),this.selectingMode)this._stopSelecting(a),this.triggerEventHandlers(["touchstopselecting","stopselecting"],[a]),this.stopSelectionMode();else if(j&&j.length>0){for(b=0;b<this.touches.length;b++)i[b]=this.touches[b];for(b=0,this.touches.length=0;b<j.length;b++)j[b].jxg_isused=!1;for(b=0;b<i.length;b++){for(c=0,e=!1,f=0,g=i[b].targets;c<g.length;c++)for(d=0,g[c].found=!1;d<j.length;d++)if(Math.abs(Math.pow(j[d].screenX-g[c].X,2)+Math.pow(j[d].screenY-g[c].Y,2))<h*h){g[c].found=!0,g[c].num=d,g[c].X=j[d].screenX,g[c].Y=j[d].screenY,f+=1;break}if(__TURBOPACK__default__export__3.isPoint(i[b].obj)?e=g[0]&&g[0].found:i[b].obj.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?e=g[0]&&g[0].found||g[1]&&g[1].found:i[b].obj.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE&&(e=1===f||3===f),e)for(this.touches.push({obj:i[b].obj,targets:[]}),c=0;c<g.length;c++)g[c].found&&this.touches[this.touches.length-1].targets.push({num:g[c].num,X:g[c].screenX,Y:g[c].screenY,Xprev:NaN,Yprev:NaN,Xstart:g[c].Xstart,Ystart:g[c].Ystart,Zstart:g[c].Zstart});else i[b].obj.noHighlight()}}else this.touches.length=0;for(b=this.downObjects.length-1;b>-1;b--){for(c=0,e=!1;c<this.touches.length;c++)this.touches[c].obj.id===this.downObjects[b].id&&(e=!0);e||(this.downObjects[b].triggerEventHandlers(["touchup","up"],[a]),__TURBOPACK__default__export__3.exists(this.downObjects[b].coords)||(this.downObjects[b].snapToGrid(),this.downObjects[b].snapToPoints(),k=!0),this.downObjects.splice(b,1))}return(!j||0===j.length)&&(this.hasTouchEnd&&(__TURBOPACK__default__export__4.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.originMoveEnd(),k&&this.update()),!0},mouseDownListener:function(a){var b,c,d;if(this.document.selection&&__TURBOPACK__default__export__3.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),!this.hasMouseUp){if(__TURBOPACK__default__export__4.addEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!0,this._inputDevice="mouse",this.options.precision.hasPoint=this.options.precision.mouse,b=this.getMousePosition(a),this._testForSelection(a),this.selectingMode){this._startSelecting(b),this.triggerEventHandlers(["mousestartselecting","startselecting"],[a]);return}return 0===(c=this.initMoveObject(b[0],b[1],a,"mouse")).length?(this.mode=this.BOARD_MODE_NONE,d=!0):(this.mouse={obj:null,targets:[{X:b[0],Y:b[1],Xprev:NaN,Yprev:NaN}]},this.mouse.obj=c[c.length-1],this.dehighlightAll(),this.mouse.obj.highlight(!0),this.mouse.targets[0].Xstart=[],this.mouse.targets[0].Ystart=[],this.mouse.targets[0].Zstart=[],this.saveStartPos(this.mouse.obj,this.mouse.targets[0]),a&&a.preventDefault?a.preventDefault():window.event&&(window.event.returnValue=!1)),this.mode===this.BOARD_MODE_NONE&&(d=this.mouseOriginMoveStart(a)),this.triggerEventHandlers(["mousedown","down"],[a]),d}},mouseMoveListener:function(a){var b;if(!this.checkFrameRate(a))return!1;b=this.getMousePosition(a),this.updateQuality=this.BOARD_QUALITY_LOW,this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.selectingMode?(this._moveSelecting(b),this.triggerEventHandlers(["mousemoveselecting","moveselecting"],[a,this.mode])):this.mouseOriginMove(a)||(this.mode===this.BOARD_MODE_DRAG?this.moveObject(b[0],b[1],this.mouse,a,"mouse"):this.highlightElements(b[0],b[1],a,-1),this.triggerEventHandlers(["mousemove","move"],[a,this.mode])),this.updateQuality=this.BOARD_QUALITY_HIGH},mouseUpListener:function(a){var b;if(!1===this.selectingMode&&this.triggerEventHandlers(["mouseup","up"],[a]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mouse&&this.mouse.obj&&!__TURBOPACK__default__export__3.exists(this.mouse.obj.coords)&&(this.mouse.obj.snapToGrid(this.mouse.targets[0]),this.mouse.obj.snapToPoints()),this.originMoveEnd(),this.dehighlightAll(),this.update(),this.selectingMode)this._stopSelecting(a),this.triggerEventHandlers(["mousestopselecting","stopselecting"],[a]),this.stopSelectionMode();else for(b=0;b<this.downObjects.length;b++)this.downObjects[b].triggerEventHandlers(["mouseup","up"],[a]);this.downObjects.length=0,this.hasMouseUp&&(__TURBOPACK__default__export__4.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),this.mouse=null},mouseWheelListener:function(a){var b,c;return!(this.attr.zoom.enabled&&this.attr.zoom.wheel&&this._isRequiredKeyPressed(a,"zoom"))||(b=(a=a||window.event).detail?-a.detail:a.wheelDelta/40,c="board"===this.attr.zoom.center?[]:new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,this.getMousePosition(a),this).usrCoords,b>0?this.zoomIn(c[1],c[2]):this.zoomOut(c[1],c[2]),this.triggerEventHandlers(["mousewheel"],[a]),a.preventDefault(),!1)},keyDownListener:function(a){var b,c,d,e,f,g,h=a.target.id,i=0,j=0,k=__TURBOPACK__default__export__3.evaluate(this.attr.keyboard.dx)/this.unitX,l=__TURBOPACK__default__export__3.evaluate(this.attr.keyboard.dy)/this.unitY,m=!1,n=!0;return!!this.attr.keyboard.enabled&&""!==h&&(!(e=this.containerObj.shadowRoot||document).activeElement||"INPUT"!==(c=e.activeElement).tagName&&"textarea"!==c.tagName)&&(b=h.replace(this.containerObj.id+"_",""),c=this.select(b),__TURBOPACK__default__export__3.exists(c.coords)&&(g=c.coords.usrCoords.slice(1)),__TURBOPACK__default__export__3.evaluate(this.attr.keyboard.panshift)&&a.shiftKey||__TURBOPACK__default__export__3.evaluate(this.attr.keyboard.panctrl)&&a.ctrlKey?(!0===__TURBOPACK__default__export__3.evaluate(this.attr.zoom.enabled)&&(m=!0),38===a.keyCode?this.clickUpArrow():40===a.keyCode?this.clickDownArrow():37===a.keyCode?this.clickLeftArrow():39===a.keyCode?this.clickRightArrow():m&&171===a.keyCode?this.zoomIn():m&&173===a.keyCode?this.zoomOut():m&&79===a.keyCode?this.zoom100():n=!1):!a.shiftKey&&!a.ctrlKey&&(__TURBOPACK__default__export__3.exists(c.visProp)&&(__TURBOPACK__default__export__3.exists(c.visProp.snaptogrid)&&c.visProp.snaptogrid&&c.evalVisProp("snapsizex")&&c.evalVisProp("snapsizey")?(i=(d=c.getSnapSizes())[0],j=d[1],k=i,l=j):__TURBOPACK__default__export__3.exists(c.visProp.attracttogrid)&&c.visProp.attracttogrid&&c.evalVisProp("attractordistance")&&c.evalVisProp("attractorunit")&&(j=i=1.1*c.evalVisProp("attractordistance"),"screen"===c.evalVisProp("attractorunit")&&(i/=this.unitX,j/=this.unitX),k=Math.max(i,k),l=Math.max(j,l))),38===a.keyCode?f=[0,l]:40===a.keyCode?f=[0,-l]:37===a.keyCode?f=[-k,0]:39===a.keyCode?f=[k,0]:n=!1,f&&c.isDraggable&&c.visPropCalc.visible&&(this.geonextCompatibilityMode&&(__TURBOPACK__default__export__3.isPoint(c)||c.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!c.evalVisProp("fixed")&&(this.mode=this.BOARD_MODE_DRAG,__TURBOPACK__default__export__3.exists(c.coords)&&(f[0]+=g[0],f[1]+=g[1]),__TURBOPACK__default__export__3.exists(c.coords)?(c.setPosition(__TURBOPACK__default__export__.COORDS_BY_USER,f),this.updateInfobox(c)):(this.displayInfobox(!1),c.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,f,[0,0])),this.triggerEventHandlers(["keymove","move"],[a,this.mode]),c.triggerEventHandlers(["keydrag","drag"],[a]),this.mode=this.BOARD_MODE_NONE)),this.update(),n&&__TURBOPACK__default__export__3.exists(a.preventDefault)&&a.preventDefault(),n)},keyFocusInListener:function(a){var b,c,d=a.target.id;if(!this.attr.keyboard.enabled||""===d)return!1;b=d.replace(this.containerObj.id+"_",""),c=this.select(b),__TURBOPACK__default__export__3.exists(c.highlight)&&(c.highlight(!0),this.focusObjects=[b],c.triggerEventHandlers(["hit"],[a])),__TURBOPACK__default__export__3.exists(c.coords)&&this.updateInfobox(c)},keyFocusOutListener:function(a){if(!this.attr.keyboard.enabled)return!1;this.focusObjects=[],this.dehighlightAll(),this.displayInfobox(!1)},updateContainerDims:function(a,b){var c,d,e,f=a,g=b;return void 0===a&&(f=this.containerObj.offsetWidth,g=this.containerObj.offsetHeight),void 0===a&&window&&window.getComputedStyle&&(isNaN(d=parseFloat((c=window.getComputedStyle(this.containerObj,null)).getPropertyValue("border-left-width"))+parseFloat(c.getPropertyValue("border-right-width")))||(f-=d),isNaN(e=parseFloat(c.getPropertyValue("border-top-width"))+parseFloat(c.getPropertyValue("border-bottom-width")))||(g-=e)),f<=0||g<=0||isNaN(f)||isNaN(g)||(isNaN(this.getBoundingBox()[0])&&this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"keep"),__TURBOPACK__default__export__3.exists(this._prevDim)&&this._prevDim.w===f&&this._prevDim.h===g||(this.resizeContainer(f,g,!0),this._prevDim={w:f,h:g})),this},startResizeObserver:function(){var a=this;__TURBOPACK__default__export__4.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&(this.resizeObserver=new ResizeObserver(function(b){var c;a._isResizing||(a._isResizing=!0,c=b[0].contentRect,window.setTimeout(function(){try{a.updateContainerDims(c.width,c.height)}catch(b){__TURBOPACK__default__export__.debug(b),a.stopResizeObserver()}finally{a._isResizing=!1}},a.attr.resize.throttle))}),this.resizeObserver.observe(this.containerObj))},stopResizeObserver:function(){__TURBOPACK__default__export__4.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&__TURBOPACK__default__export__3.exists(this.resizeObserver)&&this.resizeObserver.unobserve(this.containerObj)},resizeListener:function(){var a=this;__TURBOPACK__default__export__4.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&(this._isScrolling||this._isResizing||(this._isResizing=!0,window.setTimeout(function(){a.updateContainerDims(),a._isResizing=!1},this.attr.resize.throttle)))},scrollListener:function(a){var b=this;__TURBOPACK__default__export__4.isBrowser&&(this._isScrolling||(this._isScrolling=!0,window.setTimeout(function(){b._isScrolling=!1},66)))},startIntersectionObserver:function(){var a=this,b={root:null,rootMargin:"0px",threshold:.8};try{this.intersectionObserver=new IntersectionObserver(function(b){isNaN(a.getBoundingBox()[0])&&a.updateContainerDims()},b),this.intersectionObserver.observe(a.containerObj)}catch(a){__TURBOPACK__default__export__.debug("JSXGraph: IntersectionObserver not available in this browser.")}},stopIntersectionObserver:function(){__TURBOPACK__default__export__3.exists(this.intersectionObserver)&&this.intersectionObserver.unobserve(this.containerObj)},printListener:function(a){this.updateContainerDims()},printListenerMatch:function(a){a.matches&&this.printListener()},initInfobox:function(a){var b=__TURBOPACK__default__export__3.copyAttributes(a,this.options,"infobox");return b.id=this.id+"_infobox",this.infobox=this.create("text",[0,0,"0,0"],b),this.infobox.dump=!1,this.displayInfobox(!1),this},updateInfobox:function(a){var b,c,d,e,f,g,h,i=a.evalVisProp("showinfobox");return(__TURBOPACK__default__export__3.evaluate(this.attr.showinfobox)||"inherit"!==i)&&i&&__TURBOPACK__default__export__3.isPoint(a)&&(d=a.coords.usrCoords[1],e=a.coords.usrCoords[2],g=this.infobox.evalVisProp("distancex"),h=this.infobox.evalVisProp("distancey"),this.infobox.setCoords(d+g/this.unitX,e+h/this.unitY),f=a.evalVisProp("infoboxdigits"),"string"!=typeof a.infoboxText?("auto"===f?this.infobox.useLocale()?(b=this.infobox.formatNumberLocale(d),c=this.infobox.formatNumberLocale(e)):(b=__TURBOPACK__default__export__3.autoDigits(d),c=__TURBOPACK__default__export__3.autoDigits(e)):__TURBOPACK__default__export__3.isNumber(f)?this.infobox.useLocale()?(b=this.infobox.formatNumberLocale(d,f),c=this.infobox.formatNumberLocale(e,f)):(b=__TURBOPACK__default__export__3.toFixed(d,f),c=__TURBOPACK__default__export__3.toFixed(e,f)):(b=d,c=e),this.highlightInfobox(b,c,a)):this.highlightCustomInfobox(a.infoboxText,a),this.displayInfobox(!0)),this},displayInfobox:function(a){return!a&&this.focusObjects.length>0&&this.select(this.focusObjects[0]).elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT||this.infobox.hiddenByParent===a&&(this.infobox.hiddenByParent=!a,this.infobox.prepareUpdate().updateVisibility(a).updateRenderer()),this},showInfobox:function(a){return this.displayInfobox(a)},highlightInfobox:function(a,b,c){return this.highlightCustomInfobox("("+a+", "+b+")",c),this},highlightCustomInfobox:function(a,b){return this.infobox.setText(a),this},dehighlightAll:function(){var a,b,c={},d=!1;for(a in this.highlightedObjects)this.highlightedObjects.hasOwnProperty(a)&&(b=this.highlightedObjects[a],0>this.focusObjects.indexOf(a)?((this.hasMouseHandlers||this.hasPointerHandlers)&&b.noHighlight(),d=!0):c[a]=b);return this.highlightedObjects=c,"canvas"===this.renderer.type&&d&&(this.prepareUpdate(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw()),this},getScrCoordsOfMouse:function(a,b){return[a,b]},getUsrCoordsOfMouse:function(a){var b=this.getCoordsTopLeftCorner(),c=__TURBOPACK__default__export__4.getPosition(a,null,this.document),d=c[0]-b[0],e=c[1]-b[1];return new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[d,e],this).usrCoords.slice(1)},getAllUnderMouse:function(a){var b=this.getAllObjectsUnderMouse(a);return b.push(this.getUsrCoordsOfMouse(a)),b},getAllObjectsUnderMouse:function(a){var b,c,d=this.getCoordsTopLeftCorner(),e=__TURBOPACK__default__export__4.getPosition(a,null,this.document),f=e[0]-d[0],g=e[1]-d[1],h=[],i=this.objectsList.length;for(b=0;b<i;b++)(c=this.objectsList[b]).visPropCalc.visible&&c.hasPoint&&c.hasPoint(f,g)&&(h[h.length]=c);return h},updateCoords:function(){var a,b,c,d,e=this.objectsList.length;for(b=0;b<e;b++)if(a=this.objectsList[b],__TURBOPACK__default__export__3.exists(a.coords)){if("inherit"===(c=a.evalVisProp("frozen"))){for(d in a.descendants)if(a.descendants.hasOwnProperty(d)&&!0===a.descendants[d].evalVisProp("frozen")){c=!0;break}}!0===c?a.is3D?a.element2D.coords.screen2usr():a.coords.screen2usr():a.is3D?a.element2D.coords.usr2screen():(a.coords.usr2screen(),__TURBOPACK__default__export__3.exists(a.actualCoords)&&a.actualCoords.usr2screen())}return this},moveOrigin:function(a,b,c){var d,e,f,g;return __TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(b)&&(d=this.origin.scrCoords[1],e=this.origin.scrCoords[2],this.origin.scrCoords[1]=a,this.origin.scrCoords[2]=b,c&&(this.origin.scrCoords[1]-=this.drag_dx,this.origin.scrCoords[2]-=this.drag_dy),f=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[0,0],this).usrCoords,g=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords,(f[1]<this.maxboundingbox[0]-__TURBOPACK__default__export__2.eps||f[2]>this.maxboundingbox[1]+__TURBOPACK__default__export__2.eps||g[1]>this.maxboundingbox[2]+__TURBOPACK__default__export__2.eps||g[2]<this.maxboundingbox[3]-__TURBOPACK__default__export__2.eps)&&(this.origin.scrCoords[1]=d,this.origin.scrCoords[2]=e)),this.updateCoords().clearTraces().fullUpdate(),this.triggerEventHandlers(["boundingbox"]),this},addConditions:function(a){var b,c,d,e,f,g,h,i=[],j=a.indexOf("<data>"),k=a.indexOf("</data>"),l=function(a,b,c,d){return function(){var e,f;f=(e=a.select(b.id)).coords.usrCoords[d],2===d?e.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,[c(),f]):e.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,[f,c()]),e.prepareUpdate().update()}},m=function(a,b,c){return function(){var d,e;d=a.select(b.id),e=c(),d.setAttribute({visible:e})}},n=function(a,b,c,d){return function(){var e,f;e=a.select(b.id),f=c(),"strokewidth"===d?e.visProp.strokewidth=f:(f=__TURBOPACK__default__export__24.rgba2rgbo(f),e.visProp[d+"color"]=f[0],e.visProp[d+"opacity"]=f[1])}},o=function(a,b,c){return function(){a.select(b.id).position=c()}},p=function(a,b,c){return function(){a.select(b.id).setStyle(c())}};if(!(j<0)){for(;j>=0;){if(c=(b=a.slice(j+6,k)).indexOf("="),d=b.slice(0,c),e=b.slice(c+1),c=d.indexOf("."),f=d.slice(0,c),g=this.elementsByName[__TURBOPACK__default__export__3.unescapeHTML(f)],h=d.slice(c+1).replace(/\s+/g,"").toLowerCase(),e=__TURBOPACK__default__export__3.createFunction(e,this,"",!0),__TURBOPACK__default__export__3.exists(this.elementsByName[f]))switch(h){case"x":i.push(l(this,g,e,2));break;case"y":i.push(l(this,g,e,1));break;case"visible":i.push(m(this,g,e));break;case"position":i.push(o(this,g,e));break;case"stroke":i.push(n(this,g,e,"stroke"));break;case"style":i.push(p(this,g,e));break;case"strokewidth":i.push(n(this,g,e,"strokewidth"));break;case"fill":i.push(n(this,g,e,"fill"));break;case"label":break;default:__TURBOPACK__default__export__.debug('property "'+h+'" in conditions not yet implemented:'+e)}else __TURBOPACK__default__export__.debug("debug conditions: |"+f+"| undefined");j=(a=a.slice(k+7)).indexOf("<data>"),k=a.indexOf("</data>")}this.updateConditions=function(){var a;for(a=0;a<i.length;a++)i[a]();return this.prepareUpdate().updateElements(),!0},this.updateConditions()}},updateConditions:function(){return!1},calculateSnapSizes:function(){var a,b,c,d,e=this.getBoundingBox(),f=__TURBOPACK__default__export__3.evaluate(this.options.grid.majorStep),g=__TURBOPACK__default__export__3.evaluate(this.options.grid.gridX),h=__TURBOPACK__default__export__3.evaluate(this.options.grid.gridY);for(__TURBOPACK__default__export__3.isArray(f)||(f=[f,f]),f.length<2&&(f=[f[0],f[0]]),__TURBOPACK__default__export__3.exists(g)&&(f[0]=g),__TURBOPACK__default__export__3.exists(h)&&(f[1]=h),"auto"===f[0]?f[0]=1:f[0]=__TURBOPACK__default__export__3.parseNumber(f[0],Math.abs(e[1]-e[3]),1/this.unitX),"auto"===f[1]?f[1]=1:f[1]=__TURBOPACK__default__export__3.parseNumber(f[1],Math.abs(e[0]-e[2]),1/this.unitY),a=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],this),b=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[f[0],f[1]],this),c=a.scrCoords[1]-b.scrCoords[1],d=a.scrCoords[2]-b.scrCoords[2],this.options.grid.snapSizeX=f[0];Math.abs(c)>25;)this.options.grid.snapSizeX*=2,c/=2;for(this.options.grid.snapSizeY=f[1];Math.abs(d)>25;)this.options.grid.snapSizeY*=2,d/=2;return this},applyZoom:function(){return this.updateCoords().calculateSnapSizes().clearTraces().fullUpdate(),this},zoomIn:function(a,b){var c=this.getBoundingBox(),d=__TURBOPACK__default__export__3.evaluate(this.attr.zoom.factorx),e=__TURBOPACK__default__export__3.evaluate(this.attr.zoom.factory),f=(c[2]-c[0])*(1-1/d),g=(c[1]-c[3])*(1-1/e),h=.5,i=.5,j=__TURBOPACK__default__export__3.evaluate(this.attr.zoom.max),k=__TURBOPACK__default__export__3.evaluate(this.attr.zoom.eps)||__TURBOPACK__default__export__3.evaluate(this.attr.zoom.min)||.001;return this.zoomX>j&&d>1||this.zoomY>j&&e>1||this.zoomX<k&&d<1||this.zoomY<k&&e<1?this:(__TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isNumber(b)&&(h=(a-c[0])/(c[2]-c[0]),i=(c[1]-b)/(c[1]-c[3])),this.setBoundingBox([c[0]+f*h,c[1]-g*i,c[2]-f*(1-h),c[3]+g*(1-i)],this.keepaspectratio,"update"),this.applyZoom())},zoomOut:function(a,b){var c=this.getBoundingBox(),d=__TURBOPACK__default__export__3.evaluate(this.attr.zoom.factorx),e=__TURBOPACK__default__export__3.evaluate(this.attr.zoom.factory),f=(c[2]-c[0])*(1-d),g=(c[1]-c[3])*(1-e),h=.5,i=.5,j=__TURBOPACK__default__export__3.evaluate(this.attr.zoom.eps)||__TURBOPACK__default__export__3.evaluate(this.attr.zoom.min)||.001;return this.zoomX<j||this.zoomY<j?this:(__TURBOPACK__default__export__3.isNumber(a)&&__TURBOPACK__default__export__3.isNumber(b)&&(h=(a-c[0])/(c[2]-c[0]),i=(c[1]-b)/(c[1]-c[3])),this.setBoundingBox([c[0]+f*h,c[1]-g*i,c[2]-f*(1-h),c[3]+g*(1-i)],this.keepaspectratio,"update"),this.applyZoom())},zoom100:function(){var a,b,c;return __TURBOPACK__default__export__3.exists(this.attr.boundingbox)?this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"reset"):(b=((a=this.getBoundingBox())[2]-a[0])*(1-this.zoomX)*.5,c=(a[1]-a[3])*(1-this.zoomY)*.5,this.setBoundingBox([a[0]+b,a[1]-c,a[2]-b,a[3]+c],this.keepaspectratio,"reset")),this.applyZoom()},zoomAllPoints:function(){var a,b,c,d,e,f=0,g=0,h=0,i=0,j=this.objectsList.length;for(a=0;a<j;a++)e=this.objectsList[a],__TURBOPACK__default__export__3.isPoint(e)&&e.visPropCalc.visible&&(e.coords.usrCoords[1]<f?f=e.coords.usrCoords[1]:e.coords.usrCoords[1]>g&&(g=e.coords.usrCoords[1]),e.coords.usrCoords[2]>i?i=e.coords.usrCoords[2]:e.coords.usrCoords[2]<h&&(h=e.coords.usrCoords[2]));return c=(b=50)/this.unitX,d=b/this.unitY,this.setBoundingBox([f-c,i+d,g+c,h-d],this.keepaspectratio,"update"),this.applyZoom()},zoomElements:function(a){var b,c,d,e,f,g=[1/0,-1/0,-1/0,1/0];if(!__TURBOPACK__default__export__3.isArray(a)||0===a.length)return this;for(b=0;b<a.length;b++)c=this.select(a[b]).bounds(),__TURBOPACK__default__export__3.isArray(c)&&(c[0]<g[0]&&(g[0]=c[0]),c[1]>g[1]&&(g[1]=c[1]),c[2]>g[2]&&(g[2]=c[2]),c[3]<g[3]&&(g[3]=c[3]));return __TURBOPACK__default__export__3.isArray(g)&&(d=.5*(g[0]+g[2]),e=.5*(g[1]+g[3]),f=Math.max(1.5*(g[2]-g[0])*.5,1.5*(g[1]-g[3])*.5),this.setBoundingBox([d-f,e+f,d+f,e-f],this.keepaspectratio,"update")),this},setZoom:function(a,b){var c=this.attr.zoom.factorx,d=this.attr.zoom.factory;return this.attr.zoom.factorx=a/this.zoomX,this.attr.zoom.factory=b/this.zoomY,this.zoomIn(),this.attr.zoom.factorx=c,this.attr.zoom.factory=d,this},_removeObj:function(a,b){var c,d;if(__TURBOPACK__default__export__3.isArray(a)){for(d=0;d<a.length;d++)this._removeObj(a[d],b);return this}if(a=this.select(a),!__TURBOPACK__default__export__3.exists(a)||__TURBOPACK__default__export__3.isString(a))return this;try{for(c in a.childElements)a.childElements.hasOwnProperty(c)&&a.childElements[c].board._removeObj(a.childElements[c]);for(c in a.objects)a.objects.hasOwnProperty(c)&&a.objects[c].board._removeObj(a.objects[c]);if(b)for(c in this.objects)this.objects.hasOwnProperty(c)&&__TURBOPACK__default__export__3.exists(this.objects[c].childElements)&&__TURBOPACK__default__export__3.exists(this.objects[c].childElements.hasOwnProperty(a.id))&&(delete this.objects[c].childElements[a.id],delete this.objects[c].descendants[a.id]);else if(__TURBOPACK__default__export__3.exists(a.ancestors))for(c in a.ancestors)a.ancestors.hasOwnProperty(c)&&__TURBOPACK__default__export__3.exists(a.ancestors[c].childElements)&&__TURBOPACK__default__export__3.exists(a.ancestors[c].childElements.hasOwnProperty(a.id))&&(delete a.ancestors[c].childElements[a.id],delete a.ancestors[c].descendants[a.id]);if(a._pos>-1)for(this.objectsList.splice(a._pos,1),d=a._pos;d<this.objectsList.length;d++)this.objectsList[d]._pos--;else a.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_TURTLE&&__TURBOPACK__default__export__.debug("Board.removeObject: object "+a.id+" not found in list.");delete this.objects[a.id],delete this.elementsByName[a.name],a.visProp&&a.evalVisProp("trace")&&a.clearTrace(),__TURBOPACK__default__export__3.exists(a.remove)&&a.remove()}catch(b){__TURBOPACK__default__export__.debug(a.id+": Could not be removed: "+b)}return this},removeObject:function(a,b){var c;if(this.renderer.suspendRedraw(this),__TURBOPACK__default__export__3.isArray(a))for(c=0;c<a.length;c++)this._removeObj(a[c],b);else this._removeObj(a,b);return this.renderer.unsuspendRedraw(),this.update(),this},removeAncestors:function(a){var b;for(b in a.ancestors)a.ancestors.hasOwnProperty(b)&&this.removeAncestors(a.ancestors[b]);return this.removeObject(a),this},initGeonextBoard:function(){var a,b,c;return a=this.create("point",[0,0],{id:this.id+"g00e0",name:"Ursprung",withLabel:!1,visible:!1,fixed:!0}),b=this.create("point",[1,0],{id:this.id+"gX0e0",name:"Punkt_1_0",withLabel:!1,visible:!1,fixed:!0}),c=this.create("point",[0,1],{id:this.id+"gY0e0",name:"Punkt_0_1",withLabel:!1,visible:!1,fixed:!0}),this.create("line",[a,b],{id:this.id+"gXLe0",name:"X-Achse",withLabel:!1,visible:!1}),this.create("line",[a,c],{id:this.id+"gYLe0",name:"Y-Achse",withLabel:!1,visible:!1}),this},resizeContainer:function(a,b,c,d){var e,f,g,h,i;return f=this.canvasWidth,g=this.canvasHeight,d||(e=this.getBoundingBox()),this.canvasWidth=parseFloat(a),this.canvasHeight=parseFloat(b),c||(this.containerObj.style.width=this.canvasWidth+"px",this.containerObj.style.height=this.canvasHeight+"px"),this.renderer.resize(this.canvasWidth,this.canvasHeight),d?(h=(this.canvasWidth-f)*.5,i=(this.canvasHeight-g)*.5,this.moveOrigin(this.origin.scrCoords[1]+h,this.origin.scrCoords[2]+i)):this.setBoundingBox(e,this.keepaspectratio,"keep"),this},showDependencies:function(){var a,b,c,d,e;for(a in b="<p>\n",this.objects)if(this.objects.hasOwnProperty(a)){for(c in e=0,this.objects[a].childElements)this.objects[a].childElements.hasOwnProperty(c)&&(e+=1);for(c in e>=0&&(b+="<strong>"+this.objects[a].id+":</strong> "),this.objects[a].childElements)this.objects[a].childElements.hasOwnProperty(c)&&(b+=this.objects[a].childElements[c].id+"("+this.objects[a].childElements[c].name+"), ");b+="<p>\n"}return b+="</p>\n",(d=window.open()).document.open(),d.document.write(b),d.document.close(),this},showXML:function(){var a=window.open("");return a.document.open(),a.document.write("<pre>"+__TURBOPACK__default__export__3.escapeHTML(this.xmlString)+"</pre>"),a.document.close(),this},prepareUpdate:function(a){var b,c,d,e=this.objectsList.length;for(b=0;b<e;b++)if(d=this.objectsList[b],this._change3DView||__TURBOPACK__default__export__3.exists(a)&&"view3d_slider"===a.elType){if(d.needsUpdate=d.visProp.element3d||"view3d"===d.elType||"view3d_slider"===d.elType||this.needsFullUpdate,d.visProp.element3d&&d.visProp.element3d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SPHERE3D)for(c=0;c<d.parents.length;c++)this.objects[d.parents[c]].needsUpdate=!0}else d.needsUpdate=d.needsRegularUpdate||this.needsFullUpdate;for(b in this.groups)this.groups.hasOwnProperty(b)&&((d=this.groups[b]).needsUpdate=d.needsRegularUpdate||this.needsFullUpdate);return this},updateElements:function(a){var b,c;for(b=0,a=this.select(a);b<this.objectsList.length;b++)c=this.objectsList[b],this.needsFullUpdate&&c.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT&&c.updateSize(),c.update(!__TURBOPACK__default__export__3.exists(a)||c.id!==a.id).updateVisibility();for(b in this.groups)this.groups.hasOwnProperty(b)&&this.groups[b].update(a);return this},updateRenderer:function(){var a,b,c,d=this.objectsList.length,e=[];if(this.renderer){if("canvas"===this.renderer.type)this.updateRendererCanvas();else{for(a=0;a<d;a++)this.objectsList[a].visProp.islabel&&this.objectsList[a].visProp.autoposition?e.push(a):this.objectsList[a].updateRenderer();for(b=e.length;0!==b;)c=Math.floor(Math.random()*b),b--,[e[b],e[c]]=[e[c],e[b]];for(a=0;a<e.length;a++)this.objectsList[e[a]].updateRenderer()}return this}},updateRendererCanvas:function(){var a,b,c,d=this.objectsList.length,e=[],f=function(a,b){return a.visProp.layer!==b.visProp.layer?a.visProp.layer-b.visProp.layer:-1!==e.indexOf(a.visProp.layer)&&(a.visProp.element3d||b.visProp.element3d)?a.visProp.element3d&&!b.visProp.element3d?-1:b.visProp.element3d&&!a.visProp.element3d?1:a.visProp.element3d.zIndex-b.visProp.element3d.zIndex:a._pos-b._pos};for(a=0;a<d;a++)if("view3d"===(b=this.objectsList[a]).elType&&b.evalVisProp("depthorder.enabled")){e=b.evalVisProp("depthorder.layers"),b.updateRenderer();break}for(a=0,d=(c=this.objectsList.toSorted(f)).length;a<d;a++)c[a].prepareUpdate().updateRenderer();return this},addHook:function(a,b,c){return __TURBOPACK__default__export__.deprecated("Board.addHook()","Board.on()"),b=__TURBOPACK__default__export__3.def(b,"update"),c=__TURBOPACK__default__export__3.def(c,this),this.hooks.push([b,a]),this.on(b,a,c),this.hooks.length-1},addEvent:__TURBOPACK__default__export__.shortcut(__TURBOPACK__default__export__.Board.prototype,"on"),removeHook:function(a){return __TURBOPACK__default__export__.deprecated("Board.removeHook()","Board.off()"),this.hooks[a]&&(this.off(this.hooks[a][0],this.hooks[a][1]),this.hooks[a]=null),this},removeEvent:__TURBOPACK__default__export__.shortcut(__TURBOPACK__default__export__.Board.prototype,"off"),updateHooks:function(a){var b=Array.prototype.slice.call(arguments,0);return __TURBOPACK__default__export__.deprecated("Board.updateHooks()","Board.triggerEventHandlers()"),b[0]=__TURBOPACK__default__export__3.def(b[0],"update"),this.triggerEventHandlers([b[0]],arguments),this},addChild:function(a){return __TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.containerObj)&&(this.dependentBoards.push(a),this.update()),this},removeChild:function(a){var b;for(b=this.dependentBoards.length-1;b>=0;b--)this.dependentBoards[b]===a&&this.dependentBoards.splice(b,1);return this},update:function(a){var b,c,d,e,f;if(this.inUpdate||this.isSuspendedUpdate)return this;for(this.inUpdate=!0,"all"===this.attr.minimizereflow&&this.containerObj&&"vml"!==this.renderer.type&&(f=this.document.activeElement,e=this.renderer.removeToInsertLater(this.containerObj)),"svg"===this.attr.minimizereflow&&"svg"===this.renderer.type&&(f=this.document.activeElement,e=this.renderer.removeToInsertLater(this.renderer.svgRoot)),this.prepareUpdate(a).updateElements(a).updateConditions(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw(),this.triggerEventHandlers(["update"],[]),e&&(e(),f.focus()),c=this.dependentBoards.length,b=0;b<c;b++)d=this.dependentBoards[b],__TURBOPACK__default__export__3.exists(d)&&d!==this&&(d.updateQuality=this.updateQuality,d.prepareUpdate().updateElements().updateConditions(),d.renderer.suspendRedraw(this),d.updateRenderer(),d.renderer.unsuspendRedraw(),d.triggerEventHandlers(["update"],[]));return this.inUpdate=!1,this},fullUpdate:function(){return this.needsFullUpdate=!0,this.update(),this.needsFullUpdate=!1,this},addGrid:function(){return this.create("grid",[]),this},removeGrids:function(){var a;for(a=0;a<this.grids.length;a++)this.removeObject(this.grids[a]);return this.grids.length=0,this.update(),this},create:function(a,b,c){var d,e;for(a=a.toLowerCase(),__TURBOPACK__default__export__3.exists(b)||(b=[]),__TURBOPACK__default__export__3.exists(c)||(c={}),e=0;e<b.length;e++)__TURBOPACK__default__export__3.isString(b[e])&&("text"!==a||2!==e)&&("solidofrevolution3d"!==a||2!==e)&&("text3d"!==a||2!==e&&4!==e)&&("input"!==a&&"checkbox"!==a&&"button"!==a||2!==e&&3!==e)&&"curve"!==a&&"functiongraph"!==a&&"implicitcurve"!==a&&(e>0&&"view3d"===b[0].elType?b[e]=b[0].select(b[e]):b[e]=this.select(b[e]));if(__TURBOPACK__default__export__3.isFunction(__TURBOPACK__default__export__.elements[a]))d=__TURBOPACK__default__export__.elements[a](this,b,c);else throw Error("JSXGraph: create: Unknown element type given: "+a);return __TURBOPACK__default__export__3.exists(d)?d.prepareUpdate&&d.update&&d.updateRenderer&&d.fullUpdate():__TURBOPACK__default__export__.debug("JSXGraph: create: failure creating "+a),d},createElement:function(){return __TURBOPACK__default__export__.deprecated("Board.createElement()","Board.create()"),this.create.apply(this,arguments)},clearTraces:function(){var a;for(a=0;a<this.objectsList.length;a++)this.objectsList[a].clearTrace();return this.numTraces=0,this},suspendUpdate:function(){return this.inUpdate||(this.isSuspendedUpdate=!0),this},unsuspendUpdate:function(){return this.isSuspendedUpdate&&(this.isSuspendedUpdate=!1,this.fullUpdate()),this},setBoundingBox:function(a,b,c){var d,e,f,g,h,i,j,k,l,m=0,n=0,o=1,p=__TURBOPACK__default__export__4.getDimensions(this.containerObj,this.document);return!__TURBOPACK__default__export__3.isArray(a)||a[0]<this.maxboundingbox[0]-__TURBOPACK__default__export__2.eps||a[1]>this.maxboundingbox[1]+__TURBOPACK__default__export__2.eps||a[2]>this.maxboundingbox[2]+__TURBOPACK__default__export__2.eps||a[3]<this.maxboundingbox[3]-__TURBOPACK__default__export__2.eps||(__TURBOPACK__default__export__3.exists(c)||(c="reset"),f=this.unitX,g=this.unitY,this.canvasWidth=parseFloat(p.width),this.canvasHeight=parseFloat(p.height),e=this.canvasWidth,d=this.canvasHeight,b?(this.keepaspectratio?isNaN(h=f/g)&&(h=1):h=1,"keep"===c&&(o=this.zoomX/this.zoomY),i=a[2]-a[0],j=a[1]-a[3],k=f*i,l=g*j,e>=d?(k>=l?this.unitY=d/j:this.unitY=d/Math.abs(i)*__TURBOPACK__default__export__2.sign(j)/o,this.unitX=this.unitY*h):(l>k?this.unitX=e/i:this.unitX=e/Math.abs(j)*__TURBOPACK__default__export__2.sign(i)*o,this.unitY=this.unitX/h),m=(e/this.unitX-i)*.5,n=(d/this.unitY-j)*.5,this.keepaspectratio=!0):(this.unitX=e/(a[2]-a[0]),this.unitY=d/(a[1]-a[3]),this.keepaspectratio=!1),this.moveOrigin(-this.unitX*(a[0]-m),this.unitY*(a[1]+n)),"update"===c?(this.zoomX*=this.unitX/f,this.zoomY*=this.unitY/g):"reset"===c&&(this.zoomX=__TURBOPACK__default__export__3.exists(this.attr.zoomx)?this.attr.zoomx:1,this.zoomY=__TURBOPACK__default__export__3.exists(this.attr.zoomy)?this.attr.zoomy:1)),this},getBoundingBox:function(){var a=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[0,0],this).usrCoords,b=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords;return[a[1],a[2],b[1],b[2]]},_set:function(a,b){a=a.toLocaleLowerCase(),null!==b&&__TURBOPACK__default__export__3.isObject(b)&&!__TURBOPACK__default__export__3.exists(b.id)&&!__TURBOPACK__default__export__3.exists(b.name)?__TURBOPACK__default__export__3.mergeAttr(this.attr[a],b):this.attr[a]=b},setAttribute:function(a){var b,c,d,e,f,g,h={};for(b=0;b<arguments.length;b++)c=arguments[b],__TURBOPACK__default__export__3.isString(c)?(d=c.split(":"),h[__TURBOPACK__default__export__3.trim(d[0])]=__TURBOPACK__default__export__3.trim(d[1])):__TURBOPACK__default__export__3.isArray(c)?h[c[0]]=c[1]:__TURBOPACK__default__export__.extend(h,c);for(b in h)if(h.hasOwnProperty(b)&&(e=b.replace(/\s+/g,"").toLowerCase(),f=h[b]),f=(!f.toLowerCase||"false"!==f.toLowerCase())&&f,this.attr[e]!==f)switch(e){case"axis":!1===f&&__TURBOPACK__default__export__3.exists(this.defaultAxes)&&(this.defaultAxes.x.setAttribute({visible:!1}),this.defaultAxes.y.setAttribute({visible:!1}));break;case"boundingbox":this.setBoundingBox(f,this.keepaspectratio),this._set(e,f);break;case"defaultaxes":__TURBOPACK__default__export__3.exists(this.defaultAxes.x)&&__TURBOPACK__default__export__3.exists(f.x)&&this.defaultAxes.x.setAttribute(f.x),__TURBOPACK__default__export__3.exists(this.defaultAxes.y)&&__TURBOPACK__default__export__3.exists(f.y)&&this.defaultAxes.y.setAttribute(f.y);break;case"title":this.document.getElementById(this.container+"_ARIAlabel").innerHTML=f,this._set(e,f);break;case"keepaspectratio":this._set(e,f),this.setBoundingBox(this.getBoundingBox(),f,"keep");break;case"document":case"maxboundingbox":this[e]=f,this._set(e,f);break;case"zoomx":case"zoomy":this[e]=f,this._set(e,f),this.setZoom(this.attr.zoomx,this.attr.zoomy);break;case"registerevents":case"renderer":break;case"fullscreen":case"screenshot":(g=this.containerObj.ownerDocument.getElementById(this.container+"_navigation_"+e))&&__TURBOPACK__default__export__3.exists(f.symbol)&&(g.innerHTML=__TURBOPACK__default__export__3.evaluate(f.symbol)),this._set(e,f);break;case"selection":f.visible=!1,f.withLines=!1,f.vertices={visible:!1},this._set(e,f);break;case"showcopyright":"svg"===this.renderer.type&&((g=this.containerObj.ownerDocument.getElementById(this.renderer.uniqName("licenseText")))?g.style.display=__TURBOPACK__default__export__3.evaluate(f)?"inline":"none":__TURBOPACK__default__export__3.evaluate(f)&&this.renderer.displayCopyright(__TURBOPACK__default__export__1.licenseText,parseInt(this.options.text.fontSize,10))),this._set(e,f);break;case"showlogo":"svg"===this.renderer.type&&((g=this.containerObj.ownerDocument.getElementById(this.renderer.uniqName("licenseLogo")))?g.style.display=__TURBOPACK__default__export__3.evaluate(f)?"inline":"none":__TURBOPACK__default__export__3.evaluate(f)&&this.renderer.displayLogo(__TURBOPACK__default__export__1.licenseLogo,parseInt(this.options.text.fontSize,10))),this._set(e,f);break;default:__TURBOPACK__default__export__3.exists(this.attr[e])&&this._set(e,f)}return this.containerObj.ownerDocument.getElementById(this.container+"_navigationbar").remove(),this.renderer.drawNavigationBar(this,this.attr.navbar),this.triggerEventHandlers(["attribute"],[h,this]),this.fullUpdate(),this},addAnimation:function(a){var b=this;return this.animationObjects[a.id]=a,this.animationIntervalCode||(this.animationIntervalCode=window.setInterval(function(){b.animate()},a.board.attr.animationdelay)),this},stopAllAnimation:function(){var a;for(a in this.animationObjects)this.animationObjects.hasOwnProperty(a)&&__TURBOPACK__default__export__3.exists(this.animationObjects[a])&&(this.animationObjects[a]=null,delete this.animationObjects[a]);return window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode,this},animate:function(){var a,b,c,d,e,f,g,h,i=0,j=null;for(b in this.animationObjects)if(this.animationObjects.hasOwnProperty(b)&&__TURBOPACK__default__export__3.exists(this.animationObjects[b])){if(i+=1,(c=this.animationObjects[b]).animationPath&&(d=__TURBOPACK__default__export__3.isFunction(c.animationPath)?c.animationPath(new Date().getTime()-c.animationStart):c.animationPath.pop(),!__TURBOPACK__default__export__3.exists(d)||!__TURBOPACK__default__export__3.isArray(d)&&isNaN(d)?delete c.animationPath:(c.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,d),c.fullUpdate(),j=c)),c.animationData){for(e in g=0,c.animationData)c.animationData.hasOwnProperty(e)&&(f=c.animationData[e].pop(),__TURBOPACK__default__export__3.exists(f)?(g+=1,(a={})[e]=f,c.setAttribute(a)):delete c.animationData[f]);0===g&&delete c.animationData}__TURBOPACK__default__export__3.exists(c.animationData)||__TURBOPACK__default__export__3.exists(c.animationPath)||(this.animationObjects[b]=null,delete this.animationObjects[b],__TURBOPACK__default__export__3.exists(c.animationCallback)&&(h=c.animationCallback,c.animationCallback=null,h()))}return 0===i?(window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode):this.update(j),this},migratePoint:function(a,b,c){var d,e,f,g,h,i,j=!1;for(e in a=this.select(a),b=this.select(b),__TURBOPACK__default__export__3.exists(a.label)&&(i=a.label.id,j=!0,this.removeObject(a.label)),a.childElements)if(a.childElements.hasOwnProperty(e)){for(f in d=a.childElements[e],g=!1,d)d.hasOwnProperty(f)&&d[f]===a&&(d[f]=b,g=!0);for(g&&delete a.childElements[e],h=0;h<d.parents.length;h++)d.parents[h]===a.id&&(d.parents[h]=b.id);b.addChild(d)}return c&&(j&&(delete b.childElements[i],delete b.descendants[i]),b.label&&this.removeObject(b.label),delete this.elementsByName[b.name],b.name=a.name,j&&b.createLabel()),this.removeObject(a),__TURBOPACK__default__export__3.exists(b.name)&&""!==b.name&&(this.elementsByName[b.name]=b),this.fullUpdate(),this},emulateColorblindness:function(a){var b,c;if(__TURBOPACK__default__export__3.exists(a)||(a="none"),this.currentCBDef===a)return this;for(b in this.objects)this.objects.hasOwnProperty(b)&&(c=this.objects[b],"none"!==a?("none"===this.currentCBDef&&(c.visPropOriginal={strokecolor:c.visProp.strokecolor,fillcolor:c.visProp.fillcolor,highlightstrokecolor:c.visProp.highlightstrokecolor,highlightfillcolor:c.visProp.highlightfillcolor}),c.setAttribute({strokecolor:__TURBOPACK__default__export__24.rgb2cb(c.eval(c.visPropOriginal.strokecolor),a),fillcolor:__TURBOPACK__default__export__24.rgb2cb(c.eval(c.visPropOriginal.fillcolor),a),highlightstrokecolor:__TURBOPACK__default__export__24.rgb2cb(c.eval(c.visPropOriginal.highlightstrokecolor),a),highlightfillcolor:__TURBOPACK__default__export__24.rgb2cb(c.eval(c.visPropOriginal.highlightfillcolor),a)})):__TURBOPACK__default__export__3.exists(c.visPropOriginal)&&__TURBOPACK__default__export__.extend(c.visProp,c.visPropOriginal));return this.currentCBDef=a,this.update(),this},select:function(a,b){var c,d,e,f,g=a;if(null===g)return g;if(__TURBOPACK__default__export__3.isString(g)&&""!==g)__TURBOPACK__default__export__3.exists(this.objects[g])?g=this.objects[g]:__TURBOPACK__default__export__3.exists(this.elementsByName[g])?g=this.elementsByName[g]:__TURBOPACK__default__export__3.exists(this.groups[g])&&(g=this.groups[g]);else if(!b&&(__TURBOPACK__default__export__3.isFunction(g)||__TURBOPACK__default__export__3.isObject(g)&&!__TURBOPACK__default__export__3.isFunction(g.setAttribute))){for(e=0,c=__TURBOPACK__default__export__3.filterElements(this.objectsList,g),d={},f=c.length;e<f;e++)d[c[e].id]=c[e];g=new __TURBOPACK__default__export__35(d)}else __TURBOPACK__default__export__3.isObject(g)&&__TURBOPACK__default__export__3.exists(g.id)&&!__TURBOPACK__default__export__3.exists(this.objects[g.id])&&(g=null);return g},hasPoint:function(a,b){var c=a,d=b,e=this.getBoundingBox();return __TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.isArray(a.usrCoords)&&(c=a.usrCoords[1],d=a.usrCoords[2]),!!(__TURBOPACK__default__export__3.isNumber(c)&&__TURBOPACK__default__export__3.isNumber(d)&&e[0]<c&&c<e[2]&&e[1]>d&&d>e[3])},updateCSSTransforms:function(){var a=this.containerObj,b=a,c=a;if(this.cssTransMat=__TURBOPACK__default__export__4.getCSSTransformMatrix(b),__TURBOPACK__default__export__3.exists(b.getRootNode)){for(b=b.parentNode===b.getRootNode()?b.parentNode.host:b.parentNode;b;)this.cssTransMat=__TURBOPACK__default__export__2.matMatMult(__TURBOPACK__default__export__4.getCSSTransformMatrix(b),this.cssTransMat),b=b.parentNode===b.getRootNode()?b.parentNode.host:b.parentNode;this.cssTransMat=__TURBOPACK__default__export__2.inverse(this.cssTransMat)}else{for(b=b.offsetParent;b;){for(this.cssTransMat=__TURBOPACK__default__export__2.matMatMult(__TURBOPACK__default__export__4.getCSSTransformMatrix(b),this.cssTransMat),c=c.parentNode;c!==b;)this.cssTransMat=__TURBOPACK__default__export__2.matMatMult(__TURBOPACK__default__export__4.getCSSTransformMatrix(b),this.cssTransMat),c=c.parentNode;b=b.offsetParent}this.cssTransMat=__TURBOPACK__default__export__2.inverse(this.cssTransMat)}return this},startSelectionMode:function(){this.selectingMode=!0,this.selectionPolygon.setAttribute({visible:!0}),this.selectingBox=[[0,0],[0,0]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate()},stopSelectionMode:function(){return this.selectingMode=!1,this.selectionPolygon.setAttribute({visible:!1}),[this.selectionPolygon.vertices[0].coords,this.selectionPolygon.vertices[2].coords]},_startSelecting:function(a){this.isSelecting=!0,this.selectingBox=[[a[0],a[1]],[a[0],a[1]]],this._setSelectionPolygonFromBox()},_moveSelecting:function(a){this.isSelecting&&(this.selectingBox[1]=[a[0],a[1]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate())},_stopSelecting:function(a){var b=this.getMousePosition(a);this.isSelecting=!1,this.selectingBox[1]=[b[0],b[1]],this._setSelectionPolygonFromBox()},_setSelectionPolygonFromBox:function(){var a=this.selectingBox[0],b=this.selectingBox[1];this.selectionPolygon.vertices[0].setPositionDirectly(__TURBOPACK__default__export__.COORDS_BY_SCREEN,[a[0],a[1]]),this.selectionPolygon.vertices[1].setPositionDirectly(__TURBOPACK__default__export__.COORDS_BY_SCREEN,[a[0],b[1]]),this.selectionPolygon.vertices[2].setPositionDirectly(__TURBOPACK__default__export__.COORDS_BY_SCREEN,[b[0],b[1]]),this.selectionPolygon.vertices[3].setPositionDirectly(__TURBOPACK__default__export__.COORDS_BY_SCREEN,[b[0],a[1]])},_testForSelection:function(a){this._isRequiredKeyPressed(a,"selection")&&(__TURBOPACK__default__export__3.exists(this.selectionPolygon)||this._createSelectionPolygon(this.attr),this.startSelectionMode())},_createSelectionPolygon:function(a){var b;return __TURBOPACK__default__export__3.exists(this.selectionPolygon)||!0===(b=__TURBOPACK__default__export__3.copyAttributes(a,__TURBOPACK__default__export__25,"board","selection")).enabled&&(this.selectionPolygon=this.create("polygon",[[0,0],[0,0],[0,0],[0,0]],b)),this},__evt__attribute:function(a){},__evt__down:function(a){},__evt__mousedown:function(a){},__evt__pendown:function(a){},__evt__pointerdown:function(a){},__evt__touchstart:function(a){},__evt__up:function(a){},__evt__mouseup:function(a){},__evt__pointerup:function(a){},__evt__touchend:function(a){},__evt__click:function(a){},__evt__dblclick:function(a){},__evt__mouseclick:function(a){},__evt__mousedblclick:function(a){},__evt__pointerclick:function(a){},__evt__pointerdblclick:function(a){},__evt__move:function(a,b){},__evt__mousemove:function(a,b){},__evt__penmove:function(a,b){},__evt__pointermove:function(a,b){},__evt__touchmove:function(a,b){},__evt__keymove:function(a,b){},__evt__hit:function(a,b,c){},__evt__mousehit:function(a,b,c){},__evt__update:function(){},__evt__boundingbox:function(){},__evt__startselecting:function(){},__evt__mousestartselecting:function(){},__evt__pointerstartselecting:function(){},__evt__touchstartselecting:function(){},__evt__stopselecting:function(){},__evt__mousestopselecting:function(){},__evt__pointerstopselecting:function(){},__evt__touchstopselecting:function(){},__evt__moveselecting:function(){},__evt__mousemoveselecting:function(){},__evt__pointermoveselecting:function(){},__evt__touchmoveselecting:function(){},__evt:function(){},toFullscreen:function(a){var b,c,d,e,f,g=this.document;return a=a||this.container,this._fullscreen_inner_id=a,d=g.getElementById(a),b="fullscreenwrap_"+a,__TURBOPACK__default__export__3.exists(d._cssFullscreenStore)||(d._cssFullscreenStore={w:(e=this.containerObj.getBoundingClientRect()).width,h:e.height}),g.getElementById(b)?c=g.getElementById(b):((c=document.createElement("div")).classList.add("JXG_wrap_private"),c.setAttribute("id",b),d.parentNode.insertBefore(c,d),c.appendChild(d)),c.requestFullscreen=c.requestFullscreen||c.webkitRequestFullscreen||c.mozRequestFullScreen||c.msRequestFullscreen,null===(f=void 0!==g.fullscreenElement?g.fullscreenElement:void 0!==g.webkitFullscreenElement?g.webkitFullscreenElement:g.msFullscreenElement)?c.requestFullscreen&&(c.requestFullscreen(),this.startFullscreenResizeObserver(c)):(this.stopFullscreenResizeObserver(c),__TURBOPACK__default__export__3.exists(document.exitFullscreen)?document.exitFullscreen():__TURBOPACK__default__export__3.exists(document.webkitExitFullscreen)&&document.webkitExitFullscreen()),this},fullscreenListener:function(a){var b,c,d,e=this.document;b=this._fullscreen_inner_id,__TURBOPACK__default__export__3.exists(b)&&(d=void 0!==e.fullscreenElement?e.fullscreenElement:void 0!==e.webkitFullscreenElement?e.webkitFullscreenElement:e.msFullscreenElement,c=e.getElementById(b),d?(c._cssFullscreenStore.id=d.id,c._cssFullscreenStore.isFullscreen=!0,c._cssFullscreenStore.margin=c.style.margin,c._cssFullscreenStore.width=c.style.width,c._cssFullscreenStore.height=c.style.height,c._cssFullscreenStore.transform=c.style.transform,c.style.width=c._cssFullscreenStore.w+"px",c.style.height=c._cssFullscreenStore.h+"px",c.style.margin="",__TURBOPACK__default__export__4.scaleJSXGraphDiv(d.id,b,e,__TURBOPACK__default__export__3.evaluate(this.attr.fullscreen.scale)),d=null):__TURBOPACK__default__export__3.exists(c._cssFullscreenStore)&&(c._cssFullscreenStore.isFullscreen=!1,c.style.margin=c._cssFullscreenStore.margin,c.style.width=c._cssFullscreenStore.width,c.style.height=c._cssFullscreenStore.height,c.style.transform=c._cssFullscreenStore.transform,c._cssFullscreenStore=null,c.parentElement.replaceWith(c)),this.updateCSSTransforms())},startFullscreenResizeObserver:function(a){var b=this;return __TURBOPACK__default__export__4.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&(this.resizeObserver=new ResizeObserver(function(c){var d,e,f=b.document;b._isResizing||(b._isResizing=!0,window.setTimeout(function(){try{d=b._fullscreen_inner_id,e=void 0!==f.fullscreenElement?f.fullscreenElement:void 0!==f.webkitFullscreenElement?f.webkitFullscreenElement:f.msFullscreenElement,null!==e&&__TURBOPACK__default__export__4.scaleJSXGraphDiv(e.id,d,f,__TURBOPACK__default__export__3.evaluate(b.attr.fullscreen.scale))}catch(c){b.stopFullscreenResizeObserver(a)}finally{b._isResizing=!1}},b.attr.resize.throttle))}),this.resizeObserver.observe(a)),this},stopFullscreenResizeObserver:function(a){return __TURBOPACK__default__export__4.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&__TURBOPACK__default__export__3.exists(this.resizeObserver)&&this.resizeObserver.unobserve(a),this},addLogEntry:function(a,b,c){var d,e,f=this.userLog.length-1;return __TURBOPACK__default__export__3.exists(b.elementClass)&&(e=b.id),__TURBOPACK__default__export__3.evaluate(this.attr.logging.enabled)&&(d=new Date().getTime(),f>=0&&this.userLog[f].type===a&&this.userLog[f].id===e&&d-this.userLog[f].end<500?(this.userLog[f].end=d,this.userLog[f].endpos=c):this.userLog.push({type:a,id:e,start:d,startpos:c,end:d,endpos:c,bbox:this.getBoundingBox(),canvas:[this.canvasWidth,this.canvasHeight],zoom:[this.zoomX,this.zoomY]})),this},createRoulette:function(a,b,c,d,e,f,g){var h=this;return new function(){var i,j=0,k=0,l=0,m=c,n=__TURBOPACK__default__export__13.root(function(c){var d=a.X(m),e=a.Y(m),f=b.X(c),g=b.Y(c);return(d-f)*(d-f)+(e-g)*(e-g)},[0,2*Math.PI]),o=0,p=0,q=h.create("transform",[function(){return j}],{type:"rotate"}),r=h.create("transform",[function(){return j},function(){return a.X(m)},function(){return a.Y(m)}],{type:"rotate"}),s=h.create("transform",[function(){return k},function(){return l}],{type:"translate"}),t=function(a,b,c){var d=__TURBOPACK__default__export__13.D(a.X)(b),e=__TURBOPACK__default__export__13.D(a.Y)(b),f=__TURBOPACK__default__export__13.D(a.X)(c),g=__TURBOPACK__default__export__13.D(a.Y)(c),h=__TURBOPACK__default__export__13.D(a.X)((b+c)*.5),i=__TURBOPACK__default__export__13.D(a.Y)((b+c)*.5),j=__TURBOPACK__default__export__2.hypot(d,e),k=__TURBOPACK__default__export__2.hypot(f,g);return(j+4*__TURBOPACK__default__export__2.hypot(h,i)+k)*(c-b)/6},u=function(a){return i-t(b,n,a)},v=Math.PI/18,w=9*v,x=null;return this.rolling=function(){var c,f,x,y,z;o=m+e*d,i=t(a,m,o),p=__TURBOPACK__default__export__13.root(u,n),c=new __TURBOPACK__default__export__23(a.X(o),a.Y(o)),f=new __TURBOPACK__default__export__23(b.X(p),b.Y(p)),x=new __TURBOPACK__default__export__23(__TURBOPACK__default__export__13.D(a.X)(o),__TURBOPACK__default__export__13.D(a.Y)(o)),y=new __TURBOPACK__default__export__23(__TURBOPACK__default__export__13.D(b.X)(p),__TURBOPACK__default__export__13.D(b.Y)(p)),j=Math.atan2((z=__TURBOPACK__default__export__23.C.div(x,y)).imaginary,z.real),z.div(__TURBOPACK__default__export__23.C.abs(z)),z.mult(f),k=c.real-z.real,l=c.imaginary-z.imaginary,j<-v&&j>-w?(j=-v,r.applyOnce(g)):j>v&&j<w?(j=v,r.applyOnce(g)):(q.applyOnce(g),s.applyOnce(g),m=o,n=p),h.update()},this.start=function(){return f>0&&(x=window.setInterval(this.rolling,f)),this},this.stop=function(){return window.clearInterval(x),this},this}}});let __TURBOPACK__default__export__36=__TURBOPACK__default__export__.Board;__TURBOPACK__default__export__.SVGRenderer=function(a,b){var c;for(this.type="svg",this.isIE=-1!==navigator.appVersion.indexOf("MSIE")||navigator.userAgent.match(/Trident\//),this.svgRoot=null,this.svgNamespace="http://www.w3.org/2000/svg",this.xlinkNamespace="http://www.w3.org/1999/xlink",this.container=a,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.svgRoot=this.container.ownerDocument.createElementNS(this.svgNamespace,"svg"),this.svgRoot.style.overflow="hidden",this.svgRoot.style.display="block",this.resize(b.width,b.height),this.container.appendChild(this.svgRoot),this.defs=this.container.ownerDocument.createElementNS(this.svgNamespace,"defs"),this.svgRoot.appendChild(this.defs),this.createShadowFilter=function(a,b,c,d,e,f){var g,h,i,j,k,l=this.container.ownerDocument.createElementNS(this.svgNamespace,"filter");return l.setAttributeNS(null,"id",a),l.setAttributeNS(null,"width","300%"),l.setAttributeNS(null,"height","300%"),l.setAttributeNS(null,"filterUnits","userSpaceOnUse"),(g=this.container.ownerDocument.createElementNS(this.svgNamespace,"feOffset")).setAttributeNS(null,"in","SourceGraphic"),g.setAttributeNS(null,"result","offOut"),g.setAttributeNS(null,"dx",f[0]),g.setAttributeNS(null,"dy",f[1]),l.appendChild(g),(h=this.container.ownerDocument.createElementNS(this.svgNamespace,"feColorMatrix")).setAttributeNS(null,"in","offOut"),h.setAttributeNS(null,"result","colorOut"),h.setAttributeNS(null,"type","matrix"),"none"===b||!__TURBOPACK__default__export__3.isArray(b)||b.length<3?h.setAttributeNS(null,"values","0.1 0 0 0 0  0 0.1 0 0 0  0 0 0.1 0 0  0 0 0 "+c+" 0"):(b[0]/=255,b[1]/=255,b[2]/=255,k=d+" 0 0 0 "+b[0]+"  0 "+d+" 0 0 "+b[1]+"  0 0 "+d+" 0 "+b[2]+"  0 0 0 "+c+" 0",h.setAttributeNS(null,"values",k)),l.appendChild(h),(i=this.container.ownerDocument.createElementNS(this.svgNamespace,"feGaussianBlur")).setAttributeNS(null,"in","colorOut"),i.setAttributeNS(null,"result","blurOut"),i.setAttributeNS(null,"stdDeviation",e),l.appendChild(i),(j=this.container.ownerDocument.createElementNS(this.svgNamespace,"feBlend")).setAttributeNS(null,"in","SourceGraphic"),j.setAttributeNS(null,"in2","blurOut"),j.setAttributeNS(null,"mode","normal"),l.appendChild(j),l},this.uniqName=function(){return this.container.id+"_"+Array.prototype.slice.call(arguments).join("_")},this.toStr=function(){var a=Array.prototype.slice.call(arguments).join("");return __TURBOPACK__default__export__3.exists(encodeURIComponent)&&(a=encodeURIComponent(a)),a},this.toURL=function(){return"url(#"+this.toStr.apply(this,arguments)+")"},this.defs.appendChild(this.createShadowFilter(this.uniqName("f1"),"none",1,.1,3,[5,5])),this.layer=[],c=0;c<__TURBOPACK__default__export__25.layer.numlayers;c++)this.layer[c]=this.container.ownerDocument.createElementNS(this.svgNamespace,"g"),this.svgRoot.appendChild(this.layer[c]);try{this.foreignObjLayer=this.container.ownerDocument.createElementNS(this.svgNamespace,"foreignObject"),this.foreignObjLayer.setAttribute("display","none"),this.foreignObjLayer.setAttribute("x",0),this.foreignObjLayer.setAttribute("y",0),this.foreignObjLayer.setAttribute("width","100%"),this.foreignObjLayer.setAttribute("height","100%"),this.foreignObjLayer.setAttribute("id",this.uniqName("foreignObj")),this.svgRoot.appendChild(this.foreignObjLayer),this.supportsForeignObject=!0}catch(a){this.supportsForeignObject=!1}},__TURBOPACK__default__export__.SVGRenderer.prototype=new __TURBOPACK__default__export__26,__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.SVGRenderer.prototype,{_createArrowHead:function(a,b,c){var d,e,f,g,h=a.id+"Triangle";return __TURBOPACK__default__export__3.exists(b)&&(h+=b),__TURBOPACK__default__export__3.exists(c)&&(h+=c),(d=this.createPrim("marker",h)).setAttributeNS(null,"stroke",a.evalVisProp("strokecolor")),d.setAttributeNS(null,"stroke-opacity",a.evalVisProp("strokeopacity")),d.setAttributeNS(null,"fill",a.evalVisProp("strokecolor")),d.setAttributeNS(null,"fill-opacity",a.evalVisProp("strokeopacity")),d.setAttributeNS(null,"stroke-width",0),d.setAttributeNS(null,"orient","auto"),d.setAttributeNS(null,"markerUnits","strokeWidth"),e=this.container.ownerDocument.createElementNS(this.svgNamespace,"path"),g=5,"Start"===b?(f=0,2===c?e.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 L 5,5 z"):3===c?e.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z"):4===c?(g=3.31,e.setAttributeNS(null,"d","M 0.00,3.31 C 3.53,3.84 7.13,4.50 10.00,6.63 C 9.33,5.52 8.67,4.42 8.00,3.31 C 8.67,2.21 9.33,1.10 10.00,0.00 C 7.13,2.13 3.53,2.79 0.00,3.31")):5===c?(g=3.28,e.setAttributeNS(null,"d","M 0.00,3.28 C 3.39,4.19 6.81,5.07 10.00,6.55 C 9.38,5.56 9.00,4.44 9.00,3.28 C 9.00,2.11 9.38,0.99 10.00,0.00 C 6.81,1.49 3.39,2.37 0.00,3.28")):6===c?(g=2.84,e.setAttributeNS(null,"d","M 0.00,2.84 C 3.39,3.59 6.79,4.35 10.00,5.68 C 9.67,4.73 9.33,3.78 9.00,2.84 C 9.33,1.89 9.67,0.95 10.00,0.00 C 6.79,1.33 3.39,2.09 0.00,2.84")):7===c?(g=5.2,e.setAttributeNS(null,"d","M 0.00,5.20 C 4.04,5.20 7.99,6.92 10.00,10.39 M 10.00,0.00 C 7.99,3.47 4.04,5.20 0.00,5.20")):e.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 z"),a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&(f=2===c?4.9:3===c?3.3:4===c||5===c||6===c?6.66:10*(7!==c))):(f=10,2===c?e.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 L 5,5 z"):3===c?(f=3.3,e.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z")):4===c?(g=3.31,e.setAttributeNS(null,"d","M 10.00,3.31 C 6.47,3.84 2.87,4.50 0.00,6.63 C 0.67,5.52 1.33,4.42 2.00,3.31 C 1.33,2.21 0.67,1.10 0.00,0.00 C 2.87,2.13 6.47,2.79 10.00,3.31")):5===c?(g=3.28,e.setAttributeNS(null,"d","M 10.00,3.28 C 6.61,4.19 3.19,5.07 0.00,6.55 C 0.62,5.56 1.00,4.44 1.00,3.28 C 1.00,2.11 0.62,0.99 0.00,0.00 C 3.19,1.49 6.61,2.37 10.00,3.28")):6===c?(g=2.84,e.setAttributeNS(null,"d","M 10.00,2.84 C 6.61,3.59 3.21,4.35 0.00,5.68 C 0.33,4.73 0.67,3.78 1.00,2.84 C 0.67,1.89 0.33,0.95 0.00,0.00 C 3.21,1.33 6.61,2.09 10.00,2.84")):7===c?(g=5.2,e.setAttributeNS(null,"d","M 10.00,5.20 C 5.96,5.20 2.01,6.92 0.00,10.39 M 0.00,0.00 C 2.01,3.47 5.96,5.20 10.00,5.20")):e.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 z"),a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&(f=2===c?5.1:3===c?.02:4===c||5===c||6===c?3.33:7===c?10:.05)),7===c&&(d.setAttributeNS(null,"fill","none"),d.setAttributeNS(null,"stroke-width",1)),d.setAttributeNS(null,"refY",g),d.setAttributeNS(null,"refX",f),d.appendChild(e),d},_setArrowColor:function(a,b,c,d,e){a&&(__TURBOPACK__default__export__3.isString(b)&&(7!==e?this._setAttribute(function(){a.setAttributeNS(null,"stroke",b),a.setAttributeNS(null,"fill",b),a.setAttributeNS(null,"stroke-opacity",c),a.setAttributeNS(null,"fill-opacity",c)},d.visPropOld.fillcolor):this._setAttribute(function(){a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"stroke",b),a.setAttributeNS(null,"stroke-opacity",c)},d.visPropOld.fillcolor)),d.rendNode.parentNode.insertBefore(d.rendNode,d.rendNode))},_setArrowWidth:function(a,b,c,d){var e,f;a&&(f=(e=b)*d,a.setAttributeNS(null,"viewBox","0 0 "+10*e+" "+10*e),a.setAttributeNS(null,"markerHeight",f),a.setAttributeNS(null,"markerWidth",f),a.setAttributeNS(null,"display","inherit"),c.parentNode.insertBefore(c,c))},updateTicks:function(a){var b,c,d,e,f,g,h,i,j="",k=a.ticks.length,l=!0;for(b=0;b<k;b++){for(f=(d=a.ticks[b])[0],g=d[1],h=f.length,i=" M "+f[0]+" "+g[0],__TURBOPACK__default__export__3.isNumber(f[0])||(l=!1),c=1;l&&c<h;++c)__TURBOPACK__default__export__3.isNumber(f[c])?i+=" L "+f[c]+" "+g[c]:l=!1;l&&(j+=i)}e=a.rendNode,__TURBOPACK__default__export__3.exists(e)||(e=this.createPrim("path",a.id),this.appendChildPrim(e,a.evalVisProp("layer")),a.rendNode=e),e.setAttributeNS(null,"stroke",a.evalVisProp("strokecolor")),e.setAttributeNS(null,"fill","none"),e.setAttributeNS(null,"stroke-opacity",a.evalVisProp("strokeopacity")),e.setAttributeNS(null,"stroke-width",a.evalVisProp("strokewidth")),this.updatePathPrim(e,j,a.board)},displayCopyright:function(a,b){var c,d,e=4+1.8*b,f=6+b,g=.2;(c=this.createPrim("text","licenseText")).setAttributeNS(null,"x",e+"px"),c.setAttributeNS(null,"y",f+"px"),c.setAttributeNS(null,"style","font-family:Arial,Helvetica,sans-serif; font-size:"+b+"px; opacity:"+g+";"),c.setAttributeNS(null,"aria-hidden","true"),d=this.container.ownerDocument.createTextNode(a),c.appendChild(d),this.appendChildPrim(c,0)},displayLogo:function(a,b){var c,d=1.5*b,e=.2;(c=this.createPrim("image","licenseLogo")).setAttributeNS(null,"x","5px"),c.setAttributeNS(null,"y","5px"),c.setAttributeNS(null,"width",d+"px"),c.setAttributeNS(null,"height",d+"px"),c.setAttributeNS(null,"preserveAspectRatio","none"),c.setAttributeNS(null,"style","opacity:"+e+";"),c.setAttributeNS(null,"aria-hidden","true"),c.setAttributeNS(this.xlinkNamespace,"xlink:href",a),this.appendChildPrim(c,0)},drawInternalText:function(a){var b=this.createPrim("text",a.id);return b.style.whiteSpace="nowrap",a.rendNodeText=this.container.ownerDocument.createTextNode(""),b.appendChild(a.rendNodeText),this.appendChildPrim(b,a.evalVisProp("layer")),b},updateInternalText:function(a){var b,c,d=a.plaintext,e=a.getAnchorX(),f=a.getAnchorY();c=a.evalVisProp("cssclass"),a.rendNode.getAttributeNS(null,"class")!==c&&(a.rendNode.setAttributeNS(null,"class",c),a.needsSizeUpdate=!0),isNaN(a.coords.scrCoords[1]+a.coords.scrCoords[2])||(b=a.coords.scrCoords[1],a.visPropOld.left!==e+b&&(a.rendNode.setAttributeNS(null,"x",b+"px"),"left"===e?a.rendNode.setAttributeNS(null,"text-anchor","start"):"right"===e?a.rendNode.setAttributeNS(null,"text-anchor","end"):"middle"===e&&a.rendNode.setAttributeNS(null,"text-anchor","middle"),a.visPropOld.left=e+b),b=a.coords.scrCoords[2],a.visPropOld.top!==f+b&&(a.rendNode.setAttributeNS(null,"y",b+.5*this.vOffsetText+"px"),"bottom"===f?(a.rendNode.setAttributeNS(null,"dy","0"),a.rendNode.setAttributeNS(null,"dominant-baseline","auto")):"top"===f?(a.rendNode.setAttributeNS(null,"dy","1.6ex"),a.rendNode.setAttributeNS(null,"dominant-baseline","auto")):"middle"===f&&(a.rendNode.setAttributeNS(null,"dy","0.6ex"),a.rendNode.setAttributeNS(null,"dominant-baseline","auto")),a.visPropOld.top=f+b)),a.htmlStr!==d&&(a.rendNodeText.data=d,a.htmlStr=d),this.transformRect(a,a.transformations)},updateInternalTextStyle:function(a,b,c,d){this.setObjectFillColor(a,b,c)},drawImage:function(a){var b=this.createPrim("image",a.id);b.setAttributeNS(null,"preserveAspectRatio","none"),this.appendChildPrim(b,a.evalVisProp("layer")),a.rendNode=b,this.updateImage(a)},transformRect:function(a,b){var c,d,e,f,g,h="";if(b.length>0&&(e=a.rendNode,-1===(c=[(d=this.joinTransforms(a,b))[1][1],d[2][1],d[1][2],d[2][2],d[1][0],d[2][0]].join(",")).indexOf("NaN")))if(h+=" matrix("+c+") ",a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT&&"html"===a.visProp.display){switch(e.style.transform=h,f=-a.coords.scrCoords[1],g=-a.coords.scrCoords[2],a.evalVisProp("anchorx")){case"right":f+=a.size[0];break;case"middle":f+=.5*a.size[0]}switch(a.evalVisProp("anchory")){case"bottom":g+=a.size[1];break;case"middle":g+=.5*a.size[1]}e.style["transform-origin"]=f+"px "+g+"px"}else e.setAttributeNS(null,"transform",h)},updateImageURL:function(a){var b=a.eval(a.url);return a._src!==b&&(a.imgIsLoaded=!1,a.rendNode.setAttributeNS(this.xlinkNamespace,"xlink:href",b),a._src=b,!0)},updateImageStyle:function(a,b){var c=a.evalVisProp(b?"highlightcssclass":"cssclass");a.rendNode.setAttributeNS(null,"class",c)},drawForeignObject:function(a){a.rendNode=this.appendChildPrim(this.createPrim("foreignObject",a.id),a.evalVisProp("layer")),this.appendNodesToElement(a,"foreignObject"),this.updateForeignObject(a)},updateForeignObject:function(a){a._useUserSize?a.rendNode.style.overflow="hidden":a.rendNode.style.overflow="visible",this.updateRectPrim(a.rendNode,a.coords.scrCoords[1],a.coords.scrCoords[2]-a.size[1],a.size[0],a.size[1]),!0===a.evalVisProp("evaluateOnlyOnce")&&a.renderedOnce||(a.rendNode.innerHTML=a.content,a.renderedOnce=!0),this._updateVisual(a,{stroke:!0,dash:!0},!0)},appendChildPrim:function(a,b){return __TURBOPACK__default__export__3.exists(b)?b>=__TURBOPACK__default__export__25.layer.numlayers&&(b=__TURBOPACK__default__export__25.layer.numlayers-1):b=0,this.layer[b].appendChild(a),a},createPrim:function(a,b){var c=this.container.ownerDocument.createElementNS(this.svgNamespace,a);return c.setAttributeNS(null,"id",this.uniqName(b)),c.style.position="absolute","path"===a&&(c.setAttributeNS(null,"stroke-linecap","round"),c.setAttributeNS(null,"stroke-linejoin","round"),c.setAttributeNS(null,"fill-rule","evenodd")),c},remove:function(a){__TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.parentNode)&&a.parentNode.removeChild(a)},setLayer:function(a,b){__TURBOPACK__default__export__3.exists(b)?b>=__TURBOPACK__default__export__25.layer.numlayers&&(b=__TURBOPACK__default__export__25.layer.numlayers-1):b=0,this.layer[b].appendChild(a.rendNode)},makeArrows:function(a,b){var c,d,e=b.evFirst,f=b.evLast;if(this.isIE&&a.visPropCalc.visible&&(e||f))return void a.rendNode.parentNode.insertBefore(a.rendNode,a.rendNode);c=a.rendNodeTriangleStart,e?(d=this.toStr(this.container.id,"_",a.id,"TriangleStart",b.typeFirst),__TURBOPACK__default__export__3.exists(c)&&c.id===d||(null===(c=this.container.ownerDocument.getElementById(d))&&(c=this._createArrowHead(a,"Start",b.typeFirst),this.defs.appendChild(c)),a.rendNodeTriangleStart=c,a.rendNode.setAttributeNS(null,"marker-start",this.toURL(d)))):(__TURBOPACK__default__export__3.exists(c)&&(this.remove(c),a.rendNodeTriangleStart=null),a.rendNode.setAttributeNS(null,"marker-start",null)),c=a.rendNodeTriangleEnd,f?(d=this.toStr(this.container.id,"_",a.id,"TriangleEnd",b.typeLast),__TURBOPACK__default__export__3.exists(c)&&c.id===d||(null===(c=this.container.ownerDocument.getElementById(d))&&(c=this._createArrowHead(a,"End",b.typeLast),this.defs.appendChild(c)),a.rendNodeTriangleEnd=c,a.rendNode.setAttributeNS(null,"marker-end",this.toURL(d)))):(__TURBOPACK__default__export__3.exists(c)&&(this.remove(c),a.rendNodeTriangleEnd=null),a.rendNode.setAttributeNS(null,"marker-end",null))},updateEllipsePrim:function(a,b,c,d,e){var f=1e6;b=Math.abs(b)<(f=2e5)?b:f*b/Math.abs(b),c=Math.abs(c)<f?c:f*c/Math.abs(c),d=Math.abs(d)<f?d:f*d/Math.abs(d),e=Math.abs(e)<f?e:f*e/Math.abs(e),a.setAttributeNS(null,"cx",b),a.setAttributeNS(null,"cy",c),a.setAttributeNS(null,"rx",Math.abs(d)),a.setAttributeNS(null,"ry",Math.abs(e))},updateLinePrim:function(a,b,c,d,e){var f=1e6;f=2e5,isNaN(b+c+d+e)||(b=Math.abs(b)<f?b:f*b/Math.abs(b),c=Math.abs(c)<f?c:f*c/Math.abs(c),d=Math.abs(d)<f?d:f*d/Math.abs(d),e=Math.abs(e)<f?e:f*e/Math.abs(e),a.setAttributeNS(null,"x1",b),a.setAttributeNS(null,"y1",c),a.setAttributeNS(null,"x2",d),a.setAttributeNS(null,"y2",e))},updatePathPrim:function(a,b){""===b&&(b="M 0 0"),a.setAttributeNS(null,"d",b)},updatePathStringPoint:function(a,b,c){var d="",e=a.coords.scrCoords,f=b*Math.sqrt(3)*.5,g=.5*b;return"x"===c?d=" M "+(e[1]-b)+" "+(e[2]-b)+" L "+(e[1]+b)+" "+(e[2]+b)+" M "+(e[1]+b)+" "+(e[2]-b)+" L "+(e[1]-b)+" "+(e[2]+b):"+"===c?d=" M "+(e[1]-b)+" "+e[2]+" L "+(e[1]+b)+" "+e[2]+" M "+e[1]+" "+(e[2]-b)+" L "+e[1]+" "+(e[2]+b):"|"===c?d=" M "+e[1]+" "+(e[2]-b)+" L "+e[1]+" "+(e[2]+b):"-"===c?d=" M "+(e[1]-b)+" "+e[2]+" L "+(e[1]+b)+" "+e[2]:"<>"===c||"<<>>"===c?("<<>>"===c&&(b*=1.41),d=" M "+(e[1]-b)+" "+e[2]+" L "+e[1]+" "+(e[2]+b)+" L "+(e[1]+b)+" "+e[2]+" L "+e[1]+" "+(e[2]-b)+" Z "):"^"===c?d=" M "+e[1]+" "+(e[2]-b)+" L "+(e[1]-f)+" "+(e[2]+g)+" L "+(e[1]+f)+" "+(e[2]+g)+" Z ":"v"===c?d=" M "+e[1]+" "+(e[2]+b)+" L "+(e[1]-f)+" "+(e[2]-g)+" L "+(e[1]+f)+" "+(e[2]-g)+" Z ":">"===c?d=" M "+(e[1]+b)+" "+e[2]+" L "+(e[1]-g)+" "+(e[2]-f)+" L "+(e[1]-g)+" "+(e[2]+f)+" Z ":"<"===c&&(d=" M "+(e[1]-b)+" "+e[2]+" L "+(e[1]+g)+" "+(e[2]-f)+" L "+(e[1]+g)+" "+(e[2]+f)+" Z "),d},updatePathStringPrim:function(a){var b,c,d,e=" M ",f=" L ",g=" C ",h=e,i=5e3,j="";if(a.numberPoints<=0)return"";if(d=Math.min(a.points.length,a.numberPoints),1===a.bezierDegree)for(b=0;b<d;b++)isNaN((c=a.points[b].scrCoords)[1])||isNaN(c[2])?h=e:(c[1]=Math.max(Math.min(c[1],i),-i),c[2]=Math.max(Math.min(c[2],i),-i),j+=h+c[1]+" "+c[2],h=f);else if(3===a.bezierDegree)for(b=0;b<d;)isNaN((c=a.points[b].scrCoords)[1])||isNaN(c[2])?h=e:(j+=h+c[1]+" "+c[2],h===g&&(b+=1,j+=" "+(c=a.points[b].scrCoords)[1]+" "+c[2],b+=1,j+=" "+(c=a.points[b].scrCoords)[1]+" "+c[2]),h=g),b+=1;return j},updatePathStringBezierPrim:function(a){var b,c,d,e,f,g,h,i=" M ",j=" C ",k=i,l=5e3,m="",n=a.evalVisProp("strokewidth"),o="plot"!==a.evalVisProp("curvetype");if(a.numberPoints<=0)return"";for(o&&a.board.options.curve.RDPsmoothing&&(a.points=__TURBOPACK__default__export__13.RamerDouglasPeucker(a.points,.5)),h=Math.min(a.points.length,a.numberPoints),c=1;c<3;c++)for(b=0,k=i;b<h;b++)isNaN((e=a.points[b].scrCoords)[1])||isNaN(e[2])?k=i:(e[1]=Math.max(Math.min(e[1],l),-l),e[2]=Math.max(Math.min(e[2],l),-l),k===i?m+=k+e[1]+" "+e[2]:(d=2*c,m+=""+k+(f+(e[1]-f)*.333+n*(d*Math.random()-c))+" "+(g+(e[2]-g)*.333+n*(d*Math.random()-c))+" "+(f+(e[1]-f)*.666+n*(d*Math.random()-c))+" "+(g+(e[2]-g)*.666+n*(d*Math.random()-c))+" "+e[1]+" "+e[2]),k=j,f=e[1],g=e[2]);return m},updatePolygonPrim:function(a,b){var c,d,e="",f=b.vertices.length;for(a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"fill-rule","evenodd"),"polygonalchain"===b.elType&&f++,c=0;c<f-1;c++){if(!b.vertices[c].isReal)return void a.setAttributeNS(null,"points","");e=e+(d=b.vertices[c].coords.scrCoords)[1]+","+d[2],c<f-2&&(e+=" ")}-1===e.indexOf("NaN")&&a.setAttributeNS(null,"points",e)},updateRectPrim:function(a,b,c,d,e){a.setAttributeNS(null,"x",b),a.setAttributeNS(null,"y",c),a.setAttributeNS(null,"width",d),a.setAttributeNS(null,"height",e)},_setAttribute:function(a,b){""===b?a():window.setTimeout(a,1)},display:function(a,b){var c;a&&a.rendNode&&(a.visPropOld.visible=b,c=a.rendNode,b?(c.setAttributeNS(null,"display","inline"),c.style.visibility="inherit"):(c.setAttributeNS(null,"display","none"),c.style.visibility="hidden"))},hide:function(a){__TURBOPACK__default__export__.deprecated("Board.renderer.hide()","Board.renderer.display()"),this.display(a,!1)},setARIA:function(a){var b,c,d;for(b in a.visProp.aria)a.visProp.aria.hasOwnProperty(b)&&"enabled"!==b&&(c="aria."+b,d=a.evalVisProp("aria."+b),a.visPropOld[c]!==d&&(this.setPropertyPrim(a.rendNode,"aria-"+b,d),a.visPropOld[c]=d))},setBuffering:function(a,b){a.rendNode.setAttribute("buffered-rendering",b)},setCssClass(a,b){a.visPropOld.cssclass!==b&&(this.setPropertyPrim(a.rendNode,"class",b),a.visPropOld.cssclass=b)},setDashStyle:function(a){var b=a.evalVisProp("dash"),c=a.evalVisProp("dashscale")?.5*a.evalVisProp("strokewidth"):1,d=a.rendNode;b>0?d.setAttributeNS(null,"stroke-dasharray",this.dashArray[b-1].map(function(a){return a*c}).join(",")):d.hasAttributeNS(null,"stroke-dasharray")&&d.removeAttributeNS(null,"stroke-dasharray")},setGradient:function(a){var b,c,d,e=a.rendNode,f=a.evalVisProp("gradient");"linear"===f||"radial"===f?(b=this.createPrim(f+"Gradient",a.id+"_gradient"),c=this.createPrim("stop",a.id+"_gradient1"),d=this.createPrim("stop",a.id+"_gradient2"),b.appendChild(c),b.appendChild(d),this.defs.appendChild(b),e.setAttributeNS(null,"style","fill:"+this.toURL(this.container.id+"_"+a.id+"_gradient")),a.gradNode1=c,a.gradNode2=d,a.gradNode=b):e.removeAttributeNS(null,"style")},setLineCap:function(a){var b=a.evalVisProp("linecap");void 0!==b&&""!==b&&a.visPropOld.linecap!==b&&__TURBOPACK__default__export__3.exists(a.rendNode)&&(this.setPropertyPrim(a.rendNode,"stroke-linecap",b),a.visPropOld.linecap=b)},setObjectFillColor:function(a,b,c,d){var e,f,g,h,i=b,j=c,k=a.evalVisProp("gradient");j=j>0?j:0,(a.visPropOld.fillcolor!==i||a.visPropOld.fillopacity!==j||null!==k)&&(__TURBOPACK__default__export__3.exists(i)&&!1!==i&&(9!==i.length?(f=i,h=j):(f=(g=__TURBOPACK__default__export__24.rgba2rgbo(i))[0],h=j*g[1]),e=void 0===d?a.rendNode:d,"none"!==f&&""!==f&&!1!==f&&this._setAttribute(function(){e.setAttributeNS(null,"fill",f)},a.visPropOld.fillcolor),a.type===__TURBOPACK__default__export__.OBJECT_TYPE_IMAGE?this._setAttribute(function(){e.setAttributeNS(null,"opacity",h)},a.visPropOld.fillopacity):("none"===f?(h=0,e.setAttributeNS(null,"pointer-events","visibleStroke")):e.setAttributeNS(null,"pointer-events","visiblePainted"),this._setAttribute(function(){e.setAttributeNS(null,"fill-opacity",h)},a.visPropOld.fillopacity)),("linear"===k||"radial"===k)&&this.updateGradient(a)),a.visPropOld.fillcolor=i,a.visPropOld.fillopacity=j)},setObjectStrokeColor:function(a,b,c){var d,e,f,g,h=b,i=c;i=i>0?i:0,(a.visPropOld.strokecolor!==h||a.visPropOld.strokeopacity!==i)&&(__TURBOPACK__default__export__3.exists(h)&&!1!==h&&(9!==h.length?(d=h,f=i):(d=(e=__TURBOPACK__default__export__24.rgba2rgbo(h))[0],f=i*e[1]),g=a.rendNode,a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT?"html"===a.evalVisProp("display")?this._setAttribute(function(){g.style.color=d,g.style.opacity=f},a.visPropOld.strokecolor):this._setAttribute(function(){g.setAttributeNS(null,"style","fill:"+d),g.setAttributeNS(null,"style","fill-opacity:"+f)},a.visPropOld.strokecolor):this._setAttribute(function(){g.setAttributeNS(null,"stroke",d),g.setAttributeNS(null,"stroke-opacity",f)},a.visPropOld.strokecolor),(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE||a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)&&(a.evalVisProp("firstarrow")&&this._setArrowColor(a.rendNodeTriangleStart,d,f,a,a.visPropCalc.typeFirst),a.evalVisProp("lastarrow")&&this._setArrowColor(a.rendNodeTriangleEnd,d,f,a,a.visPropCalc.typeLast))),a.visPropOld.strokecolor=h,a.visPropOld.strokeopacity=i)},setObjectStrokeWidth:function(a,b){var c,d=b;isNaN(d)||a.visPropOld.strokewidth===d||(c=a.rendNode,this.setPropertyPrim(c,"stroked","true"),__TURBOPACK__default__export__3.exists(d)&&this.setPropertyPrim(c,"stroke-width",d+"px"),a.visPropOld.strokewidth=d)},setObjectTransition:function(a,b){var c,d,e,f=[],g=0,h=["rendNode","rendNodeTriangleStart","rendNodeTriangleEnd"];if(void 0===b&&(b=a.evalVisProp("transitionduration")),c=a.evalVisProp("transitionproperties"),b!==a.visPropOld.transitionduration||c!==a.visPropOld.transitionproperties){for(__TURBOPACK__default__export__3.exists(c)&&(g=c.length),e=0;e<g;e++)f.push(c[e]+" "+b+"ms");for(e=0,d=f.join(", "),g=h.length;e<g;++e)a[h[e]]&&(a[h[e]].style.transition=d);a.visPropOld.transitionduration=b,a.visPropOld.transitionproperties=c}},setShadow:function(a){var b,c,d,e,f,g,h,i,j=a.evalVisProp("shadow"),k=!0,l=!1;(b=JSON.stringify(j))!==a.visPropOld.shadow&&("boolean"==typeof j?(k=!0,l=j,c="none",d=3,e=.1,f=[5,5],g=1):a.evalVisProp("shadow.enabled")?(k=!1,l=!0,c=__TURBOPACK__default__export__.rgbParser(a.evalVisProp("shadow.color")),d=a.evalVisProp("shadow.blur"),e=a.evalVisProp("shadow.blend"),f=a.evalVisProp("shadow.offset"),g=a.evalVisProp("shadow.opacity")):l=!1,__TURBOPACK__default__export__3.exists(a.rendNode)&&(l?k?a.rendNode.setAttributeNS(null,"filter",this.toURL(this.container.id+"_f1")):((i=this.container.ownerDocument.getElementById(h))&&this.defs.removeChild(i),h=a.rendNode.id+"_f1",this.defs.appendChild(this.createShadowFilter(h,c,g,e,d,f)),a.rendNode.setAttributeNS(null,"filter",this.toURL(h))):a.rendNode.removeAttributeNS(null,"filter")),a.visPropOld.shadow=b)},setTabindex:function(a){var b;a.board.attr.keyboard.enabled&&__TURBOPACK__default__export__3.exists(a.rendNode)&&(b=a.evalVisProp("tabindex"),a.visPropCalc.visible||(b=null),b!==a.visPropOld.tabindex&&(a.rendNode.setAttribute("tabindex",b),a.visPropOld.tabindex=b))},setPropertyPrim:function(a,b,c){"stroked"!==b&&a.setAttributeNS(null,b,c)},show:function(a){__TURBOPACK__default__export__.deprecated("Board.renderer.show()","Board.renderer.display()"),this.display(a,!0)},updateGradient:function(a){var b,c,d=a.gradNode1,e=a.gradNode2,f=a.evalVisProp("gradient");__TURBOPACK__default__export__3.exists(d)&&__TURBOPACK__default__export__3.exists(e)&&(c=(c=a.evalVisProp("fillopacity"))>0?c:0,b=a.evalVisProp("fillcolor"),d.setAttributeNS(null,"style","stop-color:"+b+";stop-opacity:"+c),e.setAttributeNS(null,"style","stop-color:"+a.evalVisProp("gradientsecondcolor")+";stop-opacity:"+a.evalVisProp("gradientsecondopacity")),d.setAttributeNS(null,"offset",100*a.evalVisProp("gradientstartoffset")+"%"),e.setAttributeNS(null,"offset",100*a.evalVisProp("gradientendoffset")+"%"),"linear"===f?this.updateGradientAngle(a.gradNode,a.evalVisProp("gradientangle")):"radial"===f&&this.updateGradientCircle(a.gradNode,a.evalVisProp("gradientcx"),a.evalVisProp("gradientcy"),a.evalVisProp("gradientr"),a.evalVisProp("gradientfx"),a.evalVisProp("gradientfy"),a.evalVisProp("gradientfr")))},updateGradientAngle:function(a,b){var c=1,d=Math.cos(b),e=Math.sin(b);Math.abs(d)>Math.abs(e)?c/=Math.abs(d):c/=Math.abs(e),d>=0?(a.setAttributeNS(null,"x1",0),a.setAttributeNS(null,"x2",d*c)):(a.setAttributeNS(null,"x1",-d*c),a.setAttributeNS(null,"x2",0)),e>=0?(a.setAttributeNS(null,"y1",0),a.setAttributeNS(null,"y2",e*c)):(a.setAttributeNS(null,"y1",-e*c),a.setAttributeNS(null,"y2",0))},updateGradientCircle:function(a,b,c,d,e,f,g){a.setAttributeNS(null,"cx",100*b+"%"),a.setAttributeNS(null,"cy",100*c+"%"),a.setAttributeNS(null,"r",100*d+"%"),a.setAttributeNS(null,"fx",100*e+"%"),a.setAttributeNS(null,"fy",100*f+"%"),a.setAttributeNS(null,"fr",100*g+"%")},suspendRedraw:function(){this.suspendHandle=this.svgRoot.suspendRedraw(1e4)},unsuspendRedraw:function(){this.svgRoot.unsuspendRedraw(this.suspendHandle)},resize:function(a,b){this.svgRoot.setAttribute("width",parseFloat(a)),this.svgRoot.setAttribute("height",parseFloat(b))},createTouchpoints:function(a){var b,c,d,e;for(b=0,this.touchpoints=[];b<a;b++)c="touchpoint1_"+b,e=this.createPrim("path",c),this.appendChildPrim(e,19),e.setAttributeNS(null,"d","M 0 0"),this.touchpoints.push(e),this.setPropertyPrim(e,"stroked","true"),this.setPropertyPrim(e,"stroke-width","1px"),e.setAttributeNS(null,"stroke","#000000"),e.setAttributeNS(null,"stroke-opacity",1),e.setAttributeNS(null,"display","none"),d="touchpoint2_"+b,e=this.createPrim("ellipse",d),this.appendChildPrim(e,19),this.updateEllipsePrim(e,0,0,0,0),this.touchpoints.push(e),this.setPropertyPrim(e,"stroked","true"),this.setPropertyPrim(e,"stroke-width","1px"),e.setAttributeNS(null,"stroke","#000000"),e.setAttributeNS(null,"stroke-opacity",1),e.setAttributeNS(null,"fill","#ffffff"),e.setAttributeNS(null,"fill-opacity",0),e.setAttributeNS(null,"display","none")},showTouchpoint:function(a){this.touchpoints&&a>=0&&2*a<this.touchpoints.length&&(this.touchpoints[2*a].setAttributeNS(null,"display","inline"),this.touchpoints[2*a+1].setAttributeNS(null,"display","inline"))},hideTouchpoint:function(a){this.touchpoints&&a>=0&&2*a<this.touchpoints.length&&(this.touchpoints[2*a].setAttributeNS(null,"display","none"),this.touchpoints[2*a+1].setAttributeNS(null,"display","none"))},updateTouchpoint:function(a,b){var c,d,e=37;this.touchpoints&&a>=0&&2*a<this.touchpoints.length&&(c=b[0],d=b[1],this.touchpoints[2*a].setAttributeNS(null,"d","M "+(c-e)+" "+d+" L "+(c+e)+" "+d+" M "+c+" "+(d-e)+" L "+c+" "+(d+e)),this.updateEllipsePrim(this.touchpoints[2*a+1],b[0],b[1],25,25))},_getValuesOfDOMElements:function(a){var b=[];if(1===a.nodeType)for(a=a.firstChild;a;)void 0!==a.id&&void 0!==a.value&&b.push([a.id,a.value]),__TURBOPACK__default__export__3.concat(b,this._getValuesOfDOMElements(a)),a=a.nextSibling;return b},_getImgDataURL:function(a){var b,c,d,e,f,g;if((c=(b=a.getElementsByTagName("image")).length)>0)for(g=0,d=document.createElement("canvas");g<c;g++){b[g].setAttribute("crossorigin","anonymous"),e=d.getContext("2d"),d.width=b[g].getAttribute("width"),d.height=b[g].getAttribute("height");try{e.drawImage(b[g],0,0,d.width,d.height),f=d.toDataURL(),b[g].setAttribute("xlink:href",f)}catch(a){console.log("CORS problem! Image can not be used",a)}}return!0},dumpToDataURI:function(a){var b,c,d,e=this.svgRoot,f=window.btoa||__TURBOPACK__default__export__28.encode,g=[];if(this.container.hasChildNodes()&&__TURBOPACK__default__export__3.exists(this.foreignObjLayer))for(a||this.foreignObjLayer.setAttribute("display","inline");e.nextSibling;)__TURBOPACK__default__export__3.concat(g,this._getValuesOfDOMElements(e.nextSibling)),this.foreignObjLayer.appendChild(e.nextSibling);if(this._getImgDataURL(e),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),b=new XMLSerializer().serializeToString(e),!0!==a)for(c=0,d=g.length;c<d;c++)b=b.replace('id="'+g[c][0]+'"','id="'+g[c][0]+'" value="'+g[c][1]+'"');if(this.isIE&&(b.match(/xmlns="http:\/\/www.w3.org\/2000\/svg"\s+xmlns="http:\/\/www.w3.org\/2000\/svg"/g)||[]).length>1&&(b=b.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"\s+xmlns="http:\/\/www.w3.org\/2000\/svg"/g,"")),b=b.replace(/&nbsp;/g," "),__TURBOPACK__default__export__3.exists(this.foreignObjLayer)&&this.foreignObjLayer.hasChildNodes()){for(;this.foreignObjLayer.firstChild;)this.container.appendChild(this.foreignObjLayer.firstChild);this.foreignObjLayer.setAttribute("display","none")}return"data:image/svg+xml;base64,"+f(unescape(encodeURIComponent(b)))},dumpToCanvas:function(a,b,c,d){var e,f,g;return((f=this.container.ownerDocument.getElementById(a)).width=f.width,g=f.getContext("2d"),void 0!==b&&void 0!==c&&(f.style.width=parseFloat(b)+"px",f.style.height=parseFloat(c)+"px",f.setAttribute("width",parseFloat(b)),f.setAttribute("height",parseFloat(c))),(e=new Image).src=this.dumpToDataURI(d),"Promise"in window)?new Promise(function(a,d){try{e.onload=function(){g.drawImage(e,0,0,b,c),a()}}catch(a){d(a)}}):(e.onload=function(){window.setTimeout(function(){try{g.drawImage(e,0,0,b,c)}catch(a){console.log("screenshots not longer supported on IE")}},200)},this)},screenshot:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=this.container.ownerDocument,q=this.container.parentNode,r=a.attr.screenshot,s=!1;return"no"===this.type||(j=r.scale*this.container.getBoundingClientRect().width,k=r.scale*this.container.getBoundingClientRect().height,void 0===b||""===b?(s=!0,(g=new Image).style.width=j+"px",g.style.height=k+"px"):(s=!1,g=p.getElementById(b)),s&&((d=p.createElement("div")).style.cssText=r.css,d.style.width=j+"px",d.style.height=k+"px",d.style.zIndex=this.container.style.zIndex+120,d.style.position="absolute",d.style.top=this.container.offsetTop+"px",d.style.left=this.container.offsetLeft+"px"),e=p.createElement("canvas"),f=Math.random().toString(36).slice(2,7),e.setAttribute("id",f),e.setAttribute("width",j),e.setAttribute("height",k),e.style.width=j+"px",e.style.height=j+"px",e.style.display="none",q.appendChild(e),s&&(h=p.createElement("span"),i=p.createTextNode("â"),h.style.cssText=r.cssButton,h.appendChild(i),h.onclick=function(){d.parentNode.removeChild(d)},d.appendChild(g),d.appendChild(h),q.insertBefore(d,this.container.nextSibling)),l=p.getElementById(this.uniqName("navigationbar")),__TURBOPACK__default__export__3.exists(l)&&(m=l.style.display,l.style.display="none",n=this.removeToInsertLater(l)),o=function(){g.src=e.toDataURL("image/png"),q.removeChild(e)},"Promise"in window?this.dumpToCanvas(f,j,k,c).then(o):(this.dumpToCanvas(f,j,k,c),window.setTimeout(o,200)),__TURBOPACK__default__export__3.exists(l)&&(l.style.display=m,n())),this}});let __TURBOPACK__default__export__37=__TURBOPACK__default__export__.SVGRenderer;__TURBOPACK__default__export__.VMLRenderer=function(a){this.type="vml",this.container=a,this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.container.onselectstart=function(){return!1},this.resolution=10,__TURBOPACK__default__export__3.exists(__TURBOPACK__default__export__.vmlStylesheet)||(a.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),__TURBOPACK__default__export__.vmlStylesheet=this.container.ownerDocument.createStyleSheet(),__TURBOPACK__default__export__.vmlStylesheet.addRule(".jxgvml","behavior:url(#default#VML)"));try{a.ownerDocument.namespaces.jxgvml||a.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),this.createNode=function(b){return a.ownerDocument.createElement("<jxgvml:"+b+' class="jxgvml">')}}catch(b){this.createNode=function(b){return a.ownerDocument.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="jxgvml">')}}this.dashArray=["Solid","1 1","ShortDash","Dash","LongDash","ShortDashDot","LongDashDot"]},__TURBOPACK__default__export__.VMLRenderer.prototype=new __TURBOPACK__default__export__26,__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.VMLRenderer.prototype,{_setAttr:function(a,b,c,d){try{8===this.container.ownerDocument.documentMode?a[b]=c:a.setAttribute(b,c,d)}catch(a){__TURBOPACK__default__export__.debug("_setAttr: "+b+" "+c+"<br>\n")}},updateTicks:function(a){var b,c,d,e,f,g=this.resolution,h=[];for(b=0,c=a.ticks.length;b<c;b++)e=(d=a.ticks[b])[0],f=d[1],__TURBOPACK__default__export__3.isNumber(e[0])&&__TURBOPACK__default__export__3.isNumber(e[1])&&h.push(" m "+Math.round(g*e[0])+", "+Math.round(g*f[0])+" l "+Math.round(g*e[1])+", "+Math.round(g*f[1])+" ");__TURBOPACK__default__export__3.exists(a.rendNode)||(a.rendNode=this.createPrim("path",a.id),this.appendChildPrim(a.rendNode,a.evalVisProp("layer"))),this._setAttr(a.rendNode,"stroked","true"),this._setAttr(a.rendNode,"strokecolor",a.evalVisProp("strokecolor"),1),this._setAttr(a.rendNode,"strokeweight",a.evalVisProp("strokewidth")),this._setAttr(a.rendNodeStroke,"opacity",100*a.evalVisProp("strokeopacity")+"%"),this.updatePathPrim(a.rendNode,h,a.board)},displayCopyright:function(a,b){var c,d;(c=this.createNode("textbox")).style.position="absolute",this._setAttr(c,"id",this.container.id+"_licenseText"),c.style.left=20,c.style.top=2,c.style.fontSize=b,c.style.color="#356AA0",c.style.fontFamily="Arial,Helvetica,sans-serif",this._setAttr(c,"opacity","30%"),c.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 30, enabled = true)",d=this.container.ownerDocument.createTextNode(a),c.appendChild(d),this.appendChildPrim(c,0)},drawInternalText:function(a){var b;return(b=this.createNode("textbox")).style.position="absolute",a.rendNodeText=this.container.ownerDocument.createTextNode(""),b.appendChild(a.rendNodeText),this.appendChildPrim(b,9),b.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",b},updateInternalText:function(a){var b,c,d,e,f,g,h=a.plaintext,i=this.joinTransforms(a,a.transformations),j=[0,0],k=a.rendNode,l=[],m=a.getAnchorX(),n=a.getAnchorY();if(!isNaN(a.coords.scrCoords[1]+a.coords.scrCoords[2])){for("right"===m?j[0]=1:"middle"===m&&(j[0]=.5),"bottom"===n?j[1]=1:"middle"===n&&(j[1]=.5),l[0]=__TURBOPACK__default__export__2.matVecMult(i,[1,a.coords.scrCoords[1]-j[0]*a.size[0],a.coords.scrCoords[2]+(1-j[1])*a.size[1]+this.vOffsetText]),l[0][1]/=l[0][0],l[0][2]/=l[0][0],l[1]=__TURBOPACK__default__export__2.matVecMult(i,[1,a.coords.scrCoords[1]+(1-j[0])*a.size[0],a.coords.scrCoords[2]+(1-j[1])*a.size[1]+this.vOffsetText]),l[1][1]/=l[1][0],l[1][2]/=l[1][0],l[2]=__TURBOPACK__default__export__2.matVecMult(i,[1,a.coords.scrCoords[1]+(1-j[0])*a.size[0],a.coords.scrCoords[2]-j[1]*a.size[1]+this.vOffsetText]),l[2][1]/=l[2][0],l[2][2]/=l[2][0],l[3]=__TURBOPACK__default__export__2.matVecMult(i,[1,a.coords.scrCoords[1]-j[0]*a.size[0],a.coords.scrCoords[2]-j[1]*a.size[1]+this.vOffsetText]),l[3][1]/=l[3][0],l[3][2]/=l[3][0],c=l[0][1],e=l[0][1],d=l[0][2],f=l[0][2],g=1;g<4;g++)c=Math.max(c,l[g][1]),e=Math.min(e,l[g][1]),d=Math.max(d,l[g][2]),f=Math.min(f,l[g][2]);b=1===j[0]?Math.floor(a.board.canvasWidth-c):Math.floor(e),a.visPropOld.left!==m+b&&(1===j[0]?(a.rendNode.style.right=b+"px",a.rendNode.style.left="auto"):(a.rendNode.style.left=b+"px",a.rendNode.style.right="auto"),a.visPropOld.left=m+b),b=1===j[1]?Math.floor(a.board.canvasHeight-d):Math.floor(f),a.visPropOld.top!==n+b&&(1===j[1]?(a.rendNode.style.bottom=b+"px",a.rendNode.style.top="auto"):(a.rendNode.style.top=b+"px",a.rendNode.style.bottom="auto"),a.visPropOld.top=n+b)}a.htmlStr!==h&&(a.rendNodeText.data=h,a.htmlStr=h),k.filters.item(0).M11=i[1][1],k.filters.item(0).M12=i[1][2],k.filters.item(0).M21=i[2][1],k.filters.item(0).M22=i[2][2],k.filters.item(0).enabled=!0},drawImage:function(a){var b;(b=this.container.ownerDocument.createElement("img")).style.position="absolute",this._setAttr(b,"id",this.container.id+"_"+a.id),this.container.appendChild(b),this.appendChildPrim(b,a.evalVisProp("layer")),b.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand') progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",a.rendNode=b,this.updateImage(a)},transformRect:function(a,b){var c,d,e,f,g,h,i=a.rendNode,j=[];if(b.length>0){for(c=this.joinTransforms(a,b),j[0]=__TURBOPACK__default__export__2.matVecMult(c,a.coords.scrCoords),j[0][1]/=j[0][0],j[0][2]/=j[0][0],j[1]=__TURBOPACK__default__export__2.matVecMult(c,[1,a.coords.scrCoords[1]+a.size[0],a.coords.scrCoords[2]]),j[1][1]/=j[1][0],j[1][2]/=j[1][0],j[2]=__TURBOPACK__default__export__2.matVecMult(c,[1,a.coords.scrCoords[1]+a.size[0],a.coords.scrCoords[2]-a.size[1]]),j[2][1]/=j[2][0],j[2][2]/=j[2][0],j[3]=__TURBOPACK__default__export__2.matVecMult(c,[1,a.coords.scrCoords[1],a.coords.scrCoords[2]-a.size[1]]),j[3][1]/=j[3][0],j[3][2]/=j[3][0],d=j[0][1],f=j[0][1],e=j[0][2],g=j[0][2],h=1;h<4;h++)d=Math.max(d,j[h][1]),f=Math.min(f,j[h][1]),e=Math.max(e,j[h][2]),g=Math.min(g,j[h][2]);i.style.left=Math.floor(f)+"px",i.style.top=Math.floor(g)+"px",i.filters.item(0).M11=c[1][1],i.filters.item(0).M12=c[1][2],i.filters.item(0).M21=c[2][1],i.filters.item(0).M22=c[2][2],i.filters.item(0).enabled=!0}},updateImageURL:function(a){var b=a.eval(a.url);this._setAttr(a.rendNode,"src",b)},appendChildPrim:function(a,b){return __TURBOPACK__default__export__3.exists(b)||(b=0),a.style.zIndex=b,this.container.appendChild(a),a},appendNodesToElement:function(a,b){("shape"===b||"path"===b||"polygon"===b)&&(a.rendNodePath=this.getElementById(a.id+"_path")),a.rendNodeFill=this.getElementById(a.id+"_fill"),a.rendNodeStroke=this.getElementById(a.id+"_stroke"),a.rendNodeShadow=this.getElementById(a.id+"_shadow"),a.rendNode=this.getElementById(a.id)},createPrim:function(a,b){var c,d,e=this.createNode("fill"),f=this.createNode("stroke"),g=this.createNode("shadow");return this._setAttr(e,"id",this.container.id+"_"+b+"_fill"),this._setAttr(f,"id",this.container.id+"_"+b+"_stroke"),this._setAttr(g,"id",this.container.id+"_"+b+"_shadow"),"circle"===a||"ellipse"===a?((c=this.createNode("oval")).appendChild(e),c.appendChild(f),c.appendChild(g)):"polygon"===a||"path"===a||"shape"===a||"line"===a?((c=this.createNode("shape")).appendChild(e),c.appendChild(f),c.appendChild(g),d=this.createNode("path"),this._setAttr(d,"id",this.container.id+"_"+b+"_path"),c.appendChild(d)):((c=this.createNode(a)).appendChild(e),c.appendChild(f),c.appendChild(g)),c.style.position="absolute",c.style.left="0px",c.style.top="0px",this._setAttr(c,"id",this.container.id+"_"+b),c},remove:function(a){__TURBOPACK__default__export__3.exists(a)&&a.removeNode(!0)},makeArrows:function(a){var b,c=a.evalVisProp("firstarrow"),d=a.evalVisProp("lastarrow");(a.visPropOld.firstarrow!==c||a.visPropOld.lastarrow!==d)&&(c?(b=a.rendNodeStroke,this._setAttr(b,"startarrow","block"),this._setAttr(b,"startarrowlength","long")):(b=a.rendNodeStroke,__TURBOPACK__default__export__3.exists(b)&&this._setAttr(b,"startarrow","none")),d?(b=a.rendNodeStroke,this._setAttr(b,"id",this.container.id+"_"+a.id+"stroke"),this._setAttr(b,"endarrow","block"),this._setAttr(b,"endarrowlength","long")):(b=a.rendNodeStroke,__TURBOPACK__default__export__3.exists(b)&&this._setAttr(b,"endarrow","none")),a.visPropOld.firstarrow=c,a.visPropOld.lastarrow=d)},updateEllipsePrim:function(a,b,c,d,e){a.style.left=Math.floor(b-d)+"px",a.style.top=Math.floor(c-e)+"px",a.style.width=Math.floor(2*Math.abs(d))+"px",a.style.height=Math.floor(2*Math.abs(e))+"px"},updateLinePrim:function(a,b,c,d,e,f){var g,h=this.resolution;isNaN(b+c+d+e)||(g=["m ",Math.floor(h*b),", ",Math.floor(h*c)," l ",Math.floor(h*d),", ",Math.floor(h*e)],this.updatePathPrim(a,g,f))},updatePathPrim:function(a,b,c){var d=c.canvasWidth,e=c.canvasHeight;b.length<=0&&(b=["m 0,0"]),a.style.width=d,a.style.height=e,this._setAttr(a,"coordsize",[Math.floor(this.resolution*d),Math.floor(this.resolution*e)].join(",")),this._setAttr(a,"path",b.join(""))},updatePathStringPoint:function(a,b,c){var d=[],e=Math.round,f=a.coords.scrCoords,g=b*Math.sqrt(3)*.5,h=.5*b,i=this.resolution;return"x"===c?d.push(" m "+e(i*(f[1]-b))+", "+e(i*(f[2]-b))+" l "+e(i*(f[1]+b))+", "+e(i*(f[2]+b))+" m "+e(i*(f[1]+b))+", "+e(i*(f[2]-b))+" l "+e(i*(f[1]-b))+", "+e(i*(f[2]+b))):"+"===c?d.push(" m "+e(i*(f[1]-b))+", "+e(i*f[2])+" l "+e(i*(f[1]+b))+", "+e(i*f[2])+" m "+e(i*f[1])+", "+e(i*(f[2]-b))+" l "+e(i*f[1])+", "+e(i*(f[2]+b))):"<>"===c||"<<>>"===c?("<<>>"===c&&(b*=1.41),d.push(" m "+e(i*(f[1]-b))+", "+e(i*f[2])+" l "+e(i*f[1])+", "+e(i*(f[2]+b))+" l "+e(i*(f[1]+b))+", "+e(i*f[2])+" l "+e(i*f[1])+", "+e(i*(f[2]-b))+" x e ")):"^"===c?d.push(" m "+e(i*f[1])+", "+e(i*(f[2]-b))+" l "+e(i*(f[1]-g))+", "+e(i*(f[2]+h))+" l "+e(i*(f[1]+g))+", "+e(i*(f[2]+h))+" x e "):"v"===c?d.push(" m "+e(i*f[1])+", "+e(i*(f[2]+b))+" l "+e(i*(f[1]-g))+", "+e(i*(f[2]-h))+" l "+e(i*(f[1]+g))+", "+e(i*(f[2]-h))+" x e "):">"===c?d.push(" m "+e(i*(f[1]+b))+", "+e(i*f[2])+" l "+e(i*(f[1]-h))+", "+e(i*(f[2]-g))+" l "+e(i*(f[1]-h))+", "+e(i*(f[2]+g))+" l "+e(i*(f[1]+b))+", "+e(i*f[2])):"<"===c&&d.push(" m "+e(i*(f[1]-b))+", "+e(i*f[2])+" l "+e(i*(f[1]+h))+", "+e(i*(f[2]-g))+" l "+e(i*(f[1]+h))+", "+e(i*(f[2]+g))+" x e "),d},updatePathStringPrim:function(a){var b,c,d=[],e=this.resolution,f=Math.round,g=" m ",h=" l ",i=" c ",j=g,k=Math.min(a.numberPoints,8192);if(a.numberPoints<=0)return"";if(k=Math.min(k,a.points.length),1===a.bezierDegree)for(b=0;b<k;b++)isNaN((c=a.points[b].scrCoords)[1])||isNaN(c[2])?j=g:(c[1]>2e4?c[1]=2e4:c[1]<-2e4&&(c[1]=-2e4),c[2]>2e4?c[2]=2e4:c[2]<-2e4&&(c[2]=-2e4),d.push(""+j+f(e*c[1])+", "+f(e*c[2])),j=h);else if(3===a.bezierDegree)for(b=0;b<k;)isNaN((c=a.points[b].scrCoords)[1])||isNaN(c[2])?j=g:(d.push(""+j+f(e*c[1])+", "+f(e*c[2])),j===i&&(b+=1,d.push(" "+f(e*(c=a.points[b].scrCoords)[1])+", "+f(e*c[2])),b+=1,d.push(" "+f(e*(c=a.points[b].scrCoords)[1])+", "+f(e*c[2]))),j=i),b+=1;return d.push(" e"),d},updatePathStringBezierPrim:function(a){var b,c,d,e,f,g,h=[],i=a.evalVisProp("strokewidth"),j=this.resolution,k=Math.round,l=" m ",m=" c ",n=l,o="plot"!==a.evalVisProp("curvetype"),p=Math.min(a.numberPoints,8192);if(a.numberPoints<=0)return"";for(o&&a.board.options.curve.RDPsmoothing&&(a.points=__TURBOPACK__default__export__13.RamerDouglasPeucker(a.points,1)),p=Math.min(p,a.points.length),c=1;c<3;c++)for(b=0,n=l;b<p;b++)isNaN((e=a.points[b].scrCoords)[1])||isNaN(e[2])?n=l:(e[1]>2e4?e[1]=2e4:e[1]<-2e4&&(e[1]=-2e4),e[2]>2e4?e[2]=2e4:e[2]<-2e4&&(e[2]=-2e4),n===l?h.push(""+n+k(j*e[1])+" "+k(j*e[2])):(d=2*c,h.push(""+n+k(j*(f+(e[1]-f)*.333+i*(d*Math.random()-c)))+" "+k(j*(g+(e[2]-g)*.333+i*(d*Math.random()-c)))+" "+k(j*(f+(e[1]-f)*.666+i*(d*Math.random()-c)))+" "+k(j*(g+(e[2]-g)*.666+i*(d*Math.random()-c)))+" "+k(j*e[1])+" "+k(j*e[2]))),n=m,f=e[1],g=e[2]);return h.push(" e"),h},updatePolygonPrim:function(a,b){var c,d,e=b.vertices.length,f=this.resolution,g=[];if(this._setAttr(a,"stroked","false"),!isNaN((d=b.vertices[0].coords.scrCoords)[1]+d[2])){for(g.push("m "+Math.floor(f*d[1])+","+Math.floor(f*d[2])+" l "),c=1;c<e-1;c++){if(!b.vertices[c].isReal)return void this.updatePathPrim(a,"",b.board);if(isNaN((d=b.vertices[c].coords.scrCoords)[1]+d[2]))return;g.push(Math.floor(f*d[1])+","+Math.floor(f*d[2])),c<e-2&&g.push(", ")}g.push(" x e"),this.updatePathPrim(a,g,b.board)}},updateRectPrim:function(a,b,c,d,e){a.style.left=Math.floor(b)+"px",a.style.top=Math.floor(c)+"px",d>=0&&(a.style.width=d+"px"),e>=0&&(a.style.height=e+"px")},setPropertyPrim:function(a,b,c){var d,e="";switch(b){case"stroke":e="strokecolor";break;case"stroke-width":e="strokeweight";break;case"stroke-dasharray":e="dashstyle"}""!==e&&(d=c,this._setAttr(a,e,d))},display:function(a,b){a&&a.rendNode&&(a.visPropOld.visible=b,b?a.rendNode.style.visibility="inherit":a.rendNode.style.visibility="hidden")},show:function(a){__TURBOPACK__default__export__.deprecated("Board.renderer.show()","Board.renderer.display()"),a&&a.rendNode&&(a.rendNode.style.visibility="inherit")},hide:function(a){__TURBOPACK__default__export__.deprecated("Board.renderer.hide()","Board.renderer.display()"),a&&a.rendNode&&(a.rendNode.style.visibility="hidden")},setDashStyle:function(a,b){var c;b.dash>=0&&(c=a.rendNodeStroke,this._setAttr(c,"dashstyle",this.dashArray[b.dash]))},setGradient:function(a){var b=a.rendNodeFill,c=a.evalVisProp("gradient");"linear"===c?(this._setAttr(b,"type","gradient"),this._setAttr(b,"color2",a.evalVisProp("gradientsecondcolor")),this._setAttr(b,"opacity2",a.evalVisProp("gradientsecondopacity")),this._setAttr(b,"angle",a.evalVisProp("gradientangle"))):"radial"===c?(this._setAttr(b,"type","gradientradial"),this._setAttr(b,"color2",a.evalVisProp("gradientsecondcolor")),this._setAttr(b,"opacity2",a.evalVisProp("gradientsecondopacity")),this._setAttr(b,"focusposition",100*a.evalVisProp("gradientpositionx")+"%,"+100*a.evalVisProp("gradientpositiony")+"%"),this._setAttr(b,"focussize","0,0")):this._setAttr(b,"type","solid")},setObjectFillColor:function(a,b,c){var d,e,f,g=b,h=c,i=a.rendNode;h=h>0?h:0,(a.visPropOld.fillcolor!==g||a.visPropOld.fillopacity!==h)&&(__TURBOPACK__default__export__3.exists(g)&&!1!==g&&(9!==g.length?(d=g,f=h):(d=(e=__TURBOPACK__default__export__24.rgba2rgbo(g))[0],f=h*e[1]),"none"===d||!1===d?this._setAttr(a.rendNode,"filled","false"):(this._setAttr(a.rendNode,"filled","true"),this._setAttr(a.rendNode,"fillcolor",d),__TURBOPACK__default__export__3.exists(f)&&a.rendNodeFill&&this._setAttr(a.rendNodeFill,"opacity",100*f+"%")),a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_IMAGE&&i.filters.length>1&&(i.filters.item(1).opacity=Math.round(100*f),i.filters.item(1).enabled=!0)),a.visPropOld.fillcolor=g,a.visPropOld.fillopacity=h)},setObjectStrokeColor:function(a,b,c){var d,e,f,g,h=b,i=c,j=a.rendNode;i=i>0?i:0,(a.visPropOld.strokecolor!==h||a.visPropOld.strokeopacity!==i)&&(__TURBOPACK__default__export__3.exists(h)&&!1!==h&&(9!==h.length?(d=h,f=i):(d=(e=b.rgba2rgbo(h))[0],f=i*e[1]),a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT?(j.filters.length>1&&(j.filters.item(1).opacity=Math.round(100*f),j.filters.item(1).enabled=!0),j.style.color=d):(!1!==d&&(this._setAttr(j,"stroked","true"),this._setAttr(j,"strokecolor",d)),g=a.rendNodeStroke,__TURBOPACK__default__export__3.exists(f)&&a.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_IMAGE&&this._setAttr(g,"opacity",100*f+"%"))),a.visPropOld.strokecolor=h,a.visPropOld.strokeopacity=i)},setObjectStrokeWidth:function(a,b){var c,d=__TURBOPACK__default__export__3.evaluate(b);isNaN(d)||a.visPropOld.strokewidth===d||(c=a.rendNode,this.setPropertyPrim(c,"stroked","true"),__TURBOPACK__default__export__3.exists(d)&&(this.setPropertyPrim(c,"stroke-width",d),0===d&&__TURBOPACK__default__export__3.exists(a.rendNodeStroke)&&this._setAttr(c,"stroked","false")),a.visPropOld.strokewidth=d)},setShadow:function(a){var b=a.rendNodeShadow,c=a.evalVisProp("shadow");b&&a.visPropOld.shadow!==c&&(c?(this._setAttr(b,"On","True"),this._setAttr(b,"Offset","3pt,3pt"),this._setAttr(b,"Opacity","60%"),this._setAttr(b,"Color","#aaaaaa")):this._setAttr(b,"On","False"),a.visPropOld.shadow=c)},suspendRedraw:function(){this.container.style.display="none"},unsuspendRedraw:function(){this.container.style.display=""}});let __TURBOPACK__default__export__38=__TURBOPACK__default__export__.VMLRenderer;var uuidCharsStr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",uuidChars=uuidCharsStr.split("");__TURBOPACK__default__export__.Util=__TURBOPACK__default__export__.Util||{},__TURBOPACK__default__export__.Util.genUUID=function(a){var b,c,d=[],e=0;for(""!==(a=a||"")&&"-"!==a.slice(a.length-1)&&(a+="-"),c=0;c<36;c++)8===c||13===c||18===c||23===c?d[c]="-":14===c?d[c]="4":(e<=2&&(e=0x2000000+0x1000000*Math.random()|0),b=15&e,e>>=4,d[c]=uuidChars[19===c?3&b|8:b]);return a+d.join("")};let __TURBOPACK__default__export__39=__TURBOPACK__default__export__.Util;__TURBOPACK__default__export__.CanvasRenderer=function(a,b){if(this.type="canvas",this.canvasRoot=null,this.suspendHandle=null,this.canvasId=__TURBOPACK__default__export__39.genUUID(),this.canvasNamespace=null,__TURBOPACK__default__export__4.isBrowser)this.container=a,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.container.innerHTML='<canvas id="'+this.canvasId+'" width="'+b.width+'px" height="'+b.height+'px"></canvas>',this.canvasRoot=this.container.ownerDocument.getElementById(this.canvasId),this.canvasRoot.style.display="block",this.context=this.canvasRoot.getContext("2d");else if(__TURBOPACK__default__export__4.isNode())try{this.canvasRoot=__TURBOPACK__default__export__.createCanvas(500,500),this.context=this.canvasRoot.getContext("2d")}catch(a){throw Error('JXG.createCanvas not available.\nInstall the npm package `canvas`\nand call:\n    import { createCanvas } from "canvas.js";\n    JXG.createCanvas = createCanvas;\n')}},__TURBOPACK__default__export__.CanvasRenderer.prototype=new __TURBOPACK__default__export__26,__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.CanvasRenderer.prototype,{_drawPolygon:function(a,b,c){var d,e=a.length,f=this.context;if(e>0){if(c&&(f.lineWidth=0),f.beginPath(),f.moveTo(a[0][0],a[0][1]),1===b)for(d=1;d<e;d++)f.lineTo(a[d][0],a[d][1]);else for(d=1;d<e;d+=3)f.bezierCurveTo(a[d][0],a[d][1],a[d+1][0],a[d+1][1],a[d+2][0],a[d+2][1]);c?(f.lineTo(a[0][0],a[0][1]),f.closePath(),f.fill("evenodd")):f.stroke()}},_fill:function(a){var b=this.context;b.save(),this._setColor(a,"fill")&&b.fill("evenodd"),b.restore()},_rotatePoint:function(a,b,c){return[b*Math.cos(a)-c*Math.sin(a),b*Math.sin(a)+c*Math.cos(a)]},_rotateShape:function(a,b){var c,d=[],e=a.length;if(e<=0)return a;for(c=0;c<e;c++)d.push(this._rotatePoint(b,a[c][0],a[c][1]));return d},updateGradientAngle:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=1,p=Math.cos(-b),q=Math.sin(-b),r=a.getBoundingBox();return Math.abs(p)>Math.abs(q)?o/=Math.abs(p):o/=Math.abs(q),p>=0?(e=0,f=p*o):(e=-p*o,f=0),q>=0?(g=0,h=q*o):(g=-q*o,h=0),c=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[r[0],r[1]],a.board),m=(d=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[r[2],r[3]],a.board)).scrCoords[1]-c.scrCoords[1],n=d.scrCoords[2]-c.scrCoords[2],i=c.scrCoords[1]+m*e,k=c.scrCoords[2]+n*g,j=c.scrCoords[1]+m*f,l=c.scrCoords[2]+n*h,this.context.createLinearGradient(i,k,j,l)},updateGradientCircle:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r=a.getBoundingBox();return h=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[r[0],r[1]],a.board),p=(i=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[r[2],r[3]],a.board)).scrCoords[1]-h.scrCoords[1],q=h.scrCoords[2]-i.scrCoords[2],j=h.scrCoords[1]+p*b,k=i.scrCoords[2]+q*c,m=h.scrCoords[1]+p*e,n=i.scrCoords[2]+q*f,l=d*(p+q)*.5,o=g*(p+q)*.5,this.context.createRadialGradient(m,n,o,j,k,l)},updateGradient:function(a){var b,c,d=a.evalVisProp("gradient");return b=a.evalVisProp("fillcolor"),"linear"===d?c=this.updateGradientAngle(a,a.evalVisProp("gradientangle")):"radial"===d&&(c=this.updateGradientCircle(a,a.evalVisProp("gradientcx"),a.evalVisProp("gradientcy"),a.evalVisProp("gradientr"),a.evalVisProp("gradientfx"),a.evalVisProp("gradientfy"),a.evalVisProp("gradientfr"))),"none"!==b&&""!==b&&!1!==b&&(c.addColorStop(a.evalVisProp("gradientstartoffset"),b),c.addColorStop(a.evalVisProp("gradientendoffset"),a.evalVisProp("gradientsecondcolor"))),c},_setColor:function(a,b,c){var d,e,f,g,h,i,j,k,l,m=!0;return(b=b||"stroke",c=c||b,e=this._getHighlighted(a),"none"!==(g=a.evalVisProp(e+b+"color"))&&""!==g&&!1!==g?(j=(j=a.evalVisProp(e+b+"opacity"))>0?j:0,9!==g.length?(i=g,k=j):(i=(h=__TURBOPACK__default__export__24.rgba2rgbo(g))[0],k=j*h[1]),this.context.globalAlpha=k,this.context[c+"Style"]=i):m=!1,"stroke"!==b&&("linear"===(l=a.evalVisProp("gradient"))||"radial"===l))?(this.context.globalAlpha=k,this.context[c+"Style"]=this.updateGradient(a),m):(f=parseFloat(a.evalVisProp(e+"strokewidth")),"stroke"!==b||isNaN(f)||(0===f?this.context.globalAlpha=0:this.context.lineWidth=f),d=a.evalVisProp("linecap"),"stroke"===b&&void 0!==d&&""!==d&&(this.context.lineCap=d),m)},_stroke:function(a){var b=this.context,c=a.evalVisProp("dash"),d=a.evalVisProp("dashscale")?.5*a.evalVisProp("strokewidth"):1;b.save(),c>0?b.setLineDash&&b.setLineDash(this.dashArray[c-1].map(function(a){return a*d})):this.context.lineDashArray=[],this._setColor(a,"stroke")&&b.stroke(),b.restore()},_translateShape:function(a,b,c){var d,e=[],f=a.length;if(f<=0)return a;for(d=0;d<f;d++)e.push([a[d][0]+b,a[d][1]+c]);return e},drawPoint:function(a){var b=a.evalVisProp("face"),c=a.evalVisProp("size"),d=a.coords.scrCoords,e=c*Math.sqrt(3)*.5,f=.5*c,g=parseFloat(a.evalVisProp("strokewidth"))/2,h=this.context;if(a.visPropCalc.visible)switch(b){case"cross":case"x":h.beginPath(),h.moveTo(d[1]-c,d[2]-c),h.lineTo(d[1]+c,d[2]+c),h.moveTo(d[1]+c,d[2]-c),h.lineTo(d[1]-c,d[2]+c),h.lineCap="round",h.lineJoin="round",h.closePath(),this._stroke(a);break;case"circle":case"o":h.beginPath(),h.arc(d[1],d[2],c+1+g,0,2*Math.PI,!1),h.closePath(),this._fill(a),this._stroke(a);break;case"square":case"[]":if(c<=0)break;h.save(),this._setColor(a,"stroke","fill")&&h.fillRect(d[1]-c-g,d[2]-c-g,2*c+3*g,2*c+3*g),h.restore(),h.save(),this._setColor(a,"fill"),h.fillRect(d[1]-c+g,d[2]-c+g,2*c-g,2*c-g),h.restore();break;case"plus":case"+":h.beginPath(),h.moveTo(d[1]-c,d[2]),h.lineTo(d[1]+c,d[2]),h.moveTo(d[1],d[2]-c),h.lineTo(d[1],d[2]+c),h.lineCap="round",h.lineJoin="round",h.closePath(),this._stroke(a);break;case"divide":case"|":h.beginPath(),h.moveTo(d[1],d[2]-c),h.lineTo(d[1],d[2]+c),h.lineCap="round",h.lineJoin="round",h.closePath(),this._stroke(a);break;case"minus":case"-":h.beginPath(),h.moveTo(d[1]-c,d[2]),h.lineTo(d[1]+c,d[2]),h.lineCap="round",h.lineJoin="round",h.closePath(),this._stroke(a);break;case"diamond2":case"<<>>":c*=1.41;case"diamond":case"<>":h.beginPath(),h.moveTo(d[1]-c,d[2]),h.lineTo(d[1],d[2]+c),h.lineTo(d[1]+c,d[2]),h.lineTo(d[1],d[2]-c),h.closePath(),this._fill(a),this._stroke(a);break;case"triangleup":case"A":case"a":case"^":h.beginPath(),h.moveTo(d[1],d[2]-c),h.lineTo(d[1]-e,d[2]+f),h.lineTo(d[1]+e,d[2]+f),h.closePath(),this._fill(a),this._stroke(a);break;case"triangledown":case"v":h.beginPath(),h.moveTo(d[1],d[2]+c),h.lineTo(d[1]-e,d[2]-f),h.lineTo(d[1]+e,d[2]-f),h.closePath(),this._fill(a),this._stroke(a);break;case"triangleleft":case"<":h.beginPath(),h.moveTo(d[1]-c,d[2]),h.lineTo(d[1]+f,d[2]-e),h.lineTo(d[1]+f,d[2]+e),h.closePath(),this._fill(a),this._stroke(a);break;case"triangleright":case">":h.beginPath(),h.moveTo(d[1]+c,d[2]),h.lineTo(d[1]-f,d[2]-e),h.lineTo(d[1]-f,d[2]+e),h.closePath(),this._fill(a),this._stroke(a)}},updatePoint:function(a){this.drawPoint(a)},drawArrows:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=this.context,A=6,B=1,C=1,D=1,E=e.evFirst,F=e.evLast;if("none"!==a.evalVisProp("strokecolor")&&(E||F)){if(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)f=b.scrCoords[1],g=b.scrCoords[2],h=c.scrCoords[1],x=y=Math.atan2((i=c.scrCoords[2])-g,h-f);else{if(f=a.points[0].scrCoords[1],g=a.points[0].scrCoords[2],(w=a.points.length-1)<1)return;h=a.points[a.points.length-1].scrCoords[1],i=a.points[a.points.length-1].scrCoords[2],s=a.points[1].scrCoords[1]-a.points[0].scrCoords[1],t=a.points[1].scrCoords[2]-a.points[0].scrCoords[2],u=a.points[w].scrCoords[1]-a.points[w-1].scrCoords[1],v=a.points[w].scrCoords[2]-a.points[w-1].scrCoords[2],E&&(x=Math.atan2(t,s)),F&&(y=Math.atan2(v,u))}if(k=a.evalVisProp(d+"strokewidth"),E)if(j=k*(A=e.sizeFirst),n=B=e.typeFirst,2===B)m=[[j,-(.5*j)],[0,0],[j,.5*j],[.5*j,0]];else if(3===B)m=[[j/3,-(.5*j)],[0,-(.5*j)],[0,.5*j],[j/3,.5*j]];else if(4===B)for(j/=10,C=3,r=(m=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]]).length,q=0;q<r;q++)m[q][0]*=-j,m[q][1]*=j,m[q][0]+=10*j,m[q][1]-=3.31*j;else if(5===B)for(j/=10,C=3,r=(m=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]]).length,q=0;q<r;q++)m[q][0]*=-j,m[q][1]*=j,m[q][0]+=10*j,m[q][1]-=3.28*j;else if(6===B)for(j/=10,C=3,r=(m=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]]).length,q=0;q<r;q++)m[q][0]*=-j,m[q][1]*=j,m[q][0]+=10*j,m[q][1]-=2.84*j;else if(7===B)for(q=0,j=k,C=3,r=(m=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]]).length;q<r;q++)m[q][0]*=-j,m[q][1]*=j,m[q][0]+=10*j,m[q][1]-=5.2*j;else m=[[j,-(.5*j)],[0,0],[j,.5*j]];if(F)if(j=k*(A=e.sizeLast),o=B=e.typeLast,2===B)l=[[-j,-(.5*j)],[0,0],[-j,.5*j],[-(.5*j),0]];else if(3===B)l=[[-j/3,-(.5*j)],[0,-(.5*j)],[0,.5*j],[-j/3,.5*j]];else if(4===B)for(j/=10,D=3,r=(l=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]]).length,q=0;q<r;q++)l[q][0]*=j,l[q][1]*=j,l[q][0]-=10*j,l[q][1]-=3.31*j;else if(5===B)for(j/=10,D=3,r=(l=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]]).length,q=0;q<r;q++)l[q][0]*=j,l[q][1]*=j,l[q][0]-=10*j,l[q][1]-=3.28*j;else if(6===B)for(j/=10,D=3,r=(l=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]]).length,q=0;q<r;q++)l[q][0]*=j,l[q][1]*=j,l[q][0]-=10*j,l[q][1]-=2.84*j;else if(7===B)for(q=0,j=k,D=3,r=(l=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]]).length;q<r;q++)l[q][0]*=j,l[q][1]*=j,l[q][0]-=10*j,l[q][1]-=5.2*j;else l=[[-j,-(.5*j)],[0,0],[-j,.5*j]];z.save(),this._setColor(a,"stroke","fill")&&(this._setColor(a,"stroke"),E&&(p=7!==n,this._drawPolygon(this._translateShape(this._rotateShape(m,x),f,g),C,p)),F&&(p=7!==o,this._drawPolygon(this._translateShape(this._rotateShape(l,y),h,i),D,p))),z.restore()}},drawLine:function(a){var b,c,d,e,f,g=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a.point1.coords.usrCoords,a.board),h=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a.point2.coords.usrCoords,a.board),i=null;a.visPropCalc.visible&&(d=this._getHighlighted(a),e=a.evalVisProp(d+"strokewidth"),((f=this.getArrowHeadData(a,e,d)).evFirst||f.evLast)&&(i=-4),__TURBOPACK__default__export__14.calcStraight(a,g,h,i),this.handleTouchpoints(a,g,h,f),b=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,g.usrCoords,a.board),c=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,h.usrCoords,a.board),this.getPositionArrowHead(a,g,h,f),this.context.beginPath(),this.context.moveTo(g.scrCoords[1],g.scrCoords[2]),this.context.lineTo(h.scrCoords[1],h.scrCoords[2]),this._stroke(a),(f.evFirst||f.evLast)&&this.drawArrows(a,b,c,d,f))},updateLine:function(a){this.drawLine(a)},drawTicks:function(){},updateTicks:function(a){var b,c,d,e,f,g,h=a.ticks.length,i=this.context;for(i.beginPath(),b=0;b<h;b++)for(d=(c=a.ticks[b])[0],e=c[1],f=d.length,i.moveTo(d[0],e[0]),g=1;g<f;++g)i.lineTo(d[g],e[g]);i.lineCap="round",this._stroke(a)},drawCurve:function(a){var b,c,d;a.evalVisProp("handdrawing")?this.updatePathStringBezierPrim(a):this.updatePathStringPrim(a),a.numberPoints>1&&(b=this._getHighlighted(a),c=a.evalVisProp(b+"strokewidth"),((d=this.getArrowHeadData(a,c,b)).evFirst||d.evLast)&&this.drawArrows(a,null,null,b,d))},updateCurve:function(a){this.drawCurve(a)},drawEllipse:function(a){var b=a.center.coords.scrCoords[1],c=a.center.coords.scrCoords[2],d=a.board.unitX,e=a.board.unitY,f=2*a.Radius(),g=2*a.Radius(),h=f*d,i=g*e,j=b-h/2,k=c-i/2,l=h/2*.5522848,m=i/2*.5522848,n=j+h,o=k+i,p=j+h/2,q=k+i/2,r=this.context;f>0&&g>0&&!isNaN(b+c)&&(r.beginPath(),r.moveTo(j,q),r.bezierCurveTo(j,q-m,p-l,k,p,k),r.bezierCurveTo(p+l,k,n,q-m,n,q),r.bezierCurveTo(n,q+m,p+l,o,p,o),r.bezierCurveTo(p-l,o,j,q+m,j,q),r.closePath(),this._fill(a),this._stroke(a))},updateEllipse:function(a){return this.drawEllipse(a)},displayCopyright:function(a,b){var c=this.context,d=4+1.8*b,e=6+b,f=.2;c.save(),c.font=b+"px Arial",c.globalAlpha=f,c.lineWidth=.5,c.fillText(a+".",d,e),c.restore()},displayLogo:function(a,b,c){var d=this.context,e=1.5*b,f=.2;__TURBOPACK__default__export__3.exists(c._logo_image)||(c._logo_image=new Image,c._logo_image.src=a),c._logo_image.onload=function(){d.save(),d.globalAlpha=f,d.drawImage(c._logo_image,5,5,e,e),d.restore()},d.save(),d.globalAlpha=f,d.drawImage(c._logo_image,5,5,e,e),d.restore()},drawInternalText:function(a){var b=a.evalVisProp("fontsize"),c=a.evalVisProp("fontunit"),d=a.getAnchorX(),e=a.getAnchorY(),f=this.context;return f.save(),this._setColor(a,"stroke","fill")&&!isNaN(a.coords.scrCoords[1]+a.coords.scrCoords[2])&&(f.font=(b>0?b:0)+c+" Arial",this.transformRect(a,a.transformations),"left"===d?f.textAlign="left":"right"===d?f.textAlign="right":"middle"===d&&(f.textAlign="center"),"bottom"===e?f.textBaseline="bottom":"top"===e?f.textBaseline="top":"middle"===e&&(f.textBaseline="middle"),f.fillText(a.plaintext,a.coords.scrCoords[1],a.coords.scrCoords[2])),f.restore(),null},updateInternalText:function(a){this.drawInternalText(a)},setObjectStrokeColor:function(a,b,c){var d,e,f,g,h=b,i=c;i=i>0?i:0,(a.visPropOld.strokecolor!==h||a.visPropOld.strokeopacity!==i)&&(__TURBOPACK__default__export__3.exists(h)&&!1!==h&&(9!==h.length?(d=h,f=i):(d=(e=__TURBOPACK__default__export__24.rgba2rgbo(h))[0],f=i*e[1]),g=a.rendNode,a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT&&"html"===a.evalVisProp("display")&&(g.style.color=d,g.style.opacity=f)),a.visPropOld.strokecolor=h,a.visPropOld.strokeopacity=i)},drawImage:function(a){a.rendNode=new Image,a._src="",this.updateImage(a)},updateImage:function(a){var b=this.context,c=a.evalVisProp("fillopacity"),d=__TURBOPACK__default__export__3.bind(function(){a.imgIsLoaded=!0,a.size[0]<=0||a.size[1]<=0||(b.save(),b.globalAlpha=c,this.transformRect(a,a.transformations),b.drawImage(a.rendNode,a.coords.scrCoords[1],a.coords.scrCoords[2]-a.size[1],a.size[0],a.size[1]),b.restore())},this);this.updateImageURL(a)?a.rendNode.onload=d:a.imgIsLoaded&&d()},transformRect:function(a,b){var c,d,e,f,g,h=b.length,i=this.context;if(h>0)if(c=this.joinTransforms(a,b),a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT&&"html"===a.visProp.display){if(-1===(d=" matrix("+[c[1][1],c[2][1],c[1][2],c[2][2],c[1][0],c[2][0]].join(",")+") ").indexOf("NaN")){switch((g=a.rendNode).style.transform=d,e=-a.coords.scrCoords[1],f=-a.coords.scrCoords[2],a.evalVisProp("anchorx")){case"right":e+=a.size[0];break;case"middle":e+=.5*a.size[0]}switch(a.evalVisProp("anchory")){case"bottom":f+=a.size[1];break;case"middle":f+=.5*a.size[1]}g.style["transform-origin"]=e+"px "+f+"px"}}else Math.abs(__TURBOPACK__default__export__13.det(c))>=__TURBOPACK__default__export__2.eps&&i.transform(c[1][1],c[2][1],c[1][2],c[2][2],c[1][0],c[2][0])},updateImageURL:function(a){var b;return b=a.eval(a.url),a._src!==b&&(a.imgIsLoaded=!1,a.rendNode.src=b,a._src=b,!0)},remove:function(a){__TURBOPACK__default__export__3.exists(a)&&__TURBOPACK__default__export__3.exists(a.parentNode)&&a.parentNode.removeChild(a)},updatePathStringPrim:function(a){var b,c,d,e,f,g="M",h="L",i="C",j=g,k=5e3,l=this.context;if(!(a.numberPoints<=0)){if(f=Math.min(a.points.length,a.numberPoints),l.beginPath(),1===a.bezierDegree)for(b=0;b<f;b++)isNaN((c=a.points[b].scrCoords)[1])||isNaN(c[2])?j=g:(c[1]>k?c[1]=k:c[1]<-k&&(c[1]=-k),c[2]>k?c[2]=k:c[2]<-k&&(c[2]=-k),j===g?l.moveTo(c[1],c[2]):l.lineTo(c[1],c[2]),j=h);else if(3===a.bezierDegree)for(b=0;b<f;)isNaN((c=a.points[b].scrCoords)[1])||isNaN(c[2])?j=g:(j===g?l.moveTo(c[1],c[2]):(b+=1,d=a.points[b].scrCoords,b+=1,e=a.points[b].scrCoords,l.bezierCurveTo(c[1],c[2],d[1],d[2],e[1],e[2])),j=i),b+=1;l.lineCap="round",l.lineJoin="round",this._fill(a),this._stroke(a)}},updatePathStringBezierPrim:function(a){var b,c,d,e,f,g,h,i="M",j="C",k=i,l=5e3,m=a.evalVisProp("strokewidth"),n="plot"!==a.evalVisProp("curvetype"),o=this.context;if(!(a.numberPoints<=0)){for(n&&a.board.options.curve.RDPsmoothing&&(a.points=__TURBOPACK__default__export__13.RamerDouglasPeucker(a.points,.5)),h=Math.min(a.points.length,a.numberPoints),o.beginPath(),c=1;c<3;c++)for(b=0,k=i;b<h;b++)isNaN((e=a.points[b].scrCoords)[1])||isNaN(e[2])?k=i:(e[1]>l?e[1]=l:e[1]<-l&&(e[1]=-l),e[2]>l?e[2]=l:e[2]<-l&&(e[2]=-l),k===i?o.moveTo(e[1],e[2]):(d=2*c,o.bezierCurveTo(f+(e[1]-f)*.333+m*(d*Math.random()-c),g+(e[2]-g)*.333+m*(d*Math.random()-c),f+(e[1]-f)*.666+m*(d*Math.random()-c),g+(e[2]-g)*.666+m*(d*Math.random()-c),e[1],e[2])),k=j,f=e[1],g=e[2]);o.lineCap="round",o.lineJoin="round",this._fill(a),this._stroke(a)}},updatePolygonPrim:function(a,b){var c,d,e,f=b.vertices.length,g=this.context,h=!0;if(!(f<=0)&&b.visPropCalc.visible){for("polygonalchain"===b.elType&&f++,g.beginPath(),d=0;!b.vertices[d].isReal&&d<f-1;)d++,h=!1;for(c=b.vertices[d].coords.scrCoords,g.moveTo(c[1],c[2]),e=d;e<f-1;e++)b.vertices[e].isReal||(h=!1),c=b.vertices[e].coords.scrCoords,g.lineTo(c[1],c[2]);g.closePath(),h&&this._fill(b)}},display:function(a,b){a&&a.rendNode&&(a.visPropOld.visible=b,b?a.rendNode.style.visibility="inherit":a.rendNode.style.visibility="hidden")},show:function(a){__TURBOPACK__default__export__.deprecated("Board.renderer.show()","Board.renderer.display()"),__TURBOPACK__default__export__3.exists(a.rendNode)&&(a.rendNode.style.visibility="inherit")},hide:function(a){__TURBOPACK__default__export__.deprecated("Board.renderer.hide()","Board.renderer.display()"),__TURBOPACK__default__export__3.exists(a.rendNode)&&(a.rendNode.style.visibility="hidden")},setGradient:function(a){},setShadow:function(a){a.visPropOld.shadow!==a.visProp.shadow&&(a.visPropOld.shadow=a.visProp.shadow)},highlight:function(a){return a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT&&"html"===a.evalVisProp("display")?this.updateTextStyle(a,!0):(a.board.prepareUpdate(),a.board.renderer.suspendRedraw(a.board),a.board.updateRenderer(),a.board.renderer.unsuspendRedraw()),this},noHighlight:function(a){return a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_TEXT&&"html"===a.evalVisProp("display")?this.updateTextStyle(a,!1):(a.board.prepareUpdate(),a.board.renderer.suspendRedraw(a.board),a.board.updateRenderer(),a.board.renderer.unsuspendRedraw()),this},suspendRedraw:function(a){this.context.save(),this.context.clearRect(0,0,this.canvasRoot.width,this.canvasRoot.height),a&&(a.attr.showcopyright||a.attr.showlogo)&&this.displayLogo(__TURBOPACK__default__export__.licenseLogo,12,a),a&&a.attr.showcopyright&&this.displayCopyright(__TURBOPACK__default__export__.licenseText,12)},unsuspendRedraw:function(){this.context.restore()},resize:function(a,b){this.container?(this.canvasRoot.style.width=parseFloat(a)+"px",this.canvasRoot.style.height=parseFloat(b)+"px",this.canvasRoot.setAttribute("width",2*parseFloat(a)+"px"),this.canvasRoot.setAttribute("height",2*parseFloat(b)+"px")):(this.canvasRoot.width=2*parseFloat(a),this.canvasRoot.height=2*parseFloat(b)),this.context=this.canvasRoot.getContext("2d"),this.context.scale(2,2)},removeToInsertLater:function(){return function(){}}});let __TURBOPACK__default__export__40=__TURBOPACK__default__export__.CanvasRenderer;__TURBOPACK__default__export__.NoRenderer=function(){this.enhancedRendering=!1,this.type="no"},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.NoRenderer.prototype,{drawPoint:function(a){},updatePoint:function(a){},changePointStyle:function(a){},drawLine:function(a){},updateLine:function(a){},drawTicks:function(a){},updateTicks:function(a){},drawCurve:function(a){},updateCurve:function(a){},drawEllipse:function(a){},updateEllipse:function(a){},drawPolygon:function(a){},updatePolygon:function(a){},displayCopyright:function(a,b){},drawInternalText:function(a){},updateInternalText:function(a){},drawText:function(a){},updateText:function(a){},updateTextStyle:function(a,b){},updateInternalTextStyle:function(a,b,c){},drawImage:function(a){},updateImage:function(a){},updateImageURL:function(a){},appendChildPrim:function(a,b){},appendNodesToElement:function(a,b){},remove:function(a){},makeArrows:function(a){},updateEllipsePrim:function(a,b,c,d,e){},updateLinePrim:function(a,b,c,d,e,f){},updatePathPrim:function(a,b,c){},updatePathStringPoint:function(a,b,c){},updatePathStringPrim:function(a){},updatePathStringBezierPrim:function(a){},updatePolygonPrim:function(a,b){},updateRectPrim:function(a,b,c,d,e){},setPropertyPrim:function(a,b,c){},show:function(a){},hide:function(a){},setBuffering:function(a,b){},setDashStyle:function(a){},setDraft:function(a){},removeDraft:function(a){},setGradient:function(a){},updateGradient:function(a){},setObjectTransition:function(a,b){},setObjectFillColor:function(a,b,c){},setObjectStrokeColor:function(a,b,c){},setObjectStrokeWidth:function(a,b){},setShadow:function(a){},highlight:function(a){},noHighlight:function(a){},suspendRedraw:function(){},unsuspendRedraw:function(){},drawNavigationBar:function(a){},getElementById:function(a){return null},resize:function(a,b){},removeToInsertLater:function(){return function(){}}}),__TURBOPACK__default__export__.NoRenderer.prototype=new __TURBOPACK__default__export__26;let __TURBOPACK__default__export__41=__TURBOPACK__default__export__.NoRenderer;__TURBOPACK__default__export__.JSXGraph={rendererType:function(){return __TURBOPACK__default__export__25.board.renderer="no",__TURBOPACK__default__export__4.supportsVML()&&(__TURBOPACK__default__export__25.board.renderer="vml",document.onmousemove=function(){var a;return document.body&&(a=document.body.scrollLeft+document.body.scrollTop),a}),__TURBOPACK__default__export__4.supportsCanvas()&&(__TURBOPACK__default__export__25.board.renderer="canvas"),__TURBOPACK__default__export__4.supportsSVG()&&(__TURBOPACK__default__export__25.board.renderer="svg"),__TURBOPACK__default__export__4.isNode()&&__TURBOPACK__default__export__4.supportsCanvas()&&(__TURBOPACK__default__export__25.board.renderer="canvas"),(__TURBOPACK__default__export__4.isNode()||"no"===__TURBOPACK__default__export__25.renderer)&&(__TURBOPACK__default__export__25.text.display="internal",__TURBOPACK__default__export__25.infobox.display="internal"),__TURBOPACK__default__export__25.board.renderer}(),initRenderer:function(a,b,c,d){var e,f;if(__TURBOPACK__default__export__3.exists(c)&&!1!==c||"object"!=typeof document||(c=document),"object"==typeof c&&null!==a)for(e=__TURBOPACK__default__export__3.isString(a)?c.getElementById(a):a;e.firstChild;)e.removeChild(e.firstChild);else e=a;return(void 0===d||"auto"===d)&&(d=this.rendererType),f="svg"===d?new __TURBOPACK__default__export__37(e,b):"vml"===d?new __TURBOPACK__default__export__38(e):"canvas"===d?new __TURBOPACK__default__export__40(e,b):new __TURBOPACK__default__export__41},_setAttributes:function(a,b){var c,d,e=__TURBOPACK__default__export__3.copyAttributes(a,b,"board"),f=["drag","fullscreen","intl","keyboard","logging","pan","resize","screenshot","selection","zoom"],g=f.length;for(c=0;c<g;c++)e[d=f[c]]=__TURBOPACK__default__export__3.copyAttributes(e,b,"board",d);return e.navbar=__TURBOPACK__default__export__3.copyAttributes(e.navbar,b,"navbar"),e.movetarget=a.moveTarget||a.movetarget||b.board.moveTarget,e},_fillBoard:function(a,b,c){a.initInfobox(b.infobox),a.maxboundingbox=b.maxboundingbox,a.resizeContainer(c.width,c.height,!0,!0),a._createSelectionPolygon(b),a.renderer.drawNavigationBar(a,b.navbar),__TURBOPACK__default__export__.boards[a.id]=a},_setARIA:function(a,b){var c,d=b.document;if("object"!=typeof d){if(!__TURBOPACK__default__export__4.isBrowser)return;d=document}(c=__TURBOPACK__default__export__3.isString(a)?d.getElementById(a):a).setAttribute("role","region"),c.setAttribute("aria-label",b.title)},_removeARIANodes:function(a){var b,c,d;"object"==typeof(d=a.document||document)&&(c=a.containerObj.getAttribute("aria-labelledby"),(b=d.getElementById(c))&&b.parentNode&&b.parentNode.removeChild(b),c=a.containerObj.getAttribute("aria-describedby"),(b=d.getElementById(c))&&b.parentNode&&b.parentNode.removeChild(b))},initBoard:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=0,s=0,t={};return"default"!==(b=b||{}).theme&&__TURBOPACK__default__export__3.exists(__TURBOPACK__default__export__.themes[b.theme])&&(t=__TURBOPACK__default__export__.themes[b.theme]),p=__TURBOPACK__default__export__3.deepCopy(__TURBOPACK__default__export__25,t,!0),l=this._setAttributes(b,p),j=__TURBOPACK__default__export__4.getDimensions(a,l.document),l.unitx||l.unity?(c=__TURBOPACK__default__export__3.def(l.originx,150),d=__TURBOPACK__default__export__3.def(l.originy,150),e=__TURBOPACK__default__export__3.def(l.unitx,50),f=__TURBOPACK__default__export__3.def(l.unity,50)):((k=l.boundingbox)[0]<l.maxboundingbox[0]&&(k[0]=l.maxboundingbox[0]),k[1]>l.maxboundingbox[1]&&(k[1]=l.maxboundingbox[1]),k[2]>l.maxboundingbox[2]&&(k[2]=l.maxboundingbox[2]),k[3]<l.maxboundingbox[3]&&(k[3]=l.maxboundingbox[3]),g=parseInt(j.width,10),h=parseInt(j.height,10),__TURBOPACK__default__export__3.exists(k)&&l.keepaspectratio?Math.abs(e=g/(k[2]-k[0]))<Math.abs(f=h/(k[1]-k[3]))?s=(h/(f=Math.abs(e)*f/Math.abs(f))-(k[1]-k[3]))*.5:r=(g/(e=Math.abs(f)*e/Math.abs(e))-(k[2]-k[0]))*.5:(e=g/(k[2]-k[0]),f=h/(k[1]-k[3])),c=-e*(k[0]-r),d=f*(k[1]+s)),i=this.initRenderer(a,j,l.document,l.renderer),this._setARIA(a,l),(q=new __TURBOPACK__default__export__36(a,i,l.id,[c,d],l.zoomx,l.zoomy,e,f,j.width,j.height,l)).keepaspectratio=l.keepaspectratio,this._fillBoard(q,l,j),q.suspendUpdate(),(l=q.attr).axis&&(m="object"==typeof l.axis?l.axis:{},n=__TURBOPACK__default__export__3.deepCopy(p.board.defaultaxes.x,m),o=__TURBOPACK__default__export__3.deepCopy(p.board.defaultaxes.y,m),l.defaultaxes.x&&(n=__TURBOPACK__default__export__3.deepCopy(n,l.defaultaxes.x)),l.defaultaxes.y&&(o=__TURBOPACK__default__export__3.deepCopy(o,l.defaultaxes.y)),q.defaultAxes={},q.defaultAxes.x=q.create("axis",[[0,0],[1,0]],n),q.defaultAxes.y=q.create("axis",[[0,0],[0,1]],o)),l.grid&&q.create("grid",[],"object"==typeof l.grid?l.grid:{}),q.unsuspendUpdate(),q},loadBoardFromFile:function(a,b,c,d,e){var f,g,h,i,j;return d=d||{},f=this._setAttributes(d),i=__TURBOPACK__default__export__4.getDimensions(a,f.document),g=this.initRenderer(a,i,f.document,f.renderer),this._setARIA(a,f),h=new __TURBOPACK__default__export__36(a,g,"",[150,150],1,1,50,50,i.width,i.height,f),this._fillBoard(h,f,i),j=f.encoding||"iso-8859-1",__TURBOPACK__default__export__29.parseFileContent(b,h,c,!0,j,e),h},loadBoardFromString:function(a,b,c,d,e){var f,g,h,i;return d=d||{},f=this._setAttributes(d),i=__TURBOPACK__default__export__4.getDimensions(a,f.document),g=this.initRenderer(a,i,f.document,f.renderer),this._setARIA(a,f),h=new __TURBOPACK__default__export__36(a,g,"",[150,150],1,1,50,50,i.width,i.height,f),this._fillBoard(h,f,i),__TURBOPACK__default__export__29.parseString(b,h,c,!0,e),h},freeBoard:function(a){var b;for(b in"string"==typeof a&&(a=__TURBOPACK__default__export__.boards[a]),this._removeARIANodes(a),a.removeEventHandlers(),a.suspendUpdate(),a.objects)a.objects.hasOwnProperty(b)&&a.objects[b].remove();for(;a.containerObj.firstChild;)a.containerObj.removeChild(a.containerObj.firstChild);for(b in a.objects)a.objects.hasOwnProperty(b)&&delete a.objects[b];delete a.renderer,a.jc.creator.clearCache(),delete a.jc,delete __TURBOPACK__default__export__.boards[a.id]},registerElement:function(a,b){__TURBOPACK__default__export__.deprecated("JXG.JSXGraph.registerElement()","JXG.registerElement()"),__TURBOPACK__default__export__.registerElement(a,b)}};let __TURBOPACK__default__export__42=__TURBOPACK__default__export__.JSXGraph;__TURBOPACK__default__export__.Point=function(a,b,c){this.constructor(a,c,__TURBOPACK__default__export__1.OBJECT_TYPE_POINT,__TURBOPACK__default__export__1.OBJECT_CLASS_POINT),this.element=this.board.select(c.anchor),this.coordsConstructor(b),this.elType="point",this.id=this.board.setId(this,"P"),this.board.renderer.drawPoint(this),this.board.finalizeAdding(this),this.createGradient(),this.createLabel()},__TURBOPACK__default__export__.Point.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Point,__TURBOPACK__default__export__32,"coordsConstructor"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Point.prototype,{hasPoint:function(a,b){var c,d,e,f=this.coords.scrCoords,g=this.evalVisProp("sizeunit");return __TURBOPACK__default__export__3.isObject(this.evalVisProp("precision"))?(e=this.board._inputDevice,d=this.evalVisProp("precision."+e)):d=this.board.options.precision.hasPoint,c=parseFloat(this.evalVisProp("size")),"user"===g&&(c*=Math.sqrt(Math.abs(this.board.unitX*this.board.unitY))),(c+=.5*parseFloat(this.evalVisProp("strokewidth")))<d&&(c=d),Math.abs(f[1]-a)<c+2&&Math.abs(f[2]-b)<c+2},update:function(a){return this.needsUpdate&&(this.updateCoords(a),this.evalVisProp("trace")&&this.cloneToBackground(!0)),this},updateTransform:function(a){var b,c;if(0===this.transformations.length||null===this.baseElement)return this;for(this.transformations[0].update(),b=this===this.baseElement?this.transformations[0].apply(this,"self"):this.transformations[0].apply(this.baseElement),c=1;c<this.transformations.length;c++)this.transformations[c].update(),b=__TURBOPACK__default__export__2.matVecMult(this.transformations[c].matrix,b);return this.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,b),this},updateRenderer:function(){return this.updateRendererGeneric("updatePoint"),this},bounds:function(){return this.coords.usrCoords.slice(1).concat(this.coords.usrCoords.slice(1))},makeIntersection:function(a,b,c,d){var e;a=this.board.select(a),b=this.board.select(b),e=__TURBOPACK__default__export__14.intersectionFunction(this.board,a,b,c,d,this.visProp.alwaysintersect),this.addConstraint([e]);try{a.addChild(this),b.addChild(this)}catch(c){throw Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof a+"' and '"+typeof b+"'.")}this.type=__TURBOPACK__default__export__1.OBJECT_TYPE_INTERSECTION,this.elType="intersection",this.parents=[a.id,b.id,c,d],this.generatePolynomial=function(){var c=a.generatePolynomial(this),d=b.generatePolynomial(this);return 0===c.length||0===d.length?[]:[c[0],d[0]]},this.prepareUpdate().update()},setStyle:function(a){var b=["cross","cross","cross","circle","circle","circle","circle","square","square","square","plus","plus","plus"],c=[2,3,4,1,2,3,4,2,3,4,2,3,4];return this.visProp.face=b[a],this.visProp.size=c[a],this.board.renderer.changePointStyle(this),this},normalizeFace:function(a){return __TURBOPACK__default__export__.deprecated("Point.normalizeFace()","JXG.normalizePointFace()"),__TURBOPACK__default__export__25.normalizePointFace(a)},face:function(a){__TURBOPACK__default__export__.deprecated("Point.face()","Point.setAttribute()"),this.setAttribute({face:a})},size:function(a){__TURBOPACK__default__export__.deprecated("Point.size()","Point.setAttribute()"),this.setAttribute({size:a})},isOn:function(a,b){var c,d;if(b=b||__TURBOPACK__default__export__2.eps,__TURBOPACK__default__export__3.isPoint(a))return this.Dist(a)<b;if(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE){if("segment"!==a.elType||this.evalVisProp("alwaysintersect"))return __TURBOPACK__default__export__14.distPointLine(this.coords.usrCoords,a.stdform)<b;else if((c=__TURBOPACK__default__export__.Math.Geometry.projectCoordsToSegment(this.coords.usrCoords,a.point1.coords.usrCoords,a.point2.coords.usrCoords))[1]>=0&&c[1]<=1&&__TURBOPACK__default__export__14.distPointLine(this.coords.usrCoords,a.stdform)<b)return!0}else if(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)return a.evalVisProp("hasinnerpoints")?this.Dist(a.center)<a.Radius()+b:Math.abs(this.Dist(a.center)-a.Radius())<b;else if(a.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)return d=__TURBOPACK__default__export__14.projectPointToCurve(this,a,this.board)[0],__TURBOPACK__default__export__14.distance(this.coords.usrCoords,d.usrCoords,3)<b;else if(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON)return!!(a.evalVisProp("hasinnerpoints")&&a.pnpoly(this.coords.usrCoords[1],this.coords.usrCoords[2],__TURBOPACK__default__export__.COORDS_BY_USER))||(c=__TURBOPACK__default__export__14.projectCoordsToPolygon(this.coords.usrCoords,a),__TURBOPACK__default__export__14.distance(this.coords.usrCoords,c,3)<b);else if(a.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TURTLE)return d=__TURBOPACK__default__export__14.projectPointToTurtle(this,a,this.board),__TURBOPACK__default__export__14.distance(this.coords.usrCoords,d.usrCoords,3)<b;return!1},cloneToBackground:function(){var a=__TURBOPACK__default__export__3.getCloneObject(this);return this.board.renderer.drawPoint(a),this.traces[a.id]=a.rendNode,this}}),__TURBOPACK__default__export__.createPoint=function(a,b,c){var d,e;if(e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"point"),!(d=__TURBOPACK__default__export__32.create(__TURBOPACK__default__export__.Point,a,b,e)))throw Error("JSXGraph: Can't create point with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return d},__TURBOPACK__default__export__.createGlider=function(a,b,c){var d,e,f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"glider");return e=1===b.length?[0,0]:b.slice(0,2),(d=a.create("point",e,f)).makeGlider(b[b.length-1]),d},__TURBOPACK__default__export__.createIntersectionPoint=function(a,b,c){var d,e,f,g,h,i,j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"intersection");b.push(0,0),e=a.select(b[0]),f=a.select(b[1]),h=b[2]||0,i=b[3]||0,d=a.create("point",[0,0,0],j),g=__TURBOPACK__default__export__14.intersectionFunction(a,e,f,h,i,d.visProp.alwaysintersect),d.addConstraint([g]);try{e.addChild(d),f.addChild(d)}catch(a){throw Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.")}return d.type=__TURBOPACK__default__export__1.OBJECT_TYPE_INTERSECTION,d.elType="intersection",d.setParents([e.id,f.id]),d.intersectionNumbers=[h,i],d.getParents=function(){return this.parents.concat(this.intersectionNumbers)},d.generatePolynomial=function(){var a=e.generatePolynomial(d),b=f.generatePolynomial(d);return 0===a.length||0===b.length?[]:[a[0],b[0]]},d},__TURBOPACK__default__export__.createOtherIntersectionPoint=function(a,b,c){var d,e,f,g,h,i,j,k=!0,l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"otherintersection");if(3!==b.length)k=!1;else{for(g=0,e=a.select(b[0]),f=a.select(b[1]),h=__TURBOPACK__default__export__3.isArray(b[2])?b[2]:[b[2]];g<h.length;g++)if(h[g]=a.select(h[g]),!__TURBOPACK__default__export__3.isPoint(h[g])){k=!1;break}k&&((j=[e,f]).sort(function(a,b){return b.elementClass-a.elementClass}),0>[__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE,__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE].indexOf(j[0].elementClass)?k=!1:0>[__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE,__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE,__TURBOPACK__default__export__1.OBJECT_CLASS_LINE].indexOf(j[1].elementClass)&&(k=!1))}if(!k)throw Error("JSXGraph: Can't create 'other intersection point' with parent types '"+typeof b[0]+"',  '"+typeof b[1]+"'and  '"+typeof b[2]+"'.\nPossible parent types: [circle|curve|line,circle|curve|line, point], not two lines");return d=a.create("point",[0,0,0],l),i=__TURBOPACK__default__export__14.otherIntersectionFunction(j,h,d.visProp.alwaysintersect,d.visProp.precision),d.addConstraint([i]),d.type=__TURBOPACK__default__export__1.OBJECT_TYPE_INTERSECTION,d.elType="otherintersection",d.setParents([e.id,f.id]),d.addParents(h),e.addChild(d),f.addChild(d),e.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE&&(d.generatePolynomial=function(){var a=e.generatePolynomial(d),b=f.generatePolynomial(d);return 0===a.length||0===b.length?[]:[a[0],b[0]]}),d},__TURBOPACK__default__export__.createPolePoint=function(a,b,c){var d,e,f,g,h,i,j;if(b.length>1&&(g=b[0].type===__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC||b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE,h=b[1].type===__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC||b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE,i=b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE,j=b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE),2!==b.length||!(g&&j||i&&h))throw Error("JSXGraph: Can't create 'pole point' with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent type: [conic|circle,line], [line,conic|circle]");return j?(e=a.select(b[0]),f=a.select(b[1])):(e=a.select(b[1]),f=a.select(b[0])),(d=a.create("point",[function(){var a=e.quadraticform,b=f.stdform.slice(0,3);return[__TURBOPACK__default__export__.Math.Numerics.det([b,a[1],a[2]]),__TURBOPACK__default__export__.Math.Numerics.det([a[0],b,a[2]]),__TURBOPACK__default__export__.Math.Numerics.det([a[0],a[1],b])]}],c)).elType="polepoint",d.setParents([e.id,f.id]),e.addChild(d),f.addChild(d),d},__TURBOPACK__default__export__.registerElement("point",__TURBOPACK__default__export__.createPoint),__TURBOPACK__default__export__.registerElement("glider",__TURBOPACK__default__export__.createGlider),__TURBOPACK__default__export__.registerElement("intersection",__TURBOPACK__default__export__.createIntersectionPoint),__TURBOPACK__default__export__.registerElement("otherintersection",__TURBOPACK__default__export__.createOtherIntersectionPoint),__TURBOPACK__default__export__.registerElement("polepoint",__TURBOPACK__default__export__.createPolePoint);let __TURBOPACK__default__export__43=__TURBOPACK__default__export__.Point;__TURBOPACK__default__export__.Line=function(a,b,c,d){this.constructor(a,d,__TURBOPACK__default__export__1.OBJECT_TYPE_LINE,__TURBOPACK__default__export__1.OBJECT_CLASS_LINE),this.point1=this.board.select(b),this.point2=this.board.select(c),this.ticks=[],this.defaultTicks=null,this.parentPolygon=null,this.id=this.board.setId(this,"L"),this.board.renderer.drawLine(this),this.board.finalizeAdding(this),this.elType="line",this.point1._is_new?(this.addChild(this.point1),delete this.point1._is_new):this.point1.addChild(this),this.point2._is_new?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this),this.inherits.push(this.point1,this.point2),this.updateStdform(),this.createLabel(),this.methodMap=__TURBOPACK__default__export__.deepCopy(this.methodMap,{point1:"point1",point2:"point2",getSlope:"Slope",Slope:"Slope",Direction:"Direction",getRise:"getRise",Rise:"getRise",getYIntersect:"getRise",YIntersect:"getRise",getAngle:"getAngle",Angle:"getAngle",L:"L",length:"L",setFixedLength:"setFixedLength",setStraight:"setStraight"})},__TURBOPACK__default__export__.Line.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Line.prototype,{hasPoint:function(a,b){var c,d,e,f,g,h,i,j,k,l=[],m=[1,a,b],n=this.evalVisProp("strokewidth");return __TURBOPACK__default__export__3.isObject(this.evalVisProp("precision"))?(k=this.board._inputDevice,j=this.evalVisProp("precision."+k)):j=this.board.options.precision.hasPoint,j+=.5*n,l[0]=this.stdform[0]-this.stdform[1]*this.board.origin.scrCoords[1]/this.board.unitX+this.stdform[2]*this.board.origin.scrCoords[2]/this.board.unitY,l[1]=this.stdform[1]/this.board.unitX,l[2]=-(this.stdform[2]/this.board.unitY),!isNaN(c=__TURBOPACK__default__export__14.distPointLine(m,l))&&!(c>j)&&(!!(this.evalVisProp("straightfirst")&&this.evalVisProp("straightlast"))||(e=this.point1.coords,f=this.point2.coords,d=[0,l[1],l[2]],d=__TURBOPACK__default__export__2.crossProduct(d,m),d=__TURBOPACK__default__export__2.crossProduct(d,l),d[1]/=d[0],d[2]/=d[0],d[0]=1,d=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,d.slice(1),this.board).usrCoords,g=e.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,f),e=e.usrCoords.slice(0),f=f.usrCoords.slice(0),g<__TURBOPACK__default__export__2.eps?h=0:(g===1/0&&(g=1/__TURBOPACK__default__export__2.eps,Math.abs(f[0])<__TURBOPACK__default__export__2.eps?(g/=__TURBOPACK__default__export__14.distance([0,0,0],f),f=[1,e[1]+f[1]*g,e[2]+f[2]*g]):(g/=__TURBOPACK__default__export__14.distance([0,0,0],e),e=[1,f[1]+e[1]*g,f[2]+e[2]*g])),Math.abs(g=f[i=1]-e[i])<__TURBOPACK__default__export__2.eps&&(g=f[i=2]-e[i]),h=(d[i]-e[i])/g),(!!this.evalVisProp("straightfirst")||!(h<0))&&!(!this.evalVisProp("straightlast")&&h>1)))},update:function(){var a;return this.needsUpdate&&(this.constrained&&(__TURBOPACK__default__export__3.isFunction(this.funps)?(a=this.funps())&&a.length&&2===a.length&&(this.point1=a[0],this.point2=a[1]):(__TURBOPACK__default__export__3.isFunction(this.funp1)&&(a=this.funp1(),__TURBOPACK__default__export__3.isPoint(a)?this.point1=a:a&&a.length&&2===a.length&&this.point1.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,a)),__TURBOPACK__default__export__3.isFunction(this.funp2)&&(a=this.funp2(),__TURBOPACK__default__export__3.isPoint(a)?this.point2=a:a&&a.length&&2===a.length&&this.point2.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,a)))),this.updateSegmentFixedLength(),this.updateStdform(),this.evalVisProp("trace")&&this.cloneToBackground(!0)),this},updateSegmentFixedLength:function(){var a,b,c,d,e,f,g,h;return this.hasFixedLength&&(a=this.point1.Dist(this.point2),b=this.evalVisProp("nonnegativeonly")?Math.max(0,this.fixedLength()):Math.abs(this.fixedLength()),c=this.fixedLengthOldCoords[0].distance(__TURBOPACK__default__export__1.COORDS_BY_USER,this.point1.coords),d=this.fixedLengthOldCoords[1].distance(__TURBOPACK__default__export__1.COORDS_BY_USER,this.point2.coords),(c>__TURBOPACK__default__export__2.eps||d>__TURBOPACK__default__export__2.eps||a!==b)&&(e=this.point1.isDraggable&&this.point1.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&!this.point1.evalVisProp("fixed"),f=this.point2.isDraggable&&this.point2.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&!this.point2.evalVisProp("fixed"),a>__TURBOPACK__default__export__2.eps?c>d&&f||c<=d&&f&&!e?(this.point2.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.point1.X()+(this.point2.X()-this.point1.X())*b/a,this.point1.Y()+(this.point2.Y()-this.point1.Y())*b/a]),this.point2.fullUpdate()):(c<=d&&e||c>d&&e&&!f)&&(this.point1.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.point2.X()+(this.point1.X()-this.point2.X())*b/a,this.point2.Y()+(this.point1.Y()-this.point2.Y())*b/a]),this.point1.fullUpdate()):(g=Math.random()-.5,h=Math.random()-.5,a=__TURBOPACK__default__export__2.hypot(g,h),f?(this.point2.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.point1.X()+g*b/a,this.point1.Y()+h*b/a]),this.point2.fullUpdate()):e&&(this.point1.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.point2.X()+g*b/a,this.point2.Y()+h*b/a]),this.point1.fullUpdate())),this.fixedLengthOldCoords[0].setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,this.point1.coords.usrCoords),this.fixedLengthOldCoords[1].setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,this.point2.coords.usrCoords))),this},updateStdform:function(){var a=__TURBOPACK__default__export__2.crossProduct(this.point1.coords.usrCoords,this.point2.coords.usrCoords);this.stdform[0]=a[0],this.stdform[1]=a[1],this.stdform[2]=a[2],this.stdform[3]=0,this.normalize()},updateRenderer:function(){return this.needsUpdate&&(this.visPropCalc.visible&&(this.isReal=!isNaN(this.point1.coords.usrCoords[1]+this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[1]+this.point2.coords.usrCoords[2])&&__TURBOPACK__default__export__2.innerProduct(this.stdform,this.stdform,3)>=__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateLine(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1),this},generatePolynomial:function(a){var b=this.point1.symbolic.x,c=this.point1.symbolic.y,d=this.point2.symbolic.x,e=this.point2.symbolic.y,f=a.symbolic.x,g=a.symbolic.y;return["("+c+")*("+f+")-("+c+")*("+d+")+("+g+")*("+d+")-("+b+")*("+g+")+("+b+")*("+e+")-("+f+")*("+e+")"]},getRise:function(){return Math.abs(this.stdform[2])>=__TURBOPACK__default__export__2.eps?-this.stdform[0]/this.stdform[2]:1/0},Slope:function(){return Math.abs(this.stdform[2])>=__TURBOPACK__default__export__2.eps?-this.stdform[1]/this.stdform[2]:1/0},getSlope:function(){return this.Slope()},getAngle:function(){return Math.atan2(-this.stdform[1],this.stdform[2])},Direction:function(){var a=this.point1.coords.usrCoords,b=this.point2.coords.usrCoords;return 0===b[0]&&0!==a[0]?b.slice(1):0===a[0]&&0!==b[0]?[-a[1],-a[2]]:[b[1]-a[1],b[2]-a[2]]},isVertical:function(){var a=this.Direction();return 0===a[0]&&0!==a[1]},isHorizontal:function(){var a=this.Direction();return 0===a[1]&&0!==a[0]},setStraight:function(a,b){return this.visProp.straightfirst=a,this.visProp.straightlast=b,this.board.renderer.updateLine(this),this},getTextAnchor:function(){return new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[.5*(this.point2.X()+this.point1.X()),.5*(this.point2.Y()+this.point1.Y())],this.board)},setLabelRelativeCoords:function(a){__TURBOPACK__default__export__3.exists(this.label)&&(this.label.relativeCoords=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a[0],-a[1]],this.board))},getLabelAnchor:function(){var a,b,c,d,e,f,g,h,i=1.5,j=0,k=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,this.point1.coords.usrCoords,this.board),l=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,this.point2.coords.usrCoords,this.board),m=this.evalVisProp("straightfirst"),n=this.evalVisProp("straightlast");if((m||n)&&__TURBOPACK__default__export__14.calcStraight(this,k,l,0),k=k.scrCoords,l=l.scrCoords,!__TURBOPACK__default__export__3.exists(this.label)||(c=this.label.evalVisProp("position"),!__TURBOPACK__default__export__3.isString(c)))return new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[NaN,NaN],this.board);if(0>c.indexOf("right")&&0>c.indexOf("left"))switch(c){case"last":a=l[1],b=l[2];break;case"first":a=k[1],b=k[2];break;case"lft":case"llft":case"ulft":k[1]<l[1]+__TURBOPACK__default__export__2.eps?(a=k[1],b=k[2]):(a=l[1],b=l[2]);break;case"rt":case"lrt":case"urt":k[1]>l[1]+__TURBOPACK__default__export__2.eps?(a=k[1],b=k[2]):(a=l[1],b=l[2]);break;default:a=.5*(k[1]+l[1]),b=.5*(k[2]+l[2])}else d=__TURBOPACK__default__export__3.parsePosition(c),e=__TURBOPACK__default__export__3.parseNumber(d.pos,1,1),f=l[1]-k[1],g=l[2]-k[2],h=__TURBOPACK__default__export__2.hypot(f,g),d.pos.indexOf("px")>=0||d.pos.indexOf("fr")>=0||d.pos.indexOf("%")>=0?(d.pos.indexOf("px")>=0&&(e/=h),a=k[1]+e*f,b=k[2]+e*g):(a=k[1]+e*this.board.unitX*f/h,b=k[2]+e*this.board.unitY*g/h),"left"===d.side?f*=-1:g*=-1,__TURBOPACK__default__export__3.exists(this.label)&&(i=.5*this.label.evalVisProp("distance")/h),a+=g*this.label.size[0]*i,b+=f*this.label.size[1]*i;return(m||n)&&(__TURBOPACK__default__export__3.exists(this.label)&&(j=this.label.evalVisProp("fontsize")),Math.abs(a)<__TURBOPACK__default__export__2.eps?a=j:this.board.canvasWidth+__TURBOPACK__default__export__2.eps>a&&a>this.board.canvasWidth-j-__TURBOPACK__default__export__2.eps&&(a=this.board.canvasWidth-j),__TURBOPACK__default__export__2.eps+j>b&&b>-__TURBOPACK__default__export__2.eps?b=j:this.board.canvasHeight+__TURBOPACK__default__export__2.eps>b&&b>this.board.canvasHeight-j-__TURBOPACK__default__export__2.eps&&(b=this.board.canvasHeight-j)),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board)},cloneToBackground:function(){var a,b,c,d=__TURBOPACK__default__export__3.getCloneObject(this);return d.point1=this.point1,d.point2=this.point2,d.stdform=this.stdform,b=this.getSlope(),a=this.getRise(),d.getSlope=function(){return b},d.getRise=function(){return a},c=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawLine(d),this.board.renderer.enhancedRendering=c,this.traces[d.id]=d.rendNode,this},addTransform:function(a){var b,c=__TURBOPACK__default__export__3.isArray(a)?a:[a],d=c.length;for(b=0;b<d;b++)this.point1.transformations.push(c[b]),this.point2.transformations.push(c[b]);return this},snapToGrid:function(a){var b,c,d,e,f,g,h,i;return this.evalVisProp("snaptogrid")?this.parents.length<3?(this.point1.handleSnapToGrid(!0,!0),this.point2.handleSnapToGrid(!0,!0)):__TURBOPACK__default__export__3.exists(a)&&(h=this.evalVisProp("snapsizex"),i=this.evalVisProp("snapsizey"),f=(b=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a.Xprev,a.Yprev],this.board)).usrCoords[1],g=b.usrCoords[2],h<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(h=(e=this.board.defaultAxes.x.defaultTicks).ticksDelta*(e.evalVisProp("minorticks")+1)),i<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(i=(e=this.board.defaultAxes.y.defaultTicks).ticksDelta*(e.evalVisProp("minorticks")+1)),h>0&&i>0&&(c=__TURBOPACK__default__export__14.projectPointToLine({coords:b},this,this.board),d=__TURBOPACK__default__export__12.subtract([1,Math.round(f/h)*h,Math.round(g/i)*i],c.usrCoords),this.board.create("transform",d.slice(1),{type:"translate"}).applyOnce([this.point1,this.point2]))):(this.point1.handleSnapToGrid(!1,!0),this.point2.handleSnapToGrid(!1,!0)),this},snapToPoints:function(){var a=this.evalVisProp("snaptopoints");return this.parents.length<3&&(this.point1.handleSnapToPoints(a),this.point2.handleSnapToPoints(a)),this},X:function(a){var b=this.stdform[2];return(1-Math.abs(a=(a-.5)*2))*(Math.abs(this.point1.coords.usrCoords[0])>__TURBOPACK__default__export__2.eps?this.point1.coords.usrCoords[1]:this.point2.coords.usrCoords[1])-a*b},Y:function(a){var b=this.stdform[1];return(1-Math.abs(a=(a-.5)*2))*(Math.abs(this.point1.coords.usrCoords[0])>__TURBOPACK__default__export__2.eps?this.point1.coords.usrCoords[2]:this.point2.coords.usrCoords[2])+a*b},Z:function(a){return(1-Math.abs(a=(a-.5)*2))*(Math.abs(this.point1.coords.usrCoords[0])>__TURBOPACK__default__export__2.eps?this.point1.coords.usrCoords[0]:this.point2.coords.usrCoords[0])},L:function(){return this.point1.Dist(this.point2)},setFixedLength:function(a){return this.hasFixedLength&&(this.fixedLength=__TURBOPACK__default__export__3.createFunction(a,this.board),this.hasFixedLength=!0,this.addParentsFromJCFunctions([this.fixedLength]),this.board.update()),this},minX:function(){return 0},maxX:function(){return 1},bounds:function(){var a=this.point1.coords.usrCoords,b=this.point2.coords.usrCoords;return[Math.min(a[1],b[1]),Math.max(a[2],b[2]),Math.max(a[1],b[1]),Math.min(a[2],b[2])]},remove:function(){this.removeAllTicks(),__TURBOPACK__default__export__31.prototype.remove.call(this)}}),__TURBOPACK__default__export__.createLine=function(a,b,c){var d,e,f,g,h,i,j,k=[],l=!1,m=!1;if(2===b.length){if(i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"line","point1"),__TURBOPACK__default__export__3.isArray(b[0])&&b[0].length>1)f=a.create("point",b[0],i);else if(__TURBOPACK__default__export__3.isString(b[0])||__TURBOPACK__default__export__3.isPoint(b[0]))f=a.select(b[0]);else if(__TURBOPACK__default__export__3.isFunction(b[0])&&__TURBOPACK__default__export__3.isPoint(b[0]()))f=b[0](),m=!0;else if(__TURBOPACK__default__export__3.isFunction(b[0])&&b[0]().length&&b[0]().length>=2)f=__TURBOPACK__default__export__.createPoint(a,b[0](),i),m=!0;else if(__TURBOPACK__default__export__3.isObject(b[0])&&__TURBOPACK__default__export__3.isTransformationOrArray(b[1]))l=!0,f=a.create("point",[b[0].point1,b[1]],i);else throw Error("JSXGraph: Can't create line with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");if(i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"line","point2"),l)g=a.create("point",[b[0].point2,b[1]],i);else if(__TURBOPACK__default__export__3.isArray(b[1])&&b[1].length>1)g=a.create("point",b[1],i);else if(__TURBOPACK__default__export__3.isString(b[1])||__TURBOPACK__default__export__3.isPoint(b[1]))g=a.select(b[1]);else if(__TURBOPACK__default__export__3.isFunction(b[1])&&__TURBOPACK__default__export__3.isPoint(b[1]()))g=b[1](),m=!0;else if(__TURBOPACK__default__export__3.isFunction(b[1])&&b[1]().length&&b[1]().length>=2)g=__TURBOPACK__default__export__.createPoint(a,b[1](),i),m=!0;else throw Error("JSXGraph: Can't create line with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"line"),e=new __TURBOPACK__default__export__.Line(a,f,g,i),m?(e.constrained=!0,e.funp1=b[0],e.funp2=b[1]):l||(e.isDraggable=!0),e.setParents([f.id,g.id])}else if(3===b.length){for(h=0,j=!0;h<3;h++)if(__TURBOPACK__default__export__3.isNumber(b[h]))k[h]=__TURBOPACK__default__export__3.createFunction(b[h]);else if(__TURBOPACK__default__export__3.isFunction(b[h]))k[h]=b[h],j=!1;else throw Error("JSXGraph: Can't create line with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"line","point1"),f=j?a.create("point",[k[2]()*k[2]()+k[1]()*k[1](),k[2]()-k[1]()*k[0]()+k[2](),-k[1]()-k[2]()*k[0]()-k[1]()],i):a.create("point",[function(){return(k[2]()*k[2]()+k[1]()*k[1]())*.5},function(){return(k[2]()-k[1]()*k[0]()+k[2]())*.5},function(){return(-k[1]()-k[2]()*k[0]()-k[1]())*.5}],i),i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"line","point2"),g=j?a.create("point",[k[2]()*k[2]()+k[1]()*k[1](),-k[1]()*k[0]()+k[2](),-k[2]()*k[0]()-k[1]()],i):a.create("point",[function(){return k[2]()*k[2]()+k[1]()*k[1]()},function(){return-k[1]()*k[0]()+k[2]()},function(){return-k[2]()*k[0]()-k[1]()}],i),f.prepareUpdate().update(),g.prepareUpdate().update(),i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"line"),(e=new __TURBOPACK__default__export__.Line(a,f,g,i)).isDraggable=j,e.setParents([f,g])}else if(1===b.length&&__TURBOPACK__default__export__3.isFunction(b[0])&&2===b[0]().length&&__TURBOPACK__default__export__3.isPoint(b[0]()[0])&&__TURBOPACK__default__export__3.isPoint(b[0]()[1]))d=b[0](),i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"line"),(e=new __TURBOPACK__default__export__.Line(a,d[0],d[1],i)).constrained=!0,e.funps=b[0],e.setParents(d);else if(1===b.length&&__TURBOPACK__default__export__3.isFunction(b[0])&&3===b[0]().length&&__TURBOPACK__default__export__3.isNumber(b[0]()[0])&&__TURBOPACK__default__export__3.isNumber(b[0]()[1])&&__TURBOPACK__default__export__3.isNumber(b[0]()[2]))d=b[0],i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"line","point1"),f=a.create("point",[function(){var a=d();return[(a[2]*a[2]+a[1]*a[1])*.5,(a[2]-a[1]*a[0]+a[2])*.5,(-a[1]-a[2]*a[0]-a[1])*.5]}],i),i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"line","point2"),g=a.create("point",[function(){var a=d();return[a[2]*a[2]+a[1]*a[1],-a[1]*a[0]+a[2],-a[2]*a[0]-a[1]]}],i),i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"line"),(e=new __TURBOPACK__default__export__.Line(a,f,g,i)).constrained=!0,e.funps=b[0],e.setParents([f,g]);else throw Error("JSXGraph: Can't create line with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");return e},__TURBOPACK__default__export__.registerElement("line",__TURBOPACK__default__export__.createLine),__TURBOPACK__default__export__.createSegment=function(a,b,c){var d,e;if(c.straightFirst=!1,c.straightLast=!1,e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"segment"),d=a.create("line",b.slice(0,2),e),3===b.length){try{d.hasFixedLength=!0,d.fixedLengthOldCoords=[],d.fixedLengthOldCoords[0]=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,d.point1.coords.usrCoords.slice(1,3),a),d.fixedLengthOldCoords[1]=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,d.point2.coords.usrCoords.slice(1,3),a),d.setFixedLength(b[2])}catch(a){throw Error("JSXGraph: Can't create segment with third parent type '"+typeof b[2]+"'.\nPossible third parent types: number or function")}d.getParents=function(){return this.parents.concat(this.fixedLength())}}return d.elType="segment",d},__TURBOPACK__default__export__.registerElement("segment",__TURBOPACK__default__export__.createSegment),__TURBOPACK__default__export__.createArrow=function(a,b,c){var d,e;return c.straightFirst=!1,c.straightLast=!1,e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"arrow"),(d=a.create("line",b,e)).type=__TURBOPACK__default__export__1.OBJECT_TYPE_VECTOR,d.elType="arrow",d},__TURBOPACK__default__export__.registerElement("arrow",__TURBOPACK__default__export__.createArrow),__TURBOPACK__default__export__.createAxis=function(a,b,c){var d,e,f,g;e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"axis");try{d=a.create("line",b,e)}catch(a){throw Error("JSXGraph: Can't create axis with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]")}for(f in d.type=__TURBOPACK__default__export__1.OBJECT_TYPE_AXIS,d.isDraggable=!1,d.point1.isDraggable=!1,d.point2.isDraggable=!1,d._point1UsrCoordsOrg=d.point1.coords.usrCoords.slice(),d._point2UsrCoordsOrg=d.point2.coords.usrCoords.slice(),d.ancestors)d.ancestors.hasOwnProperty(f)&&(d.ancestors[f].type=__TURBOPACK__default__export__1.OBJECT_TYPE_AXISPOINT);return g=__TURBOPACK__default__export__3.exists(e.ticks.ticksdistance)?e.ticks.ticksdistance:__TURBOPACK__default__export__3.isArray(e.ticks.ticks)?e.ticks.ticks:1,d.defaultTicks=a.create("ticks",[d,g],e.ticks),d.defaultTicks.dump=!1,d.elType="axis",d.subs={ticks:d.defaultTicks},d.inherits.push(d.defaultTicks),d.update=function(){var a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(!this.needsUpdate)return this;if(a=this.board.getBoundingBox(),b=this.evalVisProp("position"),e=this.Direction(),f=this.isHorizontal(),g=this.isVertical(),h=this.evalVisProp("ticksautopos"),i=this.evalVisProp("ticksautoposthreshold"),i=f?__TURBOPACK__default__export__3.parseNumber(i,Math.abs(a[1]-a[3]),1/this.board.unitX)*this.board.unitX:g?__TURBOPACK__default__export__3.parseNumber(i,Math.abs(a[1]-a[3]),1/this.board.unitY)*this.board.unitY:__TURBOPACK__default__export__3.parseNumber(i,1,1),l=(k=this.evalVisProp("anchor")).indexOf("left")>-1,m=k.indexOf("right")>-1,n=this.evalVisProp("anchordist"),n=f?__TURBOPACK__default__export__3.parseNumber(n,Math.abs(a[1]-a[3]),1/this.board.unitX):g?__TURBOPACK__default__export__3.parseNumber(n,Math.abs(a[0]-a[2]),1/this.board.unitY):0,q=this.board.getPointLoc(this._point1UsrCoordsOrg,n),o=this.point1.coords.usrCoords.slice(),p=this.point2.coords.usrCoords.slice(),"static"!==b&&(g||f)&&("fixed"===b?(f&&(e[0]>0&&m||e[0]<0&&l?(o[2]=a[3]+n,p[2]=a[3]+n):e[0]>0&&l||e[0]<0&&m?(o[2]=a[1]-n,p[2]=a[1]-n):(o=this._point1UsrCoordsOrg.slice(),p=this._point2UsrCoordsOrg.slice())),g&&(e[1]>0&&l||e[1]<0&&m?(o[1]=a[0]+n,p[1]=a[0]+n):e[1]>0&&m||e[1]<0&&l?(o[1]=a[2]-n,p[1]=a[2]-n):(o=this._point1UsrCoordsOrg.slice(),p=this._point2UsrCoordsOrg.slice()))):"sticky"===b&&(f&&(q[1]<0&&(e[0]>0&&m||e[0]<0&&l)?(o[2]=a[3]+n,p[2]=a[3]+n):q[1]>0&&(e[0]>0&&l||e[0]<0&&m)?(o[2]=a[1]-n,p[2]=a[1]-n):(o=this._point1UsrCoordsOrg.slice(),p=this._point2UsrCoordsOrg.slice())),g&&(q[0]<0&&(e[1]>0&&l||e[1]<0&&m)?(o[1]=a[0]+n,p[1]=a[0]+n):q[0]>0&&(e[1]>0&&m||e[1]<0&&l)?(o[1]=a[2]-n,p[1]=a[2]-n):(o=this._point1UsrCoordsOrg.slice(),p=this._point2UsrCoordsOrg.slice())))),this.point1.setPositionDirectly(__TURBOPACK__default__export__.COORDS_BY_USER,o),this.point2.setPositionDirectly(__TURBOPACK__default__export__.COORDS_BY_USER,p),__TURBOPACK__default__export__3.exists(this.defaultTicks)){if(r=this.defaultTicks.visProp.label,h&&(f||g)){if(__TURBOPACK__default__export__3.exists(r._anchorx_org)||(r._anchorx_org=__TURBOPACK__default__export__3.def(r.anchorx,this.board.options.text.anchorX)),__TURBOPACK__default__export__3.exists(r._anchory_org)||(r._anchory_org=__TURBOPACK__default__export__3.def(r.anchory,this.board.options.text.anchorY)),__TURBOPACK__default__export__3.exists(r._offset_org)||(r._offset_org=r.offset.slice()),t=r.offset,f){for(j=d.point1.coords.scrCoords[2]-.5*this.board.canvasHeight,s=r.anchory,j<0&&Math.abs(j)>i?"bottom"===r._side&&("top"===r.anchory&&(s="bottom"),t[1]*=-1,r._side="top"):j>0&&Math.abs(j)>i?"top"===r._side&&("bottom"===r.anchory&&(s="top"),t[1]*=-1,r._side="bottom"):(s=r._anchory_org,t=r._offset_org.slice(),"top"===s?r._side="bottom":"bottom"===s?r._side="top":t[1]<0?r._side="bottom":r._side="top"),c=0;c<d.defaultTicks.labels.length;c++)this.defaultTicks.labels[c].visProp.anchory=s;r.anchory=s}else if(g){for((j=d.point1.coords.scrCoords[1]-.5*this.board.canvasWidth)<0&&Math.abs(j)>i?"right"===r._side&&("left"===r.anchorx&&(s="right"),t[0]*=-1,r._side="left"):j>0&&Math.abs(j)>i?"left"===r._side&&("right"===r.anchorx&&(s="left"),t[0]*=-1,r._side="right"):(s=r._anchorx_org,t=r._offset_org.slice(),"left"===s?r._side="right":"right"===s||t[0]<0?r._side="left":r._side="right"),c=0;c<d.defaultTicks.labels.length;c++)this.defaultTicks.labels[c].visProp.anchorx=s;r.anchorx=s}r.offset=t}else delete r._anchorx_org,delete r._anchory_org,delete r._offset_org;this.defaultTicks.needsUpdate=!0}return __TURBOPACK__default__export__.Line.prototype.update.call(this),this},d},__TURBOPACK__default__export__.registerElement("axis",__TURBOPACK__default__export__.createAxis),__TURBOPACK__default__export__.createTangent=function(a,b,c){var d,e,f,g,h,i,j,k,l,m=[];if(1===b.length)e=(d=b[0]).slideObject;else if(2===b.length)if(__TURBOPACK__default__export__3.isPoint(b[0]))d=b[0],e=b[1];else if(__TURBOPACK__default__export__3.isPoint(b[1]))e=b[0],d=b[1];else throw Error("JSXGraph: Can't create tangent with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [glider|point], [point,line|curve|circle|conic]");else throw Error("JSXGraph: Can't create tangent with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [glider|point], [point,line|curve|circle|conic]");if(i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"tangent"),e.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)(h=a.create("line",[e.point1,e.point2],i)).glider=d;else if(e.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&e.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC){if(l=(k=e.getTransformationSource())[0])for(m.push(e);k[0]&&__TURBOPACK__default__export__3.exists(k[1]._transformationSource);)m.push(k[1]),k=k[1].getTransformationSource();"plot"!==e.evalVisProp("curvetype")||l?h=a.create("line",[function(){var b,c,f,g,h,i,j,k,n=e.X,o=e.Y;if(k=d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER?d.position:"functiongraph"===e.evalVisProp("curvetype")?d.X():__TURBOPACK__default__export__14.projectPointToCurve(d,e,a)[1],j=d.Coords(!0),l){for(g=0,n=(h=m[m.length-1]._transformationSource).X,o=h.Y;g<m.length;g++)m[g].updateTransformMatrix(),i=__TURBOPACK__default__export__2.inverse(m[g].transformMat),j=__TURBOPACK__default__export__2.matVecMult(i,j);d.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&(j[1]/=j[0],j[2]/=j[0],j[0]/=j[0],k=__TURBOPACK__default__export__14.projectCoordsToCurve(j[1],j[2],0,h,a)[1])}if(b=__TURBOPACK__default__export__13.D(o)(k),c=__TURBOPACK__default__export__13.D(n)(k),f=[-j[1]*b+j[2]*c,j[0]*b,-j[0]*c],l)for(g=m.length-1;g>=0;g--)i=__TURBOPACK__default__export__2.transpose(__TURBOPACK__default__export__2.inverse(m[g].transformMat)),f=__TURBOPACK__default__export__2.matVecMult(i,f);return f}],i):(j=function(a,b,c){var e,f,g,h,i,j,k,l,m,n,o,p,q=Math.floor(a);if(1===b.bezierDegree)q===b.numberPoints-1&&q--;else{if(3!==b.bezierDegree)return 0;q=3*Math.floor(a*((p="sector"===b.elType?(o=b.points.slice(3,b.numberPoints-3)).length:(o=b.points).length)-1)/3),g=(a*(p-1)-q)/3,q>=p-1&&(q=p-4,g=1)}if(q<0)return 1;switch(1===b.bezierDegree?(e=b.points[q].usrCoords,f=b.points[q+1].usrCoords):(h=o[q].usrCoords,i=o[q+1].usrCoords,j=o[q+2].usrCoords,k=o[q+3].usrCoords,l=(1-g)*(1-g)*(i[1]-h[1])+2*(1-g)*g*(j[1]-i[1])+g*g*(k[1]-j[1]),m=(1-g)*(1-g)*(i[2]-h[2])+2*(1-g)*g*(j[2]-i[2])+g*g*(k[2]-j[2]),n=__TURBOPACK__default__export__2.hypot(l,m),l/=n,m/=n,f=[1,(e=d.coords.usrCoords)[1]+l,e[2]+m]),c){case 0:return e[2]*f[1]-e[1]*f[2];case 1:return f[2]-e[2];case 2:return e[1]-f[1];default:return[e[2]*f[1]-e[1]*f[2],f[2]-e[2],e[1]-f[1]]}},h=a.create("line",[function(){var b;return j(b=d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER?d.position:__TURBOPACK__default__export__14.projectPointToCurve(d,e,a)[1],e)}],i)),d.addChild(h),h.glider=d}else e.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TURTLE?(h=a.create("line",[function(){var b,c;for(f=0,b=Math.floor(c=d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER?d.position:__TURBOPACK__default__export__14.projectPointToTurtle(d,e,a)[1]);f<e.objects.length;f++)if((g=e.objects[f]).type===__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE){if(b<g.numberPoints)break;b-=g.numberPoints}return(b===g.numberPoints-1&&b--,b<0)?[1,0,0]:[g.Y(b)*g.X(b+1)-g.X(b)*g.Y(b+1),g.Y(b+1)-g.Y(b),g.X(b)-g.X(b+1)]}],i),d.addChild(h),h.glider=d):(e.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE||e.type===__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC)&&(h=a.create("line",[function(){return __TURBOPACK__default__export__2.matVecMult(e.quadraticform,d.coords.usrCoords)}],i),d.addChild(h),h.glider=d);if(!__TURBOPACK__default__export__3.exists(h))throw Error("JSXGraph: Couldn't create tangent with the given parents.");return h.elType="tangent",h.type=__TURBOPACK__default__export__1.OBJECT_TYPE_TANGENT,h.setParents(b),h},__TURBOPACK__default__export__.createNormal=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=[];for(g=0;g<b.length;++g)b[g]=a.select(b[g]);if(1===b.length)e=(d=b[0]).slideObject;else if(2===b.length)if(__TURBOPACK__default__export__3.isPointType(a,b[0]))d=__TURBOPACK__default__export__3.providePoints(a,[b[0]],c,"point")[0],e=b[1];else if(__TURBOPACK__default__export__3.isPointType(a,b[1]))e=b[0],d=__TURBOPACK__default__export__3.providePoints(a,[b[1]],c,"point")[0];else throw Error("JSXGraph: Can't create normal with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");else throw Error("JSXGraph: Can't create normal with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");if(h=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"normal"),e.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"normal","point"),(i=a.create("point",[function(){var a=__TURBOPACK__default__export__2.crossProduct([1,0,0],e.stdform);return[a[0],-a[2],a[1]]}],j)).isDraggable=!0,(f=a.create("line",[d,i],h)).point=i,f.subs={point:i},f.inherits.push(i);else if(e.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)f=a.create("line",[e.midpoint,d],h);else if(e.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE){if(m=(l=e.getTransformationSource())[0])for(n.push(e);l[0]&&__TURBOPACK__default__export__3.exists(l[1]._transformationSource);)n.push(l[1]),l=l[1].getTransformationSource();"plot"!==e.evalVisProp("curvetype")||m?f=a.create("line",[function(){var b,c,f,g,h,i,j,k,l=e.X,o=e.Y;if(k=d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER?d.position:"functiongraph"===e.evalVisProp("curvetype")?d.X():__TURBOPACK__default__export__14.projectPointToCurve(d,e,a)[1],j=d.Coords(!0),m){for(g=0,l=(h=n[n.length-1]._transformationSource).X,o=h.Y;g<n.length;g++)n[g].updateTransformMatrix(),i=__TURBOPACK__default__export__2.inverse(n[g].transformMat),j=__TURBOPACK__default__export__2.matVecMult(i,j);d.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER&&(j[1]/=j[0],j[2]/=j[0],j[0]/=j[0],k=__TURBOPACK__default__export__14.projectCoordsToCurve(j[1],j[2],0,h,a)[1])}if(b=__TURBOPACK__default__export__13.D(o)(k),c=__TURBOPACK__default__export__13.D(l)(k),f=[-j[1]*c-j[2]*b,j[0]*c,j[0]*b],m)for(g=n.length-1;g>=0;g--)i=__TURBOPACK__default__export__2.transpose(__TURBOPACK__default__export__2.inverse(n[g].transformMat)),f=__TURBOPACK__default__export__2.matVecMult(i,f);return f}],h):(k=function(a,b,c){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=Math.floor(a);if(1===b.bezierDegree)u===b.numberPoints-1&&u--,h=a;else{if(3!==b.bezierDegree)return 0;u=3*Math.floor(a*((t="sector"===b.elType?(s=b.points.slice(3,b.numberPoints-3)).length:(s=b.points).length)-1)/3),h=(a*(t-1)-u)/3,u>=t-1&&(u=t-4,h=1)}if(u<0)return 1;switch(e=h-u,1===b.bezierDegree?(f=b.points[u].usrCoords,g=b.points[u+1].usrCoords,q=[f[0]+e*(g[0]-f[0]),f[1]+e*(g[1]-f[1]),f[2]+e*(g[2]-f[2])],p=__TURBOPACK__default__export__2.crossProduct(f,g),r=[(r=__TURBOPACK__default__export__2.crossProduct([1,0,0],p))[0],-r[2],r[1]],p=__TURBOPACK__default__export__2.crossProduct(q,r)):(i=s[u].usrCoords,j=s[u+1].usrCoords,k=s[u+2].usrCoords,l=s[u+3].usrCoords,m=(1-h)*(1-h)*(j[1]-i[1])+2*(1-h)*h*(k[1]-j[1])+h*h*(l[1]-k[1]),n=(1-h)*(1-h)*(j[2]-i[2])+2*(1-h)*h*(k[2]-j[2])+h*h*(l[2]-k[2]),o=__TURBOPACK__default__export__2.hypot(m,n),m/=o,n/=o,g=[1,(f=d.coords.usrCoords)[1]-n,f[2]+m],p=[f[2]*g[1]-f[1]*g[2],g[2]-f[2],f[1]-g[1]]),c){case 0:return p[0];case 1:return p[1];case 2:return p[2];default:return p}},f=a.create("line",[function(){var b;return k(b=d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER?d.position:__TURBOPACK__default__export__14.projectPointToCurve(d,e,a)[1],e)}],h),d.addChild(f),f.glider=d)}else if(e.type===__TURBOPACK__default__export__1.OBJECT_TYPE_TURTLE)f=a.create("line",[function(){var a,b,c=Math.floor(d.position),f=d.position-c;for(b=0;b<e.objects.length;b++)if((a=e.objects[b]).type===__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE){if(c<a.numberPoints)break;c-=a.numberPoints}return(c===a.numberPoints-1&&(c-=1,f=1),c<0)?1:(a.Y(c)+f*(a.Y(c+1)-a.Y(c)))*(a.Y(c)-a.Y(c+1))-(a.X(c)+f*(a.X(c+1)-a.X(c)))*(a.X(c+1)-a.X(c))},function(){var a,b,c=Math.floor(d.position);for(b=0;b<e.objects.length;b++)if((a=e.objects[b]).type===__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE){if(c<a.numberPoints)break;c-=a.numberPoints}return(c===a.numberPoints-1&&(c-=1),c<0)?0:a.X(c+1)-a.X(c)},function(){var a,b,c=Math.floor(d.position);for(b=0;b<e.objects.length;b++)if((a=e.objects[b]).type===__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE){if(c<a.numberPoints)break;c-=a.numberPoints}return(c===a.numberPoints-1&&(c-=1),c<0)?0:a.Y(c+1)-a.Y(c)}],h);else throw Error("JSXGraph: Can't create normal with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");return f.elType="normal",f.setParents(b),__TURBOPACK__default__export__3.exists(d._is_new)?(f.addChild(d),delete d._is_new):d.addChild(f),e.addChild(f),f},__TURBOPACK__default__export__.createRadicalAxis=function(a,b,c){var d,e,f;if(2!==b.length||b[0].elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE||b[1].elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)throw Error("JSXGraph: Can't create 'radical axis' with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent type: [circle,circle]");return e=a.select(b[0]),f=a.select(b[1]),(d=a.create("line",[function(){var a=e.stdform,b=f.stdform;return __TURBOPACK__default__export__2.matVecMult(__TURBOPACK__default__export__2.transpose([a.slice(0,3),b.slice(0,3)]),[b[3],-a[3]])}],c)).elType="radicalaxis",d.setParents([e.id,f.id]),e.addChild(d),f.addChild(d),d},__TURBOPACK__default__export__.createPolarLine=function(a,b,c){var d,e,f,g,h,i,j;if(b.length>1&&(g=b[0].type===__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC||b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE,h=b[1].type===__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC||b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE,i=__TURBOPACK__default__export__3.isPoint(b[0]),j=__TURBOPACK__default__export__3.isPoint(b[1])),2!==b.length||!(g&&j||i&&h))throw Error("JSXGraph: Can't create 'polar line' with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent type: [conic|circle,point], [point,conic|circle]");return j?(e=a.select(b[0]),f=a.select(b[1])):(e=a.select(b[1]),f=a.select(b[0])),(d=a.create("tangent",[e,f],c)).elType="polarline",d},__TURBOPACK__default__export__.createTangentTo=function(a,b,c){var d,e,f,g,h,i,j;if(f=a.select(b[0]),g=__TURBOPACK__default__export__3.providePoints(a,b[1],c,"point")[0],h=__TURBOPACK__default__export__3.def(b[2],0),f.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_CIRCLE&&f.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC||g.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_POINT)throw Error("JSXGraph: Can't create tangentto with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [circle|conic,point,number]");return e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"tangentto"),j=a.create("polar",[f,g],e.polar),i=a.create("intersection",[j,f,h],e.point),(d=a.create("tangent",[f,i],e)).point=i,d.polar=j,d.elType="tangentto",d},__TURBOPACK__default__export__.registerElement("tangent",__TURBOPACK__default__export__.createTangent),__TURBOPACK__default__export__.registerElement("normal",__TURBOPACK__default__export__.createNormal),__TURBOPACK__default__export__.registerElement("tangentto",__TURBOPACK__default__export__.createTangentTo),__TURBOPACK__default__export__.registerElement("polar",__TURBOPACK__default__export__.createTangent),__TURBOPACK__default__export__.registerElement("radicalaxis",__TURBOPACK__default__export__.createRadicalAxis),__TURBOPACK__default__export__.registerElement("polarline",__TURBOPACK__default__export__.createPolarLine);let __TURBOPACK__default__export__44=__TURBOPACK__default__export__.Line;__TURBOPACK__default__export__.Group=function(a,b,c,d,e){var f,g,h,i;for(this.board=a,this.objects={},f=this.board.numObjects,this.board.numObjects+=1,""!==b&&__TURBOPACK__default__export__3.exists(b)?this.id=b:this.id=this.board.id+"Group"+f,this.board.groups[this.id]=this,this.type=__TURBOPACK__default__export__1.OBJECT_TYPE_POINT,this.elementClass=__TURBOPACK__default__export__1.OBJECT_CLASS_POINT,""!==c&&__TURBOPACK__default__export__3.exists(c)?this.name=c:this.name="group_"+this.board.generateName(this),delete this.type,this.coords={},this.needsRegularUpdate=e.needsregularupdate,this.rotationCenter="centroid",this.scaleCenter=null,this.rotationPoints=[],this.translationPoints=[],this.scalePoints=[],this.scaleDirections={},this.parents=[],g=__TURBOPACK__default__export__3.isArray(d)?d:Array.prototype.slice.call(arguments,3),h=0;h<g.length;h++)!(i=this.board.select(g[h])).evalVisProp("fixed")&&__TURBOPACK__default__export__3.exists(i.coords)&&this.addPoint(i);this.methodMap={ungroup:"ungroup",add:"addPoint",addPoint:"addPoint",addPoints:"addPoints",addGroup:"addGroup",remove:"removePoint",removePoint:"removePoint",setAttribute:"setAttribute",setProperty:"setAttribute"}},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Group.prototype,{ungroup:function(){var a,b,c;for(a in this.objects)this.objects.hasOwnProperty(a)&&(b=this.objects[a].point,__TURBOPACK__default__export__3.isArray(b.groups)&&(c=__TURBOPACK__default__export__3.indexOf(b.groups,this.id))>=0&&delete b.groups[c]);return this.objects={},this},addParents:function(a){var b,c,d;for(b=0,d=__TURBOPACK__default__export__3.isArray(a)?a:arguments,c=d.length;b<c;++b)__TURBOPACK__default__export__3.isId(this.board,d[b])?this.parents.push(d[b]):__TURBOPACK__default__export__3.exists(d[b].id)&&this.parents.push(d[b].id);this.parents=__TURBOPACK__default__export__3.uniqueArray(this.parents)},setParents:function(a){return this.parents=[],this.addParents(a),this},getParents:function(){return __TURBOPACK__default__export__3.isArray(this.parents)?this.parents:[]},_updateCoordsCache:function(a){var b;""!==a&&__TURBOPACK__default__export__3.exists(this.objects[a])&&(b=this.objects[a].point,this.coords[b.id]={usrCoords:b.coords.usrCoords.slice(0)})},update:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=null;if(!this.needsUpdate)return this;if("nothing"===(b=this._update_find_drag_type()).action)return this._updateCoordsCache(b.id),this;if(m=this.objects[b.id].point,"translation"===b.action){if(j=[m.coords.usrCoords[1]-this.coords[b.id].usrCoords[1],m.coords.usrCoords[2]-this.coords[b.id].usrCoords[2]],m.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_POINT){for(j.unshift(0),a=0;a<m.transformations.length;a++)j=__TURBOPACK__default__export__2.matVecMult(m.transformations[a].matrix,j);j.shift()}(k=this.board.create("transform",j,{type:"translate"})).update()}else if("rotation"===b.action||"scaling"===b.action){if(d="rotation"===b.action?"rotationCenter":"scaleCenter",__TURBOPACK__default__export__3.exists(this[d].coords))l=this[d].coords.usrCoords.slice(1);else if("centroid"===this[d])l=this._update_centroid_center();else if(__TURBOPACK__default__export__3.isArray(this[d]))l=this[d];else{if(!__TURBOPACK__default__export__3.isFunction(this[d]))return __TURBOPACK__default__export__.debug("Group.update: No valid center for this transformation, get out of here."),this;l=this[d]()}if("rotation"===b.action)i=__TURBOPACK__default__export__14.rad(this.coords[b.id].usrCoords.slice(1),l,this.objects[b.id].point),(j=this.board.create("transform",[i,l[0],l[1]],{type:"rotate"})).update();else{if("scaling"!==b.action||Math.abs(f=__TURBOPACK__default__export__14.distance(this.coords[b.id].usrCoords.slice(1),l))<__TURBOPACK__default__export__2.eps)return this;f=__TURBOPACK__default__export__14.distance(m.coords.usrCoords.slice(1),l)/f,g=this.scaleDirections[b.id].indexOf("x")>=0?f:1,h=this.scaleDirections[b.id].indexOf("y")>=0?f:1,(j=this.board.create("transform",[1,0,0,l[0]*(1-g),g,0,l[1]*(1-h),0,h],{type:"generic"})).update()}}for(c in this.objects)(m=this.objects[c].point).elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_POINT&&(__TURBOPACK__default__export__3.exists(j.board)?j.meltTo(m):b.id!==m.id&&k.meltTo(m));for(c in this._update_apply_transformation(b,j),this.needsUpdate=!1,this.objects)if(this.objects.hasOwnProperty(c))for(e in this.objects[c].descendants)this.objects[c].descendants.hasOwnProperty(e)&&(this.objects[c].descendants.needsUpdate=this.objects[c].descendants.needsRegularUpdate||this.board.needsFullUpdate);for(c in this.board.updateElements(b),this.objects)this.objects.hasOwnProperty(c)&&this._updateCoordsCache(c);return this},_update_find_drag_type:function(){var a,b,c,d="nothing",e=[];for(a in this.objects)this.objects.hasOwnProperty(a)&&(b=this.objects[a].point).coords.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,this.coords[a])>__TURBOPACK__default__export__2.eps&&e.push(b.id);return 0===e.length?{action:d,id:"",changed:e}:(c=e[0],b=this.objects[c].point,e.length>1?d="translation":__TURBOPACK__default__export__3.isInArray(this.rotationPoints,b)&&__TURBOPACK__default__export__3.exists(this.rotationCenter)?d="rotation":__TURBOPACK__default__export__3.isInArray(this.scalePoints,b)&&__TURBOPACK__default__export__3.exists(this.scaleCenter)?d="scaling":__TURBOPACK__default__export__3.isInArray(this.translationPoints,b)&&(d="translation"),{action:d,id:c,changed:e})},_update_centroid_center:function(){var a,b,c;for(c in a=[0,0],b=0,this.coords)this.coords.hasOwnProperty(c)&&(a[0]+=this.coords[c].usrCoords[1],a[1]+=this.coords[c].usrCoords[2],++b);return b>0&&(a[0]/=b,a[1]/=b),a},_update_apply_transformation:function(a,b){var c,d;for(c in this.objects)this.objects.hasOwnProperty(c)&&(__TURBOPACK__default__export__3.exists(this.board.objects[c])?(d=this.objects[c].point).id!==a.id?"translation"===a.action?__TURBOPACK__default__export__3.isInArray(a.changed,d.id)||d.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_POINT||d.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.coords[c].usrCoords[1]+b[0],this.coords[c].usrCoords[2]+b[1]]):("rotation"===a.action||"scaling"===a.action)&&d.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT&&b.applyOnce([d]):("rotation"===a.action||"scaling"===a.action)&&d.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,__TURBOPACK__default__export__2.matVecMult(b.matrix,this.coords[d.id].usrCoords)):delete this.objects[c])},addPoint:function(a){return this.objects[a.id]={point:this.board.select(a)},this._updateCoordsCache(a.id),this.translationPoints.push(a),a.groups.push(this.id),a.groups=__TURBOPACK__default__export__3.uniqueArray(a.groups),this},addPoints:function(a){var b;for(b=0;b<a.length;b++)this.addPoint(a[b]);return this},addGroup:function(a){var b;for(b in a.objects)a.objects.hasOwnProperty(b)&&this.addPoint(a.objects[b].point);return this},removePoint:function(a){return delete this.objects[a.id],this},setRotationCenter:function(a){return this.rotationCenter=a,this},setRotationPoints:function(a){return this._setActionPoints("rotation",a)},addRotationPoint:function(a){return this._addActionPoint("rotation",a)},removeRotationPoint:function(a){return this._removeActionPoint("rotation",a)},setTranslationPoints:function(a){return this._setActionPoints("translation",a)},addTranslationPoint:function(a){return this._addActionPoint("translation",a)},removeTranslationPoint:function(a){return this._removeActionPoint("translation",a)},setScaleCenter:function(a){return this.scaleCenter=a,this},setScalePoints:function(a,b){var c,d,e;for(d=0,c=__TURBOPACK__default__export__3.isArray(a)?a:arguments,e=c.length;d<e;++d)this.scaleDirections[this.board.select(c[d]).id]=b||"xy";return this._setActionPoints("scale",a)},addScalePoint:function(a,b){return this._addActionPoint("scale",a),this.scaleDirections[this.board.select(a).id]=b||"xy",this},removeScalePoint:function(a){return this._removeActionPoint("scale",a)},_setActionPoints:function(a,b){var c,d,e;for(d=0,c=__TURBOPACK__default__export__3.isArray(b)?b:arguments,e=c.length,this[a+"Points"]=[];d<e;++d)this._addActionPoint(a,c[d]);return this},_addActionPoint:function(a,b){return this[a+"Points"].push(this.board.select(b)),this},_removeActionPoint:function(a,b){var c=this[a+"Points"].indexOf(this.board.select(b));return c>-1&&this[a+"Points"].splice(c,1),this},setProperty:function(){__TURBOPACK__default__export__.deprecated("Group.setProperty","Group.setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(){var a;for(a in this.objects)this.objects.hasOwnProperty(a)&&this.objects[a].point.setAttribute.apply(this.objects[a].point,arguments);return this}}),__TURBOPACK__default__export__.createGroup=function(a,b,c){var d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"group"),e=new __TURBOPACK__default__export__.Group(a,d.id,d.name,b,d);return e.elType="group",e.setParents(b),e},__TURBOPACK__default__export__.registerElement("group",__TURBOPACK__default__export__.createGroup);let __TURBOPACK__default__export__45=__TURBOPACK__default__export__.Group;__TURBOPACK__default__export__.Circle=function(a,b,c,d,e){this.constructor(a,e,__TURBOPACK__default__export__1.OBJECT_TYPE_CIRCLE,__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE),this.method=b,this.midpoint=this.board.select(c),this.center=this.board.select(c),this.point2=null,this.radius=0,this.line=null,this.circle=null,this.points=[],"twoPoints"===b?(this.point2=a.select(d),this.radius=this.Radius()):"pointRadius"===b?(this.gxtterm=d,this.updateRadius=__TURBOPACK__default__export__3.createFunction(d,this.board),this.updateRadius(),this.addParentsFromJCFunctions([this.updateRadius])):"pointLine"===b?(this.line=a.select(d),this.radius=this.line.point1.coords.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,this.line.point2.coords)):"pointCircle"===b&&(this.circle=a.select(d),this.radius=this.circle.Radius()),this.id=this.board.setId(this,"C"),this.board.renderer.drawEllipse(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="circle",this.createLabel(),__TURBOPACK__default__export__3.exists(this.center._is_new)?(this.addChild(this.center),delete this.center._is_new):this.center.addChild(this),"pointRadius"===b?this.notifyParents(d):"pointLine"===b?this.line.addChild(this):"pointCircle"===b?this.circle.addChild(this):"twoPoints"===b&&(__TURBOPACK__default__export__3.exists(this.point2._is_new)?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this)),this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{setRadius:"setRadius",getRadius:"getRadius",Area:"Area",area:"Area",Perimeter:"Perimeter",Circumference:"Perimeter",radius:"Radius",Radius:"Radius",Diameter:"Diameter",center:"center",line:"line",point2:"point2"})},__TURBOPACK__default__export__.Circle.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Circle.prototype,{hasPoint:function(a,b){var c,d,e,f,g,h=this.center.coords.usrCoords,i=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board),j=this.Radius();return(__TURBOPACK__default__export__3.isObject(this.evalVisProp("precision"))?(d=this.board._inputDevice,c=this.evalVisProp("precision."+d)):c=this.board.options.precision.hasPoint,e=h[1]-i.usrCoords[1],f=h[2]-i.usrCoords[2],g=__TURBOPACK__default__export__2.hypot(e,f),c+=.5*this.evalVisProp("strokewidth"),c/=Math.sqrt(Math.abs(this.board.unitX*this.board.unitY)),this.evalVisProp("hasinnerpoints"))?g<j+c:Math.abs(g-j)<c},generatePolynomial:function(a){var b=this.center.symbolic.x,c=this.center.symbolic.y,d=a.symbolic.x,e=a.symbolic.y,f=this.generateRadiusSquared();return""===f?[]:["(("+d+")-("+b+"))^2 + (("+e+")-("+c+"))^2 - ("+f+")"]},generateRadiusSquared:function(){var a,b,c,d,e="";return"twoPoints"===this.method?(a=this.center.symbolic.x,b=this.center.symbolic.y,e="(("+(c=this.point2.symbolic.x)+")-("+a+"))^2 + (("+(d=this.point2.symbolic.y)+")-("+b+"))^2"):"pointRadius"===this.method?__TURBOPACK__default__export__3.isNumber(this.radius)&&(e=(this.radius*this.radius).toString()):"pointLine"===this.method?(c=this.line.point1.symbolic.x,d=this.line.point1.symbolic.y,e="(("+c+")-("+this.line.point2.symbolic.x+"))^2 + (("+d+")-("+this.line.point2.symbolic.y+"))^2"):"pointCircle"===this.method&&(e=this.circle.Radius()),e},update:function(){var a,b,c,d,e,f;if(this.needsUpdate)for(this.evalVisProp("trace")&&this.cloneToBackground(!0),"pointLine"===this.method?this.radius=this.line.point1.coords.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,this.line.point2.coords):"pointCircle"===this.method?this.radius=this.circle.Radius():"pointRadius"===this.method&&(this.radius=this.updateRadius()),this.radius=Math.abs(this.radius),this.updateStdform(),this.updateQuadraticform(),c=this.center.coords.usrCoords[0],a=this.center.coords.usrCoords[1]/c,b=this.center.coords.usrCoords[2]/c,c/=c,d=this.Radius(),e=.551915024494,this.numberPoints=13,this.dataX=[a+d,a+d,a+d*e,a,a-d*e,a-d,a-d,a-d,a-d*e,a,a+d*e,a+d,a+d],this.dataY=[b,b+d*e,b+d,b+d,b+d,b+d*e,b,b-d*e,b-d,b-d,b-d,b-d*e,b],this.bezierDegree=3,f=0;f<this.numberPoints;f++)this.points[f]=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.dataX[f],this.dataY[f]],this.board);return this},updateQuadraticform:function(){var a=this.center,b=a.X(),c=a.Y(),d=this.Radius();this.quadraticform=[[b*b+c*c-d*d,-b,-c],[-b,1,0],[-c,0,1]]},updateStdform:function(){this.stdform[3]=.5,this.stdform[4]=this.Radius(),this.stdform[1]=-this.center.coords.usrCoords[1],this.stdform[2]=-this.center.coords.usrCoords[2],isFinite(this.stdform[4])||(this.stdform[0]=__TURBOPACK__default__export__3.exists(this.point2)?-(this.stdform[1]*this.point2.coords.usrCoords[1]+this.stdform[2]*this.point2.coords.usrCoords[2]):0),this.normalize()},updateRenderer:function(){return this.needsUpdate&&(this.visPropCalc.visible&&(this.isReal=!isNaN(this.center.coords.usrCoords[1]+this.center.coords.usrCoords[2]+this.Radius())&&this.center.isReal,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateEllipse(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1),this},notifyParents:function(a){__TURBOPACK__default__export__3.isString(a)&&__TURBOPACK__default__export__30.findDependencies(this,a,this.board)},setRadius:function(a){return this.updateRadius=__TURBOPACK__default__export__3.createFunction(a,this.board),this.addParentsFromJCFunctions([this.updateRadius]),this.board.update(),this},Radius:function(a){return __TURBOPACK__default__export__3.exists(a)?(this.setRadius(a),this.Radius()):"twoPoints"===this.method?__TURBOPACK__default__export__3.cmpArrays(this.point2.coords.usrCoords,[0,0,0])||__TURBOPACK__default__export__3.cmpArrays(this.center.coords.usrCoords,[0,0,0])?NaN:this.center.Dist(this.point2):"pointLine"===this.method||"pointCircle"===this.method?this.radius:"pointRadius"===this.method?this.evalVisProp("nonnegativeonly")?Math.max(0,this.updateRadius()):Math.abs(this.updateRadius()):NaN},Diameter:function(){return 2*this.Radius()},getRadius:function(){return __TURBOPACK__default__export__.deprecated("Circle.getRadius()","Circle.Radius()"),this.Radius()},getTextAnchor:function(){return this.center.coords},getLabelAnchor:function(){var a,b,c,d,e,f,g=1.5,h=this.Radius(),i=this.center.coords.usrCoords,j=.7071067811865;if(!__TURBOPACK__default__export__3.exists(this.label)||(c=this.label.evalVisProp("position"),!__TURBOPACK__default__export__3.isString(c)))return new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[NaN,NaN],this.board);if(!(0>c.indexOf("right")&&0>c.indexOf("left")))return i=this.center.coords.scrCoords,d=__TURBOPACK__default__export__3.parsePosition(c),e=__TURBOPACK__default__export__3.parseNumber(d.pos,2*Math.PI,1),0>d.pos.indexOf("fr")&&0>d.pos.indexOf("%")&&(d.pos.indexOf("px")>=0?e=0:e*=Math.PI/180),f=1,"left"===d.side&&(f=-1),__TURBOPACK__default__export__3.exists(this.label)&&(g=.5*f*this.label.evalVisProp("distance")),a=i[1]+(h*this.board.unitX+this.label.size[0]*g)*Math.cos(e),b=i[2]-(h*this.board.unitY+this.label.size[1]*g)*Math.sin(e),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board);switch(this.evalVisProp("label.position")){case"lft":a=i[1]-h,b=i[2];break;case"llft":a=i[1]-j*h,b=i[2]-j*h;break;case"rt":a=i[1]+h,b=i[2];break;case"lrt":a=i[1]+j*h,b=i[2]-j*h;break;case"urt":a=i[1]+j*h,b=i[2]+j*h;break;case"top":a=i[1],b=i[2]+h;break;case"bot":a=i[1],b=i[2]-h;break;default:a=i[1]-j*h,b=i[2]+j*h}return new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[a,b],this.board)},cloneToBackground:function(){var a,b=this.Radius(),c=__TURBOPACK__default__export__3.getCloneObject(this);return c.center={coords:this.center.coords},c.Radius=function(){return b},c.getRadius=function(){return b},a=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawEllipse(c),this.board.renderer.enhancedRendering=a,this.traces[c.id]=c.rendNode,this},addTransform:function(a){var b,c=__TURBOPACK__default__export__3.isArray(a)?a:[a],d=c.length;for(b=0;b<d;b++)this.center.transformations.push(c[b]),"twoPoints"===this.method&&this.point2.transformations.push(c[b]);return this},snapToGrid:function(){var a=this.evalVisProp("snaptogrid");return this.center.handleSnapToGrid(a,!0),"twoPoints"===this.method&&this.point2.handleSnapToGrid(a,!0),this},snapToPoints:function(){var a=this.evalVisProp("snaptopoints");return this.center.handleSnapToPoints(a),"twoPoints"===this.method&&this.point2.handleSnapToPoints(a),this},X:function(a){return this.Radius()*Math.cos(2*a*Math.PI)+this.center.coords.usrCoords[1]},Y:function(a){return this.Radius()*Math.sin(2*a*Math.PI)+this.center.coords.usrCoords[2]},Z:function(a){return 1},minX:function(){return 0},maxX:function(){return 1},Area:function(){var a=this.Radius();return a*a*Math.PI},Perimeter:function(){return 2*this.Radius()*Math.PI},bounds:function(){var a=this.center.coords.usrCoords,b=this.Radius();return[a[1]-b,a[2]+b,a[1]+b,a[2]-b]},getParents:function(){return 1===this.parents.length?this.parents.concat(this.radius):this.parents}}),__TURBOPACK__default__export__.createCircle=function(a,b,c){var d,e,f,g,h,i=!0,j=["center","point2"];if(e=[],h=a.select(b[0]),__TURBOPACK__default__export__3.isObject(h)&&h.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE&&__TURBOPACK__default__export__3.isTransformationOrArray(b[1]))return g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"circle"),(d=__TURBOPACK__default__export__.createEllipse(a,[h.center,h.center,function(){return 2*h.Radius()}],g)).addTransform(b[1]),d;for(f=0;f<b.length;f++)if(__TURBOPACK__default__export__3.isPointType(a,b[f])){if(b.length<3?e.push(__TURBOPACK__default__export__3.providePoints(a,[b[f]],c,"circle",[j[f]])[0]):e.push(__TURBOPACK__default__export__3.providePoints(a,[b[f]],c,"point")[0]),!1===e[e.length-1])throw Error("JSXGraph: Can't create circle from this type. Please provide a point type.")}else e.push(b[f]);if(g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"circle"),2===e.length&&__TURBOPACK__default__export__3.isPoint(e[0])&&__TURBOPACK__default__export__3.isPoint(e[1]))d=new __TURBOPACK__default__export__.Circle(a,"twoPoints",e[0],e[1],g);else if((__TURBOPACK__default__export__3.isNumber(e[0])||__TURBOPACK__default__export__3.isFunction(e[0])||__TURBOPACK__default__export__3.isString(e[0]))&&__TURBOPACK__default__export__3.isPoint(e[1]))d=new __TURBOPACK__default__export__.Circle(a,"pointRadius",e[1],e[0],g);else if((__TURBOPACK__default__export__3.isNumber(e[1])||__TURBOPACK__default__export__3.isFunction(e[1])||__TURBOPACK__default__export__3.isString(e[1]))&&__TURBOPACK__default__export__3.isPoint(e[0]))d=new __TURBOPACK__default__export__.Circle(a,"pointRadius",e[0],e[1],g);else if(e[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE&&__TURBOPACK__default__export__3.isPoint(e[1]))d=new __TURBOPACK__default__export__.Circle(a,"pointCircle",e[1],e[0],g);else if(e[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE&&__TURBOPACK__default__export__3.isPoint(e[0]))d=new __TURBOPACK__default__export__.Circle(a,"pointCircle",e[0],e[1],g);else if(e[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&__TURBOPACK__default__export__3.isPoint(e[1]))d=new __TURBOPACK__default__export__.Circle(a,"pointLine",e[1],e[0],g);else if(e[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&__TURBOPACK__default__export__3.isPoint(e[0]))d=new __TURBOPACK__default__export__.Circle(a,"pointLine",e[0],e[1],g);else if(3===b.length&&__TURBOPACK__default__export__3.isPoint(e[0])&&__TURBOPACK__default__export__3.isPoint(e[1])&&__TURBOPACK__default__export__3.isPoint(e[2]))if(__TURBOPACK__default__export__.elements.circumcircle)d=__TURBOPACK__default__export__.elements.circumcircle(a,e,g);else throw Error("JSXGraph: Can't create circle with three points. Please include the circumcircle element (element/composition).");else throw Error("JSXGraph: Can't create circle with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point], [point,number], [point,function], [point,circle], [point,point,point], [circle,transformation]");for(d.isDraggable=i,d.setParents(e),d.elType="circle",f=0;f<e.length;f++)__TURBOPACK__default__export__3.isPoint(e[f])&&d.inherits.push(e[f]);return d},__TURBOPACK__default__export__.registerElement("circle",__TURBOPACK__default__export__.createCircle);let __TURBOPACK__default__export__46=__TURBOPACK__default__export__.Circle;__TURBOPACK__default__export__.createEllipse=function(a,b,c){var d,e,f,g,h,i,j,k=[],l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic","foci"),m=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic","center"),n=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic");for(i=0;i<2;i++)if(b[i].length>1)k[i]=a.create("point",b[i],l);else if(__TURBOPACK__default__export__3.isPoint(b[i]))k[i]=a.select(b[i]);else if(__TURBOPACK__default__export__3.isFunction(b[i])&&__TURBOPACK__default__export__3.isPoint(b[i]()))k[i]=b[i]();else if(__TURBOPACK__default__export__3.isString(b[i]))k[i]=a.select(b[i]);else throw Error("JSXGraph: Can't create Ellipse with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");if(__TURBOPACK__default__export__3.isNumber(b[2]))h=__TURBOPACK__default__export__3.createFunction(b[2],a);else if(__TURBOPACK__default__export__3.isFunction(b[2])&&__TURBOPACK__default__export__3.isNumber(b[2]()))h=b[2];else{if(__TURBOPACK__default__export__3.isPoint(b[2]))g=a.select(b[2]);else if(b[2].length>1)g=a.create("point",b[2],l);else if(__TURBOPACK__default__export__3.isFunction(b[2])&&__TURBOPACK__default__export__3.isPoint(b[2]()))g=b[2]();else if(__TURBOPACK__default__export__3.isString(b[2]))g=a.select(b[2]);else throw Error("JSXGraph: Can't create Ellipse with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");h=function(){return g.Dist(k[0])+g.Dist(k[1])}}for(__TURBOPACK__default__export__3.exists(b[4])||(b[4]=2*Math.PI),__TURBOPACK__default__export__3.exists(b[3])||(b[3]=0),f=a.create("point",[function(){return(k[0].X()+k[1].X())*.5},function(){return(k[0].Y()+k[1].Y())*.5}],m),(e=a.create("curve",[function(a){return 0},function(a){return 0},b[3],b[4]],n)).majorAxis=h,j=e.hasPoint,d=function(a,b){var c,d,f,g,i,j,l,m,n;b||(d=(c=h())*c,f=k[0].X(),g=k[0].Y(),i=k[1].X(),j=k[1].Y(),l=f-i,m=g-j,e.quadraticform=[[(n=(d-f*f-g*g+i*i+j*j)/(2*c))*n-i*i-j*j,n*l/c+i,n*m/c+j],[n*l/c+i,l*l/d-1,l*m/d],[n*m/c+j,l*m/d,m*m/d-1]])},e.X=function(a,b){var c=h(),e=k[1].Dist(k[0]),f=.5*(e*e-c*c)/(e*Math.cos(a)-c),g=Math.atan2(k[1].Y()-k[0].Y(),k[1].X()-k[0].X());return b||d(a,b),k[0].X()+Math.cos(g+a)*f},e.Y=function(a,b){var c=h(),d=k[1].Dist(k[0]),e=.5*(d*d-c*c)/(d*Math.cos(a)-c),f=Math.atan2(k[1].Y()-k[0].Y(),k[1].X()-k[0].X());return k[0].Y()+Math.sin(f+a)*e},e.midpoint=e.center=f,e.type=__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC,e.subs={center:e.center},e.inherits.push(e.center,k[0],k[1]),__TURBOPACK__default__export__3.isPoint(g)&&e.inherits.push(g),e.hasPoint=function(a,b){var c,d,e,f;return this.evalVisProp("hasinnerpoints")?(c=k[0].coords,d=k[1].coords,e=this.majorAxis(),(f=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board)).distance(__TURBOPACK__default__export__1.COORDS_BY_USER,c)+f.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,d)<=e):j.apply(this,arguments)},f.addChild(e),i=0;i<2;i++)__TURBOPACK__default__export__3.isPoint(k[i])&&k[i].addChild(e);return __TURBOPACK__default__export__3.isPoint(g)&&g.addChild(e),e.setParents(b),e},__TURBOPACK__default__export__.createHyperbola=function(a,b,c){var d,e,f,g,h,i,j=[],k=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic","foci"),l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic","center"),m=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic");for(i=0;i<2;i++)if(b[i].length>1)j[i]=a.create("point",b[i],k);else if(__TURBOPACK__default__export__3.isPoint(b[i]))j[i]=a.select(b[i]);else if(__TURBOPACK__default__export__3.isFunction(b[i])&&__TURBOPACK__default__export__3.isPoint(b[i]()))j[i]=b[i]();else if(__TURBOPACK__default__export__3.isString(b[i]))j[i]=a.select(b[i]);else throw Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");if(__TURBOPACK__default__export__3.isNumber(b[2]))h=__TURBOPACK__default__export__3.createFunction(b[2],a);else if(__TURBOPACK__default__export__3.isFunction(b[2])&&__TURBOPACK__default__export__3.isNumber(b[2]()))h=b[2];else{if(__TURBOPACK__default__export__3.isPoint(b[2]))g=a.select(b[2]);else if(b[2].length>1)g=a.create("point",b[2],k);else if(__TURBOPACK__default__export__3.isFunction(b[2])&&__TURBOPACK__default__export__3.isPoint(b[2]()))g=b[2]();else if(__TURBOPACK__default__export__3.isString(b[2]))g=a.select(b[2]);else throw Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");h=function(){return g.Dist(j[0])-g.Dist(j[1])}}for(__TURBOPACK__default__export__3.exists(b[4])||(b[4]=1.0001*Math.PI),__TURBOPACK__default__export__3.exists(b[3])||(b[3]=-1.0001*Math.PI),f=a.create("point",[function(){return(j[0].X()+j[1].X())*.5},function(){return(j[0].Y()+j[1].Y())*.5}],l),(e=a.create("curve",[function(a){return 0},function(a){return 0},b[3],b[4]],m)).majorAxis=h,d=function(a,b){var c,d,f,g,i,k,l,m,n;b||(d=(c=h())*c,f=j[0].X(),g=j[0].Y(),i=j[1].X(),k=j[1].Y(),l=f-i,m=g-k,e.quadraticform=[[(n=(d-f*f-g*g+i*i+k*k)/(2*c))*n-i*i-k*k,n*l/c+i,n*m/c+k],[n*l/c+i,l*l/d-1,l*m/d],[n*m/c+k,l*m/d,m*m/d-1]])},e.X=function(a,b){var c=h(),e=j[1].Dist(j[0]),f=.5*(e*e-c*c)/(e*Math.cos(a)+c),g=Math.atan2(j[1].Y()-j[0].Y(),j[1].X()-j[0].X());return b||d(a,b),j[0].X()+Math.cos(g+a)*f},e.Y=function(a,b){var c=h(),d=j[1].Dist(j[0]),e=.5*(d*d-c*c)/(d*Math.cos(a)+c),f=Math.atan2(j[1].Y()-j[0].Y(),j[1].X()-j[0].X());return j[0].Y()+Math.sin(f+a)*e},e.midpoint=e.center=f,e.subs={center:e.center},e.inherits.push(e.center,j[0],j[1]),__TURBOPACK__default__export__3.isPoint(g)&&e.inherits.push(g),e.type=__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC,f.addChild(e),i=0;i<2;i++)__TURBOPACK__default__export__3.isPoint(j[i])&&j[i].addChild(e);return __TURBOPACK__default__export__3.isPoint(g)&&g.addChild(e),e.setParents(b),e},__TURBOPACK__default__export__.createParabola=function(a,b,c){var d,e,f,g,h=b[0],i=b[1],j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic","foci"),k=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic","center"),l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic");if(b[0].length>1)h=a.create("point",b[0],j);else if(__TURBOPACK__default__export__3.isPoint(b[0]))h=a.select(b[0]);else if(__TURBOPACK__default__export__3.isFunction(b[0])&&__TURBOPACK__default__export__3.isPoint(b[0]()))h=b[0]();else if(__TURBOPACK__default__export__3.isString(b[0]))h=a.select(b[0]);else throw Error("JSXGraph: Can't create Parabola with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,line]");return __TURBOPACK__default__export__3.isArray(i)&&2===i.length&&(g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic","line"),i=a.create("line",i,g)),__TURBOPACK__default__export__3.exists(b[3])||(b[3]=2*Math.PI),__TURBOPACK__default__export__3.exists(b[2])||(b[2]=0),f=a.create("point",[function(){return __TURBOPACK__default__export__14.projectPointToLine(h,i,a).usrCoords}],k),(e=a.create("curve",[function(a){return 0},function(a){return 0},b[2],b[3]],l)).midpoint=e.center=f,e.subs={center:e.center},e.inherits.push(e.center),d=function(a,b){var c,d,f,g,j,k;b||(c=i.stdform[1],d=i.stdform[2],f=i.stdform[0],e.quadraticform=[[f*f-(g=c*c+d*d)*((j=h.X())*j+(k=h.Y())*k),f*c+g*j,f*d+g*k],[f*c+g*j,-d*d,c*d],[f*d+g*k,c*d,-c*c]])},e.X=function(a,b){var c,e=i.getAngle(),f=__TURBOPACK__default__export__14.distPointLine(h.coords.usrCoords,i.stdform),g=i.point1.coords.usrCoords,j=i.point2.coords.usrCoords,k=h.coords.usrCoords;return 0===g[0]?g=[1,j[1]+i.stdform[2],j[2]-i.stdform[1]]:0===j[0]&&(j=[1,g[1]+i.stdform[2],g[2]-i.stdform[1]]),c=((j[1]-g[1])*(k[2]-g[2])-(j[2]-g[2])*(k[1]-g[1])>=0?1:-1)*f/(1-Math.sin(a)),b||d(a,b),h.X()+Math.cos(a+e)*c},e.Y=function(a,b){var c,d=i.getAngle(),e=__TURBOPACK__default__export__14.distPointLine(h.coords.usrCoords,i.stdform),f=i.point1.coords.usrCoords,g=i.point2.coords.usrCoords,j=h.coords.usrCoords;return 0===f[0]?f=[1,g[1]+i.stdform[2],g[2]-i.stdform[1]]:0===g[0]&&(g=[1,f[1]+i.stdform[2],f[2]-i.stdform[1]]),c=((g[1]-f[1])*(j[2]-f[2])-(g[2]-f[2])*(j[1]-f[1])>=0?1:-1)*e/(1-Math.sin(a)),h.Y()+Math.sin(a+d)*c},e.type=__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC,f.addChild(e),__TURBOPACK__default__export__3.isPoint(h)&&(h.addChild(e),e.inherits.push(h)),i.addChild(e),e.setParents(b),e},__TURBOPACK__default__export__.createConic=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=[[1,0,0],[0,1,0],[0,0,1]],q=[[1,0,0],[0,1,0],[0,0,1]],r=[],s=[],t=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic","point"),u=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic","center"),v=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"conic");if(5===b.length)o=!0;else if(6===b.length)o=!1;else throw Error("JSXGraph: Can't create generic Conic with "+b.length+" parameters.");if(o)for(m=0;m<5;m++)if(b[m].length>1)r[m]=a.create("point",b[m],t);else if(__TURBOPACK__default__export__3.isPoint(b[m]))r[m]=a.select(b[m]);else if(__TURBOPACK__default__export__3.isFunction(b[m])&&__TURBOPACK__default__export__3.isPoint(b[m]()))r[m]=b[m]();else if(__TURBOPACK__default__export__3.isString(b[m]))r[m]=a.select(b[m]);else throw Error("JSXGraph: Can't create Conic section with parent types '"+typeof b[m]+"'.\nPossible parent types: [point,point,point,point,point], [a00,a11,a22,a01,a02,a12]");else(n=[[0,0,0],[0,0,0],[0,0,0]])[0][0]=__TURBOPACK__default__export__3.isFunction(b[2])?function(){return b[2]()}:function(){return b[2]},n[0][1]=__TURBOPACK__default__export__3.isFunction(b[4])?function(){return b[4]()}:function(){return b[4]},n[0][2]=__TURBOPACK__default__export__3.isFunction(b[5])?function(){return b[5]()}:function(){return b[5]},n[1][1]=__TURBOPACK__default__export__3.isFunction(b[0])?function(){return b[0]()}:function(){return b[0]},n[1][2]=__TURBOPACK__default__export__3.isFunction(b[3])?function(){return b[3]()}:function(){return b[3]},n[2][2]=__TURBOPACK__default__export__3.isFunction(b[1])?function(){return b[1]()}:function(){return b[1]};if(h=function(a){var b,c;for(b=0;b<3;b++)for(c=b;c<3;c++)a[b][c]+=a[c][b];for(b=0;b<3;b++)for(c=0;c<b;c++)a[b][c]=a[c][b];return a},g=function(a,b){var c,d,e=[[0,0,0],[0,0,0],[0,0,0]];for(c=0;c<3;c++)for(d=0;d<3;d++)e[c][d]=a[c]*b[d];return h(e)},f=function(a,b,c){var d,e,f,g,h,i=[[0,0,0],[0,0,0],[0,0,0]];for(d=0,h=__TURBOPACK__default__export__2.matVecMult(b,c),f=__TURBOPACK__default__export__2.innerProduct(c,h),h=__TURBOPACK__default__export__2.matVecMult(a,c),g=__TURBOPACK__default__export__2.innerProduct(c,h);d<3;d++)for(e=0;e<3;e++)i[d][e]=f*a[d][e]-g*b[d][e];return i},e=a.create("curve",[function(a){return 0},function(a){return 0},0,2*Math.PI],v),d=function(a,b){var c,d,h;if(!b){if(o){for(c=0;c<5;c++)s[c]=r[c].coords.usrCoords;q=f(g(__TURBOPACK__default__export__2.crossProduct(s[0],s[1]),__TURBOPACK__default__export__2.crossProduct(s[2],s[3])),g(__TURBOPACK__default__export__2.crossProduct(s[0],s[2]),__TURBOPACK__default__export__2.crossProduct(s[1],s[3])),s[4])}else for(c=0;c<3;c++)for(d=c;d<3;d++)q[c][d]=n[c][d](),d>c&&(q[d][c]=q[c][d]);e.quadraticform=q,(i=__TURBOPACK__default__export__13.Jacobi(q))[0][0][0]<0&&(i[0][0][0]*=-1,i[0][1][1]*=-1,i[0][2][2]*=-1),p=i[1],l=Math.sqrt(Math.abs(i[0][0][0])),j=Math.sqrt(Math.abs(i[0][1][1])),k=Math.sqrt(Math.abs(i[0][2][2]))}return i[0][1][1]<=0&&i[0][2][2]<=0?h=__TURBOPACK__default__export__2.matVecMult(p,[1/l,Math.cos(a)/j,Math.sin(a)/k]):i[0][1][1]<=0&&i[0][2][2]>0?h=__TURBOPACK__default__export__2.matVecMult(p,[Math.cos(a)/l,1/j,Math.sin(a)/k]):i[0][2][2]<0&&(h=__TURBOPACK__default__export__2.matVecMult(p,[Math.sin(a)/l,Math.cos(a)/j,1/k])),__TURBOPACK__default__export__3.exists(h)?(h[1]/=h[0],h[2]/=h[0],h[0]=1):h=[1,NaN,NaN],h},e.X=function(a,b){return d(a,b)[1]},e.Y=function(a,b){return d(a,b)[2]},e.midpoint=a.create("point",[function(){var a=e.quadraticform;return[a[1][1]*a[2][2]-a[1][2]*a[1][2],a[1][2]*a[0][2]-a[2][2]*a[0][1],a[0][1]*a[1][2]-a[1][1]*a[0][2]]}],u),e.type=__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC,e.center=e.midpoint,e.subs={center:e.center},e.inherits.push(e.center),e.inherits=e.inherits.concat(r),o){for(m=0;m<5;m++)__TURBOPACK__default__export__3.isPoint(r[m])&&r[m].addChild(e);e.setParents(b)}return e.addChild(e.center),e},__TURBOPACK__default__export__.registerElement("ellipse",__TURBOPACK__default__export__.createEllipse),__TURBOPACK__default__export__.registerElement("hyperbola",__TURBOPACK__default__export__.createHyperbola),__TURBOPACK__default__export__.registerElement("parabola",__TURBOPACK__default__export__.createParabola),__TURBOPACK__default__export__.registerElement("conic",__TURBOPACK__default__export__.createConic),__TURBOPACK__default__export__.Polygon=function(a,b,c){this.constructor(a,c,__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON,__TURBOPACK__default__export__1.OBJECT_CLASS_AREA);var d,e,f,g,h,i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"polygon","borders");for(d=0,this.withLines=c.withlines,this.attr_line=i,this.vertices=[];d<b.length;d++)this.vertices[d]=this.board.select(b[d]),this.vertices[d]._is_new&&(delete this.vertices[d]._is_new,this.vertices[d]._is_new_pol=!0);if(this.vertices.length>0&&this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.borders=[],this.withLines)for(g=0,f=this.vertices.length-1;g<f;g++)d=(g+1)%f,i.id=i.ids&&i.ids[d],i.name=i.names&&i.names[d],i.strokecolor=__TURBOPACK__default__export__3.isArray(i.colors)&&i.colors[d%i.colors.length]||i.strokecolor,i.visible=__TURBOPACK__default__export__3.exists(c.borders.visible)?c.borders.visible:c.visible,!1===i.strokecolor&&(i.strokecolor="none"),(e=a.create("segment",[this.vertices[d],this.vertices[d+1]],i)).dump=!1,this.borders[d]=e,e.parentPolygon=this,this.addChild(e);for(this.inherits.push(this.vertices,this.borders),this.id=this.board.setId(this,"Py"),d=0;d<this.vertices.length-1;d++)h=this.board.select(this.vertices[d]),__TURBOPACK__default__export__3.exists(h._is_new_pol)?(this.addChild(h),delete h._is_new_pol):h.addChild(this);this.board.renderer.drawPolygon(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="polygon",this.createLabel(),this.methodMap=__TURBOPACK__default__export__.deepCopy(this.methodMap,{borders:"borders",vertices:"vertices",A:"Area",Area:"Area",Perimeter:"Perimeter",L:"Perimeter",boundingBox:"bounds",BoundingBox:"bounds",addPoints:"addPoints",insertPoints:"insertPoints",removePoints:"removePoints",Intersect:"intersect"})},__TURBOPACK__default__export__.Polygon.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Polygon.prototype,{pnpoly:function(a,b,c){return __TURBOPACK__default__export__14.pnpoly(a,b,this.vertices,c,this.board)},hasPoint:function(a,b){var c,d;if(this.evalVisProp("hasinnerpoints")&&this.pnpoly(a,b))return!0;for(c=0,d=this.borders.length;c<d;c++)if(this.borders[c].hasPoint(a,b))return!0;return!1},updateRenderer:function(){var a,b;if(!this.needsUpdate)return this;if(this.visPropCalc.visible){for(a=0,b=this.vertices.length-("polygonalchain"!==this.elType),this.isReal=!0;a<b;++a)if(!this.vertices[a].isReal){this.isReal=!1;break}if(!this.isReal)for(a in this.updateVisibility(!1),this.childElements)this.childElements.hasOwnProperty(a)&&this.childElements[a].setDisplayRendNode(!1)}return this.visPropCalc.visible&&this.board.renderer.updatePolygon(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this},getTextAnchor:function(){var a,b,c,d,e;if(0===this.vertices.length)return new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[1,0,0],this.board);for(e=0,a=this.vertices[0].X(),b=this.vertices[0].Y(),c=a,d=b;e<this.vertices.length;e++)this.vertices[e].X()<a&&(a=this.vertices[e].X()),this.vertices[e].X()>c&&(c=this.vertices[e].X()),this.vertices[e].Y()>b&&(b=this.vertices[e].Y()),this.vertices[e].Y()<d&&(d=this.vertices[e].Y());return new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[(a+c)*.5,(b+d)*.5],this.board)},getLabelAnchor:__TURBOPACK__default__export__.shortcut(__TURBOPACK__default__export__.Polygon.prototype,"getTextAnchor"),cloneToBackground:function(){var a,b=__TURBOPACK__default__export__3.getCloneObject(this);return b.vertices=this.vertices,a=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawPolygon(b),this.board.renderer.enhancedRendering=a,this.traces[b.id]=b.rendNode,this},hideElement:function(a){var b;if(__TURBOPACK__default__export__.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),!a)for(b=0;b<this.borders.length;b++)this.borders[b].hideElement();this.hasLabel&&__TURBOPACK__default__export__3.exists(this.label)&&(this.label.hiddenByParent=!0,this.label.visPropCalc.visible&&this.label.hideElement())},showElement:function(a){var b;if(__TURBOPACK__default__export__.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!0),!a)for(b=0;b<this.borders.length;b++)this.borders[b].showElement().updateRenderer();return __TURBOPACK__default__export__3.exists(this.label)&&this.hasLabel&&this.label.hiddenByParent&&(this.label.hiddenByParent=!1,this.label.visPropCalc.visible||this.label.showElement().updateRenderer()),this},Area:function(){return Math.abs(__TURBOPACK__default__export__14.signedPolygon(this.vertices,!0))},Perimeter:function(){var a,b=this.vertices.length,c=0;for(a=1;a<b;++a)c+=this.vertices[a].Dist(this.vertices[a-1]);return c},L:function(){return this.Perimeter()},boundingBox:function(){var a,b,c=[0,0,0,0],d=this.vertices.length-1;if(0===d)return c;for(a=1,c[0]=this.vertices[0].X(),c[2]=c[0],c[1]=this.vertices[0].Y(),c[3]=c[1];a<d;++a)(b=this.vertices[a].X())<c[0]?c[0]=b:b>c[2]&&(c[2]=b),(b=this.vertices[a].Y())>c[1]?c[1]=b:b<c[3]&&(c[3]=b);return c},bounds:function(){return this.boundingBox()},remove:function(){var a;for(a=0;a<this.borders.length;a++)this.board.removeObject(this.borders[a]);__TURBOPACK__default__export__31.prototype.remove.call(this)},findPoint:function(a){var b;if(!__TURBOPACK__default__export__3.isPoint(a))return -1;for(b=0;b<this.vertices.length;b++)if(this.vertices[b].id===a.id)return b;return -1},addPoints:function(a){var b,c=Array.prototype.slice.call(arguments);return b="polygonalchain"===this.elType?this.vertices.length-1:this.vertices.length-2,this.insertPoints.apply(this,[b].concat(c))},insertPoints:function(a,b){var c,d,e,f,g;if(0==arguments.length||(e=this.vertices.length-1,"polygon"===this.elType&&e--,a<-1||a>e))return this;for(c=1,d=arguments.length-1;c<d+1;c++)g=__TURBOPACK__default__export__3.providePoints(this.board,[arguments[c]],{},"polygon",["vertices"])[0],g._is_new&&(this.addChild(g),delete g._is_new),this.vertices.splice(a+c,0,g);if(this.withLines)for(f=a+1,"polygon"===this.elType?a<0?(this.vertices[this.vertices.length-1]=this.vertices[0],this.borders[this.borders.length-1].point2=this.vertices[this.vertices.length-1]):this.borders[a].point2=this.vertices[f]:a>=0&&(a<this.borders.length?this.borders[a].point2=this.vertices[f]:f=a),c=f;c<f+d;c++)this.borders.splice(c,0,this.board.create("segment",[this.vertices[c],this.vertices[c+1]],this.attr_line));return this.inherits=[],this.inherits.push(this.vertices,this.borders),this.board.update(),this},removePoints:function(a){var b,c,d,e,f=[],g=[],h=[],i=[];for("polygon"===this.elType&&(e=this.vertices.pop()),b=0;b<arguments.length;b++)d=arguments[b],__TURBOPACK__default__export__3.isPoint(d)&&(d=this.findPoint(d)),__TURBOPACK__default__export__3.isNumber(d)&&d>-1&&d<this.vertices.length&&-1===__TURBOPACK__default__export__3.indexOf(h,d)&&h.push(d);if(0===h.length)return"polygon"===this.elType&&this.vertices.push(e),this;for(b=0;b<h.length;b++)this.vertices[h[b]].removeChild(this);for(h=h.sort(),f=this.vertices.slice(),g=this.borders.slice(),this.withLines&&i.push([h[h.length-1]]),b=h.length-1;b>-1;b--)f[h[b]]=-1,this.withLines&&h.length>1&&h[b]-1>h[b-1]&&(i[i.length-1][1]=h[b],i.push([h[b-1]]));for(this.withLines&&(i[i.length-1][1]=h[0]),this.vertices=[],b=0;b<f.length;b++)__TURBOPACK__default__export__3.isPoint(f[b])&&this.vertices.push(f[b]);if("polygon"===this.elType&&this.vertices.length>1&&this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.withLines){for(b=0;b<i.length;b++){for(c=i[b][1]-1;c<i[b][0]+1;c++)c<0?"polygon"===this.elType&&(this.board.removeObject(this.borders[g.length-1]),g[g.length-1]=-1):c<g.length&&(this.board.removeObject(this.borders[c]),g[c]=-1);0!==i[b][1]&&i[b][0]!==f.length-1&&(g[i[b][0]-1]=this.board.create("segment",[f[i[b][1]-1],f[i[b][0]+1]],this.attr_line))}for(b=0,this.borders=[];b<g.length;b++)-1!==g[b]&&this.borders.push(g[b]);"polygon"===this.elType&&this.vertices.length>2&&(i[0][1]===this.vertices.length-1||0===i[i.length-1][1])&&this.borders.push(this.board.create("segment",[this.vertices[this.vertices.length-2],this.vertices[0]],this.attr_line))}return this.inherits=[],this.inherits.push(this.vertices,this.borders),this.board.update(),this},getParents:function(){return this.setParents(this.vertices),this.parents},getAttributes:function(){var a,b=__TURBOPACK__default__export__31.prototype.getAttributes.call(this);if(this.withLines)for(a=0,b.lines=b.lines||{},b.lines.ids=[],b.lines.colors=[];a<this.borders.length;a++)b.lines.ids.push(this.borders[a].id),b.lines.colors.push(this.borders[a].visProp.strokecolor);return b},snapToGrid:function(){var a,b;for(a=0,b=!!this.evalVisProp("snaptogrid");a<this.vertices.length;a++)this.vertices[a].handleSnapToGrid(b,!0)},setPositionDirectly:function(a,b,c){var d,e,f,g=new __TURBOPACK__default__export__7(a,b,this.board),h=new __TURBOPACK__default__export__7(a,c,this.board);for(e=0,f=this.vertices.length-1;e<f;e++)if(!this.vertices[e].draggable())return this;return d=__TURBOPACK__default__export__12.subtract(g.usrCoords,h.usrCoords),this.board.create("transform",d.slice(1),{type:"translate"}).applyOnce(this.vertices.slice(0,-1)),this},sutherlandHodgman:function(a){var b,c,d,e,f,g,h,i=__TURBOPACK__default__export__.Math.Geometry.sortVertices(this.vertices),j=__TURBOPACK__default__export__.Math.Geometry.sortVertices(a.vertices),k=i.length-1,l=j.length-1,m=[],n=function(a,b,c){return(b[1]-a[1])*(c[2]-a[2])-(b[2]-a[2])*(c[1]-a[1])>=0};for(d=0;d<l;d++)m.push(j[d]);for(d=0;d<k;d++)for(e=0,b=(c=m.slice(0)).length,m=[],f=c[b-1];e<b;e++)g=c[e],n(i[d],i[d+1],g)?(n(i[d],i[d+1],f)||(h=__TURBOPACK__default__export__.Math.Geometry.meetSegmentSegment(f,g,i[d],i[d+1]),h[0][1]/=h[0][0],h[0][2]/=h[0][0],h[0][0]=1,m.push(h[0])),m.push(g)):n(i[d],i[d+1],f)&&(h=__TURBOPACK__default__export__.Math.Geometry.meetSegmentSegment(f,g,i[d],i[d+1]),h[0][1]/=h[0][0],h[0][2]/=h[0][0],h[0][0]=1,m.push(h[0])),f=g;return m},intersect:function(a){return this.sutherlandHodgman(a)}}),__TURBOPACK__default__export__.createPolygon=function(a,b,c){var d,e,f,g,h,i,j=[],k=!1;if(h=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"polygon"),null===(g=a.select(b[0]))&&(g=b[0]),__TURBOPACK__default__export__3.isObject(g)&&g.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON&&__TURBOPACK__default__export__3.isTransformationOrArray(b[1]))for(e=0,k=!0,f=g.vertices.length-1,i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"polygon","vertices");e<f;e++)i.withlabel&&(i.name=""===g.vertices[e].name?"":g.vertices[e].name+"'"),j.push(a.create("point",[g.vertices[e],b[1]],i));else if(!1===(j=__TURBOPACK__default__export__3.providePoints(a,b,c,"polygon",["vertices"])))throw Error("JSXGraph: Can't create polygon / polygonalchain with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates. Alternatively, a polygon and a transformation can be supplied");if(h=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"polygon"),(d=new __TURBOPACK__default__export__.Polygon(a,j,h)).isDraggable=!0,k)for(d.prepareUpdate().update().updateVisibility().updateRenderer(),f=g.vertices.length-1,e=0;e<f;e++)j[e].prepareUpdate().update().updateVisibility().updateRenderer();return d},__TURBOPACK__default__export__.createRegularPolygon=function(a,b,c){var d,e,f,g,h,i,j,k=[];if(h=b.length,f=b[h-1],__TURBOPACK__default__export__3.isNumber(f)&&(3!==b.length||f<3))throw Error("JSXGraph: A regular polygon needs two point types and a number > 2 as input.");if(__TURBOPACK__default__export__3.isNumber(a.select(f))?(h--,i=!1):(f=h,i=!0),!1===(k=__TURBOPACK__default__export__3.providePoints(a,b.slice(0,h),c,"regularpolygon",["vertices"])))throw Error("JSXGraph: Can't create regular polygon with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates");for(e=2,j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"regularpolygon","vertices");e<f;e++)g=a.create("transform",[Math.PI*(2-(f-2)/f),k[e-1]],{type:"rotate"}),i?(k[e].addTransform(k[e-2],g),k[e].fullUpdate()):(__TURBOPACK__default__export__3.isArray(j.ids)&&j.ids.length>=f-2&&(j.id=j.ids[e-2]),k[e]=a.create("point",[k[e-2],g],j),k[e].type=__TURBOPACK__default__export__1.OBJECT_TYPE_CAS,k[e].isDraggable=!0,k[e].visProp.fixed=!1);return j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"regularpolygon"),(d=a.create("polygon",k,j)).elType="regularpolygon",d},__TURBOPACK__default__export__.createPolygonalChain=function(a,b,c){var d,e;return d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"polygonalchain"),(e=a.create("polygon",b,d)).elType="polygonalchain",e.vertices.pop(),a.removeObject(e.borders[e.borders.length-1]),e.borders.pop(),e},__TURBOPACK__default__export__.createParallelogram=function(a,b,c){var d,e,f,g,h=[];if(!1===(h=__TURBOPACK__default__export__3.providePoints(a,b,c,"polygon",["vertices"]))||h.length<3)throw Error("JSXGraph: Can't create parallelogram with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates.");return g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"parallelogram","parallelpoint"),e=a.create("parallelpoint",h,g),f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"parallelogram"),(d=a.create("polygon",[h[0],h[1],e,h[2]],f)).elType="parallelogram",d.parallelPoint=e,d.isDraggable=!0,e.isDraggable=!0,e.visProp.fixed=!1,d},__TURBOPACK__default__export__.registerElement("polygon",__TURBOPACK__default__export__.createPolygon),__TURBOPACK__default__export__.registerElement("regularpolygon",__TURBOPACK__default__export__.createRegularPolygon),__TURBOPACK__default__export__.registerElement("polygonalchain",__TURBOPACK__default__export__.createPolygonalChain),__TURBOPACK__default__export__.registerElement("parallelogram",__TURBOPACK__default__export__.createParallelogram);let __TURBOPACK__default__export__47=__TURBOPACK__default__export__.Polygon;__TURBOPACK__default__export__.Curve=function(a,b,c){this.constructor(a,c,__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE,__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE),this.points=[],this.numberPoints=this.evalVisProp("numberpointshigh"),this.bezierDegree=1,this.dataX=null,this.dataY=null,this.ticks=[],this.qdt=null,__TURBOPACK__default__export__3.exists(b[0])?this.varname=b[0]:this.varname="x",this.xterm=b[1],this.yterm=b[2],this.generateTerm(this.varname,this.xterm,this.yterm,b[3],b[4]),this.updateCurve(),this.id=this.board.setId(this,"G"),this.board.renderer.drawCurve(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="curve",this.createLabel(),__TURBOPACK__default__export__3.isString(this.xterm)&&this.notifyParents(this.xterm),__TURBOPACK__default__export__3.isString(this.yterm)&&this.notifyParents(this.yterm),this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{generateTerm:"generateTerm",setTerm:"generateTerm",move:"moveTo",moveTo:"moveTo",MinX:"minX",MaxX:"maxX"})},__TURBOPACK__default__export__.Curve.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Curve.prototype,{minX:function(){return"polar"===this.evalVisProp("curvetype")?0:new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[-(.1*this.board.canvasWidth),0],this.board,!1).usrCoords[1]},maxX:function(){return"polar"===this.evalVisProp("curvetype")?2*Math.PI:new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[1.1*this.board.canvasWidth,0],this.board,!1).usrCoords[1]},X:function(a){return NaN},Y:function(a){return NaN},Z:function(a){return 1},hasPoint:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=[],v=this.evalVisProp("numberpointslow"),w=(this.maxX()-this.minX())/v,x=1/0,y=!0;if(__TURBOPACK__default__export__3.isObject(this.evalVisProp("precision"))?(o=this.board._inputDevice,n=this.evalVisProp("precision."+o)):n=this.board.options.precision.hasPoint,a=(i=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board,!1)).usrCoords[1],b=i.usrCoords[2],1===this.bezierDegree&&this.evalVisProp("hasinnerpoints")&&0!==__TURBOPACK__default__export__14.windingNumber([1,a,b],this.points,!0))return!0;if(n+=.5*this.evalVisProp("strokewidth"),n*=n,p=this.board.unitX*this.board.unitX,q=this.board.unitY*this.board.unitY,s=this.minX(),t=this.maxX(),__TURBOPACK__default__export__3.exists(this._visibleArea)&&(s=this._visibleArea[0],w=((t=this._visibleArea[1])-s)/v),"parameter"===(r=this.evalVisProp("curvetype"))||"polar"===r)for(this.transformations.length>0&&(this.updateTransformMatrix(),k=__TURBOPACK__default__export__2.inverse(this.transformMat),a=(e=__TURBOPACK__default__export__2.matVecMult(k,[1,a,b]))[1],b=e[2]),f=0,d=s;f<v;f++){if((x=(a-(g=this.X(d,y)))*(a-g)*p+(b-(h=this.Y(d,y)))*(b-h)*q)<=n)return!0;d+=w}else if("plot"===r||"functiongraph"===r){for((!__TURBOPACK__default__export__3.exists(c)||c<0)&&(c=0),__TURBOPACK__default__export__3.exists(this.qdt)&&this.evalVisProp("useqdt")&&3!==this.bezierDegree?j=(l=(m=this.qdt.query(new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[a,b],this.board))).points).length:(l=this.points,j=this.numberPoints-1),f=c;f<j;f++)if(3===this.bezierDegree?u=__TURBOPACK__default__export__14.projectCoordsToBeziersegment([1,a,b],this,f):m?(l[f].prev&&(u=__TURBOPACK__default__export__14.projectCoordsToSegment([1,a,b],l[f].prev.usrCoords,l[f].usrCoords)),l[f].next&&l[f+1]!==l[f].next&&(u=__TURBOPACK__default__export__14.projectCoordsToSegment([1,a,b],l[f].usrCoords,l[f].next.usrCoords))):u=__TURBOPACK__default__export__14.projectCoordsToSegment([1,a,b],l[f].usrCoords,l[f+1].usrCoords),u[1]>=0&&u[1]<=1&&(a-u[0][1])*(a-u[0][1])*p+(b-u[0][2])*(b-u[0][2])*q<=n)return!0;return!1}return x<n},allocatePoints:function(){var a,b;if(b=this.numberPoints,this.points.length<this.numberPoints)for(a=this.points.length;a<b;a++)this.points[a]=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[0,0],this.board,!1)},update:function(){return this.needsUpdate&&(this.evalVisProp("trace")&&this.cloneToBackground(!0),this.updateCurve()),this},updateRenderer:function(){return this.needsUpdate&&(this.visPropCalc.visible&&(this.isReal=__TURBOPACK__default__export__18.checkReal(this.points),this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateCurve(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1),this},updateDataArray:function(){},updateCurve:function(){var a,b,c,d,e,f,g=this.visProp.plotversion,h=!1;if(this.updateTransformMatrix(),this.updateDataArray(),c=this.minX(),d=this.maxX(),__TURBOPACK__default__export__3.exists(this.dataX))for(this.numberPoints=this.dataX.length,b=this.numberPoints,this.allocatePoints(),a=0;a<b;a++)e=a,__TURBOPACK__default__export__3.exists(this.dataY)?(f=a,this.points[a].setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.dataX[a],this.dataY[a]],!1)):(f=this.X(e),this.points[a].setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.dataX[a],this.Y(f,h)],!1)),this.points[a]._t=a,h=!0;else if(this.evalVisProp("doadvancedplot")?1===g||this.evalVisProp("doadvancedplotold")?__TURBOPACK__default__export__18.updateParametricCurveOld(this,c,d):2===g?__TURBOPACK__default__export__18.updateParametricCurve_v2(this,c,d):3===g?__TURBOPACK__default__export__18.updateParametricCurve_v3(this,c,d):4===g?__TURBOPACK__default__export__18.updateParametricCurve_v4(this,c,d):__TURBOPACK__default__export__18.updateParametricCurve_v2(this,c,d):(this.board.updateQuality===this.board.BOARD_QUALITY_HIGH?this.numberPoints=this.evalVisProp("numberpointshigh"):this.numberPoints=this.evalVisProp("numberpointslow"),this.allocatePoints(),__TURBOPACK__default__export__18.updateParametricCurveNaive(this,c,d,this.numberPoints)),b=this.numberPoints,this.evalVisProp("useqdt")&&this.board.updateQuality===this.board.BOARD_QUALITY_HIGH)for(a=0,this.qdt=new __TURBOPACK__default__export__15(this.board.getBoundingBox());a<this.points.length;a++)this.qdt.insert(this.points[a]),a>0&&(this.points[a].prev=this.points[a-1]),a<b-1&&(this.points[a].next=this.points[a+1]);for("plot"!==this.evalVisProp("curvetype")&&this.evalVisProp("rdpsmoothing")&&(this.points=__TURBOPACK__default__export__13.RamerDouglasPeucker(this.points,.2),this.numberPoints=this.points.length),b=this.numberPoints,a=0;a<b;a++)this.updateTransform(this.points[a]);return this},updateTransformMatrix:function(){var a,b,c=this.transformations.length;for(b=0,this.transformMat=[[1,0,0],[0,1,0],[0,0,1]];b<c;b++)(a=this.transformations[b]).update(),this.transformMat=__TURBOPACK__default__export__2.matMatMult(a.matrix,this.transformMat);return this},updateTransform:function(a){var b;return this.transformations.length>0&&(b=__TURBOPACK__default__export__2.matVecMult(this.transformMat,a.usrCoords),a.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,b,!1,!0)),a},addTransform:function(a){var b,c=__TURBOPACK__default__export__3.isArray(a)?a:[a],d=c.length;for(b=0;b<d;b++)this.transformations.push(c[b]);return this},interpolationFunctionFromArray:function(a){var b="data"+a,c=this;return function(a,d){var e,f,g,h,i=c[b],j=i.length,k=[];if(isNaN(a))return NaN;if(a<0)return __TURBOPACK__default__export__3.isFunction(i[0])?i[0]():i[0];if(3===c.bezierDegree){if(a>=(j-1)/3)return __TURBOPACK__default__export__3.isFunction(i[i.length-1])?i[i.length-1]():i[i.length-1];for(f=0,e=3*Math.floor(a),h=1-(g=a%1);f<4;f++)__TURBOPACK__default__export__3.isFunction(i[e+f])?k[f]=i[e+f]():k[f]=i[e+f];return h*h*(h*k[0]+3*g*k[1])+(3*h*k[2]+g*k[3])*g*g}if((e=a>j-2?j-2:parseInt(Math.floor(a),10))===a)return __TURBOPACK__default__export__3.isFunction(i[e])?i[e]():i[e];for(f=0;f<2;f++)__TURBOPACK__default__export__3.isFunction(i[e+f])?k[f]=i[e+f]():k[f]=i[e+f];return k[0]+(k[1]-k[0])*(a-e)}},generateTerm:function(a,b,c,d,e){var f,g,h;__TURBOPACK__default__export__3.isArray(b)?(this.dataX=b,this.numberPoints=this.dataX.length,this.X=this.interpolationFunctionFromArray.apply(this,["X"]),this.visProp.curvetype="plot"):(this.X=__TURBOPACK__default__export__3.createFunction(b,this.board,a),__TURBOPACK__default__export__3.isString(b)?this.visProp.curvetype="functiongraph":(__TURBOPACK__default__export__3.isFunction(b)||__TURBOPACK__default__export__3.isNumber(b))&&(this.visProp.curvetype="parameter")),this.isDraggable=!0,__TURBOPACK__default__export__3.isArray(c)?(this.dataY=c,this.Y=this.interpolationFunctionFromArray.apply(this,["Y"])):__TURBOPACK__default__export__3.exists(c)?this.Y=__TURBOPACK__default__export__3.createFunction(c,this.board,a):(h=__TURBOPACK__default__export__2.transpose(b),this.dataX=h[0],this.dataY=h[1],this.numberPoints=this.dataX.length,this.Y=this.interpolationFunctionFromArray.apply(this,["Y"])),__TURBOPACK__default__export__3.isFunction(b)&&__TURBOPACK__default__export__3.isArray(c)&&(f=__TURBOPACK__default__export__3.createFunction(c[0],this.board,""),g=__TURBOPACK__default__export__3.createFunction(c[1],this.board,""),this.X=function(a){return b(a)*Math.cos(a)+f()},this.X.deps=f.deps,this.Y=function(a){return b(a)*Math.sin(a)+g()},this.Y.deps=g.deps,this.visProp.curvetype="polar"),__TURBOPACK__default__export__3.exists(d)?this.minX=__TURBOPACK__default__export__3.createFunction(d,this.board,""):delete this.minX,__TURBOPACK__default__export__3.exists(e)?this.maxX=__TURBOPACK__default__export__3.createFunction(e,this.board,""):delete this.maxX,this.addParentsFromJCFunctions([this.X,this.Y,this.minX,this.maxX])},notifyParents:function(a){var b,c,d,e=!1;for(b in d={xterm:1,yterm:1})if(d.hasOwnProperty(b)&&this.hasOwnProperty(b)&&this[b].origin)for(c in e=!0,this[b].origin.deps)this[b].origin.deps.hasOwnProperty(c)&&this[b].origin.deps[c].addChild(this);e||__TURBOPACK__default__export__30.findDependencies(this,a,this.board)},getLabelPosition:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p=1.5;return j=this.minX(),k=this.maxX(),l=__TURBOPACK__default__export__13.findDomain(this.X,[j,k],null,!1),j=Math.max((l=__TURBOPACK__default__export__13.findDomain(this.Y,l,null,!1))[0],l[0]),k=Math.min(l[1],l[1]),e=__TURBOPACK__default__export__3.parsePosition(a),i=__TURBOPACK__default__export__3.parseNumber(e.pos,k-j,1),0>e.pos.indexOf("fr")&&0>e.pos.indexOf("%")&&(i=0),m=j+i,isNaN((c=this.X(m))+(d=this.Y(m)))&&(i/=k-j,m=j+i,c=this.X(j)+i*(this.X(k)-this.X(j)),d=this.Y(j)+i*(this.Y(k)-this.Y(j))),f=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[c,d],this.board).scrCoords,m<j+(h=__TURBOPACK__default__export__2.eps)?(n=(this.X(m+h)-this.X(m))/h,o=(this.Y(m+h)-this.Y(m))/h):m>k-h?(n=(this.X(m)-this.X(m-h))/h,o=(this.Y(m)-this.Y(m-h))/h):(n=.5*(this.X(m+h)-this.X(m-h))/h,o=.5*(this.Y(m+h)-this.Y(m-h))/h),n=isNaN(n)?1:n,o=isNaN(o)?1:o,g=__TURBOPACK__default__export__2.hypot(n,o),"left"===e.side?o*=-1:n*=-1,__TURBOPACK__default__export__3.exists(this.label)&&(p=.5*b/g),c=f[1]+o*this.label.size[0]*p,d=f[2]-n*this.label.size[1]*p,new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[c,d],this.board)},getLabelAnchor:function(){var a,b,c,d,e=.05*this.board.canvasWidth,f=.05*this.board.canvasHeight,g=.95*this.board.canvasWidth,h=.95*this.board.canvasHeight;if(!__TURBOPACK__default__export__3.exists(this.label)||(c=this.label.evalVisProp("position"),!__TURBOPACK__default__export__3.isString(c)))return new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[NaN,NaN],this.board);if(!(0>c.indexOf("right")&&0>c.indexOf("left")))return this.getLabelPosition(c,this.label.evalVisProp("distance"));switch(this.evalVisProp("label.position")){case"ulft":a=e,b=f;break;case"llft":a=e,b=h;break;case"rt":a=g,b=.5*h;break;case"lrt":a=g,b=h;break;case"urt":a=g,b=f;break;case"top":a=.5*g,b=f;break;case"bot":a=.5*g,b=h;break;default:a=e,b=.5*h}return d=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board,!1),__TURBOPACK__default__export__14.projectCoordsToCurve(d.usrCoords[1],d.usrCoords[2],0,this,this.board)[0]},cloneToBackground:function(){var a,b=__TURBOPACK__default__export__3.getCloneObject(this);return b.points=this.points.slice(0),b.bezierDegree=this.bezierDegree,b.numberPoints=this.numberPoints,a=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawCurve(b),this.board.renderer.enhancedRendering=a,this.traces[b.id]=b.rendNode,this},bounds:function(){var a,b,c,d=1/0,e=-1/0,f=1/0,g=-1/0,h=this.points.length;if(3===this.bezierDegree){for(a=0;a<h;a++)this.points[a].X=__TURBOPACK__default__export__3.bind(function(){return this.usrCoords[1]},this.points[a]),this.points[a].Y=__TURBOPACK__default__export__3.bind(function(){return this.usrCoords[2]},this.points[a]);return c=(b=__TURBOPACK__default__export__13.bezier(this.points))[3](),d=__TURBOPACK__default__export__13.fminbr(function(a){return b[0](a)},[0,c]),e=__TURBOPACK__default__export__13.fminbr(function(a){return-b[0](a)},[0,c]),f=__TURBOPACK__default__export__13.fminbr(function(a){return b[1](a)},[0,c]),g=__TURBOPACK__default__export__13.fminbr(function(a){return-b[1](a)},[0,c]),d=b[0](d),e=b[0](e),f=b[1](f),[d,g=b[1](g),e,f]}for(a=0;a<h;a++)d>this.points[a].usrCoords[1]&&(d=this.points[a].usrCoords[1]),e<this.points[a].usrCoords[1]&&(e=this.points[a].usrCoords[1]),f>this.points[a].usrCoords[2]&&(f=this.points[a].usrCoords[2]),g<this.points[a].usrCoords[2]&&(g=this.points[a].usrCoords[2]);return[d,g,e,f]},getParents:function(){var a=[this.xterm,this.yterm,this.minX(),this.maxX()];return 0!==this.parents.length&&(a=this.parents),a},moveTo:function(a){var b,c=[];return this.points.length>0&&!this.evalVisProp("fixed")?(b=this.points[0],c=3===a.length?[a[0]-b.usrCoords[0],a[1]-b.usrCoords[1],a[2]-b.usrCoords[2]]:[a[0]-b.usrCoords[1],a[1]-b.usrCoords[2]],this.setPosition(__TURBOPACK__default__export__1.COORDS_BY_USER,c),this.board.update(this)):this},getTransformationSource:function(){var a,b;return __TURBOPACK__default__export__3.exists(this._transformationSource)&&(b=this._transformationSource).elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&(a=!0),[a,b]}}),__TURBOPACK__default__export__.createCurve=function(a,b,c){var d,e,f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"curve");return(d=a.select(b[0],!0),__TURBOPACK__default__export__3.isTransformationOrArray(b[1])&&__TURBOPACK__default__export__3.isObject(d)&&(d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE||d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE||d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ARC||d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_CONIC||d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR))?(d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR?f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"sector"):d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ARC?f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"arc"):d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE?(__TURBOPACK__default__export__3.exists(c.withLabel)||(c.withLabel=!1),f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"angle")):f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"curve"),f=__TURBOPACK__default__export__3.copyAttributes(f,a.options,"curve"),(e=new __TURBOPACK__default__export__.Curve(a,["x",[],[]],f)).updateDataArray=function(){var a,b=d.numberPoints;for(a=0,this.bezierDegree=d.bezierDegree,this.dataX=[],this.dataY=[];a<b;a++)this.dataX.push(d.points[a].usrCoords[1]),this.dataY.push(d.points[a].usrCoords[2]);return this},e.addTransform(b[1]),d.addChild(e),e.setParents([d]),e._transformationSource=d,e):(f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"curve"),new __TURBOPACK__default__export__.Curve(a,["x"].concat(b),f))},__TURBOPACK__default__export__.registerElement("curve",__TURBOPACK__default__export__.createCurve),__TURBOPACK__default__export__.createFunctiongraph=function(a,b,c){var d,e=["x","x"].concat(b);return d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"functiongraph"),(d=__TURBOPACK__default__export__3.copyAttributes(d,a.options,"curve")).curvetype="functiongraph",new __TURBOPACK__default__export__.Curve(a,e,d)},__TURBOPACK__default__export__.registerElement("functiongraph",__TURBOPACK__default__export__.createFunctiongraph),__TURBOPACK__default__export__.registerElement("plot",__TURBOPACK__default__export__.createFunctiongraph),__TURBOPACK__default__export__.createSpline=function(a,b,c){var d,e,f;return e=function(){var a,c=[],d=[];return[function(e,f){var g,h,i;if(!f){if(c=[],d=[],2===b.length&&__TURBOPACK__default__export__3.isArray(b[0])&&__TURBOPACK__default__export__3.isArray(b[1])&&b[0].length===b[1].length)for(g=0;g<b[0].length;g++)__TURBOPACK__default__export__3.isFunction(b[0][g])?c.push(b[0][g]()):c.push(b[0][g]),__TURBOPACK__default__export__3.isFunction(b[1][g])?d.push(b[1][g]()):d.push(b[1][g]);else for(g=0;g<b.length;g++)if(__TURBOPACK__default__export__3.isPoint(b[g]))c.push(b[g].X()),d.push(b[g].Y());else if(__TURBOPACK__default__export__3.isArray(b[g])&&2===b[g].length)for(h=0;h<b.length;h++)__TURBOPACK__default__export__3.isFunction(b[h][0])?c.push(b[h][0]()):c.push(b[h][0]),__TURBOPACK__default__export__3.isFunction(b[h][1])?d.push(b[h][1]()):d.push(b[h][1]);else __TURBOPACK__default__export__3.isFunction(b[g])&&2===b[g]().length&&(i=b[g](),c.push(i[0]),d.push(i[1]));a=__TURBOPACK__default__export__13.splineDef(c,d)}return __TURBOPACK__default__export__13.splineEval(e,c,d,a)},function(){return c[0]},function(){return c[c.length-1]}]},(c=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"curve")).curvetype="functiongraph",f=e(),(d=new __TURBOPACK__default__export__.Curve(a,["x","x",f[0],f[1],f[2]],c)).setParents(b),d.elType="spline",d},__TURBOPACK__default__export__.registerElement("spline",__TURBOPACK__default__export__.createSpline),__TURBOPACK__default__export__.createCardinalSpline=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n="\nPossible parent types: [points:array, tau:number|function, type:string]";if(!__TURBOPACK__default__export__3.exists(b[0])||!__TURBOPACK__default__export__3.isArray(b[0]))throw Error("JSXGraph: JXG.createCardinalSpline: argument 1 'points' has to be array of points or coordinate pairs"+n);if(!__TURBOPACK__default__export__3.exists(b[1])||!__TURBOPACK__default__export__3.isNumber(b[1])&&!__TURBOPACK__default__export__3.isFunction(b[1]))throw Error("JSXGraph: JXG.createCardinalSpline: argument 2 'tau' has to be number between [0,1] or function'"+n);if(h=__TURBOPACK__default__export__3.exists(b[2])&&__TURBOPACK__default__export__3.isString(b[2])?b[2]:"uniform",c=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"curve"),(c=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"cardinalspline")).curvetype="parameter",i=b[0],j=[],!c.isarrayofcoordinates&&2===i.length&&__TURBOPACK__default__export__3.isArray(i[0])&&__TURBOPACK__default__export__3.isArray(i[1])&&i[0].length===i[1].length)for(k=0;k<i[0].length;k++)j[k]=[],__TURBOPACK__default__export__3.isFunction(i[0][k])?j[k].push(i[0][k]()):j[k].push(i[0][k]),__TURBOPACK__default__export__3.isFunction(i[1][k])?j[k].push(i[1][k]()):j[k].push(i[1][k]);else for(k=0;k<i.length;k++)__TURBOPACK__default__export__3.isString(i[k])?j.push(a.select(i[k])):__TURBOPACK__default__export__3.isPoint(i[k])?j.push(i[k]):__TURBOPACK__default__export__3.isArray(i[k])&&2===i[k].length?(j[k]=[],__TURBOPACK__default__export__3.isFunction(i[k][0])?j[k].push(i[k][0]()):j[k].push(i[k][0]),__TURBOPACK__default__export__3.isFunction(i[k][1])?j[k].push(i[k][1]()):j[k].push(i[k][1])):__TURBOPACK__default__export__3.isFunction(i[k])&&2===i[k]().length&&j.push(b[k]());if(!0===c.createpoints)f=__TURBOPACK__default__export__3.providePoints(a,j,c,"cardinalspline",["points"]);else for(k=0,f=[],e=function(a){return{X:function(){return j[a][0]},Y:function(){return j[a][1]},Dist:function(a){var b=this.X()-a.X(),c=this.Y()-a.Y();return __TURBOPACK__default__export__2.hypot(b,c)}}};k<j.length;k++)__TURBOPACK__default__export__3.isPoint(j[k])?f.push(j[k]):f.push(e(k));for(g=b[1],m=["x"].concat(__TURBOPACK__default__export__13.CardinalSpline(f,g,h)),d=new __TURBOPACK__default__export__.Curve(a,m,c),l=f.length,d.setParents(f),k=0;k<l;k++)i=f[k],__TURBOPACK__default__export__3.isPoint(i)&&(__TURBOPACK__default__export__3.exists(i._is_new)?(d.addChild(i),delete i._is_new):i.addChild(d));return d.elType="cardinalspline",d},__TURBOPACK__default__export__.registerElement("cardinalspline",__TURBOPACK__default__export__.createCardinalSpline),__TURBOPACK__default__export__.createMetapostSpline=function(a,b,c){var d,e,f,g,h,i,j,k,l="\nPossible parent types: [points:array, controls:object";if(!__TURBOPACK__default__export__3.exists(b[0])||!__TURBOPACK__default__export__3.isArray(b[0]))throw Error("JSXGraph: JXG.createMetapostSpline: argument 1 'points' has to be array of points or coordinate pairs"+l);if(!__TURBOPACK__default__export__3.exists(b[1])||!__TURBOPACK__default__export__3.isObject(b[1]))throw Error("JSXGraph: JXG.createMetapostSpline: argument 2 'controls' has to be a JavaScript object'"+l);if(c=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"curve"),(c=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"metapostspline")).curvetype="parameter",h=b[0],i=[],!c.isarrayofcoordinates&&2===h.length&&__TURBOPACK__default__export__3.isArray(h[0])&&__TURBOPACK__default__export__3.isArray(h[1])&&h[0].length===h[1].length)for(j=0;j<h[0].length;j++)i[j]=[],__TURBOPACK__default__export__3.isFunction(h[0][j])?i[j].push(h[0][j]()):i[j].push(h[0][j]),__TURBOPACK__default__export__3.isFunction(h[1][j])?i[j].push(h[1][j]()):i[j].push(h[1][j]);else for(j=0;j<h.length;j++)__TURBOPACK__default__export__3.isString(h[j])?i.push(a.select(h[j])):__TURBOPACK__default__export__3.isPoint(h[j])?i.push(h[j]):__TURBOPACK__default__export__3.isArray(h[j])&&2===h[j].length?(i[j]=[],__TURBOPACK__default__export__3.isFunction(h[j][0])?i[j].push(h[j][0]()):i[j].push(h[j][0]),__TURBOPACK__default__export__3.isFunction(h[j][1])?i[j].push(h[j][1]()):i[j].push(h[j][1])):__TURBOPACK__default__export__3.isFunction(h[j])&&2===h[j]().length&&i.push(b[j]());if(!0===c.createpoints)f=__TURBOPACK__default__export__3.providePoints(a,i,c,"metapostspline",["points"]);else for(j=0,f=[],e=function(a){return{X:function(){return i[a][0]},Y:function(){return i[a][1]}}};j<i.length;j++)__TURBOPACK__default__export__3.isPoint(i[j])?f.push(i[j]):f.push(e);for(g=b[1],(d=new __TURBOPACK__default__export__.Curve(a,["t",[],[],0,h.length-1],c)).updateDataArray=function(){var a,b,c=f.length,d=[];for(b=0;b<c;b++)d.push([f[b].X(),f[b].Y()]);a=__TURBOPACK__default__export__20.curve(d,g),this.dataX=a[0],this.dataY=a[1]},d.bezierDegree=3,k=f.length,d.setParents(f),j=0;j<k;j++)__TURBOPACK__default__export__3.isPoint(f[j])&&f[j].addChild(d);return d.elType="metapostspline",d},__TURBOPACK__default__export__.registerElement("metapostspline",__TURBOPACK__default__export__.createMetapostSpline),__TURBOPACK__default__export__.createRiemannsum=function(a,b,c){var d,e,f,g,h,i;if((i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"riemannsum")).curvetype="plot",f=b[0],d=__TURBOPACK__default__export__3.createFunction(b[1],a,""),!__TURBOPACK__default__export__3.exists(d))throw Error("JSXGraph: JXG.createRiemannsum: argument '2' n has to be number or function.\nPossible parent types: [function,n:number|function,type,start:number|function,end:number|function]");if("string"==typeof b[2]&&(b[2]="'"+b[2]+"'"),e=__TURBOPACK__default__export__3.createFunction(b[2],a,""),!__TURBOPACK__default__export__3.exists(e))throw Error("JSXGraph: JXG.createRiemannsum: argument 3 'type' has to be string or function.\nPossible parent types: [function,n:number|function,type,start:number|function,end:number|function]");return g=[[0],[0]].concat(b.slice(3)),(h=a.create("curve",g,i)).sum=0,h.Value=function(){return this.sum},h.updateDataArray=function(){var a=__TURBOPACK__default__export__13.riemann(f,d(),e(),this.minX(),this.maxX());this.dataX=a[0],this.dataY=a[1],this.sum=a[2]},h.addParentsFromJCFunctions([d,e]),h},__TURBOPACK__default__export__.registerElement("riemannsum",__TURBOPACK__default__export__.createRiemannsum),__TURBOPACK__default__export__.createTracecurve=function(a,b,c){var d,e,f,g;if(2!==b.length)throw Error("JSXGraph: Can't create trace curve with given parent'\nPossible parent types: [glider, point]");if(e=a.select(b[0]),f=a.select(b[1]),e.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER||!__TURBOPACK__default__export__3.isPoint(f))throw Error("JSXGraph: Can't create trace curve with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [glider, point]");return(g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"tracecurve")).curvetype="plot",(d=a.create("curve",[[0],[0]],g)).updateDataArray=function(){var a,b,c,d,g,h,i,j,k,l=this.visProp.numberpoints,m=e.position,n=e.slideObject,o=n.minX();for(b=(n.maxX()-o)/l,this.dataX=[],this.dataY=[],n.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&l++,a=0;a<l;a++){for(d in c=o+a*b,h=n.X(c)/n.Z(c),i=n.Y(c)/n.Z(c),e.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,[h,i]),j=!1,this.board.objects)if(this.board.objects.hasOwnProperty(d)&&((g=this.board.objects[d])===e&&(j=!0),j&&g.needsRegularUpdate)&&(k=g.visProp.trace,g.visProp.trace=!1,g.needsUpdate=!0,g.update(!0),g.visProp.trace=k,g===f))break;this.dataX[a]=f.X(),this.dataY[a]=f.Y()}for(d in e.position=m,j=!1,this.board.objects)if(this.board.objects.hasOwnProperty(d)&&((g=this.board.objects[d])===e&&(j=!0),j&&g.needsRegularUpdate)&&(k=g.visProp.trace,g.visProp.trace=!1,g.needsUpdate=!0,g.update(!0),g.visProp.trace=k,g===f))break},d},__TURBOPACK__default__export__.registerElement("tracecurve",__TURBOPACK__default__export__.createTracecurve),__TURBOPACK__default__export__.createStepfunction=function(a,b,c){var d,e;if(2!==b.length)throw Error("JSXGraph: Can't create step function with given parent'\nPossible parent types: [array, array|function]");return e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"stepfunction"),(d=a.create("curve",b,e)).updateDataArray=function(){var a,b=0,c=this.xterm.length;if(this.dataX=[],this.dataY=[],0!==c)for(this.dataX[b]=this.xterm[0],this.dataY[b]=this.yterm[0],++b,a=1;a<c;++a)this.dataX[b]=this.xterm[a],this.dataY[b]=this.dataY[b-1],++b,this.dataX[b]=this.xterm[a],this.dataY[b]=this.yterm[a],++b},d},__TURBOPACK__default__export__.registerElement("stepfunction",__TURBOPACK__default__export__.createStepfunction),__TURBOPACK__default__export__.createDerivative=function(a,b,c){var d,e,f,g,h;if(1!==b.length&&b[0].class!==__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)throw Error("JSXGraph: Can't create derivative curve with given parent'\nPossible parent types: [curve]");return h=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"curve"),e=b[0],f=__TURBOPACK__default__export__13.D(e.X),g=__TURBOPACK__default__export__13.D(e.Y),(d=a.create("curve",[function(a){return e.X(a)},function(a){return g(a)/f(a)},e.minX(),e.maxX()],h)).setParents(e),d},__TURBOPACK__default__export__.registerElement("derivative",__TURBOPACK__default__export__.createDerivative),__TURBOPACK__default__export__.createCurveIntersection=function(a,b,c){var d;if(2!==b.length)throw Error("JSXGraph: Can't create curve intersection with given parent'\nPossible parent types: [array, array|function]");return(d=a.create("curve",[[],[]],c)).updateDataArray=function(){var a=__TURBOPACK__default__export__21.intersection(b[0],b[1],this.board);this.dataX=a[0],this.dataY=a[1]},d},__TURBOPACK__default__export__.createCurveUnion=function(a,b,c){var d;if(2!==b.length)throw Error("JSXGraph: Can't create curve union with given parent'\nPossible parent types: [array, array|function]");return(d=a.create("curve",[[],[]],c)).updateDataArray=function(){var a=__TURBOPACK__default__export__21.union(b[0],b[1],this.board);this.dataX=a[0],this.dataY=a[1]},d},__TURBOPACK__default__export__.createCurveDifference=function(a,b,c){var d;if(2!==b.length)throw Error("JSXGraph: Can't create curve difference with given parent'\nPossible parent types: [array, array|function]");return(d=a.create("curve",[[],[]],c)).updateDataArray=function(){var a=__TURBOPACK__default__export__21.difference(b[0],b[1],this.board);this.dataX=a[0],this.dataY=a[1]},d},__TURBOPACK__default__export__.registerElement("curvedifference",__TURBOPACK__default__export__.createCurveDifference),__TURBOPACK__default__export__.registerElement("curveintersection",__TURBOPACK__default__export__.createCurveIntersection),__TURBOPACK__default__export__.registerElement("curveunion",__TURBOPACK__default__export__.createCurveUnion),__TURBOPACK__default__export__.createBoxPlot=function(a,b,c){var d,e,f,g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"boxplot");if(3!==b.length)throw Error("JSXGraph: Can't create box plot with given parent'\nPossible parent types: [array, number|function, number|function] containing quantiles, axis, width");if(b[0].length<5)throw Error("JSXGraph: Can't create box plot with given parent[0]'\nparent[0] has to contain at least 5 quantiles.");for(e=0,d=a.create("curve",[[],[]],g),f=b[0].length,d.Q=[];e<f;e++)d.Q[e]=__TURBOPACK__default__export__3.createFunction(b[0][e],a);return d.x=__TURBOPACK__default__export__3.createFunction(b[1],a),d.w=__TURBOPACK__default__export__3.createFunction(b[2],a),d.updateDataArray=function(){var a,b,c,d,e,f,g,h,i;g=this.evalVisProp("smallwidth"),h=this.evalVisProp("dir"),c=(i=this.x())-.5*this.w(),d=i-.5*this.w()*g,e=i+.5*this.w(),f=i+.5*this.w()*g,a=[i,d,f,i,i,c,c,e,e,i,NaN,c,e,NaN,i,i,d,f,i],b=[this.Q[0](),this.Q[0](),this.Q[0](),this.Q[0](),this.Q[1](),this.Q[1](),this.Q[3](),this.Q[3](),this.Q[1](),this.Q[1](),NaN,this.Q[2](),this.Q[2](),NaN,this.Q[3](),this.Q[4](),this.Q[4](),this.Q[4](),this.Q[4]()],"vertical"===h?(this.dataX=a,this.dataY=b):(this.dataX=b,this.dataY=a)},d.addParentsFromJCFunctions([d.Q,d.x,d.w]),d},__TURBOPACK__default__export__.registerElement("boxplot",__TURBOPACK__default__export__.createBoxPlot),__TURBOPACK__default__export__.createImplicitCurve=function(a,b,c){var d,e;if(0>[1,3,5].indexOf(b.length))throw Error("JSXGraph: Can't create curve implicitCurve with given parent'\nPossible parent types: [f], [f, rangex, rangey], [f, dfx, dfy] or [f, dfx, dfy, rangex, rangey]\nwith functions f, dfx, dfy and arrays of length 2 rangex, rangey.");return e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"implicitcurve"),(d=a.create("curve",[[],[]],e)).f=__TURBOPACK__default__export__3.createFunction(b[0],a,"x, y"),5===b.length||__TURBOPACK__default__export__3.isString(b[1])||__TURBOPACK__default__export__3.isFunction(b[1])?d.dfx=__TURBOPACK__default__export__3.createFunction(b[1],a,"x, y"):d.dfx=null,5===b.length||__TURBOPACK__default__export__3.isString(b[2])||__TURBOPACK__default__export__3.isFunction(b[2])?d.dfy=__TURBOPACK__default__export__3.createFunction(b[2],a,"x, y"):d.dfy=null,d.domain=null,5===b.length?d.domain=[b[3],b[4]]:3===b.length&&(d.domain=[b[1],b[2]]),d.updateDataArray=function(){var a,b,c,d,e,f,g=[];null===this.domain?(f=this.evalVisProp("margin"),a=this.board.getBoundingBox(),a[0]-=f,a[1]+=f,a[2]+=f,a[3]-=f):(b=__TURBOPACK__default__export__3.evaluate(this.domain[0]),c=__TURBOPACK__default__export__3.evaluate(this.domain[1]),a=[Math.min(b[0],b[1]),Math.max(c[0],c[1]),Math.max(b[0],b[1]),Math.min(c[0],c[1])]),e={resolution_out:Math.max(.01,this.evalVisProp("resolution_outer")),resolution_in:Math.max(.01,this.evalVisProp("resolution_inner")),max_steps:this.evalVisProp("max_steps"),alpha_0:this.evalVisProp("alpha_0"),tol_u0:this.evalVisProp("tol_u0"),tol_newton:this.evalVisProp("tol_newton"),tol_cusp:this.evalVisProp("tol_cusp"),tol_progress:this.evalVisProp("tol_progress"),qdt_box:this.evalVisProp("qdt_box"),kappa_0:this.evalVisProp("kappa_0"),delta_0:this.evalVisProp("delta_0"),h_initial:this.evalVisProp("h_initial"),h_critical:this.evalVisProp("h_critical"),h_max:this.evalVisProp("h_max"),loop_dist:this.evalVisProp("loop_dist"),loop_dir:this.evalVisProp("loop_dir"),loop_detection:this.evalVisProp("loop_detection"),unitX:this.board.unitX,unitY:this.board.unitY},this.dataX=[],this.dataY=[],d=new __TURBOPACK__default__export__19(a,e,this.f,this.dfx,this.dfy),this.qdt=d.qdt,g=d.plot(),this.dataX=g[0],this.dataY=g[1]},d.elType="implicitcurve",d},__TURBOPACK__default__export__.registerElement("implicitcurve",__TURBOPACK__default__export__.createImplicitCurve);let __TURBOPACK__default__export__48=__TURBOPACK__default__export__.Curve;__TURBOPACK__default__export__.createArc=function(a,b,c){var d,e,f;if(!1===(f=__TURBOPACK__default__export__3.providePoints(a,b,c,"arc",["center","radiuspoint","anglepoint"]))||f.length<3)throw Error("JSXGraph: Can't create Arc with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point], [arc, transformation]");return e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"arc"),(d=a.create("curve",[[0],[0],0,4],e)).elType="arc",d.setParents(f),d.type=__TURBOPACK__default__export__1.OBJECT_TYPE_ARC,d.center=f[0],d.radiuspoint=f[1],d.point2=d.radiuspoint,d.anglepoint=f[2],d.point3=d.anglepoint,__TURBOPACK__default__export__3.exists(d.center._is_new)?(d.addChild(d.center),delete d.center._is_new):d.center.addChild(d),__TURBOPACK__default__export__3.exists(d.radiuspoint._is_new)?(d.addChild(d.radiuspoint),delete d.radiuspoint._is_new):d.radiuspoint.addChild(d),__TURBOPACK__default__export__3.exists(d.anglepoint._is_new)?(d.addChild(d.anglepoint),delete d.anglepoint._is_new):d.anglepoint.addChild(d),d.useDirection=e.usedirection,d.updateDataArray=function(){var a,b,c,d,e,g=1,h=this.radiuspoint,i=this.center,j=this.anglepoint,k=this.evalVisProp("selection");b=__TURBOPACK__default__export__14.rad(h,i,j),("minor"===k&&b>Math.PI||"major"===k&&b<Math.PI)&&(g=-1),this.useDirection&&(c=f[1].coords.usrCoords,d=f[3].coords.usrCoords,e=f[2].coords.usrCoords,(c[1]-e[1])*(c[2]-d[2])-(c[2]-e[2])*(c[1]-d[1])<0?(this.radiuspoint=f[1],this.anglepoint=f[2]):(this.radiuspoint=f[2],this.anglepoint=f[1])),h=h.coords.usrCoords,i=i.coords.usrCoords,j=j.coords.usrCoords,a=__TURBOPACK__default__export__14.bezierArc(h,i,j,!1,g),this.dataX=a[0],this.dataY=a[1],this.bezierDegree=3,this.updateStdform(),this.updateQuadraticform()},d.Radius=function(){return this.radiuspoint.Dist(this.center)},d.getRadius=function(){return __TURBOPACK__default__export__.deprecated("Arc.getRadius()","Arc.Radius()"),this.Radius()},d.Value=function(a,b){var c;return b=b||__TURBOPACK__default__export__14.rad(this.radiuspoint,this.center,this.anglepoint),""===(a=(a=a||"length").toLocaleLowerCase())||0===a.indexOf("len")?c=b*this.Radius():0===a.indexOf("rad")?c=b:0===a.indexOf("deg")?c=180*b/Math.PI:0===a.indexOf("sem")?c=b/Math.PI:0===a.indexOf("cir")&&(c=.5*b/Math.PI),c},d.L=function(){return this.Value("length")},d.hasPoint=function(a,b){var c,d,e,f,g,h,i=this.Radius();return this.evalVisProp("hasinnerpoints")?this.hasPointSector(a,b):(__TURBOPACK__default__export__3.isObject(this.evalVisProp("precision"))?(h=this.board._inputDevice,g=this.evalVisProp("precision."+h)):g=this.board.options.precision.hasPoint,g/=Math.min(Math.abs(this.board.unitX),Math.abs(this.board.unitY)),c=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board),this.transformations.length>0&&(this.updateTransformMatrix(),e=__TURBOPACK__default__export__2.inverse(this.transformMat),f=__TURBOPACK__default__export__2.matVecMult(e,c.usrCoords),c=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,f,this.board)),(d=Math.abs(this.center.coords.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,c)-i)<g)&&(d=__TURBOPACK__default__export__14.coordsOnArc(this,c)),d)},d.hasPointSector=function(a,b){var c=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board),d=this.Radius(),e=this.center.coords.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,c)<d;return e&&(e=__TURBOPACK__default__export__14.coordsOnArc(this,c)),e},d.getTextAnchor=function(){return this.center.coords},d.getLabelAnchor=function(){var a,b,c,d,e,f=this.label.evalVisProp("position"),g=__TURBOPACK__default__export__14.rad(this.radiuspoint,this.center,this.anglepoint),h=10/this.board.unitX,i=10/this.board.unitY,j=this.point2.coords.usrCoords,k=this.center.coords.usrCoords,l=j[1]-k[1],m=j[2]-k[2],n=this.evalVisProp("selection"),o=this.label?this.label.visProp:this.visProp.label;return!__TURBOPACK__default__export__3.isString(f)||0>f.indexOf("right")&&0>f.indexOf("left")?(("minor"===n&&g>Math.PI||"major"===n&&g<Math.PI)&&(g=-(2*Math.PI-g)),c=(a=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[k[1]+Math.cos(.5*g)*l-Math.sin(.5*g)*m,k[2]+Math.sin(.5*g)*l+Math.cos(.5*g)*m],this.board)).usrCoords[1]-k[1],d=a.usrCoords[2]-k[2],e=__TURBOPACK__default__export__2.hypot(c,d),c=c*(e+h)/e,d=d*(e+i)/e,b=[k[1]+c,k[2]+d],o.position=__TURBOPACK__default__export__14.calcLabelQuadrant(__TURBOPACK__default__export__14.rad([1,0],[0,0],b)),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,b,this.board)):this.getLabelPosition(f,this.label.evalVisProp("distance"))},d.updateQuadraticform=__TURBOPACK__default__export__46.prototype.updateQuadraticform,d.updateStdform=__TURBOPACK__default__export__46.prototype.updateStdform,d.methodMap=__TURBOPACK__default__export__.deepCopy(d.methodMap,{getRadius:"getRadius",radius:"Radius",Radius:"Radius",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint",Value:"Value",L:"L"}),d.prepareUpdate().update(),d},__TURBOPACK__default__export__.registerElement("arc",__TURBOPACK__default__export__.createArc),__TURBOPACK__default__export__.createSemicircle=function(a,b,c){var d,e,f,g;if(!1===(g=__TURBOPACK__default__export__3.providePoints(a,b,c,"point"))||2!==g.length)throw Error("JSXGraph: Can't create Semicircle with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point]");return f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"semicircle","center"),(e=a.create("midpoint",g,f)).dump=!1,f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"semicircle"),(d=a.create("arc",[e,g[1],g[0]],f)).elType="semicircle",d.setParents([g[0].id,g[1].id]),d.subs={midpoint:e},d.inherits.push(e),d.midpoint=d.center=e,d},__TURBOPACK__default__export__.registerElement("semicircle",__TURBOPACK__default__export__.createSemicircle),__TURBOPACK__default__export__.createCircumcircleArc=function(a,b,c){var d,e,f,g;if(!1===(g=__TURBOPACK__default__export__3.providePoints(a,b,c,"point"))||3!==g.length)throw Error("JSXGraph: create Circumcircle Arc with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point]");return f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"circumcirclearc","center"),(e=a.create("circumcenter",g,f)).dump=!1,(f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"circumcirclearc")).usedirection=!0,(d=a.create("arc",[e,g[0],g[2],g[1]],f)).elType="circumcirclearc",d.setParents([g[0].id,g[1].id,g[2].id]),d.subs={center:e},d.inherits.push(e),d.center=e,d},__TURBOPACK__default__export__.registerElement("circumcirclearc",__TURBOPACK__default__export__.createCircumcircleArc),__TURBOPACK__default__export__.createMinorArc=function(a,b,c){return c.selection="minor",__TURBOPACK__default__export__.createArc(a,b,c)},__TURBOPACK__default__export__.registerElement("minorarc",__TURBOPACK__default__export__.createMinorArc),__TURBOPACK__default__export__.createMajorArc=function(a,b,c){return c.selection="major",__TURBOPACK__default__export__.createArc(a,b,c)},__TURBOPACK__default__export__.registerElement("majorarc",__TURBOPACK__default__export__.createMajorArc),__TURBOPACK__default__export__.createSector=function(a,b,c){var d,e,f,g,h,i,j=1e-14,k="invalid",l=["center","radiusPoint","anglePoint"];if(b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&(__TURBOPACK__default__export__3.isArray(b[2])||__TURBOPACK__default__export__3.isNumber(b[2]))&&(__TURBOPACK__default__export__3.isArray(b[3])||__TURBOPACK__default__export__3.isNumber(b[3]))&&(__TURBOPACK__default__export__3.isNumber(b[4])||__TURBOPACK__default__export__3.isFunction(b[4])||__TURBOPACK__default__export__3.isString(b[4])))k="2lines";else{if(!1===(i=__TURBOPACK__default__export__3.providePoints(a,b,c,"sector",l)))throw Error("JSXGraph: Can't create Sector with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"' and '"+typeof b[2]+"'.");k="3points"}if(e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"sector"),(d=a.create("curve",[[0],[0],0,6],e)).type=__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR,d.elType="sector",d.autoRadius=function(){var a=20/d.board.unitX,b=1/0,c=50/d.board.unitX;return __TURBOPACK__default__export__3.isPoint(d.center)&&(b=.3333*d.center.Dist(d.point2)),Math.max(a,Math.min(b,c))},"2lines"===k)d.Radius=function(){var a=__TURBOPACK__default__export__3.evaluate(b[4]);return"auto"===a?this.autoRadius():a},d.line1=a.select(b[0]),d.line2=a.select(b[1]),d.line1.addChild(d),d.line2.addChild(d),d.setParents(b),d.point1={visProp:{}},d.point2={visProp:{}},d.point3={visProp:{}},g=__TURBOPACK__default__export__14.meetLineLine(d.line1.stdform,d.line2.stdform,0,a),__TURBOPACK__default__export__14.distance(g.usrCoords,[0,0,0],3)<j&&(d.line1.point1.Dist(d.line2.point1)<j||d.line1.point1.Dist(d.line2.point2)<j?g=d.line1.point1.coords:d.line1.point2.Dist(d.line2.point1)<j||d.line1.point2.Dist(d.line2.point1)<j?g=d.line1.point2.coords:console.log("JSXGraph warning: Can't create Sector from parallel lines with no common defining point.")),__TURBOPACK__default__export__3.isArray(b[2])?(2===b[2].length&&(b[2]=[1].concat(b[2])),h=__TURBOPACK__default__export__14.projectPointToLine({coords:{usrCoords:b[2]}},d.line1,a),h=__TURBOPACK__default__export__12.subtract(h.usrCoords,g.usrCoords),d.direction1=__TURBOPACK__default__export__2.innerProduct(h,[0,d.line1.stdform[2],-d.line1.stdform[1]],3)>=0?1:-1):d.direction1=b[2]>=0?1:-1,__TURBOPACK__default__export__3.isArray(b[3])?(2===b[3].length&&(b[3]=[1].concat(b[3])),h=__TURBOPACK__default__export__14.projectPointToLine({coords:{usrCoords:b[3]}},d.line2,a),h=__TURBOPACK__default__export__12.subtract(h.usrCoords,g.usrCoords),d.direction2=__TURBOPACK__default__export__2.innerProduct(h,[0,d.line2.stdform[2],-d.line2.stdform[1]],3)>=0?1:-1):d.direction2=b[3]>=0?1:-1,d.methodMap=__TURBOPACK__default__export__.deepCopy(d.methodMap,{arc:"arc",center:"center",line1:"line1",line2:"line2"}),d.updateDataArray=function(){var a,b,c,e,f=1e-14,g=[0,0,0],h=[0,0,0],i=[0,0,0];if(b=this.line1,c=this.line2,h=__TURBOPACK__default__export__2.crossProduct(b.stdform,c.stdform),__TURBOPACK__default__export__14.distance(h,[0,0,0],3)<f&&(b.point1.Dist(c.point1)<f||b.point1.Dist(c.point2)<f?h=b.point1.coords.usrCoords:(b.point2.Dist(c.point1)<f||b.point2.Dist(c.point1)<f)&&(h=b.point2.coords.usrCoords)),Math.abs(h[0])>f&&(h[1]/=h[0],h[2]/=h[0],h[0]/=h[0]),a=this.direction1*this.Radius(),g=__TURBOPACK__default__export__12.add(h,[0,a*b.stdform[2],-a*b.stdform[1]]),a=this.direction2*this.Radius(),i=__TURBOPACK__default__export__12.add(h,[0,a*c.stdform[2],-a*c.stdform[1]]),this.point2.coords=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,g,d.board),this.point1.coords=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,h,d.board),this.point3.coords=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,i,d.board),Math.abs(g[0])<__TURBOPACK__default__export__2.eps||Math.abs(h[0])<__TURBOPACK__default__export__2.eps||Math.abs(i[0])<__TURBOPACK__default__export__2.eps){this.dataX=[NaN],this.dataY=[NaN];return}e=__TURBOPACK__default__export__14.bezierArc(g,h,i,!0,1),this.dataX=e[0],this.dataY=e[1],this.bezierDegree=3};else if("3points"===k){for(f=0,d.point1=i[0],d.point2=i[1],d.point3=i[2];f<3;f++)__TURBOPACK__default__export__3.exists(i[f]._is_new)?(d.addChild(i[f]),delete i[f]._is_new):i[f].addChild(d);d.useDirection=c.usedirection,d.setParents(i),__TURBOPACK__default__export__3.exists(i[3])&&(d.point4=i[3],d.point4.addChild(d)),d.methodMap=__TURBOPACK__default__export__.deepCopy(d.methodMap,{arc:"arc",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint"}),d.updateDataArray=function(){var a,b,c,d,e,f=this.point2,g=this.point1,h=this.point3,i=1,j=this.evalVisProp("selection");if(!f.isReal||!g.isReal||!h.isReal){this.dataX=[NaN],this.dataY=[NaN];return}e=__TURBOPACK__default__export__14.rad(f,g,h),("minor"===j&&e>Math.PI||"major"===j&&e<Math.PI)&&(i=-1),this.useDirection&&__TURBOPACK__default__export__3.exists(this.point4)&&(b=this.point2.coords.usrCoords,c=this.point4.coords.usrCoords,d=this.point3.coords.usrCoords,(b[1]-d[1])*(b[2]-c[2])-(b[2]-d[2])*(b[1]-c[1])>=0&&(h=this.point2,f=this.point3)),f=f.coords.usrCoords,g=g.coords.usrCoords,h=h.coords.usrCoords,a=__TURBOPACK__default__export__14.bezierArc(f,g,h,!0,i),this.dataX=a[0],this.dataY=a[1],this.bezierDegree=3},d.Radius=function(){return this.point2.Dist(this.point1)}}return d.center=d.point1,d.radiuspoint=d.point2,d.anglepoint=d.point3,e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"arc"),(e=__TURBOPACK__default__export__3.copyAttributes(e,a.options,"sector","arc")).withlabel=!1,e.selection=d.visProp.selection,e.name+="_arc","2lines"===k?(d.updateDataArray(),d.arc=a.create("arc",[function(){return d.point1.coords.usrCoords},function(){var a=d.point2.coords.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,d.point1.coords);return 0===a?[d.point1.coords.usrCoords[1],d.point1.coords.usrCoords[2]]:[d.point1.coords.usrCoords[1]+d.Radius()*(d.point2.coords.usrCoords[1]-d.point1.coords.usrCoords[1])/a,d.point1.coords.usrCoords[2]+d.Radius()*(d.point2.coords.usrCoords[2]-d.point1.coords.usrCoords[2])/a]},function(){return d.point3.coords.usrCoords}],e)):d.arc=a.create("arc",[d.point1,function(){var a=d.point2.Dist(d.point1);return 0===a?[d.point1.X(),d.point1.Y()]:[d.point1.X()+d.Radius()*(d.point2.X()-d.point1.X())/a,d.point1.Y()+d.Radius()*(d.point2.Y()-d.point1.Y())/a]},d.point3],e),d.addChild(d.arc),d.hasPointCurve=function(a,b){var c,d,e,f,g,h,i=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board),j=this.Radius(),k=this.center.coords.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,i),l=this.evalVisProp("selection");return __TURBOPACK__default__export__3.isObject(this.evalVisProp("precision"))?(g=this.board._inputDevice,f=this.evalVisProp("precision."+g)):f=this.board.options.precision.hasPoint,f/=Math.min(Math.abs(this.board.unitX),Math.abs(this.board.unitY)),(h=Math.abs(k-j)<f)&&(c=__TURBOPACK__default__export__14.rad(this.point2,this.center,i.usrCoords.slice(1)),d=0,e=__TURBOPACK__default__export__14.rad(this.point2,this.center,this.point3),("minor"===l&&e>Math.PI||"major"===l&&e<Math.PI)&&(d=e,e=2*Math.PI),(c<d||c>e)&&(h=!1)),h},d.hasPointSector=function(a,b){var c,d,e,f=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board),g=this.Radius(),h=this.point1.coords.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,f)<g,i=this.evalVisProp("selection");return h&&(c=__TURBOPACK__default__export__14.rad(this.radiuspoint,this.center,f.usrCoords.slice(1)),d=0,e=__TURBOPACK__default__export__14.rad(this.radiuspoint,this.center,this.anglepoint),("minor"===i&&e>Math.PI||"major"===i&&e<Math.PI)&&(d=e,e=2*Math.PI),(c<d||c>e)&&(h=!1)),h},d.hasPoint=function(a,b){return this.evalVisProp("highlightonsector")||this.evalVisProp("hasinnerpoints")?this.hasPointSector(a,b):this.hasPointCurve(a,b)},d.getTextAnchor=function(){return this.point1.coords},d.getLabelAnchor=function(){var a,b,c,d,e,f=this.label.evalVisProp("position"),g=__TURBOPACK__default__export__14.rad(this.point2,this.point1,this.point3),h=13/this.board.unitX,i=13/this.board.unitY,j=this.point2.coords.usrCoords,k=this.point1.coords.usrCoords,l=j[1]-k[1],m=j[2]-k[2],n=this.evalVisProp("selection"),o=this.label?this.label.visProp:this.visProp.label;return!__TURBOPACK__default__export__3.isString(f)||0>f.indexOf("right")&&0>f.indexOf("left")?(("minor"===n&&g>Math.PI||"major"===n&&g<Math.PI)&&(g=-(2*Math.PI-g)),c=(a=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[k[1]+Math.cos(.5*g)*l-Math.sin(.5*g)*m,k[2]+Math.sin(.5*g)*l+Math.cos(.5*g)*m],this.board)).usrCoords[1]-k[1],d=a.usrCoords[2]-k[2],e=__TURBOPACK__default__export__2.hypot(c,d),c=c*(e+h)/e,d=d*(e+i)/e,b=[k[1]+c,k[2]+d],o.position=__TURBOPACK__default__export__14.calcLabelQuadrant(__TURBOPACK__default__export__14.rad([1,0],[0,0],b)),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,b,this.board)):this.getLabelPosition(f,this.label.evalVisProp("distance"))},d.setRadius=function(a){var b,c=__TURBOPACK__default__export__3.evaluate(a);"undefined"!=(b="auto"===a||"auto"===c?"auto":__TURBOPACK__default__export__3.isNumber(a)?"number":__TURBOPACK__default__export__3.isFunction(a)&&!__TURBOPACK__default__export__3.isString(c)?"function":"undefined")&&(this.visProp.radius=a),d.Radius=function(){var b=__TURBOPACK__default__export__3.evaluate(a);return"auto"===b?this.autoRadius():b}},d.getRadius=function(){return __TURBOPACK__default__export__.deprecated("Sector.getRadius()","Sector.Radius()"),this.Radius()},d.Value=function(a){return this.arc.Value(a)},d.L=function(){return this.arc.L()},d.Area=function(){var a=this.Radius();return .5*a*a*this.Value("radians")},d.Perimeter=function(){return this.L()+2*this.Radius()},"3points"===k&&(d.setPositionDirectly=function(a,b,c){var e,f=new __TURBOPACK__default__export__7(a,b,this.board),g=new __TURBOPACK__default__export__7(a,c,this.board);return d.point1.draggable()&&d.point2.draggable()&&d.point3.draggable()&&(e=__TURBOPACK__default__export__12.subtract(f.usrCoords,g.usrCoords),this.board.create("transform",e.slice(1),{type:"translate"}).applyOnce([d.point1,d.point2,d.point3])),this}),d.methodMap=__TURBOPACK__default__export__.deepCopy(d.methodMap,{radius:"Radius",Radius:"Radius",getRadius:"Radius",setRadius:"setRadius",Value:"Value",L:"L",Area:"Area",Perimeter:"Perimeter"}),d},__TURBOPACK__default__export__.registerElement("sector",__TURBOPACK__default__export__.createSector),__TURBOPACK__default__export__.createCircumcircleSector=function(a,b,c){var d,e,f,g;if(!1===(g=__TURBOPACK__default__export__3.providePoints(a,b,c,"point")))throw Error("JSXGraph: Can't create circumcircle sector with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"' and '"+typeof b[2]+"'.");return(e=a.create("circumcenter",g.slice(0,3),f)).dump=!1,f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"circumcirclesector"),(d=a.create("sector",[e,g[0],g[2],g[1]],f)).elType="circumcirclesector",d.setParents(g),d.center=e,d.subs={center:e},d},__TURBOPACK__default__export__.registerElement("circumcirclesector",__TURBOPACK__default__export__.createCircumcircleSector),__TURBOPACK__default__export__.createMinorSector=function(a,b,c){return c.selection="minor",__TURBOPACK__default__export__.createSector(a,b,c)},__TURBOPACK__default__export__.registerElement("minorsector",__TURBOPACK__default__export__.createMinorSector),__TURBOPACK__default__export__.createMajorSector=function(a,b,c){return c.selection="major",__TURBOPACK__default__export__.createSector(a,b,c)},__TURBOPACK__default__export__.registerElement("majorsector",__TURBOPACK__default__export__.createMajorSector),__TURBOPACK__default__export__.createAngle=function(a,b,c){var d,e,f,g,h,i,j="invalid";if(b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&(__TURBOPACK__default__export__3.isArray(b[2])||__TURBOPACK__default__export__3.isNumber(b[2]))&&(__TURBOPACK__default__export__3.isArray(b[3])||__TURBOPACK__default__export__3.isNumber(b[3])))j="2lines";else{if(f={name:""},!1===(i=__TURBOPACK__default__export__3.providePoints(a,b,f,"point")))throw Error("JSXGraph: Can't create angle with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"' and '"+typeof b[2]+"'.");j="3points"}if(f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"angle"),__TURBOPACK__default__export__3.exists(f.name)||(f.name=a.generateName({type:__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE})),e=__TURBOPACK__default__export__3.exists(f.radius)?f.radius:0,a.suspendUpdate(),"2lines"===j?(b.push(e),(d=a.create("sector",b,f)).updateDataArraySector=d.updateDataArray,d.setAngle=function(a){},d.free=function(a){}):((d=a.create("sector",[i[1],i[0],i[2]],f)).arc.visProp.priv=!0,d.point=d.point2=d.radiuspoint=i[0],d.pointsquare=d.point3=d.anglepoint=i[2],d.Radius=function(){var a=__TURBOPACK__default__export__3.evaluate(e);return"auto"===a?d.autoRadius():a},d.updateDataArraySector=function(){var a,b,c=this.point2,d=this.point1,e=this.point3,f=this.Radius(),g=d.Dist(c),h=1,i=this.evalVisProp("selection");b=__TURBOPACK__default__export__14.rad(c,d,e),("minor"===i&&b>Math.PI||"major"===i&&b<Math.PI)&&(h=-1),c=c.coords.usrCoords,d=d.coords.usrCoords,e=e.coords.usrCoords,c=[1,d[1]+(c[1]-d[1])*f/g,d[2]+(c[2]-d[2])*f/g],e=[1,d[1]+(e[1]-d[1])*f/g,d[2]+(e[2]-d[2])*f/g],a=__TURBOPACK__default__export__14.bezierArc(c,d,e,!0,h),this.dataX=a[0],this.dataY=a[1],this.bezierDegree=3},d.setAngle=function(a){var b,c,d,e=this.anglepoint,f=this.radiuspoint;return e.draggable()&&(b=this.board.create("transform",[a,this.center],{type:"rotate"}),e.addTransform(f,b),b.update(),e.moveTo(__TURBOPACK__default__export__2.matVecMult(b.matrix,f.coords.usrCoords)),d=__TURBOPACK__default__export__3.isFunction(a)?function(){return 2*Math.PI-a()}:function(){return 2*Math.PI-a},c=this.board.create("transform",[d,this.center],{type:"rotate"}),e.coords.on("update",function(){c.update(),f.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,__TURBOPACK__default__export__2.matVecMult(c.matrix,e.coords.usrCoords))}),e.setParents(f),this.hasFixedAngle=!0),this},d.free=function(){var a=this.anglepoint;return a.transformations.length>0&&(a.transformations.pop(),a.isDraggable=!0,a.parents=[],a.coords.off("update")),this.hasFixedAngle=!1,this},d.setParents(i)),__TURBOPACK__default__export__3.exists(d.visProp.text)&&d.label.setText(d.evalVisProp("text")),d.elType="angle",d.type=__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE,d.subs={},d.updateDataArraySquare=function(){var a,b,c,d,e,f,g,h,i=this.Radius();"2lines"===j&&this.updateDataArraySector(),a=this.point2,b=this.point1,c=this.point3,a=a.coords.usrCoords,b=b.coords.usrCoords,c=c.coords.usrCoords,d=__TURBOPACK__default__export__14.distance(a,b,3),e=__TURBOPACK__default__export__14.distance(c,b,3),a=[1,b[1]+(a[1]-b[1])*i/d,b[2]+(a[2]-b[2])*i/d],c=[1,b[1]+(c[1]-b[1])*i/e,b[2]+(c[2]-b[2])*i/e],f=__TURBOPACK__default__export__2.crossProduct(c,b),g=[-a[1]*f[1]-a[2]*f[2],a[0]*f[1],a[0]*f[2]],f=__TURBOPACK__default__export__2.crossProduct(a,b),h=[-c[1]*f[1]-c[2]*f[2],c[0]*f[1],c[0]*f[2]],f=__TURBOPACK__default__export__2.crossProduct(g,h),f[1]/=f[0],f[2]/=f[0],this.dataX=[b[1],a[1],f[1],c[1],b[1]],this.dataY=[b[2],a[2],f[2],c[2],b[2]],this.bezierDegree=1},d.updateDataArrayNone=function(){this.dataX=[NaN],this.dataY=[NaN],this.bezierDegree=1},d.updateDataArray=function(){var a=this.evalVisProp("type"),b=__TURBOPACK__default__export__14.trueAngle(this.point2,this.point1,this.point3),c=this.evalVisProp("selection");("minor"===c&&b>180||"major"===c&&b<180)&&(b=360-b),Math.abs(b-90)<this.evalVisProp("orthosensitivity")+__TURBOPACK__default__export__2.eps&&(a=this.evalVisProp("orthotype")),"none"===a?(this.updateDataArrayNone(),this.maxX=function(){return 0}):"square"===a?(this.updateDataArraySquare(),this.maxX=function(){return 4}):"sector"===a?(this.updateDataArraySector(),this.maxX=function(){return 6}):"sectordot"===a&&(this.updateDataArraySector(),this.maxX=function(){return 6},this.dot.visProp.visible||this.dot.setAttribute({visible:!0})),(!this.visProp.visible||"sectordot"!==a&&this.dot.visProp.visible)&&this.dot.setAttribute({visible:!1})},g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"angle","dot"),d.dot=a.create("point",[function(){var a,b,c,e,f,g,h,i,j;return __TURBOPACK__default__export__3.exists(d.dot)&&!d.dot.visProp.visible?[0,0]:(a=d.point2.coords.usrCoords,b=d.point1.coords.usrCoords,c=d.Radius(),e=__TURBOPACK__default__export__14.distance(a,b,3),f=__TURBOPACK__default__export__14.rad(d.point2,d.point1,d.point3),("minor"===(j=d.evalVisProp("selection"))&&f>Math.PI||"major"===j&&f<Math.PI)&&(f=-(2*Math.PI-f)),f*=.5,g=Math.cos(f),h=Math.sin(f),a=[1,b[1]+(a[1]-b[1])*c/e,b[2]+(a[2]-b[2])*c/e],i=[[1,0,0],[b[1]-.5*b[1]*g+.5*b[2]*h,.5*g,-(.5*h)],[b[2]-.5*b[1]*h-.5*b[2]*g,.5*h,.5*g]],__TURBOPACK__default__export__2.matVecMult(i,a))}],g),d.dot.dump=!1,d.subs.dot=d.dot,"2lines"===j)for(h=0;h<2;h++)a.select(b[h]).addChild(d.dot);else for(h=0;h<3;h++)a.select(i[h]).addChild(d.dot);return a.unsuspendUpdate(),d.Value=function(a){return""===(a=a||"radians")&&(a="radians"),d.arc.Value(a)},d.getLabelAnchor=function(){var a,b,c,e,f,g,h,i,j,k=12,l=d.evalVisProp("selection"),m=this.label.evalVisProp("position"),n=this.label?this.label.visProp:this.visProp.label;return!__TURBOPACK__default__export__3.isString(m)||0>m.indexOf("right")&&0>m.indexOf("left")?(__TURBOPACK__default__export__3.exists(this.label)&&__TURBOPACK__default__export__3.exists(this.label.visProp.fontsize)&&(k=this.label.evalVisProp("fontsize")),k/=this.board.unitX,b=d.point2.coords.usrCoords,c=d.point1.coords.usrCoords,e=d.Radius(),f=__TURBOPACK__default__export__14.distance(b,c,3),g=__TURBOPACK__default__export__14.rad(d.point2,d.point1,d.point3),("minor"===l&&g>Math.PI||"major"===l&&g<Math.PI)&&(g=-(2*Math.PI-g)),g*=.5,h=Math.cos(g),i=Math.sin(g),b=[1,c[1]+(b[1]-c[1])*e/f,c[2]+(b[2]-c[2])*e/f],j=[[1,0,0],[c[1]-.5*c[1]*h+.5*c[2]*i,.5*h,-(.5*i)],[c[2]-.5*c[1]*i-.5*c[2]*h,.5*i,.5*h]],a=__TURBOPACK__default__export__2.matVecMult(j,b),a[1]/=a[0],a[2]/=a[0],a[0]/=a[0],f=__TURBOPACK__default__export__14.distance(a,c,3),a=[a[0],c[1]+(a[1]-c[1])*(e+k)/f,c[2]+(a[2]-c[2])*(e+k)/f],n.position=__TURBOPACK__default__export__14.calcLabelQuadrant(__TURBOPACK__default__export__14.rad([1,0],[0,0],a)),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,a,this.board)):this.getLabelPosition(m,this.label.evalVisProp("distance"))},d.methodMap=__TURBOPACK__default__export__3.deepCopy(d.methodMap,{setAngle:"setAngle",Value:"Value",free:"free"}),d},__TURBOPACK__default__export__.registerElement("angle",__TURBOPACK__default__export__.createAngle),__TURBOPACK__default__export__.createNonreflexAngle=function(a,b,c){var d;return c.selection="minor",c=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"nonreflexangle"),(d=__TURBOPACK__default__export__.createAngle(a,b,c)).Value=function(a){var b=__TURBOPACK__default__export__14.rad(this.point2,this.point1,this.point3);return""===(a=a||"radians")&&(a="radians"),b=b<Math.PI?b:2*Math.PI-b,this.arc.Value(a,b)},d},__TURBOPACK__default__export__.registerElement("nonreflexangle",__TURBOPACK__default__export__.createNonreflexAngle),__TURBOPACK__default__export__.createReflexAngle=function(a,b,c){var d;return c.selection="major",c=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"reflexangle"),(d=__TURBOPACK__default__export__.createAngle(a,b,c)).Value=function(a){var b=__TURBOPACK__default__export__14.rad(this.point2,this.point1,this.point3);return""===(a=a||"radians")&&(a="radians"),b=b>=Math.PI?b:2*Math.PI-b,this.arc.Value(a,b)},d},__TURBOPACK__default__export__.registerElement("reflexangle",__TURBOPACK__default__export__.createReflexAngle),__TURBOPACK__default__export__.createOrthogonalProjection=function(a,b,c){var d,e,f,g;if(b[0]=a.select(b[0]),b[1]=a.select(b[1]),__TURBOPACK__default__export__3.isPointType(a,b[0])&&b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)e=__TURBOPACK__default__export__3.providePoints(a,[b[0]],c,"point")[0],d=b[1];else if(__TURBOPACK__default__export__3.isPointType(a,b[1])&&b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)e=__TURBOPACK__default__export__3.providePoints(a,[b[1]],c,"point")[0],d=b[0];else throw Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,line]");return g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"orthogonalprojection"),f=a.create("point",[function(){return __TURBOPACK__default__export__14.projectPointToLine(e,d,a)}],g),__TURBOPACK__default__export__3.exists(e._is_new)?(f.addChild(e),delete e._is_new):e.addChild(f),d.addChild(f),f.elType="orthogonalprojection",f.setParents([e.id,f.id]),f.update(),f.generatePolynomial=function(){var a=d.point1.symbolic.x,b=d.point1.symbolic.y,c=d.point2.symbolic.x,g=d.point2.symbolic.y,h=e.symbolic.x,i=e.symbolic.y,j=f.symbolic.x,k=f.symbolic.y;return["("+b+")*("+j+")-("+b+")*("+c+")+("+k+")*("+c+")-("+a+")*("+k+")+("+a+")*("+g+")-("+j+")*("+g+")","("+i+")*("+b+")-("+i+")*("+g+")-("+k+")*("+b+")+("+k+")*("+g+")+("+h+")*("+a+")-("+h+")*("+c+")-("+j+")*("+a+")+("+j+")*("+c+")"]},f},__TURBOPACK__default__export__.createPerpendicular=function(a,b,c){var d,e,f,g;if(b[0]=a.select(b[0]),b[1]=a.select(b[1]),__TURBOPACK__default__export__3.isPointType(a,b[0])&&b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)e=b[1],d=__TURBOPACK__default__export__3.providePoints(a,[b[0]],c,"point")[0];else if(__TURBOPACK__default__export__3.isPointType(a,b[1])&&b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)e=b[0],d=__TURBOPACK__default__export__3.providePoints(a,[b[1]],c,"point")[0];else throw Error("JSXGraph: Can't create perpendicular with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [line,point]");return g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"perpendicular"),(f=__TURBOPACK__default__export__.createLine(a,[function(){return e.stdform[2]*d.X()-e.stdform[1]*d.Y()},function(){return-e.stdform[2]*d.Z()},function(){return e.stdform[1]*d.Z()}],g)).elType="perpendicular",f.setParents([e.id,d.id]),__TURBOPACK__default__export__3.exists(d._is_new)?(f.addChild(d),delete d._is_new):d.addChild(f),e.addChild(f),f},__TURBOPACK__default__export__.createPerpendicularPoint=function(a,b,c){var d,e,f;if(b[0]=a.select(b[0]),b[1]=a.select(b[1]),__TURBOPACK__default__export__3.isPointType(a,b[0])&&b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)e=__TURBOPACK__default__export__3.providePoints(a,[b[0]],c,"point")[0],d=b[1];else if(__TURBOPACK__default__export__3.isPointType(a,b[1])&&b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)e=__TURBOPACK__default__export__3.providePoints(a,[b[1]],c,"point")[0],d=b[0];else throw Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,line]");return f=a.create("point",[function(){return __TURBOPACK__default__export__14.perpendicular(d,e,a)[0]}],c),__TURBOPACK__default__export__3.exists(e._is_new)?(f.addChild(e),delete e._is_new):e.addChild(f),d.addChild(f),f.elType="perpendicularpoint",f.setParents([e.id,d.id]),f.update(),f.generatePolynomial=function(){var a=d.point1.symbolic.x,b=d.point1.symbolic.y,c=d.point2.symbolic.x,g=d.point2.symbolic.y,h=e.symbolic.x,i=e.symbolic.y,j=f.symbolic.x,k=f.symbolic.y;return["("+b+")*("+j+")-("+b+")*("+c+")+("+k+")*("+c+")-("+a+")*("+k+")+("+a+")*("+g+")-("+j+")*("+g+")","("+i+")*("+b+")-("+i+")*("+g+")-("+k+")*("+b+")+("+k+")*("+g+")+("+h+")*("+a+")-("+h+")*("+c+")-("+j+")*("+a+")+("+j+")*("+c+")"]},f},__TURBOPACK__default__export__.createPerpendicularSegment=function(a,b,c){var d,e,f,g,h;if(b[0]=a.select(b[0]),b[1]=a.select(b[1]),__TURBOPACK__default__export__3.isPointType(a,b[0])&&b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)e=b[1],d=__TURBOPACK__default__export__3.providePoints(a,[b[0]],c,"point")[0];else if(__TURBOPACK__default__export__3.isPointType(a,b[1])&&b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)e=b[0],d=__TURBOPACK__default__export__3.providePoints(a,[b[1]],c,"point")[0];else throw Error("JSXGraph: Can't create perpendicular with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [line,point]");return h=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"perpendicularsegment","point"),(g=__TURBOPACK__default__export__.createPerpendicularPoint(a,[e,d],h)).dump=!1,__TURBOPACK__default__export__3.exists(c.layer)||(c.layer=a.options.layer.line),h=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"perpendicularsegment"),(f=__TURBOPACK__default__export__.createLine(a,[function(){return __TURBOPACK__default__export__14.perpendicular(e,d,a)[1]?[g,d]:[d,g]}],h)).point=g,__TURBOPACK__default__export__3.exists(d._is_new)?(f.addChild(d),delete d._is_new):d.addChild(f),e.addChild(f),f.elType="perpendicularsegment",f.setParents([d.id,e.id]),f.subs={point:g},f.inherits.push(g),f},__TURBOPACK__default__export__.createMidpoint=function(a,b,c){var d,e,f,g,h;for(g=0;g<b.length;++g)b[g]=a.select(b[g]);if(2===b.length&&__TURBOPACK__default__export__3.isPointType(a,b[0])&&__TURBOPACK__default__export__3.isPointType(a,b[1]))d=(b=__TURBOPACK__default__export__3.providePoints(a,b,c,"point"))[0],e=b[1];else if(1===b.length&&b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)d=b[0].point1,e=b[0].point2;else throw Error("JSXGraph: Can't create midpoint.\nPossible parent types: [point,point], [line]");return h=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"midpoint"),f=a.create("point",[function(){var a=d.coords.usrCoords[1]+e.coords.usrCoords[1];return isNaN(a)||Math.abs(d.coords.usrCoords[0])<__TURBOPACK__default__export__2.eps||Math.abs(e.coords.usrCoords[0])<__TURBOPACK__default__export__2.eps?NaN:.5*a},function(){var a=d.coords.usrCoords[2]+e.coords.usrCoords[2];return isNaN(a)||Math.abs(d.coords.usrCoords[0])<__TURBOPACK__default__export__2.eps||Math.abs(e.coords.usrCoords[0])<__TURBOPACK__default__export__2.eps?NaN:.5*a}],h),__TURBOPACK__default__export__3.exists(d._is_new)?(f.addChild(d),delete d._is_new):d.addChild(f),__TURBOPACK__default__export__3.exists(e._is_new)?(f.addChild(e),delete e._is_new):e.addChild(f),f.elType="midpoint",f.setParents([d.id,e.id]),f.prepareUpdate().update(),f.generatePolynomial=function(){var a=d.symbolic.x,b=d.symbolic.y,c=e.symbolic.x,g=e.symbolic.y,h=f.symbolic.x,i=f.symbolic.y;return["("+b+")*("+h+")-("+b+")*("+c+")+("+i+")*("+c+")-("+a+")*("+i+")+("+a+")*("+g+")-("+h+")*("+g+")","("+a+")^2 - 2*("+a+")*("+h+")+("+b+")^2-2*("+b+")*("+i+")-("+c+")^2+2*("+c+")*("+h+")-("+g+")^2+2*("+g+")*("+i+")"]},f},__TURBOPACK__default__export__.createParallelPoint=function(a,b,c){var d,e,f,g,h,i;for(h=0;h<b.length;++h)b[h]=a.select(b[h]);if(3===b.length&&__TURBOPACK__default__export__3.isPointType(a,b[0])&&__TURBOPACK__default__export__3.isPointType(a,b[1])&&__TURBOPACK__default__export__3.isPointType(a,b[2]))d=(b=__TURBOPACK__default__export__3.providePoints(a,b,c,"point"))[0],e=b[1],f=b[2];else if(__TURBOPACK__default__export__3.isPointType(a,b[0])&&b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)f=__TURBOPACK__default__export__3.providePoints(a,[b[0]],c,"point")[0],d=b[1].point1,e=b[1].point2;else if(__TURBOPACK__default__export__3.isPointType(a,b[1])&&b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)f=__TURBOPACK__default__export__3.providePoints(a,[b[1]],c,"point")[0],d=b[0].point1,e=b[0].point2;else throw Error("JSXGraph: Can't create parallel point with parent types '"+typeof b[0]+"', '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [line,point], [point,point,point]");return i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"parallelpoint"),g=a.create("point",[function(){return f.coords.usrCoords[1]+e.coords.usrCoords[1]-d.coords.usrCoords[1]},function(){return f.coords.usrCoords[2]+e.coords.usrCoords[2]-d.coords.usrCoords[2]}],i),__TURBOPACK__default__export__3.exists(d._is_new)?(g.addChild(d),delete d._is_new):d.addChild(g),__TURBOPACK__default__export__3.exists(e._is_new)?(g.addChild(e),delete e._is_new):e.addChild(g),__TURBOPACK__default__export__3.exists(f._is_new)?(g.addChild(f),delete f._is_new):f.addChild(g),g.elType="parallelpoint",g.setParents([d.id,e.id,f.id]),g.prepareUpdate().update(),g.generatePolynomial=function(){var a=d.symbolic.x,b=d.symbolic.y,c=e.symbolic.x,h=e.symbolic.y,i=f.symbolic.x,j=f.symbolic.y,k=g.symbolic.x,l=g.symbolic.y;return["("+h+")*("+k+")-("+h+")*("+i+")-("+b+")*("+k+")+("+b+")*("+i+")-("+l+")*("+c+")+("+l+")*("+a+")+("+j+")*("+c+")-("+j+")*("+a+")","("+l+")*("+a+")-("+l+")*("+i+")-("+h+")*("+a+")+("+h+")*("+i+")-("+k+")*("+b+")+("+k+")*("+j+")+("+c+")*("+b+")-("+c+")*("+j+")"]},g},__TURBOPACK__default__export__.createParallel=function(a,b,c){var d,e,f,g,h,i,j=1;for(h=0;h<b.length;++h)b[h]=a.select(b[h]);return d=null,3===b.length?(d=(b=__TURBOPACK__default__export__3.providePoints(a,b,c,"point"))[2],j=0):__TURBOPACK__default__export__3.isPointType(a,b[0])?(d=__TURBOPACK__default__export__3.providePoints(a,[b[0]],c,"point")[0],g=function(){return b[1].stdform}):__TURBOPACK__default__export__3.isPointType(a,b[1])&&(d=__TURBOPACK__default__export__3.providePoints(a,[b[1]],c,"point")[0],g=function(){return b[0].stdform}),__TURBOPACK__default__export__3.exists(c.layer)||(c.layer=a.options.layer.line),i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"parallel","point"),(e=1===j?a.create("point",[function(){return __TURBOPACK__default__export__2.crossProduct([1,0,0],g())}],i):a.create("parallelpoint",b,i)).isDraggable=!0,i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"parallel"),(f=a.create("line",[d,e],i)).elType="parallel",f.subs={point:e},f.inherits.push(e),f.setParents([b[0].id,b[1].id]),3===b.length&&f.addParents(b[2].id),f.point=e,f},__TURBOPACK__default__export__.createArrowParallel=function(a,b,c){var d,e;try{return e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"arrowparallel"),!1===e.lastArrow&&(e.lastArrow=!0),(d=__TURBOPACK__default__export__.createParallel(a,b,e).setAttribute({straightFirst:!1,straightLast:!1})).type=__TURBOPACK__default__export__1.OBJECT_TYPE_VECTOR,d.elType="arrowparallel",d}catch(a){throw Error("JSXGraph: Can't create arrowparallel with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [line,point], [point,point,point]")}},__TURBOPACK__default__export__.createBisector=function(a,b,c){var d,e,f,g;if(b=__TURBOPACK__default__export__3.providePoints(a,b,c,"point"),__TURBOPACK__default__export__3.isPoint(b[0])&&__TURBOPACK__default__export__3.isPoint(b[1])&&__TURBOPACK__default__export__3.isPoint(b[2])){for(f=0,(g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"bisector","point")).snapToGrid=!1,(d=a.create("point",[function(){return __TURBOPACK__default__export__14.angleBisector(b[0],b[1],b[2],a)}],g)).dump=!1;f<3;f++)__TURBOPACK__default__export__3.exists(b[f]._is_new)?(d.addChild(b[f]),delete b[f]._is_new):b[f].addChild(d);return __TURBOPACK__default__export__3.exists(c.layer)||(c.layer=a.options.layer.line),g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"bisector"),(e=__TURBOPACK__default__export__.createLine(a,[b[1],d],g)).point=d,e.elType="bisector",e.setParents(b),e.subs={point:d},e.inherits.push(d),e}throw Error("JSXGraph: Can't create angle bisector with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point,point]")},__TURBOPACK__default__export__.createAngularBisectorsOfTwoLines=function(a,b,c){var d,e,f,g,h=a.select(b[0]),i=a.select(b[1]);if(h.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_LINE||i.elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)throw Error("JSXGraph: Can't create angle bisectors of two lines with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [line,line]");return __TURBOPACK__default__export__3.exists(c.layer)||(c.layer=a.options.layer.line),f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"bisectorlines","line1"),d=a.create("line",[function(){var a=__TURBOPACK__default__export__2.hypot(h.stdform[1],h.stdform[2]),b=__TURBOPACK__default__export__2.hypot(i.stdform[1],i.stdform[2]);return h.stdform[0]/a-i.stdform[0]/b},function(){var a=__TURBOPACK__default__export__2.hypot(h.stdform[1],h.stdform[2]),b=__TURBOPACK__default__export__2.hypot(i.stdform[1],i.stdform[2]);return h.stdform[1]/a-i.stdform[1]/b},function(){var a=__TURBOPACK__default__export__2.hypot(h.stdform[1],h.stdform[2]),b=__TURBOPACK__default__export__2.hypot(i.stdform[1],i.stdform[2]);return h.stdform[2]/a-i.stdform[2]/b}],f),__TURBOPACK__default__export__3.exists(c.layer)||(c.layer=a.options.layer.line),f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"bisectorlines","line2"),g=new __TURBOPACK__default__export__35({line1:d,line2:e=a.create("line",[function(){var a=__TURBOPACK__default__export__2.hypot(h.stdform[1],h.stdform[2]),b=__TURBOPACK__default__export__2.hypot(i.stdform[1],i.stdform[2]);return h.stdform[0]/a+i.stdform[0]/b},function(){var a=__TURBOPACK__default__export__2.hypot(h.stdform[1],h.stdform[2]),b=__TURBOPACK__default__export__2.hypot(i.stdform[1],i.stdform[2]);return h.stdform[1]/a+i.stdform[1]/b},function(){var a=__TURBOPACK__default__export__2.hypot(h.stdform[1],h.stdform[2]),b=__TURBOPACK__default__export__2.hypot(i.stdform[1],i.stdform[2]);return h.stdform[2]/a+i.stdform[2]/b}],f)}),d.dump=!1,e.dump=!1,g.elType="bisectorlines",g.setParents([h.id,i.id]),g.subs={line1:d,line2:e},g},__TURBOPACK__default__export__.createCircumcenter=function(a,b,c){var d,e,f,g,h;if(b=__TURBOPACK__default__export__3.providePoints(a,b,c,"point"),__TURBOPACK__default__export__3.isPoint(b[0])&&__TURBOPACK__default__export__3.isPoint(b[1])&&__TURBOPACK__default__export__3.isPoint(b[2])){for(e=0,f=b[0],g=b[1],h=b[2],d=__TURBOPACK__default__export__.createPoint(a,[function(){return __TURBOPACK__default__export__14.circumcenter(f,g,h,a)}],c);e<3;e++)__TURBOPACK__default__export__3.exists(b[e]._is_new)?(d.addChild(b[e]),delete b[e]._is_new):b[e].addChild(d);return d.elType="circumcenter",d.setParents(b),d.generatePolynomial=function(){var a=f.symbolic.x,b=f.symbolic.y,c=g.symbolic.x,e=g.symbolic.y,i=h.symbolic.x,j=h.symbolic.y,k=d.symbolic.x,l=d.symbolic.y;return["(("+k+")-("+a+"))^2+(("+l+")-("+b+"))^2-(("+k+")-("+c+"))^2-(("+l+")-("+e+"))^2","(("+k+")-("+a+"))^2+(("+l+")-("+b+"))^2-(("+k+")-("+i+"))^2-(("+l+")-("+j+"))^2"]},d}throw Error("JSXGraph: Can't create circumcircle midpoint with parent types '"+typeof b[0]+"', '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point]")},__TURBOPACK__default__export__.createIncenter=function(a,b,c){var d,e,f,g,h;if((b=__TURBOPACK__default__export__3.providePoints(a,b,c,"point")).length>=3&&__TURBOPACK__default__export__3.isPoint(b[0])&&__TURBOPACK__default__export__3.isPoint(b[1])&&__TURBOPACK__default__export__3.isPoint(b[2])){for(h=0,e=b[0],f=b[1],g=b[2],d=a.create("point",[function(){var b,c,d;return b=__TURBOPACK__default__export__2.hypot(f.X()-g.X(),f.Y()-g.Y()),c=__TURBOPACK__default__export__2.hypot(e.X()-g.X(),e.Y()-g.Y()),d=__TURBOPACK__default__export__2.hypot(f.X()-e.X(),f.Y()-e.Y()),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[(b*e.X()+c*f.X()+d*g.X())/(b+c+d),(b*e.Y()+c*f.Y()+d*g.Y())/(b+c+d)],a)}],c);h<3;h++)__TURBOPACK__default__export__3.exists(b[h]._is_new)?(d.addChild(b[h]),delete b[h]._is_new):b[h].addChild(d);d.elType="incenter",d.setParents(b)}else throw Error("JSXGraph: Can't create incenter with parent types '"+typeof b[0]+"', '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point]");return d},__TURBOPACK__default__export__.createCircumcircle=function(a,b,c){var d,e,f,g;if(!1===(b=__TURBOPACK__default__export__3.providePoints(a,b,c,"point")))throw Error("JSXGraph: Can't create circumcircle with parent types '"+typeof b[0]+"', '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point]");try{for(f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"circumcircle","center"),(d=__TURBOPACK__default__export__.createCircumcenter(a,b,f)).dump=!1,__TURBOPACK__default__export__3.exists(c.layer)||(c.layer=a.options.layer.circle),f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"circumcircle"),(e=__TURBOPACK__default__export__.createCircle(a,[d,b[0]],f)).elType="circumcircle",e.setParents(b),e.subs={center:d},e.inherits.push(e),g=0;g<3;g++)__TURBOPACK__default__export__3.exists(b[g]._is_new)?(e.addChild(b[g]),delete b[g]._is_new):b[g].addChild(e)}catch(a){throw Error("JSXGraph: Can't create circumcircle with parent types '"+typeof b[0]+"', '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point]")}return e},__TURBOPACK__default__export__.createIncircle=function(a,b,c){var d,e,f,g;if(!1===(b=__TURBOPACK__default__export__3.providePoints(a,b,c,"point")))throw Error("JSXGraph: Can't create circumcircle with parent types '"+typeof b[0]+"', '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point]");try{for(g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"incircle","center"),(e=__TURBOPACK__default__export__.createIncenter(a,b,g)).dump=!1,__TURBOPACK__default__export__3.exists(c.layer)||(c.layer=a.options.layer.circle),g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"incircle"),(f=__TURBOPACK__default__export__.createCircle(a,[e,function(){var a=__TURBOPACK__default__export__2.hypot(b[1].X()-b[2].X(),b[1].Y()-b[2].Y()),c=__TURBOPACK__default__export__2.hypot(b[0].X()-b[2].X(),b[0].Y()-b[2].Y()),d=__TURBOPACK__default__export__2.hypot(b[1].X()-b[0].X(),b[1].Y()-b[0].Y()),e=(a+c+d)/2;return Math.sqrt((e-a)*(e-c)*(e-d)/e)}],g)).elType="incircle",f.setParents(b),d=0;d<3;d++)__TURBOPACK__default__export__3.exists(b[d]._is_new)?(f.addChild(b[d]),delete b[d]._is_new):b[d].addChild(f);f.center=e,f.subs={center:f.center},f.inherits.push(e)}catch(a){throw Error("JSXGraph: Can't create circumcircle with parent types '"+typeof b[0]+"', '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point,point]")}return f},__TURBOPACK__default__export__.createReflection=function(a,b,c){var d,e,f,g,h,i,j,k,l="\nPossible parent types: [point|line|curve|polygon|circle|arc|sector, line]";for(i=0;i<b.length;++i)b[i]=a.select(b[i]);if(j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"reflection"),__TURBOPACK__default__export__3.isPoint(b[0]))e=__TURBOPACK__default__export__3.providePoints(a,[b[0]],k)[0];else if(b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE||b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE||b[0].type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON||b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)e=b[0];else throw Error("JSXGraph: Can't create reflection element with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'."+l);if(b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)d=b[1];else throw Error("JSXGraph: Can't create reflected element with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'."+l);if(h=__TURBOPACK__default__export__.createTransform(a,[d],{type:"reflect"}),__TURBOPACK__default__export__3.isPoint(e))f=__TURBOPACK__default__export__.createPoint(a,[e,h],j);else if(e.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)f=__TURBOPACK__default__export__.createCurve(a,[e,h],j);else if(e.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)f=__TURBOPACK__default__export__.createLine(a,[e,h],j);else if(e.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON)f=__TURBOPACK__default__export__.createPolygon(a,[e,h],j);else if(e.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)"euclidean"===j.type.toLowerCase()?(k=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"reflection","center"),(g=__TURBOPACK__default__export__.createPoint(a,[e.center,h],k)).prepareUpdate().update().updateVisibility(g.evalVisProp("visible")).updateRenderer(),f=__TURBOPACK__default__export__.createCircle(a,[g,function(){return e.Radius()}],j)):f=__TURBOPACK__default__export__.createCircle(a,[e,h],j);else throw Error("JSXGraph: Can't create reflected element with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'."+l);return __TURBOPACK__default__export__3.exists(e._is_new)&&(f.addChild(e),delete e._is_new),d.addChild(f),f.elType="reflection",f.addParents(d),f.prepareUpdate().update(),__TURBOPACK__default__export__3.isPoint(f)&&(f.generatePolynomial=function(){var a=d.point1.symbolic.x,b=d.point1.symbolic.y,c=d.point2.symbolic.x,g=d.point2.symbolic.y,h=e.symbolic.x,i=e.symbolic.y,j=f.symbolic.x,k=f.symbolic.y;return["(("+k+")-("+i+"))*(("+b+")-("+g+"))+(("+a+")-("+c+"))*(("+j+")-("+h+"))","(("+j+")-("+a+"))^2+(("+k+")-("+b+"))^2-(("+h+")-("+a+"))^2-(("+i+")-("+b+"))^2"]}),f},__TURBOPACK__default__export__.createMirrorElement=function(a,b,c){var d,e,f,g,h,i,j,k,l="\nPossible parent types: [point|line|curve|polygon|circle|arc|sector, point]";for(e=0;e<b.length;++e)b[e]=a.select(b[e]);if(j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"mirrorelement"),__TURBOPACK__default__export__3.isPoint(b[0]))d=__TURBOPACK__default__export__3.providePoints(a,[b[0]],j)[0];else if(b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE||b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE||b[0].type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON||b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)d=b[0];else throw Error("JSXGraph: Can't create mirror element with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'."+l);if(__TURBOPACK__default__export__3.isPoint(b[1]))k=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"mirrorelement","point"),f=__TURBOPACK__default__export__3.providePoints(a,[b[1]],k)[0];else throw Error("JSXGraph: Can't create mirror element with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'."+l);if(i=__TURBOPACK__default__export__.createTransform(a,[Math.PI,f],{type:"rotate"}),__TURBOPACK__default__export__3.isPoint(d))g=__TURBOPACK__default__export__.createPoint(a,[d,i],j);else if(d.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)g=__TURBOPACK__default__export__.createCurve(a,[d,i],j);else if(d.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)g=__TURBOPACK__default__export__.createLine(a,[d,i],j);else if(d.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON)g=__TURBOPACK__default__export__.createPolygon(a,[d,i],j);else if(d.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE)"euclidean"===j.type.toLowerCase()?(k=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"mirrorelement","center"),(h=__TURBOPACK__default__export__.createPoint(a,[d.center,i],k)).prepareUpdate().update().updateVisibility(h.evalVisProp("visible")).updateRenderer(),g=__TURBOPACK__default__export__.createCircle(a,[h,function(){return d.Radius()}],j)):g=__TURBOPACK__default__export__.createCircle(a,[d,i],j);else throw Error("JSXGraph: Can't create mirror element with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'."+l);return __TURBOPACK__default__export__3.exists(d._is_new)&&(g.addChild(d),delete d._is_new),f.addChild(g),g.elType="mirrorelement",g.addParents(f),g.prepareUpdate().update(),g},__TURBOPACK__default__export__.createMirrorPoint=function(a,b,c){var d=__TURBOPACK__default__export__.createMirrorElement(a,b,c);return d.elType="mirrorpoint",d},__TURBOPACK__default__export__.createIntegral=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=null;if(__TURBOPACK__default__export__3.isArray(b[0])&&b[1].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)d=b[0],e=b[1];else if(__TURBOPACK__default__export__3.isArray(b[1])&&b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)d=b[1],e=b[0];else throw Error("JSXGraph: Can't create integral with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [[number|function,number|function],curve]");return(f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"integral")).withlabel=!1,r=a.create("curve",[[0],[0]],f),a.objectsList.pop(),g=d[0],h=d[1],__TURBOPACK__default__export__3.isFunction(g)?(i=g,j=function(){return e.Y(i())},g=i()):(i=g,j=e.Y(g)),__TURBOPACK__default__export__3.isFunction(h)?(k=h,l=function(){return e.Y(k())},h=k()):(k=h,l=e.Y(h)),f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"integral","curveleft"),m=a.create("glider",[i,j,e],f),__TURBOPACK__default__export__3.isFunction(i)&&m.hideElement(),f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"integral","baseleft"),n=a.create("point",[function(){return"y"===r.evalVisProp("axis")?0:m.X()},function(){return"y"===r.evalVisProp("axis")?m.Y():0}],f),f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"integral","curveright"),o=a.create("glider",[k,l,e],f),__TURBOPACK__default__export__3.isFunction(k)&&o.hideElement(),f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"integral","baseright"),p=a.create("point",[function(){return"y"===r.evalVisProp("axis")?0:o.X()},function(){return"y"===r.evalVisProp("axis")?o.Y():0}],f),r._pos=a.objectsList.length,a.objectsList.push(r),!1!==(f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"integral")).withlabel&&"y"!==f.axis&&(f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"integral","label"),f=__TURBOPACK__default__export__3.copyAttributes(f,a.options,"label"),s=a.create("text",[function(){var a=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[this.evalVisProp("offset.0")+this.board.origin.scrCoords[1],0],this.board,!1),b=this.board.getBoundingBox(),c=(b[2]-b[0])*.1,d=o.X();return d<b[0]?d=b[0]+c:d>b[2]&&(d=b[2]-c),d+a.usrCoords[1]},function(){var a=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[0,this.evalVisProp("offset.1")+this.board.origin.scrCoords[2]],this.board,!1),b=this.board.getBoundingBox(),c=(b[1]-b[3])*.1,d=o.Y();return d>b[1]?d=b[1]-c:d<b[3]&&(d=b[3]+c),d+a.usrCoords[2]},""],f),q=function(){var a,b="&int;",c=__TURBOPACK__default__export__13.NewtonCotes([n.X(),p.X()],e.Y),d=s.evalVisProp("digits");return a=s.useLocale()?s.formatNumberLocale(c,d):__TURBOPACK__default__export__3.toFixed(c,d),(s.evalVisProp("usemathjax")||s.evalVisProp("usekatex"))&&(b="\\int"),b+" = "+a},s.setText(q),s.dump=!1,m.addChild(s),o.addChild(s)),m.dump=!1,n.dump=!1,o.dump=!1,p.dump=!1,r.elType="integral",r.setParents([e.id,d]),r.subs={curveLeft:m,baseLeft:n,curveRight:o,baseRight:p},r.inherits.push(m,n,o,p),f.withlabel&&(r.subs.label=s,r.inherits.push(s)),r.Value=function(){return __TURBOPACK__default__export__13.I([n.X(),p.X()],e.Y)},r.updateDataArray=function(){var a,b,c,d,f,g,h,i,j;if("y"===this.evalVisProp("axis")){for(m.Y()<o.Y()?(g=m.X(),i=m.Y(),h=o.X(),j=o.Y()):(g=o.X(),i=o.Y(),h=m.X(),j=m.Y()),d=Math.min(g,h),f=Math.max(g,h),a=[0,g],b=[i,i],c=0;c<e.numberPoints;c++)i<=e.points[c].usrCoords[2]&&d<=e.points[c].usrCoords[1]&&e.points[c].usrCoords[2]<=j&&e.points[c].usrCoords[1]<=f&&(a.push(e.points[c].usrCoords[1]),b.push(e.points[c].usrCoords[2]));a.push(h),b.push(j),a.push(0),b.push(j),a.push(0),b.push(i)}else{for(n.X()<p.X()?(d=n.X(),f=p.X()):(d=p.X(),f=n.X()),a=[d,d],b=[0,e.Y(d)],c=0;c<e.numberPoints;c++)d<=e.points[c].usrCoords[1]&&e.points[c].usrCoords[1]<=f&&(a.push(e.points[c].usrCoords[1]),b.push(e.points[c].usrCoords[2]));a.push(f),b.push(e.Y(f)),a.push(f),b.push(0),a.push(d),b.push(0)}this.dataX=a,this.dataY=b},m.addChild(r),o.addChild(r),n.addChild(r),p.addChild(r),r.baseLeft=n,r.baseRight=p,r.curveLeft=m,r.curveRight=o,r.methodMap=__TURBOPACK__default__export__.deepCopy(r.methodMap,{curveLeft:"curveLeft",baseLeft:"baseLeft",curveRight:"curveRight",baseRight:"baseRight",Value:"Value"}),r.label=s,r},__TURBOPACK__default__export__.createInequality=function(a,b,c){var d,e,f;if(f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"inequality"),b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE)(e=a.create("curve",[[],[]],f)).hasPoint=function(){return!1},e.updateDataArray=function(){var c,d,e,f=a.getBoundingBox(),g=this.evalVisProp("inverse"),h=g?-1:1,i=1.5,j=1.5*Math.max(f[2]-f[0],f[1]-f[3]),k={coords:{usrCoords:[1,(f[0]+f[2])*.5,g?f[1]:f[3]]}},l=b[0].stdform.slice(1),m=l;e=i*Math.max(__TURBOPACK__default__export__14.perpendicular(b[0],k,a)[0].distance(__TURBOPACK__default__export__1.COORDS_BY_USER,k.coords),j)*h,k={coords:{usrCoords:[1,(f[0]+f[2])*.5,(f[1]+f[3])*.5]}},c=[1,(k=Math.abs(__TURBOPACK__default__export__2.innerProduct(k.coords.usrCoords,b[0].stdform,3))>=__TURBOPACK__default__export__2.eps?__TURBOPACK__default__export__14.perpendicular(b[0],k,a)[0].usrCoords:k.coords.usrCoords)[1]+l[1]*j,k[2]-l[0]*j],d=[1,k[1]-m[1]*j,k[2]+m[0]*j],this.dataX=[c[1],c[1]+l[0]*e,d[1]+m[0]*e,d[1],c[1]],this.dataY=[c[2],c[2]+l[1]*e,d[2]+m[1]*e,d[2],c[2]]};else if(b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&"functiongraph"===b[0].visProp.curvetype)(e=a.create("curve",[[],[]],f)).updateDataArray=function(){var a,c,d,e,f,g,h,i,j,k=this.board.getBoundingBox(),l=[],m=b[0].minX(),n=b[0].maxX(),o=(k[1]-k[3])*.3;if(a=this.evalVisProp("inverse")?1:3,this.dataX=[],this.dataY=[],0!==(e=b[0].points.length))for(k[1]+=o,k[3]-=o,d=-1;d<e-1;){for(f=d+1,c=e;f<e;f++)if(b[0].points[f].isReal()){c=f;break}if(c>=e)break;for(f=c,d=e-1;f<e-1;f++)if(!b[0].points[f+1].isReal()){d=f;break}for(i=b[0].points[c].usrCoords[1],j=b[0].points[d].usrCoords[1],g=k[0]<m?m:k[0],h=k[2]>n?n:k[2],g=0===c?g:Math.max(g,i),h=d===e-1?h:Math.min(h,j),g=0===c?m:i,h=d===e-1?n:j,(l=[]).push([1,g,k[a]]),l.push([1,g,b[0].points[c].usrCoords[2]]),f=c;f<=d;f++)l.push(b[0].points[f].usrCoords);for(l.push([1,h,b[0].points[d].usrCoords[2]]),l.push([1,h,k[a]]),l.push(l[0]),f=0;f<l.length;f++)this.dataX.push(l[f][1]),this.dataY.push(l[f][2]);d<e-1&&(this.dataX.push(NaN),this.dataY.push(NaN))}},e.hasPoint=function(){return!1};else if(d=__TURBOPACK__default__export__3.createFunction(b[0]),e.addParentsFromJCFunctions([d]),!__TURBOPACK__default__export__3.exists(d))throw Error("JSXGraph: Can't create area with the given parents.\nPossible parent types: [line], [function]");return e.addParents(b[0]),e},__TURBOPACK__default__export__.registerElement("arrowparallel",__TURBOPACK__default__export__.createArrowParallel),__TURBOPACK__default__export__.registerElement("bisector",__TURBOPACK__default__export__.createBisector),__TURBOPACK__default__export__.registerElement("bisectorlines",__TURBOPACK__default__export__.createAngularBisectorsOfTwoLines),__TURBOPACK__default__export__.registerElement("msector",__TURBOPACK__default__export__.createMsector),__TURBOPACK__default__export__.registerElement("circumcircle",__TURBOPACK__default__export__.createCircumcircle),__TURBOPACK__default__export__.registerElement("circumcirclemidpoint",__TURBOPACK__default__export__.createCircumcenter),__TURBOPACK__default__export__.registerElement("circumcenter",__TURBOPACK__default__export__.createCircumcenter),__TURBOPACK__default__export__.registerElement("incenter",__TURBOPACK__default__export__.createIncenter),__TURBOPACK__default__export__.registerElement("incircle",__TURBOPACK__default__export__.createIncircle),__TURBOPACK__default__export__.registerElement("integral",__TURBOPACK__default__export__.createIntegral),__TURBOPACK__default__export__.registerElement("midpoint",__TURBOPACK__default__export__.createMidpoint),__TURBOPACK__default__export__.registerElement("mirrorelement",__TURBOPACK__default__export__.createMirrorElement),__TURBOPACK__default__export__.registerElement("mirrorpoint",__TURBOPACK__default__export__.createMirrorPoint),__TURBOPACK__default__export__.registerElement("orthogonalprojection",__TURBOPACK__default__export__.createOrthogonalProjection),__TURBOPACK__default__export__.registerElement("parallel",__TURBOPACK__default__export__.createParallel),__TURBOPACK__default__export__.registerElement("parallelpoint",__TURBOPACK__default__export__.createParallelPoint),__TURBOPACK__default__export__.registerElement("perpendicular",__TURBOPACK__default__export__.createPerpendicular),__TURBOPACK__default__export__.registerElement("perpendicularpoint",__TURBOPACK__default__export__.createPerpendicularPoint),__TURBOPACK__default__export__.registerElement("perpendicularsegment",__TURBOPACK__default__export__.createPerpendicularSegment),__TURBOPACK__default__export__.registerElement("reflection",__TURBOPACK__default__export__.createReflection),__TURBOPACK__default__export__.registerElement("inequality",__TURBOPACK__default__export__.createInequality),__TURBOPACK__default__export__.createGrid=function(a,b,c){var d,e,f,g,h,i,j,k,l=__TURBOPACK__default__export__2.eps,m=5e3,n=[],o=[];if((f=b).length>2||f.length>=1&&"axis"!==f[0].elType||f.length>=2&&"axis"!==f[1].elType)throw Error("JSXGraph: Can't create 'grid' with parent type '"+b[0].elType+"'. Possible parent types: [axis,axis]");return!__TURBOPACK__default__export__3.exists(f[0])&&__TURBOPACK__default__export__3.exists(a.defaultAxes)&&(f[0]=a.defaultAxes.x),!__TURBOPACK__default__export__3.exists(f[1])&&__TURBOPACK__default__export__3.exists(a.defaultAxes)&&(f[1]=a.defaultAxes.y),k=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;switch(a.toLowerCase()){case".":case"point":return b.visProp.linecap="round",b.visProp.strokewidth=e*b.board.unitX+f*b.board.unitY,[[c,c,NaN],[d,d,NaN]];case"o":case"circle":return b.visProp.linecap="square",b.bezierDegree=3,[[c+e,c+e,c+(i=4*Math.tan(Math.PI/8)/3)*e,c,c-i*e,c-e,c-e,c-e,c-i*e,c,c+i*e,c+e,c+e,NaN],[d,d+i*f,d+f,d+f,d+f,d+i*f,d,d-i*f,d-f,d-f,d-f,d-i*f,d,NaN]];case"regpol":case"regularpolygon":for(h=0,b.visProp.linecap="round",k=b.evalVisProp("polygonvertices"),l=[[],[]];h<=2*Math.PI;h+=2*Math.PI/k)l[0].push(c-e*Math.sin(h)),l[1].push(d-f*Math.cos(h));return l[0].push(NaN),l[1].push(NaN),l;case"[]":case"square":return b.visProp.linecap="square",[[c-e,c+e,c+e,c-e,c-e,NaN],[d+f,d+f,d-f,d-f,d+f,NaN]];case"<>":case"diamond":return b.visProp.linecap="square",[[c,c+e,c,c-e,c,NaN],[d+f,d,d-f,d,d+f,NaN]];case"<<>>":case"diamond2":return b.visProp.linecap="square",[[c,c+(m=e*Math.sqrt(2)),c,c-m,c,NaN],[d+(n=f*Math.sqrt(2)),d,d-n,d,d+n,NaN]];case"x":case"cross":return[[c-e,c+e,NaN,c-e,c+e,NaN],[d+f,d-f,NaN,d-f,d+f,NaN]];case"+":case"plus":return[[c-e,c+e,NaN,c,c,NaN],[d,d,NaN,d-f,d+f,NaN]];case"-":case"minus":return[[c-e,c+e,NaN],[d,d,NaN]];case"|":case"divide":return[[c,c,NaN],[d-f,d+f,NaN]];case"^":case"a":case"A":case"triangleup":return[[c-e,c,c+e,NaN],[d-f,d,d-f,NaN]];case"v":case"triangledown":return[[c-e,c,c+e,NaN],[d+f,d,d+f,NaN]];case"<":case"triangleleft":return[[c+e,c,c+e,NaN],[d+f,d,d-f,NaN]];case">":case"triangleright":return[[c-e,c,c-e,NaN],[d+f,d,d-f,NaN]];case"line":return j=b.evalVisProp("margin"),[[c,c,NaN,g[0]-j/b.board.unitX,g[2]+j/b.board.unitX,NaN],[g[1]+j/b.board.unitY,g[3]-j/b.board.unitY,NaN,d,d,NaN]];default:return[[],[]]}},g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"grid"),__TURBOPACK__default__export__3.mergeAttr(g,g.themes[g.theme],!1),h={},__TURBOPACK__default__export__3.mergeAttr(h,g,!0,!0),__TURBOPACK__default__export__3.mergeAttr(h,g.major,!0,!0),(d=a.create("curve",[[null],[null]],h)).elType="grid",d.type=__TURBOPACK__default__export__1.OBJECT_TYPE_GRID,i={},__TURBOPACK__default__export__3.mergeAttr(i,g,!0,!0),__TURBOPACK__default__export__3.mergeAttr(i,g.minor,!0,!0),i.id===h.id&&(i.id=d.id+"_minor"),i.name===h.name&&(i.name=d.name+"_minor"),(e=a.create("curve",[[null],[null]],i)).elType="grid",e.type=__TURBOPACK__default__export__1.OBJECT_TYPE_GRID,d.minorGrid=e,e.majorGrid=d,d.hasPoint=function(){return!1},e.hasPoint=function(){return!1},d.inherits.push(e),d.updateDataArray=function(){var a,b,c,e,g,h,i,p,q=this.board.getBoundingBox(),r=this.evalVisProp("gridx"),s=this.evalVisProp("gridy"),t=this.evalVisProp("face"),u=this.evalVisProp("drawzero"),v=!0===u||__TURBOPACK__default__export__3.isObject(u)&&!0===this.eval(u.origin),w=!0===u||__TURBOPACK__default__export__3.isObject(u)&&!0===this.eval(u.x),x=!0===u||__TURBOPACK__default__export__3.isObject(u)&&!0===this.eval(u.y),y=this.evalVisProp("includeboundaries"),z=this.evalVisProp("forcesquare");if(this.dataX=[],this.dataY=[],j=this.evalVisProp("majorstep"),__TURBOPACK__default__export__3.isArray(j)||(j=[j,j]),j.length<2&&(j=[j[0],j[0]]),__TURBOPACK__default__export__3.exists(r)&&(__TURBOPACK__default__export__.deprecated("gridX","majorStep"),j[0]=r),__TURBOPACK__default__export__3.exists(s)&&(__TURBOPACK__default__export__.deprecated("gridY","majorStep"),j[1]=s),"auto"===j[0]?(p=Math.pow(10,Math.floor(Math.log(50/this.board.unitX)/Math.LN10)),j[0]=p,__TURBOPACK__default__export__3.exists(f[0])&&(j[0]=f[0].ticks[0].getDistanceMajorTicks())):j[0]=__TURBOPACK__default__export__3.parseNumber(j[0],Math.abs(q[1]-q[3]),1/this.board.unitX),"auto"===j[1]?(p=Math.pow(10,Math.floor(Math.log(50/this.board.unitY)/Math.LN10)),j[1]=p,__TURBOPACK__default__export__3.exists(f[1])&&(j[1]=f[1].ticks[0].getDistanceMajorTicks())):j[1]=__TURBOPACK__default__export__3.parseNumber(j[1],Math.abs(q[0]-q[2]),1/this.board.unitY),"min"===z||!0===z?j[0]*this.board.unitX<=j[1]*this.board.unitY?j[1]=j[0]/this.board.unitY*this.board.unitX:j[0]=j[1]/this.board.unitX*this.board.unitY:"max"===z&&(j[0]*this.board.unitX<=j[1]*this.board.unitY?j[0]=j[1]/this.board.unitX*this.board.unitY:j[1]=j[0]/this.board.unitY*this.board.unitX),n=this.evalVisProp("size"),__TURBOPACK__default__export__3.isArray(n)||(n=[n,n]),n.length<2&&(n=[n[0],n[0]]),__TURBOPACK__default__export__3.isNumber(n[0],!0)&&(n[0]=n[0]+"px"),__TURBOPACK__default__export__3.isNumber(n[1],!0)&&(n[1]=n[1]+"px"),n[0]=__TURBOPACK__default__export__3.parseNumber(n[0],j[0],1/this.board.unitX),n[1]=__TURBOPACK__default__export__3.parseNumber(n[1],j[1],1/this.board.unitY),o[0]=n[0]/2,o[1]=n[1]/2,a=__TURBOPACK__default__export__2.roundToStep(q[0],j[0]),b=__TURBOPACK__default__export__2.roundToStep(q[1],j[1]),i=isFinite(a)&&isFinite(b)&&isFinite(q[2])&&isFinite(q[3])&&Math.abs(q[2])<Math.abs(j[0]*m)&&Math.abs(q[3])<Math.abs(j[1]*m),"line"===t.toLowerCase()){for(g=d.evalVisProp("margin"),e=b;i&&e>=q[3];e-=j[1])!v&&Math.abs(e)<l||!x&&Math.abs(e)<l||!y&&(e<=q[3]+o[1]||e>=q[1]-o[1])||(h=[[q[0]-g/d.board.unitX,q[2]+g/d.board.unitX,NaN],[e,e,NaN]],__TURBOPACK__default__export__3.concat(this.dataX,h[0]),__TURBOPACK__default__export__3.concat(this.dataY,h[1]));for(c=a;i&&c<=q[2];c+=j[0])!v&&Math.abs(c)<l||!w&&Math.abs(c)<l||!y&&(c<=q[0]+o[0]||c>=q[2]-o[0])||(h=[[c,c,NaN],[q[1]+g/d.board.unitY,q[3]-g/d.board.unitY,NaN]],__TURBOPACK__default__export__3.concat(this.dataX,h[0]),__TURBOPACK__default__export__3.concat(this.dataY,h[1]))}else for(e=b;i&&e>=q[3];e-=j[1])for(c=a;i&&c<=q[2];c+=j[0])!v&&Math.abs(e)<l&&Math.abs(c)<l||!w&&Math.abs(e)<l&&Math.abs(c)>=l||!x&&Math.abs(c)<l&&Math.abs(e)>=l||!y&&(c<=q[0]+o[0]||c>=q[2]-o[0]||e<=q[3]+o[1]||e>=q[1]-o[1])||(h=k(t,d,c,e,o[0],o[1],q),__TURBOPACK__default__export__3.concat(this.dataX,h[0]),__TURBOPACK__default__export__3.concat(this.dataY,h[1]))},e.updateDataArray=function(){var a,b,c,d,g,h,i,n,p,q,r,s,t,u,v,w,x,y,z,A=this.board.getBoundingBox(),B=[],C=[],D=this.evalVisProp("minorelements"),E=this.evalVisProp("size"),F=this.evalVisProp("face"),G=this.evalVisProp("drawzero"),H=!0===G||__TURBOPACK__default__export__3.isObject(G)&&!0===this.eval(G.x),I=!0===G||__TURBOPACK__default__export__3.isObject(G)&&!0===this.eval(G.y),J=this.majorGrid.evalVisProp("face"),K=this.majorGrid.evalVisProp("drawzero"),L=!0===K||__TURBOPACK__default__export__3.isObject(K)&&!0===this.eval(K.origin),M=!0===K||__TURBOPACK__default__export__3.isObject(K)&&!0===this.eval(K.x),N=!0===K||__TURBOPACK__default__export__3.isObject(K)&&!0===this.eval(K.y),O=this.evalVisProp("includeboundaries");if(this.dataX=[],this.dataY=[],__TURBOPACK__default__export__3.isArray(D)||(D=[D,D]),D.length<2&&(D=[D[0],D[0]]),__TURBOPACK__default__export__3.isNumber(D[0],!0)?D[0]=parseFloat(D[0]):(D[0]=3,__TURBOPACK__default__export__3.exists(f[0])&&(D[0]=f[0].eval(f[0].getAttribute("ticks").minorticks))),B[0]=j[0]/(D[0]+1),__TURBOPACK__default__export__3.isNumber(D[1],!0)?D[1]=parseFloat(D[1]):(D[1]=3,__TURBOPACK__default__export__3.exists(f[1])&&(D[1]=f[1].eval(f[1].getAttribute("ticks").minorticks))),B[1]=j[1]/(D[1]+1),__TURBOPACK__default__export__3.isArray(E)||(E=[E,E]),E.length<2&&(E=[E[0],E[0]]),__TURBOPACK__default__export__3.isNumber(E[0],!0)&&(E[0]=E[0]+"px"),__TURBOPACK__default__export__3.isNumber(E[1],!0)&&(E[1]=E[1]+"px"),E[0]=__TURBOPACK__default__export__3.parseNumber(E[0],B[0],1/this.board.unitX),E[1]=__TURBOPACK__default__export__3.parseNumber(E[1],B[1],1/this.board.unitY),C[0]=.5*E[0],C[1]=.5*E[1],a=__TURBOPACK__default__export__2.roundToStep(A[0],B[0]),b=__TURBOPACK__default__export__2.roundToStep(A[1],B[1]),i=isFinite(a)&&isFinite(b)&&isFinite(A[2])&&isFinite(A[3])&&Math.abs(A[2])<=Math.abs(B[0]*m)&&Math.abs(A[3])<Math.abs(B[1]*m),"line"!==F.toLowerCase())for(d=b;i&&d>=A[3];d-=B[1])for(c=a;i&&c<=A[2];c+=B[0]){if(n=Math.abs((n=__TURBOPACK__default__export__2.roundToStep(Math.abs(c),j[0]))-Math.abs(c)),p=j[0]-n,q=Math.abs((q=__TURBOPACK__default__export__2.roundToStep(Math.abs(d),j[1]))-Math.abs(d)),r=j[1]-q,"line"===J){if(n-C[0]-o[0]<l||p-C[0]-o[0]<l||q-C[1]-o[1]<l||r-C[1]-o[1]<l)continue}else if((n-C[0]-o[0]<l||p-C[0]-o[0]<l)&&(q-C[1]-o[1]<l||r-C[1]-o[1]<l)&&(L||o[1]-Math.abs(d)+C[1]<l||o[0]-Math.abs(c)+C[0]<l)&&(M||o[1]-Math.abs(d)+C[1]<l||o[0]+Math.abs(c)-C[0]<l)&&(N||o[0]-Math.abs(c)+C[0]<l||o[1]+Math.abs(d)-C[1]<l))continue;!(!I&&Math.abs(c)<l||!H&&Math.abs(d)<l)&&(s=Math.abs(A[0]%j[0]),t=Math.abs(A[1]%j[1]),u=Math.abs(A[2]%j[0]),v=Math.abs(A[3]%j[1]),w=j[0]-s,x=j[1]-t,y=j[0]-u,z=j[1]-v,!O&&(c-C[0]-A[0]-o[0]+w<l&&w-o[0]<l||c-C[0]-A[0]-o[0]-s<l&&s-o[0]<l||-c-C[0]+A[2]-o[0]+y<l&&y-o[0]<l||-c-C[0]+A[2]-o[0]-u<l&&u-o[0]<l||-d-C[1]+A[1]-o[1]+x<l&&x-o[1]<l||-d-C[1]+A[1]-o[1]-t<l&&t-o[1]<l||d-C[1]-A[3]-o[1]+z<l&&z-o[1]<l||d-C[1]-A[3]-o[1]-v<l&&v-o[1]<l||-d-C[1]+A[1]<l||c-C[0]-A[0]<l||d-C[1]-A[3]<l||-c-C[0]+A[2]<l)||(h=k(F,e,c,d,C[0],C[1],A),__TURBOPACK__default__export__3.concat(this.dataX,h[0]),__TURBOPACK__default__export__3.concat(this.dataY,h[1])))}else{for(g=e.evalVisProp("margin"),d=b;i&&d>=A[3];d-=B[1]){if(q=Math.abs((q=__TURBOPACK__default__export__2.roundToStep(Math.abs(d),j[1]))-Math.abs(d)),r=j[1]-q,"line"===J){if(q-C[1]-o[1]<l||r-C[1]-o[1]<l)continue}else if((q-C[1]-o[1]<l||r-C[1]-o[1]<l)&&(L||o[1]-Math.abs(d)+C[1]<l)&&(M||o[1]-Math.abs(d)+C[1]<l)&&(N||o[1]+Math.abs(d)-C[1]<l))continue;!(!H&&Math.abs(d)<l)&&(s=Math.abs(A[0]%j[0]),t=Math.abs(A[1]%j[1]),u=Math.abs(A[2]%j[0]),v=Math.abs(A[3]%j[1]),w=j[0]-s,x=j[1]-t,y=j[0]-u,z=j[1]-v,!O&&(-d-C[1]+A[1]-o[1]+x<l&&x-o[1]<l||-d-C[1]+A[1]-o[1]-t<l&&t-o[1]<l||d-C[1]-A[3]-o[1]+z<l&&z-o[1]<l||d-C[1]-A[3]-o[1]-v<l&&v-o[1]<l||-d-C[1]+A[1]<l||d-C[1]-A[3]<l)||(h=[[A[0]-g/e.board.unitX,A[2]+g/e.board.unitX,NaN],[d,d,NaN]],__TURBOPACK__default__export__3.concat(this.dataX,h[0]),__TURBOPACK__default__export__3.concat(this.dataY,h[1])))}for(c=a;i&&c<=A[2];c+=B[0]){if(n=Math.abs((n=__TURBOPACK__default__export__2.roundToStep(Math.abs(c),j[0]))-Math.abs(c)),p=j[0]-n,"line"===J){if(n-C[0]-o[0]<l||p-C[0]-o[0]<l)continue}else if((n-C[0]-o[0]<l||p-C[0]-o[0]<l)&&(L||o[0]-Math.abs(c)+C[0]<l)&&(M||o[0]+Math.abs(c)-C[0]<l)&&(N||o[0]-Math.abs(c)+C[0]<l))continue;!(!I&&Math.abs(c)<l)&&(s=Math.abs(A[0]%j[0]),t=Math.abs(A[1]%j[1]),u=Math.abs(A[2]%j[0]),v=Math.abs(A[3]%j[1]),w=j[0]-s,x=j[1]-t,y=j[0]-u,z=j[1]-v,!O&&(c-C[0]-A[0]-o[0]+w<l&&w-o[0]<l||c-C[0]-A[0]-o[0]-s<l&&s-o[0]<l||-c-C[0]+A[2]-o[0]+y<l&&y-o[0]<l||-c-C[0]+A[2]-o[0]-u<l&&u-o[0]<l||c-C[0]-A[0]<l||-c-C[0]+A[2]<l)||(h=[[c,c,NaN],[A[1]+g/e.board.unitY,A[3]-g/e.board.unitY,NaN]],__TURBOPACK__default__export__3.concat(this.dataX,h[0]),__TURBOPACK__default__export__3.concat(this.dataY,h[1])))}}},a.grids.push(d),a.grids.push(e),e.dump=!1,d.getParents=e.getParents=function(){return f.slice()},d},__TURBOPACK__default__export__.registerElement("grid",__TURBOPACK__default__export__.createGrid),__TURBOPACK__default__export__.Image=function(a,b,c,d,e){this.constructor(a,c,__TURBOPACK__default__export__1.OBJECT_TYPE_IMAGE,__TURBOPACK__default__export__1.OBJECT_CLASS_OTHER),this.element=this.board.select(c.anchor),this.coordsConstructor(b),this.W=__TURBOPACK__default__export__3.createFunction(e[0],this.board,""),this.H=__TURBOPACK__default__export__3.createFunction(e[1],this.board,""),this.addParentsFromJCFunctions([this.W,this.H]),this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*a.unitX),Math.abs(this.usrSize[1]*a.unitY)],this.url=d,this.elType="image",this.span=[this.coords.usrCoords.slice(0),[this.coords.usrCoords[0],this.W(),0],[this.coords.usrCoords[0],0,this.H()]],this.id=this.board.setId(this,"Im"),this.board.renderer.drawImage(this),this.board.finalizeAdding(this),this.methodMap=__TURBOPACK__default__export__.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform",W:"W",Width:"W",H:"H",Height:"H",setSize:"setSize"})},__TURBOPACK__default__export__.Image.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Image,__TURBOPACK__default__export__32,"coordsConstructor"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Image.prototype,{hasPoint:function(a,b){var c,d,e,f,g,h,i,j,k,l=this.transformations.length;return(__TURBOPACK__default__export__3.isObject(this.evalVisProp("precision"))?(f=this.board._inputDevice,g=this.evalVisProp("precision."+f)):g=this.board.options.precision.hasPoint,0===l)?(c=a-this.coords.scrCoords[1],d=this.coords.scrCoords[2]-b,c>=-(e=g)&&c-this.size[0]<=e&&d>=-e&&d-this.size[1]<=e):(i=[(h=(h=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board)).usrCoords)[0]-this.span[0][0],h[1]-this.span[0][1],h[2]-this.span[0][2]],!!(0<=(j=(k=__TURBOPACK__default__export__2.innerProduct)(i,this.span[1]))&&j<=k(this.span[1],this.span[1])&&0<=(j=k(i,this.span[2]))&&j<=k(this.span[2],this.span[2]))||!1)},update:function(a){return this.needsUpdate&&(this.updateCoords(a),this.updateSize(),this.updateSpan()),this},updateRenderer:function(){return this.updateRendererGeneric("updateImage")},updateSize:function(){return this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)],this},updateSpan:function(){var a,b,c=this.transformations.length,d=[];if(0===c)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(a=0,d[0]=[this.Z(),this.X(),this.Y()],d[1]=[this.Z(),this.X()+this.W(),this.Y()],d[2]=[this.Z(),this.X(),this.Y()+this.H()];a<c;a++)for(b=0;b<3;b++)d[b]=__TURBOPACK__default__export__2.matVecMult(this.transformations[a].matrix,d[b]);for(b=0;b<3;b++)d[b][1]/=d[b][0],d[b][2]/=d[b][0],d[b][0]/=d[b][0];for(b=1;b<3;b++)d[b][0]-=d[0][0],d[b][1]-=d[0][1],d[b][2]-=d[0][2];this.span=d}return this},addTransform:function(a){var b;if(__TURBOPACK__default__export__3.isArray(a))for(b=0;b<a.length;b++)this.transformations.push(a[b]);else this.transformations.push(a);return this},getParents:function(){var a=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return 0!==this.parents.length&&(a=this.parents),a},setSize:function(a,b){return this.W=__TURBOPACK__default__export__3.createFunction(a,this.board,""),this.H=__TURBOPACK__default__export__3.createFunction(b,this.board,""),this.addParentsFromJCFunctions([this.W,this.H]),this},W:function(){},H:function(){}}),__TURBOPACK__default__export__.createImage=function(a,b,c){var d,e,f=b[0],g=b[1],h=b[2];if(d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"image"),!(e=__TURBOPACK__default__export__32.create(__TURBOPACK__default__export__.Image,a,g,d,f,h)))throw Error("JSXGraph: Can't create image with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return 0!==d.rotate&&e.addRotation(d.rotate),e},__TURBOPACK__default__export__.registerElement("image",__TURBOPACK__default__export__.createImage);let __TURBOPACK__default__export__49=__TURBOPACK__default__export__.Image;__TURBOPACK__default__export__.createSlider=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;return u=(A=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"slider")).withticks,t=A.withlabel,x=A.snapwidth,v=A.snapvalues,w=A.snapvaluedistance,j=a.create("point",b[0],A.point1),k=a.create("point",b[1],A.point2),(m=a.create("segment",[j,k],A.baseline)).updateStdform(),d=j.coords.usrCoords.slice(1),e=k.coords.usrCoords.slice(1),f=b[2][0],g=b[2][1],i=(h=b[2][2])-f,z=-1===(y=__TURBOPACK__default__export__3.evaluate(x))?g:Math.round((g-f)/y)*y+f,r=d[0]+(e[0]-d[0])*(z-f)/(h-f),s=d[1]+(e[1]-d[1])*(z-f)/(h-f),A.withlabel=!1,(l=a.create("glider",[r,s,m],A)).setAttribute({snapwidth:x,snapvalues:v,snapvaluedistance:w}),n=a.create("segment",[j,l],A.highline),l.Value=function(){var a=this._smax-this._smin,b=this.evalVisProp("snapwidth");return -1===b?this.position*a+this._smin:Math.round(this.position*a/b)*b+this._smin},l.methodMap=__TURBOPACK__default__export__3.deepCopy(l.methodMap,{Value:"Value",setValue:"setValue",smax:"_smax",smin:"_smin",setMax:"setMax",setMin:"setMin",point1:"point1",point2:"point2",baseline:"baseline",highline:"highline",ticks:"ticks",label:"label"}),l._smax=h,l._smin=f,l.setMax=function(a){return this._smax=a,this},l.setValue=function(a){var b=this._smax-this._smin;return Math.abs(b)>__TURBOPACK__default__export__2.eps?this.position=(a-this._smin)/b:this.position=0,this.position=Math.max(0,Math.min(1,this.position)),this},l.setMin=function(a){return this._smin=a,this},t&&(q=a.create("text",[function(){return(k.X()-j.X())*.05+k.X()},function(){return(k.Y()-j.Y())*.05+k.Y()},function(){var a,b=l.evalVisProp("digits"),c=l.evalVisProp("suffixlabel"),d=l.evalVisProp("unitlabel"),e=l.evalVisProp("postlabel");return 2===b&&2!==l.evalVisProp("precision")&&(b=l.evalVisProp("precision")),a=null!==c?c:l.name&&""!==l.name?l.name+" = ":"",l.useLocale()?a+=l.formatNumberLocale(l.Value(),b):a+=__TURBOPACK__default__export__3.toFixed(l.Value(),b),null!==d&&(a+=d),null!==e&&(a+=e),a}],A.label),l.label=q,l.visProp.withlabel=!0,l.hasLabel=!0),l.point1=j,l.point2=k,l.baseline=m,l.highline=n,u&&(__TURBOPACK__default__export__3.exists(A.generatelabeltext)||(A.ticks.generateLabelText=function(a,b,c){var d,e=l.point1.Dist(l.point2),f=l._smin,g=l._smax,h=this.getDistanceFromZero(b,a)*(g-f)/e+f;return e<__TURBOPACK__default__export__2.eps||Math.abs(h)<__TURBOPACK__default__export__2.eps?"0":this.formatLabelText(h)}),o=2,p=a.create("ticks",[l.baseline,l.point1.Dist(j)/o,function(a){var b=l.point1.Dist(l.point2),c=l.point1.coords.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,a);return b<__TURBOPACK__default__export__2.eps?0:c/b*i+f}],A.ticks),l.ticks=p),l.remove=function(){t&&a.removeObject(q),a.removeObject(n),a.removeObject(m),a.removeObject(k),a.removeObject(j),__TURBOPACK__default__export__43.prototype.remove.call(l)},j.dump=!1,k.dump=!1,m.dump=!1,n.dump=!1,t&&(q.dump=!1),l.elType="slider",l.parents=b,l.subs={point1:j,point2:k,baseLine:m,highLine:n},l.inherits.push(j,k,m,n),m.inherits=[],n.inherits=[],u&&(p.dump=!1,l.subs.ticks=p,l.inherits.push(p)),l.getParents=function(){return[this.point1.coords.usrCoords.slice(1),this.point2.coords.usrCoords.slice(1),[this._smin,this.position*(this._smax-this._smin)+this._smin,this._smax]]},l.baseline.on("up",function(a){var b,c;l.evalVisProp("moveonup")&&!l.evalVisProp("fixed")&&(b=m.board.getMousePosition(a,0),c=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,b,this.board),l.moveTo([c.usrCoords[1],c.usrCoords[2]]),l.triggerEventHandlers(["drag"],[a]))}),l.prepareUpdate().update(),!a.isSuspendedUpdate&&(l.updateVisibility().updateRenderer(),l.baseline.updateVisibility().updateRenderer(),l.highline.updateVisibility().updateRenderer(),u&&l.ticks.updateVisibility().updateRenderer()),l},__TURBOPACK__default__export__.registerElement("slider",__TURBOPACK__default__export__.createSlider),__TURBOPACK__default__export__.PrefixParser={parse:function(a,b){var c,d,e,f,g,h;if(__TURBOPACK__default__export__3.isNumber(a)||__TURBOPACK__default__export__3.isString(a))return a;if(!__TURBOPACK__default__export__3.isArray(a)||a.length<2)throw Error("prefixParser.parse: term is not an array, number or string");if(c=a[0],e=a.length,"execute"===b)if(__TURBOPACK__default__export__3.isInArray(["+","-","*","/"],c))for(d=2,f=this.parse(a[1],b);d<e;d++)switch(h=this.parse(a[d],b),c){case"+":f+=h;break;case"-":f-=h;break;case"*":f*=h;break;case"/":f/=h}else if("exec"===c){for(d=2,g=a[1],h=[];d<e;d++)h.push(this.parse(a[d],b));if(__TURBOPACK__default__export__3.exists(Math[g]))f=Math[g].apply(this,h);else if(__TURBOPACK__default__export__3.exists(__TURBOPACK__default__export__2[g]))f=__TURBOPACK__default__export__2[g].apply(this,h);else throw Error("PrefixParser.parse: "+g+" is not allowed")}else{if("V"===(g=a[0])&&(g="Value"),"Coords"===g&&(a[2]="true"),!__TURBOPACK__default__export__3.exists(a[1][g]))throw Error("PrefixParser.parse: "+g+" is not a method of "+a[1]);for(d=2,h=[];d<e;d++)h.push(this.parse(a[d],b));f=a[1][g].apply(a[1],h)}return f},dimension:function(a){var b,c,d,e,f,g,h,i;if(__TURBOPACK__default__export__3.isNumber(a))return 0;if(!__TURBOPACK__default__export__3.isArray(a)||a.length<2)throw Error("PrefixParser.dimension: term is not an array");if(b=a[0],d=a.length,__TURBOPACK__default__export__3.isInArray(["+","-","*","/"],b))for(c=2,e=this.dimension(a[1]);c<d;c++)switch(h=this.dimension(a[c]),b){case"+":case"-":h!==e&&(e=NaN);break;case"*":e+=h;break;case"/":e-=h}else if("exec"===b)a[2].type===__TURBOPACK__default__export__3.OBJECT_TYPE_MEASUREMENT?(e=a[2].Dimension(),__TURBOPACK__default__export__3.exists(a[2].visProp.dim)&&null!==(g=a[2].evalVisProp("dim"))&&(e=g)):e=0;else switch(f=a[0]){case"L":case"Length":case"Perimeter":case"Radius":case"R":e=1;break;case"Area":case"A":e=2;break;default:a[1].type===__TURBOPACK__default__export__3.OBJECT_TYPE_MEASUREMENT?(e=a[1].Dimension(),__TURBOPACK__default__export__3.exists(a[1].visProp.dim)&&null!==(g=a[1].evalVisProp("dim"))&&(e=g)):(e=0,("Value"===f||"V"===f)&&[__TURBOPACK__default__export__1.OBJECT_TYPE_ARC,__TURBOPACK__default__export__1.OBJECT_TYPE_SECTOR,__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE].indexOf(a[1].type)>=0&&(i="",3===a.length&&__TURBOPACK__default__export__3.isString(a[2])&&(i=a[2].toLowerCase()),e=""===i?+(a[1].type!==__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE):+(0===i.indexOf("len"))))}return e},toPrefix:function(a){var b,c,d,e;if(__TURBOPACK__default__export__3.isNumber(a))return a;if(!__TURBOPACK__default__export__3.isArray(a)||a.length<2)throw Error("PrefixParser.toPrefix: term is not an array");for(c=1,b=a[0],d=a.length,e=[b];c<d;c++)__TURBOPACK__default__export__3.isInArray(["+","-","*","/"],b)?e.push(this.toPrefix(a[c])):"V"===b&&a[c].type===__TURBOPACK__default__export__3.OBJECT_TYPE_MEASUREMENT?e=a[c].toPrefix():"exec"===b?1===c?e.push(a[c]):e.push(this.toPrefix(a[c])):e=[b,a[c].id];return e},getParents:function(a){var b,c,d,e;if(__TURBOPACK__default__export__3.isNumber(a))return[];if(!__TURBOPACK__default__export__3.isArray(a)||a.length<2)throw Error("PrefixParser.getParents: term is not an array");for(c=1,b=a[0],d=a.length,e=[];c<d;c++)__TURBOPACK__default__export__3.isInArray(["+","-","*","/"],b)?__TURBOPACK__default__export__3.concat(e,this.getParents(a[c])):"V"===b&&a[c].type===__TURBOPACK__default__export__3.OBJECT_TYPE_MEASUREMENT?__TURBOPACK__default__export__3.concat(e,a[c].getParents()):"exec"===b?c>1&&__TURBOPACK__default__export__3.concat(e,this.getParents(a[c])):e.push(a[c]);return e}};let __TURBOPACK__default__export__50=__TURBOPACK__default__export__.PrefixParser;__TURBOPACK__default__export__.createTapemeasure=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;return d=b[0],e=b[1],f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"tapemeasure","point1"),k=a.create("point",d,f),f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"tapemeasure","point2"),l=a.create("point",e,f),k.setAttribute({ignoredSnapToPoints:[l.id]}),l.setAttribute({ignoredSnapToPoints:[k.id]}),g=(f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"tapemeasure")).withticks,h=f.withlabel,2===(i=f.digits)&&2!==f.precision&&(i=f.precision),h&&(f.withlabel=!0),j=a.create("segment",[k,l],f),h&&(m=c.name&&""!==c.name?c.name+" = ":"",j.label.setText(function(){var a=j.label.evalVisProp("digits");return j.label.useLocale()?m+j.label.formatNumberLocale(k.Dist(l),a):m+__TURBOPACK__default__export__3.toFixed(k.Dist(l),a)})),g&&(f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"tapemeasure","ticks"),n=a.create("ticks",[j,.1],f),j.inherits.push(n)),j.remove=function(){g&&j.removeTicks(n),a.removeObject(l),a.removeObject(k),__TURBOPACK__default__export__31.prototype.remove.call(this)},j.Value=function(){return k.Dist(l)},k.dump=!1,l.dump=!1,j.elType="tapemeasure",j.getParents=function(){return[[k.X(),k.Y()],[l.X(),l.Y()]]},j.subs={point1:k,point2:l},g&&(n.dump=!1),j.methodMap=__TURBOPACK__default__export__.deepCopy(j.methodMap,{Value:"Value"}),j.prepareUpdate().update(),a.isSuspendedUpdate||(j.updateVisibility().updateRenderer(),j.point1.updateVisibility().updateRenderer(),j.point2.updateVisibility().updateRenderer()),j},__TURBOPACK__default__export__.registerElement("tapemeasure",__TURBOPACK__default__export__.createTapemeasure),__TURBOPACK__default__export__.createMeasurement=function(a,b,c){var d,e,f,g,h,i;for(e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"measurement"),f=b[0],g=b[1],h=b[2],(d=a.create("text",[f,g,""],e)).type=__TURBOPACK__default__export__3.OBJECT_TYPE_MEASUREMENT,d.elType="measurement",d.Value=function(){return __TURBOPACK__default__export__50.parse(h,"execute")},d.Dimension=function(){var a=d.evalVisProp("dim");return null!==a?a:__TURBOPACK__default__export__50.dimension(h)},d.Unit=function(a){var b,c="",e=d.evalVisProp("units"),f=a,g={};if(__TURBOPACK__default__export__3.exists(f)||(f=d.Dimension()),__TURBOPACK__default__export__3.isArray(a)){for(b=0;b<a.length;b++)g["dim"+a[b]]=d.Unit(a[b]);return g}return __TURBOPACK__default__export__3.isObject(e)&&__TURBOPACK__default__export__3.exists(e[f])&&!1!==e[f]?c=d.eval(e[f]):__TURBOPACK__default__export__3.isObject(e)&&__TURBOPACK__default__export__3.exists(e["dim"+f])&&!1!==e["dim"+f]?c=d.eval(e["dim"+f]):(c=d.evalVisProp("baseunit"),0===f?c="":f>1&&""!==c&&(c=c+"^{"+f+"}")),c},d.getTerm=function(){return h},d.getMethod=function(){var a=h[0];return"V"===a&&(a="Value"),a},d.toPrefix=function(){return __TURBOPACK__default__export__50.toPrefix(h)},d.getParents=function(){return __TURBOPACK__default__export__50.getParents(h)},d.addParents(d.getParents()),i=0;i<d.parents.length;i++)a.select(d.parents[i]).addChild(d);return d.setText(function(){var a,b="",c="",e=d.Dimension(),f=d.evalVisProp("digits"),g=d.Unit(),h=d.Value();if(d.evalVisProp("showprefix")&&(b=d.evalVisProp("prefix")),d.evalVisProp("showsuffix")&&(c=d.evalVisProp("suffix")),__TURBOPACK__default__export__3.isNumber(h))"none"===f||(h="auto"===f?d.useLocale()?d.formatNumberLocale(h):__TURBOPACK__default__export__3.autoDigits(h):d.useLocale()?d.formatNumberLocale(h,f):__TURBOPACK__default__export__3.toFixed(h,f));else if(__TURBOPACK__default__export__3.isArray(h))for(a=0;a<h.length;a++)__TURBOPACK__default__export__3.isNumber(h[a])&&("none"===f||("auto"===f?d.useLocale()?h[a]=d.formatNumberLocale(h[a]):h[a]=__TURBOPACK__default__export__3.autoDigits(h[a]):d.useLocale()?h[a]=d.formatNumberLocale(h[a],f):h[a]=__TURBOPACK__default__export__3.toFixed(h[a],f)));return("coords"===e&&__TURBOPACK__default__export__3.isArray(h)&&(2===h.length&&h.unshift(void 0),h=d.visProp.formatcoords(d,h[1],h[2],h[0])),"direction"===e&&__TURBOPACK__default__export__3.isArray(h)&&(h=d.visProp.formatdirection(d,h[0],h[1])),__TURBOPACK__default__export__3.isString(e))?b+h+c:isNaN(e)?b+"NaN"+c:b+h+g+c}),d.methodMap=__TURBOPACK__default__export__3.deepCopy(d.methodMap,{Value:"Value",Dimension:"Dimension",Unit:"Unit",getTerm:"getTerm",Term:"getTerm",getMethod:"getMethod",Method:"getMethod",getParents:"getParents",Parents:"getParents"}),d},__TURBOPACK__default__export__.registerElement("measurement",__TURBOPACK__default__export__.createMeasurement),__TURBOPACK__default__export__.DataSource=function(){return this.data=[],this.columnHeaders=[],this.rowHeaders=[],this},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.DataSource.prototype,{loadFromArray:function(a,b,c){var d,e,f;if(__TURBOPACK__default__export__3.isArray(b)&&(this.columnHeaders=b,b=!1),__TURBOPACK__default__export__3.isArray(c)&&(this.rowHeaders=c,c=!1),this.data=[],b&&(this.columnHeaders=[]),c&&(this.rowHeaders=[]),__TURBOPACK__default__export__3.exists(a)){for(d=0,this.data=[];d<a.length;d++)for(e=0,this.data[d]=[];e<a[d].length;e++)parseFloat(f=a[d][e]).toString()===f?this.data[d][e]=parseFloat(f):"-"!==f?this.data[d][e]=f:this.data[d][e]=NaN;if(b&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),c)for(d=0,this.rowHeaders=[];d<this.data.length;d++)this.rowHeaders.push(this.data[d][0]),this.data[d]=this.data[d].slice(1)}return this},loadFromTable:function(a,b,c){var d,e,f,g,h;if(__TURBOPACK__default__export__3.isArray(b)&&(this.columnHeaders=b,b=!1),__TURBOPACK__default__export__3.isArray(c)&&(this.rowHeaders=c,c=!1),this.data=[],b&&(this.columnHeaders=[]),c&&(this.rowHeaders=[]),a=document.getElementById(a),__TURBOPACK__default__export__3.exists(a)){for(e=0,d=a.getElementsByTagName("tr"),this.data=[];e<d.length;e++)for(f=0,g=d[e].getElementsByTagName("td"),this.data[e]=[];f<g.length;f++)parseFloat(h=g[f].innerHTML).toString()===h?this.data[e][f]=parseFloat(h):"-"!==h?this.data[e][f]=h:this.data[e][f]=NaN;if(b&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),c)for(e=0,this.rowHeaders=[];e<this.data.length;e++)this.rowHeaders.push(this.data[e][0]),this.data[e]=this.data[e].slice(1)}return this},addColumn:function(a,b,c){throw Error("not implemented")},addRow:function(a,b,c){throw Error("not implemented")},getColumn:function(a){var b,c=[];if(__TURBOPACK__default__export__3.isString(a)){for(b=0;b<this.columnHeaders.length;b++)if(a===this.columnHeaders[b]){a=b;break}}for(b=0;b<this.data.length;b++)this.data[b].length>a&&(c[b]=parseFloat(this.data[b][a]));return c},getRow:function(a){var b,c;if(__TURBOPACK__default__export__3.isString(a)){for(c=0;c<this.rowHeaders.length;c++)if(a===this.rowHeaders[c]){a=c;break}}for(c=0,b=[];c<this.data[a].length;c++)b[c]=this.data[a][c];return b}});let __TURBOPACK__default__export__51=__TURBOPACK__default__export__.DataSource;__TURBOPACK__default__export__.Chart=function(a,b,c){var d,e,f,g,h,i;if(this.constructor(a,c),!__TURBOPACK__default__export__3.isArray(b)||0===b.length)throw Error("JSXGraph: Can't create a chart without data");if(this.elements=[],__TURBOPACK__default__export__3.isNumber(b[0]))for(f=0,e=b,d=[];f<e.length;f++)d[f]=f+1;else if(1===b.length&&__TURBOPACK__default__export__3.isArray(b[0]))for(f=0,e=b[0],d=[],i=__TURBOPACK__default__export__3.evaluate(e).length;f<i;f++)d[f]=f+1;else 2===b.length&&(i=Math.min(b[0].length,b[1].length),d=b[0].slice(0,i),e=b[1].slice(0,i));if(__TURBOPACK__default__export__3.isArray(e)&&0===e.length)throw Error("JSXGraph: Can't create charts without data.");for(f=0,h=c.chartstyle.replace(/ /g,"").split(",");f<h.length;f++){switch(h[f]){case"bar":g=this.drawBar(a,d,e,c);break;case"line":g=this.drawLine(a,d,e,c);break;case"fit":g=this.drawFit(a,d,e,c);break;case"spline":g=this.drawSpline(a,d,e,c);break;case"pie":g=this.drawPie(a,e,c);break;case"point":g=this.drawPoints(a,d,e,c);break;case"radar":g=this.drawRadar(a,b,c)}this.elements.push(g)}return this.id=this.board.setId(this,"Chart"),this.elements},__TURBOPACK__default__export__.Chart.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Chart.prototype,{drawLine:function(a,b,c,d){return d.fillcolor="none",d.highlightfillcolor="none",a.create("curve",[b,c],d)},drawSpline:function(a,b,c,d){return d.fillColor="none",d.highlightfillcolor="none",a.create("spline",[b,c],d)},drawFit:function(a,b,c,d){var e=d.degree;return e=Math.max(parseInt(e,10),1)||1,d.fillcolor="none",d.highlightfillcolor="none",a.create("functiongraph",[__TURBOPACK__default__export__13.regressionPolynomial(e,b,c)],d)},drawBar:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o=[],p=[],q=function(a,c){return function(){return b[a]()-c*g}},r={fixed:!0,withLabel:!1,visible:!1,name:""};if((m=__TURBOPACK__default__export__3.copyAttributes(d,a.options,"chart"))&&m.width)g=m.width;else{if(b.length<=1)g=1;else for(e=1,g=b[1]-b[0];e<b.length-1;e++)g=b[e+1]-b[e]<g?b[e+1]-b[e]:g;g*=.8}for(e=0,n=__TURBOPACK__default__export__3.copyAttributes(d,a.options,"chart","label");e<b.length;e++)__TURBOPACK__default__export__3.isFunction(b[e])?(h=q(e,-.5),i=q(e,0),j=q(e,.5)):(h=b[e]-.5*g,i=b[e],j=b[e]+.5*g),k=__TURBOPACK__default__export__3.isFunction(c[e])?c[e]():c[e],k=c[e],"horizontal"===m.dir?(p[0]=a.create("point",[0,h],r),p[1]=a.create("point",[k,h],r),p[2]=a.create("point",[k,j],r),p[3]=a.create("point",[0,j],r),__TURBOPACK__default__export__3.exists(m.labels)&&__TURBOPACK__default__export__3.exists(m.labels[e])&&(n.anchorX=function(a){return a.X()>=0?"left":"right"},n.anchorY="middle",f=a.create("text",[k,i,m.labels[e]],n))):(p[0]=a.create("point",[h,0],r),p[1]=a.create("point",[h,k],r),p[2]=a.create("point",[j,k],r),p[3]=a.create("point",[j,0],r),__TURBOPACK__default__export__3.exists(m.labels)&&__TURBOPACK__default__export__3.exists(m.labels[e])&&(n.anchorX="middle",n.anchorY=function(a){return a.Y()>=0?"bottom":"top"},f=a.create("text",[i,k,m.labels[e]],n))),__TURBOPACK__default__export__3.isArray(m.colors)&&(l=m.colors,m.fillcolor=l[e%l.length]),o[e]=a.create("polygon",p,m),__TURBOPACK__default__export__3.exists(m.labels)&&__TURBOPACK__default__export__3.exists(m.labels[e])&&(o[e].text=f,o[e].addChild(f));return o},drawPoints:function(a,b,c,d){var e,f=[],g=d.infoboxarray;for(e=0,d.fixed=!0,d.name="";e<b.length;e++)d.infoboxtext=!!g&&g[e%g.length],f[e]=a.create("point",[b[e],c[e]],d);return f},drawPie:function(a,b,c){var d,e,f=[],g=[],h=c.colors,i=c.highlightcolors,j=c.labels,k=c.radius||4,l=k,m=c.center||[0,0],n=m[0],o=m[1],p=function(a,c,d){return function(){var e,f,g,h=0;for(f=0;f<=a;f++)h+=parseFloat(__TURBOPACK__default__export__3.evaluate(b[f]));for(e=h,f=a+1;f<b.length;f++)e+=parseFloat(__TURBOPACK__default__export__3.evaluate(b[f]));return g=0!==e?2*Math.PI*h/e:0,l()*Math[c](g)+d}},q=function(a,b){var c=-this.point1.coords.usrCoords[1]+this.point2.coords.usrCoords[1],d=-this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[2];__TURBOPACK__default__export__3.exists(this.label)&&(this.label.rendNode.style.fontSize=b*this.label.evalVisProp("fontsize")+"px",this.label.fullUpdate()),this.point2.coords=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.point1.coords.usrCoords[1]+c*a,this.point1.coords.usrCoords[2]+d*a],this.board),this.fullUpdate()},r=function(){this.highlighted||(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this),q.call(this,1.1,2))},s=function(){this.highlighted&&(this.highlighted=!1,this.board.renderer.noHighlight(this),q.call(this,.9090909,1))},t={fixed:!0,withLabel:!1,visible:!1,name:""};if(!__TURBOPACK__default__export__3.isArray(j))for(d=0,j=[];d<b.length;d++)j[d]="";for(__TURBOPACK__default__export__3.isFunction(k)||(l=function(){return k}),c.highlightonsector=c.highlightonsector||!1,c.straightfirst=!1,c.straightlast=!1,e=a.create("point",[n,o],t),f[0]=a.create("point",[function(){return l()+n},function(){return o}],t),d=0;d<b.length;d++)f[d+1]=a.create("point",[p(d,"cos",n),p(d,"sin",o)],t),c.name=j[d],c.withlabel=""!==c.name,c.fillcolor=h&&h[d%h.length],c.labelcolor=h&&h[d%h.length],c.highlightfillcolor=i&&i[d%i.length],g[d]=a.create("sector",[e,f[d],f[d+1]],c),c.highlightonsector&&(g[d].hasPoint=g[d].hasPointSector),c.highlightbysize&&(g[d].highlight=r,g[d].noHighlight=s);return{sectors:g,points:f,midpoint:e}},drawRadar:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T=b.length,U=function(){var a,b,c,d,e=this.evalVisProp("label.offset).slice(0");return a=this.point1.X(),b=this.point2.X(),c=this.point1.Y(),d=this.point2.Y(),b<a&&(e[0]=-e[0]),d<c&&(e[1]=-e[1]),this.setLabelRelativeCoords(e),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)},V=function(b,c){var d,e,f;return d=a.create("transform",[-(r[c]-p[c]),0],{type:"translate"}),e=a.create("transform",[v/(s[c]+q[c]-(r[c]-p[c])),1],{type:"scale"}),d.melt(e),f=a.create("transform",[b],{type:"rotate"}),d.melt(f),d};if(T<=0)throw Error("JSXGraph radar chart: no data");if(f=c.paramarray,!__TURBOPACK__default__export__3.exists(f))throw Error("JSXGraph radar chart: need paramArray attribute");if((g=f.length)<=1)throw Error("JSXGraph radar chart: need more than one param in paramArray");for(d=0;d<T;d++)if(g!==b[d].length)throw Error("JSXGraph radar chart: use data length equal to number of params ("+b[d].length+" != "+g+")");for(e=0,h=[],i=[];e<g;e++)h[e]=b[0][e],i[e]=h[e];for(d=1;d<T;d++)for(e=0;e<g;e++)b[d][e]>h[e]&&(h[e]=b[d][e]),b[d][e]<i[e]&&(i[e]=b[d][e]);for(d=0,j=[],k=[];d<T;d++)j[d]="",k[d]=[];for(d=0,l=[],m=[],n=c.startshiftratio||0,o=c.endshiftratio||0;d<g;d++)l[d]=(h[d]-i[d])*n,m[d]=(h[d]-i[d])*o;if(p=c.startshiftarray||l,q=c.endshiftarray||m,r=c.startarray||i,__TURBOPACK__default__export__3.exists(c.start))for(d=0;d<g;d++)r[d]=c.start;if(s=c.endarray||h,__TURBOPACK__default__export__3.exists(c.end))for(d=0;d<g;d++)s[d]=c.end;if(p.length!==g)throw Error("JSXGraph radar chart: start shifts length is not equal to number of parameters");if(q.length!==g)throw Error("JSXGraph radar chart: end shifts length is not equal to number of parameters");if(r.length!==g)throw Error("JSXGraph radar chart: starts length is not equal to number of parameters");if(s.length!==g)throw Error("JSXGraph radar chart: snds length is not equal to number of parameters");for(t=c.labelarray||j,u=c.colors,v=c.radius||10,R=c.strokewidth||1,__TURBOPACK__default__export__3.exists(c.highlightonsector)||(c.highlightonsector=!1),w={name:c.name,id:c.id,strokewidth:R,polystrokewidth:c.polystrokewidth||R,strokecolor:c.strokecolor||"black",straightfirst:!1,straightlast:!1,fillcolor:c.fillColor||"#FFFF88",fillopacity:c.fillOpacity||.4,highlightfillcolor:c.highlightFillColor||"#FF7400",highlightstrokecolor:c.highlightStrokeColor||"black",gradient:c.gradient||"none"},y=(x=c.center||[0,0])[0],z=x[1],A=a.create("point",[y,z],{name:"",fixed:!0,withlabel:!1,visible:!1}),B=Math.PI/2-Math.PI/g,C=B=c.startangle||0,D=[],E=[],d=0;d<g;d++)for(C+=2*Math.PI/g,G=v*Math.cos(C)+y,H=v*Math.sin(C)+z,D[d]=a.create("point",[G,H],{name:"",fixed:!0,withlabel:!1,visible:!1}),E[d]=a.create("line",[A,D[d]],{name:f[d],strokeColor:w.strokecolor,strokeWidth:w.strokewidth,strokeOpacity:1,straightFirst:!1,straightLast:!1,withLabel:!0,highlightStrokeColor:w.highlightstrokecolor}),E[d].getLabelAnchor=U,F=V(C,d),e=0;e<b.length;e++)S=b[e][d],k[e][d]=a.create("point",[S,0],{name:"",fixed:!0,withlabel:!1,visible:!1}),k[e][d].addTransform(k[e][d],F);for(d=0,I=[];d<T;d++)for(e=0,w.labelcolor=u&&u[d%u.length],w.strokecolor=u&&u[d%u.length],w.fillcolor=u&&u[d%u.length],I[d]=a.create("polygon",k[d],{withLines:!0,withLabel:!1,fillColor:w.fillcolor,fillOpacity:w.fillopacity,highlightFillColor:w.highlightfillcolor});e<g;e++)I[d].borders[e].setAttribute("strokecolor:"+u[d%u.length]),I[d].borders[e].setAttribute("strokewidth:"+w.polystrokewidth);switch(c.legendposition||"none"){case"right":K=c.legendleftoffset||2,L=c.legendtopoffset||1,this.legend=a.create("legend",[y+v+K,z+v-L],{labels:t,colors:u});break;case"none":break;default:__TURBOPACK__default__export__.debug("Unknown legend position")}if(J=[],c.showcircles){for(d=0,M=[];d<6;d++)M[d]=20*d;if(M[0]="0",(O=(N=c.circlelabelarray||M).length)<2)throw Error("JSXGraph radar chart: too less circles in circleLabelArray");for(d=0,P=[],F=V(B+Math.PI/g,0),w.fillcolor="none",w.highlightfillcolor="none",w.strokecolor=c.strokecolor||"black",w.strokewidth=c.circlestrokewidth||.5,w.layer=0,Q=(s[0]-r[0])/(O-1);d<O;d++)P[d]=a.create("point",[r[0]+d*Q,0],{name:N[d],size:0,fixed:!0,withLabel:!0,visible:!0}),P[d].addTransform(P[d],F),J[d]=a.create("circle",[A,P[d]],w)}return this.rendNode=I[0].rendNode,{circles:J,lines:E,points:k,midpoint:A,polygons:I}},updateRenderer:function(){return this},update:function(){return this.needsUpdate&&this.updateDataArray(),this},updateDataArray:function(){return this}}),__TURBOPACK__default__export__.createChart=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=[],u=__TURBOPACK__default__export__4.isBrowser?a.document.getElementById(b[0]):null;if(1===b.length&&__TURBOPACK__default__export__3.isString(b[0])){if(__TURBOPACK__default__export__3.exists(u)){if(l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"chart"),d=(u=new __TURBOPACK__default__export__51().loadFromTable(b[0],l.withheaders,l.withheaders)).data,h=u.columnHeaders,e=u.rowHeaders,m=l.width,n=l.name,o=l.strokecolor,p=l.fillcolor,q=l.highlightstrokecolor,r=l.highlightfillcolor,a.suspendUpdate(),s=d.length,k=[],l.rows&&__TURBOPACK__default__export__3.isArray(l.rows)){for(f=0;f<s;f++)for(g=0;g<l.rows.length;g++)if(l.rows[g]===f||l.withheaders&&l.rows[g]===e[f]){k.push(d[f]);break}}else k=d;for(f=0,s=k.length;f<s;f++){if(j=[],l.chartstyle&&-1!==l.chartstyle.indexOf("bar")){for(i=m||.8,j.push(1-i/2+(f+.5)*i/s),g=1;g<k[f].length;g++)j.push(j[g-1]+1);l.width=i/s}n&&n.length===s?l.name=n[f]:l.withheaders&&(l.name=h[f]),o&&o.length===s?l.strokecolor=o[f]:l.strokecolor=__TURBOPACK__default__export__24.hsv2rgb((f+1)/s*360,.9,.6),p&&p.length===s?l.fillcolor=p[f]:l.fillcolor=__TURBOPACK__default__export__24.hsv2rgb((f+1)/s*360,.9,1),q&&q.length===s?l.highlightstrokecolor=q[f]:l.highlightstrokecolor=__TURBOPACK__default__export__24.hsv2rgb((f+1)/s*360,.9,1),r&&r.length===s?l.highlightfillcolor=r[f]:l.highlightfillcolor=__TURBOPACK__default__export__24.hsv2rgb((f+1)/s*360,.9,.6),l.chartstyle&&-1!==l.chartstyle.indexOf("bar")?t.push(new __TURBOPACK__default__export__.Chart(a,[j,k[f]],l)):t.push(new __TURBOPACK__default__export__.Chart(a,[k[f]],l))}a.unsuspendUpdate()}return t}return l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"chart"),new __TURBOPACK__default__export__.Chart(a,b,l)},__TURBOPACK__default__export__.registerElement("chart",__TURBOPACK__default__export__.createChart),__TURBOPACK__default__export__.Legend=function(a,b,c){var d;if(this.constructor(),d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"legend"),this.board=a,this.coords=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,b,this.board),this.myAtts={},this.label_array=d.labelarray||d.labels,this.color_array=d.colorarray||d.colors,this.opacy_array=d.strokeopacity||[1],this.lines=[],this.myAtts.strokewidth=d.strokewidth||5,this.myAtts.straightfirst=!1,this.myAtts.straightlast=!1,this.myAtts.withlabel=!0,this.myAtts.fixed=!0,this.myAtts.frozen=d.frozen||!1,this.style=d.legendstyle||d.style,"vertical"===this.style)this.drawVerticalLegend(a,d);else throw Error("JSXGraph: Unknown legend style: "+this.style);this.id=this.board.setId(this,"Leg")},__TURBOPACK__default__export__.Legend.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__.Legend.prototype.drawVerticalLegend=function(a,b){var c,d=b.linelength||1,e=(b.rowheight||20)/this.board.unitY,f=function(){return this.setLabelRelativeCoords(this.visProp.label.offset),new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)};for(c=0;c<this.label_array.length;c++)this.myAtts.name=this.label_array[c],this.myAtts.strokecolor=this.color_array[c%this.color_array.length],this.myAtts.highlightstrokecolor=this.color_array[c%this.color_array.length],this.myAtts.strokeopacity=this.opacy_array[c%this.opacy_array.length],this.myAtts.highlightstrokeopacity=this.opacy_array[c%this.opacy_array.length],this.myAtts.label={offset:[10,0],strokeColor:this.color_array[c%this.color_array.length],strokeWidth:this.myAtts.strokewidth},this.lines[c]=a.create("line",[[this.coords.usrCoords[1],this.coords.usrCoords[2]-c*e],[this.coords.usrCoords[1]+d,this.coords.usrCoords[2]-c*e]],this.myAtts),this.myAtts.frozen&&this.lines[c].setAttribute({point1:{frozen:!0},point2:{frozen:!0}}),this.lines[c].getLabelAnchor=f,this.lines[c].prepareUpdate().update().updateVisibility(this.lines[c].evalVisProp("visible")).updateRenderer(),this.addChild(this.lines[c])},__TURBOPACK__default__export__.createLegend=function(a,b,c){var d=[0,0];if(__TURBOPACK__default__export__3.exists(b)&&2===b.length)d=b;else throw Error("JSXGraph: Legend element needs two numbers as parameters");return new __TURBOPACK__default__export__.Legend(a,d,c)},__TURBOPACK__default__export__.registerElement("legend",__TURBOPACK__default__export__.createLegend);let __TURBOPACK__default__export__52={Chart:__TURBOPACK__default__export__.Chart,Legend:__TURBOPACK__default__export__.Legend};__TURBOPACK__default__export__.Transformation=function(a,b,c,d){this.elementClass=__TURBOPACK__default__export__1.OBJECT_CLASS_OTHER,this.type=__TURBOPACK__default__export__1.OBJECT_TYPE_TRANSFORMATION,d?(this.is3D=!0,this.matrix=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]):(this.is3D=!1,this.matrix=[[1,0,0],[0,1,0],[0,0,1]]),this.board=a,this.isNumericMatrix=!1,this.is3D?this.setMatrix3D(c[0],b,c.slice(1)):this.setMatrix(a,b,c),this.methodMap={apply:"apply",applyOnce:"applyOnce",bindTo:"bindTo",bind:"bindTo",melt:"melt",meltTo:"meltTo"}},__TURBOPACK__default__export__.Transformation.prototype={},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Transformation.prototype,{update:function(){return this},setMatrix:function(a,b,c){var d;for(d=0,this.isNumericMatrix=!0;d<c.length;d++)if("number"!=typeof c[d]){this.isNumericMatrix=!1;break}if("translate"===b){if(2!==c.length)throw Error("JSXGraph: translate transformation needs 2 parameters.");this.evalParam=__TURBOPACK__default__export__3.createEvalFunction(a,c,2),this.update=function(){this.matrix[1][0]=this.evalParam(0),this.matrix[2][0]=this.evalParam(1)}}else if("scale"===b){if(2!==c.length)throw Error("JSXGraph: scale transformation needs 2 parameters.");this.evalParam=__TURBOPACK__default__export__3.createEvalFunction(a,c,2),this.update=function(){this.matrix[1][1]=this.evalParam(0),this.matrix[2][2]=this.evalParam(1)}}else if("reflect"===b)c.length<4&&(c[0]=a.select(c[0])),2===c.length&&(c[1]=a.select(c[1])),4===c.length&&(this.evalParam=__TURBOPACK__default__export__3.createEvalFunction(a,c,4)),this.update=function(){var a,b,d,e,f,g,h,i;1===c.length?h=c[0].stdform:2===c.length?h=__TURBOPACK__default__export__2.crossProduct(c[1].coords.usrCoords,c[0].coords.usrCoords):4===c.length&&(h=__TURBOPACK__default__export__2.crossProduct([1,this.evalParam(2),this.evalParam(3)],[1,this.evalParam(0),this.evalParam(1)])),a=h[1],b=h[2],g=(i=[-(d=h[0])*a,-d*b,a*a+b*b])[2],e=i[0]/i[2],f=i[1]/i[2],a=-h[2],b=h[1],this.matrix[1][1]=(a*a-b*b)/g,this.matrix[1][2]=2*a*b/g,this.matrix[2][1]=this.matrix[1][2],this.matrix[2][2]=-this.matrix[1][1],this.matrix[1][0]=e*(1-this.matrix[1][1])-f*this.matrix[1][2],this.matrix[2][0]=f*(1-this.matrix[2][2])-e*this.matrix[2][1]};else if("rotate"===b)3===c.length?this.evalParam=__TURBOPACK__default__export__3.createEvalFunction(a,c,3):c.length>0&&c.length<=2&&(this.evalParam=__TURBOPACK__default__export__3.createEvalFunction(a,c,1),2!==c.length||__TURBOPACK__default__export__3.isArray(c[1])||(c[1]=a.select(c[1]))),this.update=function(){var a,b,d=this.evalParam(0),e=Math.cos(d),f=Math.sin(d);this.matrix[1][1]=e,this.matrix[1][2]=-f,this.matrix[2][1]=f,this.matrix[2][2]=e,c.length>1&&(3===c.length?(a=this.evalParam(1),b=this.evalParam(2)):__TURBOPACK__default__export__3.isArray(c[1])?(a=c[1][0],b=c[1][1]):(a=c[1].X(),b=c[1].Y()),this.matrix[1][0]=a*(1-e)+b*f,this.matrix[2][0]=b*(1-e)-a*f)};else if("shear"===b){if(2!==c.length)throw Error("JSXGraph: shear transformation needs 2 parameters.");this.evalParam=__TURBOPACK__default__export__3.createEvalFunction(a,c,2),this.update=function(){this.matrix[1][2]=this.evalParam(0),this.matrix[2][1]=this.evalParam(1)}}else if("generic"===b){if(9!==c.length)throw Error("JSXGraph: generic transformation needs 9 parameters.");this.evalParam=__TURBOPACK__default__export__3.createEvalFunction(a,c,9),this.update=function(){this.matrix[0][0]=this.evalParam(0),this.matrix[0][1]=this.evalParam(1),this.matrix[0][2]=this.evalParam(2),this.matrix[1][0]=this.evalParam(3),this.matrix[1][1]=this.evalParam(4),this.matrix[1][2]=this.evalParam(5),this.matrix[2][0]=this.evalParam(6),this.matrix[2][1]=this.evalParam(7),this.matrix[2][2]=this.evalParam(8)}}else if("matrix"===b){if(1!==c.length)throw Error("JSXGraph: transformation of type 'matrix' needs 1 parameter.");this.evalParam=c[0].slice(),this.update=function(){var a,b;for(a=0;a<3;a++)for(b=0;b<3;b++)this.matrix[a][b]=__TURBOPACK__default__export__3.evaluate(this.evalParam[a][b])}}},setMatrix3D:function(a,b,c){var d,e=a.board;for(d=0,this.isNumericMatrix=!0;d<c.length;d++)if("number"!=typeof c[d]){this.isNumericMatrix=!1;break}if("translate"===b){if(3!==c.length)throw Error("JSXGraph: 3D translate transformation needs 3 parameters.");this.evalParam=__TURBOPACK__default__export__3.createEvalFunction(e,c,3),this.update=function(){this.matrix[1][0]=this.evalParam(0),this.matrix[2][0]=this.evalParam(1),this.matrix[3][0]=this.evalParam(2)}}else if("scale"===b){if(3!==c.length&&4!==c.length)throw Error("JSXGraph: 3D scale transformation needs either 3 or 4 parameters.");this.evalParam=__TURBOPACK__default__export__3.createEvalFunction(e,c,3),this.update=function(){var a=this.evalParam(0),b=this.evalParam(1),c=this.evalParam(2);this.matrix[1][1]=a,this.matrix[2][2]=b,this.matrix[3][3]=c}}else if("rotateX"===b)c.splice(1,0,[1,0,0]),this.setMatrix3D(a,"rotate",c);else if("rotateY"===b)c.splice(1,0,[0,1,0]),this.setMatrix3D(a,"rotate",c);else if("rotateZ"===b)c.splice(1,0,[0,0,1]),this.setMatrix3D(a,"rotate",c);else if("rotate"===b){if(c.length<2)throw Error("JSXGraph: 3D rotate transformation needs 2 or 3 parameters.");3!==c.length||__TURBOPACK__default__export__3.isFunction(c[2])||__TURBOPACK__default__export__3.isArray(c[2])?this.evalParam=__TURBOPACK__default__export__3.createEvalFunction(e,c,c.length):(this.evalParam=__TURBOPACK__default__export__3.createEvalFunction(e,c,2),c[2]=a.select(c[2])),this.update=function(){var a,b,d,e=this.evalParam(0),f=this.evalParam(1),g=[1,0,0,0],h=Math.cos(e),i=Math.sin(e),j=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],k=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],l=__TURBOPACK__default__export__2.norm(f);3===f.length?(a=f[0]/l,b=f[1]/l,d=f[2]/l):(a=f[1]/l,b=f[2]/l,d=f[3]/l),3===c.length&&(3===(g=3===c.length&&__TURBOPACK__default__export__3.exists(c[2].is3D)?c[2].coords.slice():this.evalParam(2)).length&&g.unshift(1),j[1][0]=-g[1],j[2][0]=-g[2],j[3][0]=-g[3],k[1][0]=g[1],k[2][0]=g[2],k[3][0]=g[3]),this.matrix=[[1,0,0,0],[0,a*a*(1-h)+h,a*b*(1-h)-d*i,a*d*(1-h)+b*i],[0,b*a*(1-h)+d*i,b*b*(1-h)+h,b*d*(1-h)-a*i],[0,d*a*(1-h)-b*i,d*b*(1-h)+a*i,d*d*(1-h)+h]],this.matrix=__TURBOPACK__default__export__2.matMatMult(this.matrix,j),this.matrix=__TURBOPACK__default__export__2.matMatMult(k,this.matrix)}}},apply:function(a,b){var c;return this.update(),c=this.is3D?a.coords:__TURBOPACK__default__export__3.exists(b)?a.initialCoords.usrCoords:a.coords.usrCoords,__TURBOPACK__default__export__2.matVecMult(this.matrix,c)},applyOnce:function(a){var b,c,d;for(__TURBOPACK__default__export__3.isArray(a)||(a=[a]),c=a.length,d=0;d<c;d++)this.update(),this.is3D?a[d].coords=__TURBOPACK__default__export__2.matVecMult(this.matrix,a[d].coords):(b=__TURBOPACK__default__export__2.matVecMult(this.matrix,a[d].coords.usrCoords),a[d].coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,b))},bindTo:function(a){var b,c;if(__TURBOPACK__default__export__3.isArray(a))for(b=0,c=a.length;b<c;b++)a[b].transformations.push(this);else a.transformations.push(this)},meltTo:function(a){var b,c,d;if(__TURBOPACK__default__export__3.isArray(a))for(b=0;b<a.length;b++)this.meltTo(a[b]);else(c=a.transformations).length>0&&c[c.length-1].isNumericMatrix&&this.isNumericMatrix?c[c.length-1].melt(this):(d=this.clone(),c.push(d))},clone:function(){var a=null;return this.isNumericMatrix&&((a=new __TURBOPACK__default__export__.Transformation(this.board,"none",[])).matrix=this.matrix.slice()),a},setProperty:function(a){__TURBOPACK__default__export__.deprecated("Transformation.setProperty()","Transformation.setAttribute()")},setAttribute:function(a){},melt:function(a){var b=[];return this.update(),a.update(),b=__TURBOPACK__default__export__2.matMatMult(a.matrix,this.matrix),this.update=function(){this.matrix=b},this},getParents:function(){var a=[[].concat.apply([],this.matrix)];return 0!==this.parents.length&&(a=this.parents),a}}),__TURBOPACK__default__export__.createTransform=function(a,b,c){return new __TURBOPACK__default__export__.Transformation(a,c.type,b)},__TURBOPACK__default__export__.registerElement("transform",__TURBOPACK__default__export__.createTransform),__TURBOPACK__default__export__.createTransform3D=function(a,b,c){return new __TURBOPACK__default__export__.Transformation(a,c.type,b,!0)},__TURBOPACK__default__export__.registerElement("transform3d",__TURBOPACK__default__export__.createTransform3D);let __TURBOPACK__default__export__53=__TURBOPACK__default__export__.Transformation;__TURBOPACK__default__export__.Turtle=function(a,b,c){var d,e,f;return this.constructor(a,c,__TURBOPACK__default__export__1.OBJECT_TYPE_TURTLE,__TURBOPACK__default__export__1.OBJECT_CLASS_OTHER),this.turtleIsHidden=!1,this.board=a,this.visProp.curveType="plot",this._attributes=__TURBOPACK__default__export__3.copyAttributes(this.visProp,a.options,"turtle"),delete this._attributes.id,d=0,e=0,f=90,0!==b.length&&(3===b.length?(d=b[0],e=b[1],f=b[2]):2===b.length?__TURBOPACK__default__export__3.isArray(b[0])?(d=b[0][0],e=b[0][1],f=b[1]):(d=b[0],e=b[1]):(d=b[0][0],e=b[0][1])),this.init(d,e,f),this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{forward:"forward",fd:"forward",back:"back",bk:"back",right:"right",rt:"right",left:"left",lt:"left",penUp:"penUp",pu:"penUp",up:"penUp",penDown:"penDown",pd:"penDown",down:"penDown",clearScreen:"clearScreen",cs:"clearScreen",clean:"clean",setPos:"setPos",home:"home",hideTurtle:"hideTurtle",ht:"hideTurtle",hide:"hideTurtle",showTurtle:"showTurtle",st:"showTurtle",show:"showTurtle",penSize:"setPenSize",setPenSize:"setPenSize",penColor:"setPenColor",setPenColor:"setPenColor",highlightPenColor:"setHighlightPenColor",setHighlightPenColor:"setHighlightPenColor",getPenColor:"getPenColor",Color:"getPenColor",getHighlightPenColor:"getHighlightPenColor",HighlightColor:"getHighlightPenColor",getPenSize:"getPenSize",Size:"getPenSize",pushTurtle:"pushTurtle",push:"pushTurtle",popTurtle:"popTurtle",pop:"popTurtle",lookTo:"lookTo",pos:"pos",Pos:"pos",moveTo:"moveTo",X:"X",Y:"Y"}),this},__TURBOPACK__default__export__.Turtle.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Turtle.prototype,{init:function(a,b,c){var d={fixed:!0,name:"",visible:!1,withLabel:!1};this.arrowLen=20/__TURBOPACK__default__export__2.hypot(this.board.unitX,this.board.unitY),this.pos=[a,b],this.isPenDown=!0,this.dir=90,this.stack=[],this.objects=[],this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.turtle=this.board.create("point",this.pos,d),this.objects.push(this.turtle),this.turtle2=this.board.create("point",[this.pos[0],this.pos[1]+this.arrowLen],d),this.objects.push(this.turtle2),this.visProp.arrow.lastArrow=!0,this.visProp.arrow.straightFirst=!1,this.visProp.arrow.straightLast=!1,this.arrow=this.board.create("line",[this.turtle,this.turtle2],this.visProp.arrow),this.objects.push(this.arrow),this.subs={arrow:this.arrow},this.inherits.push(this.arrow),this.right(90-c),this.board.update()},forward:function(a){if(0===a)return this;var b,c=a*Math.cos(this.dir*Math.PI/180),d=a*Math.sin(this.dir*Math.PI/180);return this.turtleIsHidden||((b=this.board.create("transform",[c,d],{type:"translate"})).applyOnce(this.turtle),b.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]+=c,this.pos[1]+=d,this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update(),this},back:function(a){return this.forward(-a)},right:function(a){return this.dir-=a,this.dir%=360,this.turtleIsHidden||this.board.create("transform",[-a*Math.PI/180,this.turtle],{type:"rotate"}).applyOnce(this.turtle2),this.board.update(),this},left:function(a){return this.right(-a)},penUp:function(){return this.isPenDown=!1,this},penDown:function(){return this.isPenDown=!0,this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this},clean:function(){var a,b;for(a=0;a<this.objects.length;a++)(b=this.objects[a]).type===__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE&&(this.board.removeObject(b),this.objects.splice(a,1));return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},clearScreen:function(){var a,b,c=this.objects.length;for(a=0;a<c;a++)b=this.objects[a],this.board.removeObject(b);return this.init(0,0,90),this},setPos:function(a,b){return __TURBOPACK__default__export__3.isArray(a)?this.pos=a:this.pos=[a,b],this.turtleIsHidden||(this.turtle.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,[a,b]),this.turtle2.setPositionDirectly(__TURBOPACK__default__export__1.COORDS_BY_USER,[a,b+this.arrowLen]),this.board.create("transform",[-(this.dir-90)*Math.PI/180,this.turtle],{type:"rotate"}).applyOnce(this.turtle2)),this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},setPenSize:function(a){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeWidth",a)),this.objects.push(this.curve),this},setPenColor:function(a){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeColor",a)),this.objects.push(this.curve),this},getPenAttribute:function(a){var b,c=this.objects.length;return b=4===c?0:c-1,this.objects[b].evalVisProp(a)},getPenSize:function(){return this.getPenAttribute("strokewidth")},getPenColor:function(){return this.getPenAttribute("strokecolor")},getHighlightPenColor:function(){return this.getPenAttribute("highlightstrokecolor")},setHighlightPenColor:function(a){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("highlightStrokeColor",a)),this.objects.push(this.curve),this},setAttribute:function(a){var b,c,d,e=this.objects.length;for(b=0;b<e;b++)(c=this.objects[b]).type===__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE&&c.setAttribute(a);return d=this.visProp.id,this.visProp=__TURBOPACK__default__export__3.deepCopy(this.curve.visProp),this.visProp.id=d,this._attributes=__TURBOPACK__default__export__3.deepCopy(this.visProp),delete this._attributes.id,this},copyAttr:function(a,b){return this._attributes[a.toLowerCase()]=b,this._attributes},showTurtle:function(){return this.turtleIsHidden=!1,this.arrow.setAttribute({visible:!0}),this.visProp.arrow.visible=!1,this.setPos(this.pos[0],this.pos[1]),this.board.update(),this},hideTurtle:function(){return this.turtleIsHidden=!0,this.arrow.setAttribute({visible:!1}),this.visProp.arrow.visible=!1,this.board.update(),this},home:function(){return this.pos=[0,0],this.setPos(this.pos[0],this.pos[1]),this},pushTurtle:function(){return this.stack.push([this.pos[0],this.pos[1],this.dir]),this},popTurtle:function(){var a=this.stack.pop();return this.pos[0]=a[0],this.pos[1]=a[1],this.dir=a[2],this.setPos(this.pos[0],this.pos[1]),this},lookTo:function(a){var b,c,d,e;return __TURBOPACK__default__export__3.isArray(a)?(b=this.pos[0],c=this.pos[1],d=a[0],e=Math.atan2(a[1]-c,d-b),this.right(this.dir-180*e/Math.PI)):__TURBOPACK__default__export__3.isNumber(a)&&this.right(this.dir-a),this},moveTo:function(a){var b,c,d;return __TURBOPACK__default__export__3.isArray(a)&&(b=a[0]-this.pos[0],c=a[1]-this.pos[1],this.turtleIsHidden||((d=this.board.create("transform",[b,c],{type:"translate"})).applyOnce(this.turtle),d.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]=a[0],this.pos[1]=a[1],this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update()),this},fd:function(a){return this.forward(a)},bk:function(a){return this.back(a)},lt:function(a){return this.left(a)},rt:function(a){return this.right(a)},pu:function(){return this.penUp()},pd:function(){return this.penDown()},ht:function(){return this.hideTurtle()},st:function(){return this.showTurtle()},cs:function(){return this.clearScreen()},push:function(){return this.pushTurtle()},pop:function(){return this.popTurtle()},evalAt:function(a,b){var c,d,e,f,g=this.objects.length;for(c=0,d=0;c<g;c++)if((e=this.objects[c]).elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE){if(d<=a&&a<d+e.numberPoints)return f=a-d,e[b](f);d+=e.numberPoints}return this[b]()},X:function(a){return __TURBOPACK__default__export__3.exists(a)?this.evalAt(a,"X"):this.pos[0]},Y:function(a){return __TURBOPACK__default__export__3.exists(a)?this.evalAt(a,"Y"):this.pos[1]},Z:function(a){return 1},minX:function(){return 0},maxX:function(){var a,b=this.objects.length,c=0;for(a=0;a<b;a++)this.objects[a].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&(c+=this.objects[a].numberPoints);return c},hasPoint:function(a,b){var c,d;for(c=0;c<this.objects.length;c++)if((d=this.objects[c]).type===__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE&&d.hasPoint(a,b))return!0;return!1}}),__TURBOPACK__default__export__.createTurtle=function(a,b,c){var d;return b=b||[],d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"turtle"),new __TURBOPACK__default__export__.Turtle(a,b,d)},__TURBOPACK__default__export__.registerElement("turtle",__TURBOPACK__default__export__.createTurtle);let __TURBOPACK__default__export__54=__TURBOPACK__default__export__.Turtle;__TURBOPACK__default__export__.Ticks=function(a,b,c){if(this.constructor(a.board,c,__TURBOPACK__default__export__1.OBJECT_TYPE_TICKS,__TURBOPACK__default__export__1.OBJECT_CLASS_OTHER),this.line=a,this.board=this.line.board,this.fixedTicks=null,this.equidistant=!1,this.labelsData=[],__TURBOPACK__default__export__3.isFunction(b))throw this.ticksFunction=b,Error("Function arguments are no longer supported.");__TURBOPACK__default__export__3.isArray(b)?this.fixedTicks=b:this.equidistant=!0,this.ticks=[],this.labels=[],this.labelCounter=0,this.id=this.line.addTicks(this),this.elType="ticks",this.inherits.push(this.labels),this.board.setId(this,"Ti")},__TURBOPACK__default__export__.Ticks.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Ticks.prototype,{hasPoint:function(a,b){var c,d,e,f,g=this.ticks&&this.ticks.length||0;if(!this.line.evalVisProp("scalable")||this.line.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE||(__TURBOPACK__default__export__3.isObject(this.evalVisProp("precision"))?(f=this.board._inputDevice,e=this.evalVisProp("precision."+f)):e=this.board.options.precision.hasPoint,e+=.5*this.evalVisProp("strokewidth"),0!==this.line.stdform[1]&&0!==this.line.stdform[2]&&this.line.type!==__TURBOPACK__default__export__1.OBJECT_TYPE_AXIS))return!1;for(c=0;c<g;c++)if((d=this.ticks[c])[2]&&!(0===this.line.stdform[1]&&Math.abs(d[0][0]-this.line.point1.coords.scrCoords[1])<__TURBOPACK__default__export__2.eps||0===this.line.stdform[2]&&Math.abs(d[1][0]-this.line.point1.coords.scrCoords[2])<__TURBOPACK__default__export__2.eps)&&(Math.abs(d[0][0]-d[0][1])>=1||Math.abs(d[1][0]-d[1][1])>=1)){if(0===this.line.stdform[1]){if(Math.abs(b-this.line.point1.coords.scrCoords[2])<2*e&&d[0][0]-e<a&&a<d[0][1]+e)return!0}else if(0===this.line.stdform[2]&&Math.abs(a-this.line.point1.coords.scrCoords[1])<2*e&&d[1][0]-e<b&&b<d[1][1]+e)return!0}return!1},setPositionDirectly:function(a,b,c){var d,e,f=new __TURBOPACK__default__export__7(a,b,this.board),g=new __TURBOPACK__default__export__7(a,c,this.board),h=this.board.getBoundingBox();return this.line.type===__TURBOPACK__default__export__1.OBJECT_TYPE_AXIS&&this.line.evalVisProp("scalable")&&(Math.abs(this.line.stdform[1])<__TURBOPACK__default__export__2.eps&&Math.abs(f.usrCoords[1]*g.usrCoords[1])>__TURBOPACK__default__export__2.eps?(d=g.usrCoords[1]/f.usrCoords[1],h[0]*=d,h[2]*=d,this.board.setBoundingBox(h,this.board.keepaspectratio,"update")):Math.abs(this.line.stdform[2])<__TURBOPACK__default__export__2.eps&&Math.abs(f.usrCoords[2]*g.usrCoords[2])>__TURBOPACK__default__export__2.eps&&(e=g.usrCoords[2]/f.usrCoords[2],h[3]*=e,h[1]*=e,this.board.setBoundingBox(h,this.board.keepaspectratio,"update"))),this},calculateTicksCoordinates:function(){var a,b,c;if(!(this.line.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&(this.setTicksSizeVariables(),Math.abs(this.dx)<__TURBOPACK__default__export__2.eps&&Math.abs(this.dy)<__TURBOPACK__default__export__2.eps)))return a=this.getZeroCoordinates(),b=this.line.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?this.getLowerAndUpperBounds(a,"ticksdistance"):{lower:this.line.minX(),upper:this.line.maxX(),a1:0,a2:0,m1:0,m2:0},"polar"===this.evalVisProp("type")&&(c=this.board.getBoundingBox(),b.upper=Math.max(__TURBOPACK__default__export__2.hypot(c[0],c[1]),__TURBOPACK__default__export__2.hypot(c[2],c[3]))),this.ticks=[],this.labelsData=[],this.equidistant?this.generateEquidistantTicks(a,b):this.generateFixedTicks(a,b),this},setTicksSizeVariables:function(a){var b,c,d,e,f=.5*this.evalVisProp("majorheight"),g=.5*this.evalVisProp("minorheight");__TURBOPACK__default__export__3.exists(a)?(c=this.line.minX(),d=this.line.maxX(),(e=this.line.points.length)<2?(this.dxMaj=0,this.dyMaj=0):__TURBOPACK__default__export__2.relDif(a,c)<__TURBOPACK__default__export__2.eps?(this.dxMaj=this.line.points[0].usrCoords[2]-this.line.points[1].usrCoords[2],this.dyMaj=this.line.points[1].usrCoords[1]-this.line.points[0].usrCoords[1]):__TURBOPACK__default__export__2.relDif(a,d)<__TURBOPACK__default__export__2.eps?(this.dxMaj=this.line.points[e-2].usrCoords[2]-this.line.points[e-1].usrCoords[2],this.dyMaj=this.line.points[e-1].usrCoords[1]-this.line.points[e-2].usrCoords[1]):(this.dxMaj=-__TURBOPACK__default__export__13.D(this.line.Y)(a),this.dyMaj=__TURBOPACK__default__export__13.D(this.line.X)(a))):(this.dxMaj=this.line.stdform[1],this.dyMaj=this.line.stdform[2]),this.dxMin=this.dxMaj,this.dyMin=this.dyMaj,this.dx=this.dxMaj,this.dy=this.dyMaj,b=__TURBOPACK__default__export__2.hypot(this.dxMaj*this.board.unitX,this.dyMaj*this.board.unitY),this.dxMaj*=f/b*this.board.unitX,this.dyMaj*=f/b*this.board.unitY,this.dxMin*=g/b*this.board.unitX,this.dyMin*=g/b*this.board.unitY,this.minStyle=0>this.evalVisProp("minorheight")?"infinite":"finite",this.majStyle=0>this.evalVisProp("majorheight")?"infinite":"finite"},getZeroCoordinates:function(){var a,b,c,d,e,f,g,h,i,j=this.evalVisProp("anchor");return this.line.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?this.line.type===__TURBOPACK__default__export__1.OBJECT_TYPE_AXIS?__TURBOPACK__default__export__14.projectPointToLine({coords:{usrCoords:[1,0,0]}},this.line,this.board):(c=this.line.point1.coords.usrCoords[0],a=this.line.point1.coords.usrCoords[1],b=this.line.point1.coords.usrCoords[2],f=this.line.point2.coords.usrCoords[0],d=this.line.point2.coords.usrCoords[1],e=this.line.point2.coords.usrCoords[2],"right"===j)?this.line.point2.coords:"middle"===j?new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[(c+f)*.5,(a+d)*.5,(b+e)*.5],this.board):__TURBOPACK__default__export__3.isNumber(j)?new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[c+(f-c)*j,a+(d-a)*j,b+(e-b)*j],this.board):this.line.point1.coords:(h=this.line.minX(),i=this.line.maxX(),g="right"===j?i:"middle"===j?(h+i)*.5:__TURBOPACK__default__export__3.isNumber(j)?h*(1-j)+i*j:h)},getLowerAndUpperBounds:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=10*__TURBOPACK__default__export__2.eps,s=this.line.evalVisProp("straightfirst"),t=this.line.evalVisProp("straightlast"),u=this.evalVisProp("includeboundaries");return this.line.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE?{lower:this.line.minX(),upper:this.line.maxX()}:(g=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,this.line.point1.coords.usrCoords,this.board),h=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,this.line.point2.coords.usrCoords,this.board),i=Math.abs(g.usrCoords[0])>=__TURBOPACK__default__export__2.eps&&g.scrCoords[1]>=0&&g.scrCoords[1]<=this.board.canvasWidth&&g.scrCoords[2]>=0&&g.scrCoords[2]<=this.board.canvasHeight,j=Math.abs(h.usrCoords[0])>=__TURBOPACK__default__export__2.eps&&h.scrCoords[1]>=0&&h.scrCoords[1]<=this.board.canvasWidth&&h.scrCoords[2]>=0&&h.scrCoords[2]<=this.board.canvasHeight,__TURBOPACK__default__export__3.exists(b)&&"ticksdistance"===b?(__TURBOPACK__default__export__14.calcStraight(this.line,g,h,0),p=this.getDistanceFromZero(a,g),q=this.getDistanceFromZero(a,h),__TURBOPACK__default__export__14.calcStraight(this.line,g,h,this.line.evalVisProp("margin")),p=this.getDistanceFromZero(a,g)-p,q=this.getDistanceFromZero(a,h).m2):__TURBOPACK__default__export__14.calcLineDelimitingPoints(this.line,g,h),e=this.line.evalVisProp("firstarrow"),f=this.line.evalVisProp("lastarrow"),n=this.getDistanceFromZero(a,g),o=this.getDistanceFromZero(a,h),(e||f)&&(m=this.board.renderer.getArrowHeadData(this.line,this.line.evalVisProp("strokewidth"),""),this.board.renderer.getPositionArrowHead(this.line,g,h,m)),k=this.getDistanceFromZero(a,g),l=this.getDistanceFromZero(a,h),n=k-n,o=k-o,k<l?(c=k,d=l,s||!i||u||(c+=r),t||!j||u||(d-=r)):l<k?(c=l,d=k,t||!j||u||(c+=r),s||!i||u||(d-=r)):(c=0,d=0),{lower:c,upper:d,a1:n,a2:o,m1:p,m2:q})},getDistanceFromZero:function(a,b){var c,d,e,f,g;return c=this.line.point1.coords,d=this.line.point2.coords,g=a.distance(__TURBOPACK__default__export__1.COORDS_BY_USER,b),e=[d.usrCoords[0]-c.usrCoords[0],d.usrCoords[1]-c.usrCoords[1],d.usrCoords[2]-c.usrCoords[2]],f=[b.usrCoords[0]-a.usrCoords[0],b.usrCoords[1]-a.usrCoords[1],b.usrCoords[2]-a.usrCoords[2]],0>__TURBOPACK__default__export__2.innerProduct(e,f,3)&&(g*=-1),g},generateEquidistantTicks:function(a,b){var c,d,e,f=__TURBOPACK__default__export__2.eps,g=this.evalVisProp("minorticks");if(e=this.getDistanceMajorTicks(),this.line.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&(d=this.getXandYdeltas()),e*=this.evalVisProp("scale"),e/=g+1,this.ticksDelta=e,!(e<__TURBOPACK__default__export__2.eps)){if(Math.abs(b.upper-b.lower)>2048*e)return void __TURBOPACK__default__export__.warn("JSXGraph ticks: too many ticks (>2048). Please increase ticksDistance.");for(c=0,this.evalVisProp("drawzero")||(c=e),c<b.lower&&(c=Math.floor((b.lower-f)/e)*e);c<=b.upper+f&&(c>=b.lower-f&&this.processTickPosition(a,c,e,d),c+=e,!(b.upper-c>1e4*e)););for(c=-e,c>b.upper&&(c=-(Math.ceil(-((b.upper+f)/e))*e));c>=b.lower-f&&(c<=b.upper+f&&this.processTickPosition(a,c,e,d),!((c-=e)-b.lower>1e4*e)););}},getDistanceMajorTicks:function(){var a,b,c,d,e,f,g,h,i=5;return this.evalVisProp("insertticks")?(f=((c=this.getLowerAndUpperBounds(this.getZeroCoordinates(),"")).upper-c.lower)/(i+1)/(e=this.evalVisProp("scale")),g=this.evalVisProp("minticksdistance")/e,h=this.evalVisProp("minorticks"),d=this.getXandYdeltas(),d.x*=this.board.unitX,d.y*=this.board.unitY,g/=__TURBOPACK__default__export__2.hypot(d.x,d.y),g*=h+1,2*(a=Math.pow(10,Math.floor(Math.log(g)/Math.LN10)))>=g?a*=2:5*a>=g&&(a*=5),5*(b=Math.pow(10,Math.floor(Math.log(f)/Math.LN10)))<f?b*=5:2*b<f&&(b*=2),a=Math.max(a,b)):this.evalVisProp("ticksdistance")},processTickPosition:function(a,b,c,d){var e,f,g,h,i,j,k=this.evalVisProp("ticksperlabel"),l=null;this.line.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?(e=a.usrCoords[1]+b*d.x,f=a.usrCoords[2]+b*d.y):(e=this.line.X(a+b),f=this.line.Y(a+b)),g=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[e,f],this.board),this.line.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&(l=a+b,this.setTicksSizeVariables(l)),g.major=Math.round(b/c)%((i=this.evalVisProp("minorticks"))+1)==0,k||(k=i+1),j=Math.round(b/c)%k==0,3===(h=this.createTickPath(g,g.major)).length&&(this.ticks.push(h),j&&this.evalVisProp("drawlabels")?this.labelsData.push(this.generateLabelData(this.generateLabelText(g,a,l),g,this.ticks.length)):this.labelsData.push(null))},generateFixedTicks:function(a,b){var c,d,e,f,g,h,i,j,k=__TURBOPACK__default__export__2.eps,l=__TURBOPACK__default__export__3.isArray(this.visProp.labels),m=this.evalVisProp("drawlabels");for(this.line.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&(j=this.getXandYdeltas()),e=0;e<this.fixedTicks.length;e++)this.line.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?(i=this.fixedTicks[e],g=a.usrCoords[1]+i*j.x,h=a.usrCoords[2]+i*j.y):(i=a+this.fixedTicks[e],g=this.line.X(i),h=this.line.Y(i)),c=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[g,h],this.board),this.line.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE&&this.setTicksSizeVariables(i),3===(f=this.createTickPath(c,!0)).length&&i>=b.lower-k&&i<=b.upper+k&&(this.ticks.push(f),m&&(l||__TURBOPACK__default__export__3.exists(this.visProp.labels[e]))?(d=l?this.evalVisProp("labels."+e):i,this.labelsData.push(this.generateLabelData(this.generateLabelText(c,a,d),c,e))):this.labelsData.push(null))},getXandYdeltas:function(){var a,b,c=this.line.point1.Dist(this.line.point2);return a=this.line.point1.coords.usrCoords,{x:((b=this.line.point2.coords.usrCoords)[1]-a[1])/c,y:(b[2]-a[2])/c}},_isInsideCanvas:function(a,b,c){var d=this.board.canvasWidth,e=this.board.canvasHeight;return void 0===c&&(c=0),a[0]>=c&&a[0]<=d-c&&b[0]>=c&&b[0]<=e-c||a[1]>=c&&a[1]<=d-c&&b[1]>=c&&b[1]<=e-c},createTickPath:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=[-2e6,-2e6],u=[-2e6,-2e6];if(c=a.scrCoords,b?(f=this.dxMaj,g=this.dyMaj,k=this.majStyle,q=this.evalVisProp("majortickendings.0")>0,r=this.evalVisProp("majortickendings.1")>0):(f=this.dxMin,g=this.dyMin,k=this.minStyle,q=this.evalVisProp("tickendings.0")>0,r=this.evalVisProp("tickendings.1")>0),d=[-g*c[1]-f*c[2],g,f],b&&"polar"===this.evalVisProp("type")){if(n=this.board.getBoundingBox(),p=(o=2*Math.PI)/180,c=a.usrCoords,(m=__TURBOPACK__default__export__2.hypot(c[1],c[2]))<Math.max(__TURBOPACK__default__export__2.hypot(n[0],n[1]),__TURBOPACK__default__export__2.hypot(n[2],n[3]))){for(l=0,t=[],u=[];l<=o;l+=p)t.push(this.board.origin.scrCoords[1]+m*Math.cos(l)*this.board.unitX),u.push(this.board.origin.scrCoords[2]+m*Math.sin(l)*this.board.unitY);return[t,u,b]}}else{if("infinite"===k){if(this.evalVisProp("ignoreinfinitetickendings")&&(q=r=!0),e=__TURBOPACK__default__export__14.meetLineBoard(d,this.board),q&&r)t[0]=e[0].scrCoords[1],t[1]=e[1].scrCoords[1],u[0]=e[0].scrCoords[2],u[1]=e[1].scrCoords[2];else if((s=[__TURBOPACK__default__export__2.innerProduct(e[0].usrCoords.slice(1,3),this.line.stdform.slice(1,3))+this.line.stdform[0],__TURBOPACK__default__export__2.innerProduct(e[1].usrCoords.slice(1,3),this.line.stdform.slice(1,3))+this.line.stdform[0]])[0]<s[1]&&(e.reverse(),s.reverse()),q)if(s[0]<0)return[];else s[1]<0?(t[0]=e[0].scrCoords[1],u[0]=e[0].scrCoords[2],t[1]=c[1],u[1]=c[2]):(t[0]=e[0].scrCoords[1],u[0]=e[0].scrCoords[2],t[1]=e[1].scrCoords[1],u[1]=e[1].scrCoords[2]);else if(r)if(s[1]>0)return[];else s[0]>0?(t[0]=c[1],u[0]=c[2]):(t[0]=e[0].scrCoords[1],u[0]=e[0].scrCoords[2]),t[1]=e[1].scrCoords[1],u[1]=e[1].scrCoords[2]}else h=Math.cos(j=">"===this.evalVisProp("face")?Math.PI/4:"<"===this.evalVisProp("face")?-Math.PI/4:0)*f-Math.sin(j)*g,i=Math.sin(j)*f+Math.cos(j)*g,t[0]=c[1]+h*q,u[0]=c[2]-i*q,t[1]=c[1],u[1]=c[2],h=Math.cos(j=-j)*f-Math.sin(j)*g,i=Math.sin(j)*f+Math.cos(j)*g,t[2]=c[1]-h*r,u[2]=c[2]+i*r;if(this._isInsideCanvas(t,u))return[t,u,b]}return[]},formatLabelText:function(a){var b,c,d=this.evalVisProp("label.usemathjax"),e=this.evalVisProp("label.usekatex"),f=this.evalVisProp("scalesymbol");return __TURBOPACK__default__export__3.isNumber(a)?(this.evalVisProp("label.tofraction")?b=d?"\\("+__TURBOPACK__default__export__3.toFraction(a,!0)+"\\)":__TURBOPACK__default__export__3.toFraction(a,e):(c=this.evalVisProp("digits"),this.useLocale()?b=this.formatNumberLocale(a,c):((b=(Math.round(1e11*a)/1e11).toString()).length>this.evalVisProp("maxlabellength")||-1!==b.indexOf("e"))&&(3!==this.evalVisProp("precision")&&3===c&&(c=this.evalVisProp("precision")),b=a.toExponential(c).toString())),this.evalVisProp("beautifulscientificticklabels")&&(b=this.beautifyScientificNotationLabel(b)),b.indexOf(".")>-1&&-1===b.indexOf("e")&&(b=(b=b.replace(/0+$/,"")).replace(/\.$/,""))):b=a.toString(),f.length>0&&("1"===b?b=f:"-1"===b?b="-"+f:"0"!==b&&(b+=f)),this.evalVisProp("useunicodeminus")&&(b=b.replace(/-/g,"â")),b},beautifyScientificNotationLabel:function(a){var b;return -1===a.indexOf("e")?a:b=(b=parseFloat(a.substring(0,a.indexOf("e")))+a.substring(a.indexOf("e"))).replace(/e(.*)$/g,function(a,b){var c="â¢10";return c+b.replace(/-/g,"â»").replace(/\+/g,"").replace(/0/g,"â°").replace(/1/g,"Â¹").replace(/2/g,"Â²").replace(/3/g,"Â³").replace(/4/g,"â´").replace(/5/g,"âµ").replace(/6/g,"â¶").replace(/7/g,"â·").replace(/8/g,"â¸").replace(/9/g,"â¹")})},generateLabelText:function(a,b,c){var d;if(!__TURBOPACK__default__export__3.exists(c)){if(Math.abs(d=this.getDistanceFromZero(b,a))<__TURBOPACK__default__export__2.eps)return"0";c=d/this.evalVisProp("scale")}return this.formatLabelText(c)},generateLabelData:function(a,b,c){var d,e,f,g;return(g=this.evalVisProp("label.fontsize"),d=[b.scrCoords[1],b.scrCoords[1]],e=[b.scrCoords[2],b.scrCoords[2]],f=(void 0===g?12:g)*.5,this._isInsideCanvas(d,e,f))?(d=this.evalVisProp("label.offset")[0],e=this.evalVisProp("label.offset")[1],{x:b.usrCoords[1]+d/this.board.unitX,y:b.usrCoords[2]+e/this.board.unitY,t:a,i:c}):null},update:function(){return this.needsUpdate&&0!==this.board.canvasWidth&&0!==this.board.canvasHeight&&this.calculateTicksCoordinates(),this},updateRenderer:function(){return this.needsUpdate&&(this.visPropCalc.visible&&this.board.renderer.updateTicks(this),this.updateRendererLabels(),this.setDisplayRendNode(),this.needsUpdate=!1),this},updateRendererLabels:function(){var a,b,c,d,e,f,g,h;for(a=0,c=this.labelsData.length,d=this.labels.length,b=0;a<c;a++)null!==this.labelsData[a]&&(g=this.labelsData[a],b<d?((f=this.labels[b]).setText(g.t),f.setCoords(g.x,g.y),b++):(this.labelCounter+=1,(e=__TURBOPACK__default__export__3.deepCopy(this.visProp.label)).isLabel=!0,e.priv=this.visProp.priv,e.id=this.id+g.i+"Label"+this.labelCounter,f=__TURBOPACK__default__export__.createText(this.board,[g.x,g.y,g.t],e),this.addChild(f),f.setParents(this),f.isDraggable=!1,f.dump=!1,this.labels.push(f)),"inherit"===(h=this.evalVisProp("label.visible"))&&(h=this.visPropCalc.visible),f.prepareUpdate().updateVisibility(h).updateRenderer(),f.distanceX=this.evalVisProp("label.offset")[0],f.distanceY=this.evalVisProp("label.offset")[1]);for(b=c=b;b<d;b++)this.board.renderer.display(this.labels[b],!1),this.labels[b].visProp.visible=this.labels[b].visPropCalc.visible=!1;return this},hideElement:function(){var a;for(__TURBOPACK__default__export__.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),a=0;a<this.labels.length;a++)__TURBOPACK__default__export__3.exists(this.labels[a])&&this.labels[a].hideElement();return this},showElement:function(){var a;for(__TURBOPACK__default__export__.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!1),a=0;a<this.labels.length;a++)__TURBOPACK__default__export__3.exists(this.labels[a])&&this.labels[a].showElement();return this}}),__TURBOPACK__default__export__.createTicks=function(a,b,c){var d,e,f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"ticks");if(e=b.length<2?f.ticksdistance:b[1],b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE||b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE)d=new __TURBOPACK__default__export__.Ticks(b[0],e,f);else throw Error("JSXGraph: Can't create Ticks with parent types '"+typeof b[0]+"'.");return __TURBOPACK__default__export__3.isFunction(f.generatelabelvalue)&&(d.generateLabelText=f.generatelabelvalue),__TURBOPACK__default__export__3.isFunction(f.generatelabeltext)&&(d.generateLabelText=f.generatelabeltext),d.setParents(b[0]),d.isDraggable=!0,d.fullUpdate(b[0].visPropCalc.visible),d},__TURBOPACK__default__export__.createHatchmark=function(a,b,c){var d,e,f,g,h,i=[],j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"hatch");if(b[0].elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&b[0].elementClass!==__TURBOPACK__default__export__1.OBJECT_CLASS_CURVE||"number"!=typeof b[1])throw Error("JSXGraph: Can't create Hatch mark with parent types '"+typeof b[0]+"' and '"+typeof b[1]+" and ''"+typeof b[2]+"'.");for(e=0,f=-(.5*(((d=b[1])-1)*(g=j.ticksdistance)));e<d;e++)i[e]=f+e*g;return(h=a.create("ticks",[b[0],i],j)).elType="hatch",b[0].inherits.push(h),h},__TURBOPACK__default__export__.registerElement("ticks",__TURBOPACK__default__export__.createTicks),__TURBOPACK__default__export__.registerElement("hash",__TURBOPACK__default__export__.createHatchmark),__TURBOPACK__default__export__.registerElement("hatch",__TURBOPACK__default__export__.createHatchmark);let __TURBOPACK__default__export__55=__TURBOPACK__default__export__.Ticks;var bitReverse=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255],cplens=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],cplext=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],cpdist=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],cpdext=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],border=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],NAMEMAX=256;__TURBOPACK__default__export__.Util=__TURBOPACK__default__export__.Util||{},__TURBOPACK__default__export__.Util.Unzip=function(a){var b,c,d,e,f=[],g=0,h=[],i=Array(32768),j=0,k=!1,l=a.length,m=0,n=1,o=Array(288),p=Array(32),q=0,r=null,s=0,t=Array(17),u=[];function v(){return m<l?a[m++]:-1}function w(){n=1}function x(){var a;try{a=1&n,n>>=1,0===n&&(n=v(),a=1&n,n=n>>1|128)}catch(a){throw console.log("Probably problems on iOS7 with >>"),a}return a}function y(a){var b=0,c=a;try{for(;c--;)b=b<<1|x();a&&(b=bitReverse[b]>>8-a)}catch(a){throw console.log("Probably problems on iOS7 with >>"),a}return b}function z(){j=0}function A(a){i[j++]=a,f.push(String.fromCharCode(a)),32768===j&&(j=0)}function B(){this.b0=0,this.b1=0,this.jump=null,this.jumppos=-1}function C(){for(var a=!0;a;){if(t[s]>=e)return -1;if(d[t[s]]===s)return t[s]++;t[s]++}}function D(){var a,b=r[q];if(17===s)return -1;if(q++,s++,(a=C())>=0)b.b0=a;else if(b.b0=32768,D())return -1;if((a=C())>=0)b.b1=a,b.jump=null;else if(b.b1=32768,b.jump=r[q],b.jumppos=q,D())return -1;return s--,0}function E(a,b,c,f){var g;for(g=0,r=a,q=0,d=c,e=b;g<17;g++)t[g]=0;return(s=0,D())?-1:0}function F(a){for(var b,c,d=!0,e=0,f=a[0];d;)if(x()){if(!(32768&f.b1))return f.b1;for(c=0,f=f.jump,b=a.length;c<b;c++)if(a[c]===f){e=c;break}}else{if(!(32768&f.b0))return f.b0;f=a[++e]}}function G(){var a,b,c,d,e,f,g,h,k,l,m,n,q,r,s,t,u=!0;do if(a=x(),0===(c=y(2)))for(w(),((l=v()|v()<<8)^~(n=v()|v()<<8))&65535&&__TURBOPACK__default__export__.debug("BlockLen checksum mismatch\n");l--;)A(b=v());else if(1===c)for(;u;)if((e=bitReverse[y(7)]>>1)>23?(e=e<<1|x())>199?(e-=128,e=e<<1|x()):(e-=48)>143&&(e+=136):e+=256,e<256)A(e);else if(256===e)break;else for(e-=257,k=y(cplext[e])+cplens[e],m=(cpdext[e=bitReverse[y(5)]>>3]>8?y(8)|y(cpdext[e]-8)<<8:y(cpdext[e]))+cpdist[e],e=0;e<k;e++)A(b=i[j-m&32767]);else if(2===c){for(e=0,g=Array(320),r=257+y(5),s=1+y(5),t=4+y(4);e<19;e++)g[e]=0;for(e=0;e<t;e++)g[border[e]]=y(3);for(d=0,k=p.length;d<k;d++)p[d]=new B;if(E(p,19,g,0))return z(),1;for(q=r+s,d=0;d<q;)if((e=F(p))<16)g[d++]=e;else if(16===e){if(d+(e=3+y(2))>q)return z(),1;for(f=d?g[d-1]:0;e--;)g[d++]=f}else{if(d+(e=17===e?3+y(3):11+y(7))>q)return z(),1;for(;e--;)g[d++]=0}for(d=0,k=o.length;d<k;d++)o[d]=new B;if(E(o,r,g,0))return z(),1;for(d=0,k=o.length;d<k;d++)p[d]=new B;for(h=[],d=r;d<g.length;d++)h[d-r]=g[d];if(E(p,s,h,0))return z(),1;for(;u;)if((e=F(o))>=256){if(0==(e-=256))break;for(e-=1,k=y(cplext[e])+cplens[e],m=(cpdext[e=F(p)]>8?y(8)|y(cpdext[e]-8)<<8:y(cpdext[e]))+cpdist[e];k--;)A(b=i[j-m&32767])}else A(e)}while(!a)return z(),w(),0}function H(){var a,d,e,i,j,l,m,n,o=[];try{if(f=[],k=!1,o[0]=v(),o[1]=v(),120===o[0]&&218===o[1]&&(G(),h[g]=[f.join(""),"geonext.gxt"],g++),31===o[0]&&139===o[1]&&(I(),h[g]=[f.join(""),"file"],g++),80===o[0]&&75===o[1]){if(k=!0,o[2]=v(),o[3]=v(),3===o[2]&&4===o[3]){for(o[0]=v(),o[1]=v(),b=v()|v()<<8,n=v()|v()<<8,v(),v(),v(),v(),m=v()|v()<<8|v()<<16|v()<<24,l=v()|v()<<8|v()<<16|v()<<24,j=v()|v()<<8|v()<<16|v()<<24,i=v()|v()<<8,e=v()|v()<<8,a=0,u=[];i--;)d=v(),"/"===d|":"===d?a=0:a<NAMEMAX-1&&(u[a++]=String.fromCharCode(d));for(c||(c=u),a=0;a<e;)d=v(),a++;if(8===n&&(G(),h[g]=[,,],h[g][0]=f.join(""),h[g][1]=u.join(""),g++),I())return!1}return!0}}catch(a){throw console.log("Probably problems on iOS7 with >>"),a}return!1}function I(){var a,c,d,e,f,g,h=[];if(8&b&&(h[0]=v(),h[1]=v(),h[2]=v(),h[3]=v(),a=80===h[0]&&75===h[1]&&7===h[2]&&8===h[3]?v()|v()<<8|v()<<16|v()<<24:h[0]|h[1]<<8|h[2]<<16|h[3]<<24,c=v()|v()<<8|v()<<16|v()<<24,d=v()|v()<<8|v()<<16|v()<<24),k&&H())return!1;if(h[0]=v(),8!==h[0])return!0;if(b=v(),v(),v(),v(),v(),v(),e=v(),4&b)for(f=0,h[0]=v(),h[2]=v(),s=h[0]+256*h[1];f<s;f++)v();if(8&b)for(f=0,u=[],g=v();g;)("7"===g||":"===g)&&(f=0),f<NAMEMAX-1&&(u[f++]=g),g=v();if(16&b)for(g=v();g;)g=v();return 2&b&&(v(),v()),G(),a=v()|v()<<8|v()<<16|v()<<24,d=v()|v()<<8|v()<<16|v()<<24,k&&H(),!1}t[0]=0,__TURBOPACK__default__export__.Util.Unzip.prototype.unzipFile=function(a){var b;for(this.unzip(),b=0;b<h.length;b++)if(h[b][1]===a)return h[b][0];return""},__TURBOPACK__default__export__.Util.Unzip.prototype.unzip=function(){return H(),h}};let __TURBOPACK__default__export__56=__TURBOPACK__default__export__.Util;__TURBOPACK__default__export__.CA=function(a,b,c){this.node=a,this.createNode=b,this.parser=c},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.CA.prototype,{findMapNode:function(a,b){var c,d,e;if("op_assign"===b.value&&b.children[0].value===a)return b.children[1];if(b.children){for(c=0,d=b.children.length;c<d;++c)if(null!==(e=this.findMapNode(a,b.children[c])))return e}return null},setMath:function(a){var b,c;if(("node_op"==a.type&&("op_add"==a.value||"op_sub"==a.value||"op_mul"==a.value||"op_div"==a.value||"op_neg"==a.value||"op_execfun"==a.value||"op_exp"==a.value)||"node_var"==a.type||"node_const"==a.type)&&(a.isMath=!0),a.children)for(b=0,c=a.children.length;b<c;++b)this.setMath(a.children[b])},deriveElementary:function(a,b){var c,d=a.children[0].value,e=a.children[1];switch(d){case"abs":c=this.createNode("node_op","op_div",e[0],this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(e[0]),__TURBOPACK__default__export__3.deepCopy(e[0]))]));break;case"sqrt":c=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_mul",this.createNode("node_const",2),this.createNode(a.type,a.value,__TURBOPACK__default__export__3.deepCopy(a.children[0]),__TURBOPACK__default__export__3.deepCopy(a.children[1]))));break;case"sin":c=this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),__TURBOPACK__default__export__3.deepCopy(e));break;case"cos":c=this.createNode("node_op","op_neg",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),__TURBOPACK__default__export__3.deepCopy(e)));break;case"tan":c=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),__TURBOPACK__default__export__3.deepCopy(e)),this.createNode("node_const",2)));break;case"cot":c=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),__TURBOPACK__default__export__3.deepCopy(e)),this.createNode("node_const",2))));break;case"exp":c=this.createNode(a.type,a.value,__TURBOPACK__default__export__3.deepCopy(a.children[0]),__TURBOPACK__default__export__3.deepCopy(a.children[1]));break;case"pow":c=this.createNode("node_op","op_mul",this.createNode("node_op","op_execfun",__TURBOPACK__default__export__3.deepCopy(a.children[0]),__TURBOPACK__default__export__3.deepCopy(a.children[1])),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(a.children[1][0],b),this.createNode("node_op","op_div",__TURBOPACK__default__export__3.deepCopy(a.children[1][1]),__TURBOPACK__default__export__3.deepCopy(a.children[1][0]))),this.createNode("node_op","op_mul",this.derivative(a.children[1][1],b),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[__TURBOPACK__default__export__3.deepCopy(a.children[1][0])]))));break;case"log":case"ln":c=this.createNode("node_op","op_div",this.createNode("node_const",1),__TURBOPACK__default__export__3.deepCopy(e[0]));break;case"log2":case"lb":case"ld":c=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),__TURBOPACK__default__export__3.deepCopy(e[0])),this.createNode("node_const",1.4426950408889634));break;case"log10":case"lg":c=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),__TURBOPACK__default__export__3.deepCopy(e[0])),this.createNode("node_const",.43429448190325176));break;case"asin":c=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(e[0]),__TURBOPACK__default__export__3.deepCopy(e[0])))]));break;case"acos":c=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(e[0]),__TURBOPACK__default__export__3.deepCopy(e[0])))])));break;case"atan":c=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(e[0]),__TURBOPACK__default__export__3.deepCopy(e[0]))));break;case"acot":c=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(e[0]),__TURBOPACK__default__export__3.deepCopy(e[0])))));break;case"sinh":c=this.createNode("node_op","op_execfun",this.createNode("node_var","cosh"),[__TURBOPACK__default__export__3.deepCopy(e[0])]);break;case"cosh":c=this.createNode("node_op","op_execfun",this.createNode("node_var","sinh"),[__TURBOPACK__default__export__3.deepCopy(e[0])]);break;case"tanh":c=this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","tanh"),[__TURBOPACK__default__export__3.deepCopy(e[0])]),this.createNode("node_const",2)));break;case"asinh":c=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_add",this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(e[0]),__TURBOPACK__default__export__3.deepCopy(e[0])),this.createNode("node_const",1))]));break;case"acosh":c=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(e[0]),__TURBOPACK__default__export__3.deepCopy(e[0])),this.createNode("node_const",1))]));break;case"atanh":c=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(e[0]),__TURBOPACK__default__export__3.deepCopy(e[0]))));break;default:throw c=this.createNode("node_const",0),console.log('Derivative of "'+d+'" not yet implemented'),Error("Error("+this.line+"): ")}return c},derivative:function(a,b){var c;switch(a.type){case"node_op":switch(a.value){case"op_execfun":c="pow"==a.children[0].value?this.deriveElementary(a,b):0===a.children[1].length?this.createNode("node_const",0):this.createNode("node_op","op_mul",this.deriveElementary(a,b),this.derivative(a.children[1][0],b));break;case"op_div":c=this.createNode("node_op","op_div",this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",this.derivative(a.children[0],b),__TURBOPACK__default__export__3.deepCopy(a.children[1])),this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(a.children[0]),this.derivative(a.children[1],b))),this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(a.children[1]),__TURBOPACK__default__export__3.deepCopy(a.children[1])));break;case"op_mul":c=this.createNode("node_op","op_add",this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(a.children[0]),this.derivative(a.children[1],b)),this.createNode("node_op","op_mul",this.derivative(a.children[0],b),__TURBOPACK__default__export__3.deepCopy(a.children[1])));break;case"op_neg":c=this.createNode("node_op","op_neg",this.derivative(a.children[0],b));break;case"op_add":case"op_sub":c=this.createNode("node_op",a.value,this.derivative(a.children[0],b),this.derivative(a.children[1],b));break;case"op_exp":c=this.createNode("node_op","op_mul",__TURBOPACK__default__export__3.deepCopy(a),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(a.children[0],b),this.createNode("node_op","op_div",__TURBOPACK__default__export__3.deepCopy(a.children[1]),__TURBOPACK__default__export__3.deepCopy(a.children[0]))),this.createNode("node_op","op_mul",this.derivative(a.children[1],b),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[__TURBOPACK__default__export__3.deepCopy(a.children[0])]))))}break;case"node_var":c=a.value===b?this.createNode("node_const",1):this.createNode("node_const",0);break;case"node_const":c=this.createNode("node_const",0)}return c},expandDerivatives:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;if(i=0,!a)return i;for(e=0,this.line=a.line,this.col=a.col,d=a.children.length;e<d;++e)if(a.children[e]&&a.children[e].type)a.children[e]=this.expandDerivatives(a.children[e],a,c);else if(__TURBOPACK__default__export__3.isArray(a.children[e]))for(f=0;f<a.children[e].length;++f)a.children[e][f]&&a.children[e][f].type&&(a.children[e][f]=this.expandDerivatives(a.children[e][f],a,c));if("node_op"===a.type&&"op_execfun"===a.value&&a.children[0]&&"D"===a.children[0].value){if(p=!1,"node_var"==a.children[1][0].type&&(l=a.children[1][0].value,null!==(g=this.findMapNode(l,c))&&(p=!0)),p?(n=g.children[0],m=a.children[1].length>=2?a.children[1][1].value:g.children[0][0],h=g.children[1]):(h=a.children[1][0],n=["x"],m=a.children[1].length>=2?a.children[1][1].value:"x"),o=a.children[1].length>=3?a.children[1][2].value:1,k=h,o>=1)for(;o>=1;)k=this.derivative(k,m),k=this.removeTrivialNodes(k),o--;j="node_op"==b.type&&"op_assign"==b.value?this.createNode("node_op","op_map",n,k):k,this.setMath(j),a.type=j.type,a.value=j.value,j.children.length>0&&(a.children[0]=j.children[0]),j.children.length>1&&(a.children[1]=j.children[1])}return a},removeTrivialNodes:function(a){var b,c,d,e,f;if(__TURBOPACK__default__export__3.isArray(a))for(b=0,c=a.length;b<c;++b)a[b]=this.removeTrivialNodes(a[b]);if("node_op"!=a.type||!a.children)return a;for(b=0,c=a.children.length;b<c;++b){this.mayNotBeSimplified=!1;do a.children[b]=this.removeTrivialNodes(a.children[b]);while(this.mayNotBeSimplified)}switch(a.value){case"op_map":if(d=a.children[0],"node_var"==(e=a.children[1]).type){for(b=0;b<d.length;++b)if(d[b]==e.value){e.isMath=!0;break}}break;case"op_add":if(d=a.children[0],e=a.children[1],"node_const"==d.type&&0===d.value)return e;if("node_const"==e.type&&0===e.value)return d;if("node_const"==d.type&&"node_const"==e.type)return d.value+=e.value,d;break;case"op_mul":if(d=a.children[0],e=a.children[1],"node_const"==d.type&&1==d.value)return e;if("node_const"==e.type&&1==e.value||"node_const"==d.type&&0===d.value)return d;if("node_const"==e.type&&0===e.value||"node_const"==e.type&&0===e.value)return e;if("node_op"==d.type&&"op_neg"==d.value&&"node_op"==e.type&&"op_neg"==e.value)return a.children=[d.children[0],e.children[0]],this.mayNotBeSimplified=!0,a;if("op_neg"==d.value&&"op_neg"!=e.value)return a.type="node_op",a.value="op_neg",a.children=[this.createNode("node_op","op_mul",d.children[0],e)],this.mayNotBeSimplified=!0,a;if("op_neg"!=d.value&&"op_neg"==e.value)return a.type="node_op",a.value="op_neg",a.children=[this.createNode("node_op","op_mul",d,e.children[0])],this.mayNotBeSimplified=!0,a;if("op_div"==d.value&&"node_const"==d.children[0].type&&1==d.children[0].value)return a.type="node_op",a.value="op_div",a.children=[e,d.children[1]],this.mayNotBeSimplified=!0,a;if("op_div"==e.value&&"node_const"==e.children[0].type&&1==e.children[0].value)return a.type="node_op",a.value="op_div",a.children=[d,e.children[1]],this.mayNotBeSimplified=!0,a;if("node_const"!=d.type&&"node_const"==e.type||"node_const"!=d.type&&"node_op"==e.type&&"op_neg"==e.value&&"node_const"==e.children[0].type||"node_op"==d.type&&"op_execfun"!=d.value&&("node_var"==e.type||"node_op"==e.type&&"op_execfun"==e.value)||"node_op"!=d.type&&"node_op"==e.type&&"op_neg"==e.value&&"node_var"==e.children[0].type)return a.children=[e,d],this.mayNotBeSimplified=!0,a;if("node_const"!=d.type&&"node_op"==e.type&&("op_mul"==e.value||"op_div"==e.value)&&"node_const"==e.children[0].type)return f=e.children[0],e.children[0]=d,a.children=[f,e],this.mayNotBeSimplified=!0,a;if("node_const"!=e.type&&"node_op"==d.type&&"op_mul"==d.value&&"node_const"==d.children[0].type)return a.children=[d.children[0],this.createNode("node_op","op_mul",d.children[1],e)],this.mayNotBeSimplified=!0,a;if("node_const"==d.type&&"node_const"==e.type)return d.value*=e.value,d;if("node_const"==d.type&&"node_op"==e.type&&("op_mul"==e.value||"op_div"==e.value)&&"node_const"==e.children[0].type)return e.children[0].value*=d.value,e;if(d.hash=this.parser.compile(d),e.hash=this.parser.compile(e),d.hash===e.hash)return a.value="op_exp",a.children[1]=this.createNode("node_const",2),a;if("node_const"==d.type&&"node_op"==e.type&&("op_mul"==e.value||"op_div"==e.value)&&"node_const"==e.children[0].type)return e.children[0].value*=d.value,e;if("node_op"==e.type&&"op_exp"==e.value&&(d.hash||(d.hash=this.parser.compile(d)),e.children[0].hash||(e.children[0].hash=this.parser.compile(e.children[0])),d.hash===e.children[0].hash))return e.children[1]=this.createNode("node_op","op_add",e.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,e;if("node_op"==d.type&&"op_exp"==d.value&&"node_op"==e.type&&"op_exp"==e.value&&(d.children[0].hash=this.parser.compile(d.children[0]),e.children[0].hash=this.parser.compile(e.children[0]),d.children[0].hash===e.children[0].hash))return d.children[1]=this.createNode("node_op","op_add",d.children[1],e.children[1]),this.mayNotBeSimplified=!0,d;break;case"op_sub":if(d=a.children[0],e=a.children[1],"node_const"==d.type&&0===d.value)return a.value="op_neg",a.children[0]=e,a;if("node_const"==e.type&&0===e.value)return d;if("node_const"==d.type&&"node_const"==e.type&&d.value==e.value||"node_var"==d.type&&"node_var"==e.type&&d.value==e.value)return this.createNode("node_const",0);if("node_const"==d.type&&"node_const"==e.type)return d.value-=e.value,d;if("node_op"==d.type&&"op_mul"==d.value&&"node_op"==e.type&&"op_mul"==e.value&&(d.children[1].hash=this.parser.compile(d.children[1]),e.children[1].hash=this.parser.compile(e.children[1]),d.children[1].hash===e.children[1].hash))return a.value="op_mul",a.children=[this.createNode("node_op","op_sub",d.children[0],e.children[0]),d.children[1]],this.mayNotBeSimplified=!0,a;if("node_op"==d.type&&"op_mul"==d.value&&(d.children[1].hash=this.parser.compile(d.children[1]),e.hash=this.parser.compile(e),d.children[1].hash===e.hash))return a.value="op_mul",a.children=[this.createNode("node_op","op_sub",d.children[0],this.createNode("node_const",1)),e],this.mayNotBeSimplified=!0,a;if("node_op"==e.type&&"op_mul"==e.value&&(e.children[1].hash=this.parser.compile(e.children[1]),d.hash=this.parser.compile(d),e.children[1].hash===d.hash))return a.value="op_mul",a.children=[this.createNode("node_op","op_sub",this.createNode("node_const",1),e.children[0]),d],this.mayNotBeSimplified=!0,a;break;case"op_neg":if("node_const"==(d=a.children[0]).type&&0===d.value)return d;if("node_op"==d.type&&"op_neg"==d.value)return d.children[0];break;case"op_div":if(d=a.children[0],e=a.children[1],"node_const"==d.type&&"node_const"==e.type&&d.value==e.value&&0!==d.value)return d.value=1,d;if("node_const"==d.type&&0===d.value&&"node_const"==e.type&&0!==e.value)return d.value=0,d;if("node_const"==d.type&&0===d.value&&("node_op"==e.type||"node_var"==e.type))return a.type="node_const",a.value=0,a;if("node_var"==d.type&&"node_var"==e.type&&d.value==e.value)return this.createNode("node_const",1);if("node_const"==d.type&&0!==d.value&&"node_const"==e.type&&0===e.value)return d.value>0?d.value=1/0:d.value=-1/0,d;if("node_op"==d.type&&"op_neg"==d.value&&"node_op"==e.type&&"op_neg"==e.value)return a.children=[d.children[0],e.children[0]],this.mayNotBeSimplified=!0,a;if("op_neg"==d.value&&"op_neg"!=e.value)return a.type="node_op",a.value="op_neg",a.children=[this.createNode("node_op","op_div",d.children[0],e)],this.mayNotBeSimplified=!0,a;if("op_neg"!=d.value&&"op_neg"==e.value)return a.type="node_op",a.value="op_neg",a.children=[this.createNode("node_op","op_div",d,e.children[0])],this.mayNotBeSimplified=!0,a;if("node_op"==d.type&&"op_exp"==d.value&&(e.hash||(e.hash=this.parser.compile(e)),d.children[0].hash||(d.children[0].hash=this.parser.compile(d.children[0])),e.hash===d.children[0].hash))return d.children[1]=this.createNode("node_op","op_sub",d.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,d;if("node_const"!=e.type&&"node_op"==d.type&&"op_mul"==d.value&&"node_const"==d.children[0].type)return a.value="op_mul",a.children=[d.children[0],this.createNode("node_op","op_div",d.children[1],e)],this.mayNotBeSimplified=!0,a;if("node_op"==d.type&&"op_exp"==d.value&&"node_op"==e.type&&"op_exp"==e.value&&(d.children[0].hash=this.parser.compile(d.children[0]),e.children[0].hash=this.parser.compile(e.children[0]),d.children[0].hash===e.children[0].hash))return d.children[1]=this.createNode("node_op","op_sub",d.children[1],e.children[1]),this.mayNotBeSimplified=!0,d;break;case"op_exp":if(d=a.children[0],"node_const"==(e=a.children[1]).type&&0===e.value)return e.value=1,e;if("node_const"==e.type&&1==e.value||"node_const"==d.type&&1==d.value||"node_const"==d.type&&0===d.value&&"node_const"==e.type&&0!==e.value)return d;if("node_op"==d.type&&"op_exp"==d.value)return a.children=[d.children[0],this.createNode("node_op","op_mul",d.children[1],e)],a}switch(a.value){case"op_add":if(d=a.children[0],e=a.children[1],"node_const"==d.type&&"node_const"==e.type&&d.value==e.value)return d.value+=e.value,d;if("node_var"==d.type&&"node_var"==e.type&&d.value==e.value){a.children[0]=this.createNode("node_const",2),a.value="op_mul";break}if("node_op"==d.type&&"op_neg"==d.value){a.value="op_sub",a.children[0]=e,a.children[1]=d.children[0],this.mayNotBeSimplified=!0;break}if("node_op"==e.type&&"op_neg"==e.value){a.value="op_sub",a.children[1]=e.children[0],this.mayNotBeSimplified=!0;break}if("node_op"==d.type&&"op_mul"==d.value&&"node_op"==e.type&&"op_mul"==e.value&&(d.children[1].hash=this.parser.compile(d.children[1]),e.children[1].hash=this.parser.compile(e.children[1]),d.children[1].hash===e.children[1].hash)){a.value="op_mul",a.children=[this.createNode("node_op","op_add",d.children[0],e.children[0]),d.children[1]],this.mayNotBeSimplified=!0;break}if("node_op"==d.type&&"op_mul"==d.value&&(d.children[1].hash=this.parser.compile(d.children[1]),e.hash=this.parser.compile(e),d.children[1].hash===e.hash)){a.value="op_mul",a.children=[this.createNode("node_op","op_add",d.children[0],this.createNode("node_const",1)),e],this.mayNotBeSimplified=!0;break}"node_op"==e.type&&"op_mul"==e.value&&(e.children[1].hash=this.parser.compile(e.children[1]),d.hash=this.parser.compile(d),e.children[1].hash===d.hash)&&(a.value="op_mul",a.children=[this.createNode("node_op","op_add",this.createNode("node_const",1),e.children[0]),d],this.mayNotBeSimplified=!0);break;case"op_sub":d=a.children[0],"node_op"==(e=a.children[1]).type&&"op_neg"==e.value&&(a.value="op_add",a.children[1]=e.children[0],this.mayNotBeSimplified=!0);break;case"op_execfun":return this.simplifyElementary(a)}return a},simplifyElementary:function(a){var b=a.children[0].value,c=a.children[1];if(0==c.length)return a;switch(b){case"sin":case"tan":("node_const"==c[0].type&&0===c[0].value||"node_var"==c[0].type&&"PI"==c[0].value||"node_op"==c[0].type&&"op_mul"==c[0].value&&"node_const"==c[0].children[0].type&&c[0].children[0].value%1==0&&"node_var"==c[0].children[1].type&&"PI"==c[0].children[1].value)&&(a.type="node_const",a.value=0);break;case"cos":if("node_const"==c[0].type&&0===c[0].value){a.type="node_const",a.value=1;break}"node_var"==c[0].type&&"PI"==c[0].value&&(a.type="node_op",a.value="op_neg",a.children=[this.createNode("node_const",1)]);break;case"exp":"node_const"==c[0].type&&0===c[0].value&&(a.type="node_const",a.value=1);break;case"pow":"node_const"==c[1].type&&0===c[1].value&&(a.type="node_const",a.value=1)}return a}});let __TURBOPACK__default__export__57=__TURBOPACK__default__export__.CA;__TURBOPACK__default__export__.Dump={addMarkers:function(a,b,c){var d,e,f;for(d in __TURBOPACK__default__export__3.isArray(b)||(b=[b]),__TURBOPACK__default__export__3.isArray(c)||(c=[c]),e=Math.min(b.length,c.length),b.length=e,c.length=e,a.objects)if(a.objects.hasOwnProperty(d))for(f=0;f<e;f++)a.objects[d][b[f]]=c[f]},deleteMarkers:function(a,b){var c,d,e;for(c in __TURBOPACK__default__export__3.isArray(b)||(b=[b]),d=b.length,b.length=d,a.objects)if(a.objects.hasOwnProperty(c))for(e=0;e<d;e++)delete a.objects[c][b[e]]},str:function(a){return"string"==typeof a&&"function"!==a.slice(0,7)&&(a='"'+a+'"'),a},minimizeObject:function(a,b){var c,d,e,f={},g=__TURBOPACK__default__export__3.deepCopy(a),h=[];for(e=1;e<arguments.length;e++)h.push(arguments[e]);for(f=__TURBOPACK__default__export__3.deepCopy(f,__TURBOPACK__default__export__.Options.elements,!0),e=h.length;e>0;e--)f=__TURBOPACK__default__export__3.deepCopy(f,h[e-1],!0);for(c in f)f.hasOwnProperty(c)&&(d=c.toLowerCase(),"object"!=typeof f[c]&&f[c]===g[d]&&delete g[d]);return g},prepareAttributes:function(a,b){var c,d;for(d in c=this.minimizeObject(b.getAttributes(),__TURBOPACK__default__export__.Options[b.elType]),b.subs)b.subs.hasOwnProperty(d)&&(c[d]=this.minimizeObject(b.subs[d].getAttributes(),__TURBOPACK__default__export__.Options[b.elType][d],__TURBOPACK__default__export__.Options[b.subs[d].elType]),c[d].id=b.subs[d].id,c[d].name=b.subs[d].name);return c.id=b.id,c.name=b.name,c},setBoundingBox:function(a,b,c){return a.push({obj:c,method:"setBoundingBox",params:[b.getBoundingBox(),b.keepaspectratio]}),a},dump:function(a){var b,c,d,e,f=[],g=[],h=[],i=a.objectsList.length;for(this.addMarkers(a,"dumped",!1),b=0;b<i;b++)if(c=a.objectsList[b],d={},!c.dumped&&c.dump){for(d.type=c.getType(),d.parents=c.getParents().slice(),"point"===d.type&&1===d.parents[0]&&(d.parents=d.parents.slice(1)),e=0;e<d.parents.length;e++)__TURBOPACK__default__export__3.isString(d.parents[e])&&"'"!==d.parents[e][0]&&'"'!==d.parents[e][0]?d.parents[e]='"'+d.parents[e]+'"':__TURBOPACK__default__export__3.isArray(d.parents[e])&&(d.parents[e]="["+d.parents[e].toString()+"]");d.attributes=this.prepareAttributes(a,c),"glider"===d.type&&c.onPolygon&&f.push({obj:c.id,prop:"onPolygon",val:!0}),h.push(d)}return this.deleteMarkers(a,"dumped"),{elements:h,props:f,methods:g}},arrayToParamStr:function(a,b){var c,d=[];for(c=0;c<a.length;c++)d.push(b.call(this,a[c]));return d.join(", ")},toJCAN:function(a){var b,c,d;switch(typeof a){case"object":if(a){if(c=[],__TURBOPACK__default__export__3.isArray(a)){for(b=0;b<a.length;b++)c.push(this.toJCAN(a[b]));return"["+c.join(",")+"]"}for(d in a)a.hasOwnProperty(d)&&c.push(d+": "+this.toJCAN(a[d]));return"<<"+c.join(", ")+">> "}return"null";case"string":return"'"+a.replace(/\\/g,"\\\\").replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return a.toString();case"null":return"null"}},toJessie:function(a){var b,c,d,e=this.dump(a),f=[];for(b=0,e.methods=this.setBoundingBox(e.methods,a,"$board"),c=e.elements;b<c.length;b++)c[b].attributes.name.length>0&&f.push("// "+c[b].attributes.name),f.push("s"+b+" = "+c[b].type+"("+c[b].parents.join(", ")+") "+this.toJCAN(c[b].attributes).replace(/\n/,"\\n")+";"),"axis"===c[b].type&&(d=c[b].attributes.id,null===a.objects[d].defaultTicks&&f.push("s"+b+".removeAllTicks();")),f.push("");for(b=0;b<e.methods.length;b++)f.push(e.methods[b].obj+"."+e.methods[b].method+"("+this.arrayToParamStr(e.methods[b].params,this.toJCAN)+");"),f.push("");for(b=0;b<e.props.length;b++)f.push(e.props[b].obj+"."+e.props[b].prop+" = "+this.toJCAN(e.props[b].val)+";"),f.push("");return f.join("\n")},toJavaScript:function(a){var b,c,d,e=this.dump(a),f=[];for(b=0,e.methods=this.setBoundingBox(e.methods,a,"board"),c=e.elements;b<c.length;b++)f.push('board.create("'+c[b].type+'", ['+c[b].parents.join(", ")+"], "+__TURBOPACK__default__export__3.toJSON(c[b].attributes)+");"),"axis"===c[b].type&&(d=c[b].attributes.id,null===a.objects[d].defaultTicks&&f.push('board.objects["'+d+'"].removeTicks(board.objects["'+d+'"].defaultTicks);'));for(b=0;b<e.methods.length;b++)f.push(e.methods[b].obj+"."+e.methods[b].method+"("+this.arrayToParamStr(e.methods[b].params,__TURBOPACK__default__export__3.toJSON)+");"),f.push("");for(b=0;b<e.props.length;b++)f.push(e.props[b].obj+"."+e.props[b].prop+" = "+__TURBOPACK__default__export__3.toJSON(e.props[b].val)+";"),f.push("");return f.join("\n")}};let __TURBOPACK__default__export__58=__TURBOPACK__default__export__.Dump;__TURBOPACK__default__export__.createComb=function(a,b,c){var d,e,f,g;if(2===b.length){if(__TURBOPACK__default__export__3.isArray(b[0])&&b[0].length>1)g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"comb","point1"),d=a.create("point",b[0],g);else if(__TURBOPACK__default__export__3.isString(b[0])||__TURBOPACK__default__export__3.isPoint(b[0]))d=a.select(b[0]);else if(__TURBOPACK__default__export__3.isFunction(b[0])&&__TURBOPACK__default__export__3.isPoint(b[0]()))d=b[0]();else if(__TURBOPACK__default__export__3.isFunction(b[0])&&b[0]().length&&b[0]().length>=2)g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"comb","point1"),d=__TURBOPACK__default__export__.createPoint(a,b[0](),g);else throw Error("JSXGraph: Can't create comb with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");if(__TURBOPACK__default__export__3.isArray(b[1])&&b[1].length>1)g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"comb","point2"),e=a.create("point",b[1],g);else if(__TURBOPACK__default__export__3.isString(b[1])||__TURBOPACK__default__export__3.isPoint(b[1]))e=a.select(b[1]);else if(__TURBOPACK__default__export__3.isFunction(b[1])&&__TURBOPACK__default__export__3.isPoint(b[1]()))e=b[1]();else if(__TURBOPACK__default__export__3.isFunction(b[1])&&b[1]().length&&b[1]().length>=2)g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"comb","point2"),e=__TURBOPACK__default__export__.createPoint(a,b[1](),g);else throw Error("JSXGraph: Can't create comb with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]")}else throw Error("JSXGraph: Can't create comb with parent types "+b.map(function(a){return"'"+typeof a+"'"}).join(", ")+".\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");return g=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"comb"),(f=a.create("curve",[[0],[0]],g)).updateDataArray=function(){var a,b,c,g,h,i,j,k,l,m,n=0,o=d.Dist(e),p=d,q=e;for(k=f.evalVisProp("frequency"),l=-f.evalVisProp("angle"),m=f.evalVisProp("width"),f.evalVisProp("reverse")&&(p=e,q=d,l=-l),a=Math.cos(l),b=Math.sin(l),c=(q.X()-p.X())/o,g=(q.Y()-p.Y())/o,a*=m/Math.abs(b),b*=m/Math.abs(b),this.dataX=[],this.dataY=[];n<o;)h=p.X()+c*n,i=p.Y()+g*n,b*=j=Math.min(a,o-n)/Math.abs(a),a*=j,this.dataX.push(h),this.dataY.push(i),this.dataX.push(h+c*a+g*b),this.dataY.push(i-c*b+g*a),this.dataX.push(NaN),this.dataY.push(NaN),n+=k},f},__TURBOPACK__default__export__.registerElement("comb",__TURBOPACK__default__export__.createComb);var priv2={removeSlopeTriangle:function(){__TURBOPACK__default__export__47.prototype.remove.call(this),this.board.removeObject(this.toppoint),this.board.removeObject(this.glider),this.board.removeObject(this.baseline),this.board.removeObject(this.basepoint),this.board.removeObject(this.label),this._isPrivateTangent&&this.board.removeObject(this.tangent)},Value:function(){return this.tangent.getSlope()},Direction:function(){return this.tangent.Direction()}};__TURBOPACK__default__export__.createSlopeTriangle=function(a,b,c){var d,e,f,g,h,i,j,k,l,m=!1;if(1===b.length&&b[0].type===__TURBOPACK__default__export__1.OBJECT_TYPE_TANGENT)f=(e=b[0]).glider;else if(1===b.length&&b[0].type===__TURBOPACK__default__export__1.OBJECT_TYPE_GLIDER)f=b[0],l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"slopetriangle","tangent"),e=a.create("tangent",[f],l),m=!0;else if(2===b.length&&b[0].elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE&&__TURBOPACK__default__export__3.isPoint(b[1]))e=b[0],f=b[1];else throw Error("JSXGraph: Can't create slope triangle with parent types '"+typeof b[0]+"'.");return l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"slopetriangle","basepoint"),j=a.create("point",[function(){return[f.X()+1,f.Y()]}],l),l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"slopetriangle","baseline"),i=a.create("line",[f,j],l),l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"slopetriangle","glider"),g=a.create("glider",[f.X()+1,f.Y(),i],l),l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"slopetriangle","toppoint"),h=a.create("point",[function(){return[g.X(),g.Y()+(g.X()-f.X())*e.getSlope()]}],l),l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"slopetriangle"),(d=a.create("polygon",[f,g,h],l)).Value=priv2.Value,d.Direction=priv2.Direction,d.tangent=e,d._isPrivateTangent=m,d.borders[2].setArrow(!1,!1),l=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"slopetriangle","label"),(l=__TURBOPACK__default__export__3.copyAttributes(l,a.options,"label")).isLabel=!0,l.anchor=d.borders[1],l.priv=d.borders[1].visProp.priv,l.id=d.borders[1].id+"Label",(k=a.create("text",[0,0,function(){return""}],l)).needsUpdate=!0,k.dump=!1,d.borders[1].label=k,d.borders[1].hasLabel=!0,d.borders[1].visProp.withlabel=!0,k._setText(function(){var a=k.evalVisProp("digits");return k.useLocale()?k.formatNumberLocale(d.Value(),a):__TURBOPACK__default__export__3.toFixed(d.Value(),a)}),k.fullUpdate(),d.glider=g,d.basepoint=j,d.baseline=i,d.toppoint=h,d.label=k,d.subs={glider:g,basePoint:j,baseLine:i,topPoint:h,label:k},d.inherits.push(g,j,i,h,k),d.methodMap=__TURBOPACK__default__export__.deepCopy(d.methodMap,{tangent:"tangent",glider:"glider",basepoint:"basepoint",baseline:"baseline",toppoint:"toppoint",label:"label",Value:"Value",V:"Value",Direction:"Direction"}),d.remove=priv2.removeSlopeTriangle,d},__TURBOPACK__default__export__.registerElement("slopetriangle",__TURBOPACK__default__export__.createSlopeTriangle);var priv3={CheckboxChangeEventHandler:function(){this._value=this.rendNodeCheckbox.checked,this.board.update()}};__TURBOPACK__default__export__.createCheckbox=function(a,b,c){var d,e,f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"checkbox");return e=[b[0],b[1],'<span style="display:inline"><input type="checkbox" /><label for=""></label></span>'],(d=a.create("text",e,f)).type=__TURBOPACK__default__export__3.OBJECT_TYPE_CHECKBOX,d.rendNodeCheckbox=d.rendNode.childNodes[0].childNodes[0],d.rendNodeLabel=d.rendNode.childNodes[0].childNodes[1],d.rendNodeTag=d.rendNodeCheckbox,d.rendNodeTag.disabled=!!f.disabled,d.rendNodeCheckbox.id=d.rendNode.id+"_checkbox",d.rendNodeLabel.id=d.rendNode.id+"_label",d.rendNodeLabel.setAttribute("for",d.rendNodeCheckbox.id),d.setText(b[2]),d.visPropOld.fontsize="0px",a.renderer.updateTextStyle(d,!1),d.rendNodeCheckbox.checked=f.checked,d._value=f.checked,d.Value=function(){return this._value},d.update=function(){return this.needsUpdate&&(__TURBOPACK__default__export__.Text.prototype.update.call(this),this._value=this.rendNodeCheckbox.checked),this},__TURBOPACK__default__export__4.addEvent(d.rendNodeCheckbox,"change",priv3.CheckboxChangeEventHandler,d),d},__TURBOPACK__default__export__.registerElement("checkbox",__TURBOPACK__default__export__.createCheckbox);var priv4={InputInputEventHandler:function(a){this._value=this.rendNodeInput.value,this.board.update()}};__TURBOPACK__default__export__.createInput=function(a,b,c){var d,e,f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"input");return e=[b[0],b[1],'<span style="display:inline; white-space:nowrap; padding:0px;"><label></label><input type="text" maxlength="'+f.maxlength+'" style="width:100%"/></span>'],(d=a.create("text",e,f)).type=__TURBOPACK__default__export__3.OBJECT_TYPE_INPUT,d.rendNodeLabel=d.rendNode.childNodes[0].childNodes[0],d.rendNodeInput=d.rendNode.childNodes[0].childNodes[1],d.rendNodeInput.value=b[2],d.rendNodeTag=d.rendNodeInput,d.rendNodeTag.disabled=!!f.disabled,d.rendNodeLabel.id=d.rendNode.id+"_label",d.rendNodeInput.id=d.rendNode.id+"_input",d.rendNodeInput.setAttribute("aria-labelledby",d.rendNodeLabel.id),d.setText(b[3]),d._value=b[2],d.rendNodeInput.addEventListener("keydown",a=>{("ArrowLeft"===a.key||"ArrowRight"===a.key)&&a.stopPropagation()}),d.update=function(){return this.needsUpdate&&(__TURBOPACK__default__export__.Text.prototype.update.call(this),this._value=this.rendNodeInput.value),this},d.Value=function(){return this._value},d.set=function(a){return this._value=a,this.rendNodeInput.value=a,this},__TURBOPACK__default__export__4.addEvent(d.rendNodeInput,"input",priv4.InputInputEventHandler,d),__TURBOPACK__default__export__4.addEvent(d.rendNodeInput,"mousedown",function(a){__TURBOPACK__default__export__3.exists(a.stopPropagation)&&a.stopPropagation()},d),__TURBOPACK__default__export__4.addEvent(d.rendNodeInput,"touchstart",function(a){__TURBOPACK__default__export__3.exists(a.stopPropagation)&&a.stopPropagation()},d),__TURBOPACK__default__export__4.addEvent(d.rendNodeInput,"pointerdown",function(a){__TURBOPACK__default__export__3.exists(a.stopPropagation)&&a.stopPropagation()},d),d.visPropOld.fontsize="0px",a.renderer.updateTextStyle(d,!1),d},__TURBOPACK__default__export__.registerElement("input",__TURBOPACK__default__export__.createInput);var priv5={ButtonClickEventHandler:function(){this._handler&&this._handler(),this.board.update()}};__TURBOPACK__default__export__.createButton=function(a,b,c){var d,e,f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"button");return e=[b[0],b[1],'<button type="button" style="width:100%; height:100%;" tabindex="0"></button>'],(d=a.create("text",e,f)).type=__TURBOPACK__default__export__3.OBJECT_TYPE_BUTTON,d.rendNodeButton=d.rendNode.childNodes[0],d.rendNodeButton.id=d.rendNode.id+"_button",d.rendNodeTag=d.rendNodeButton,d.rendNodeTag.disabled=!!f.disabled,d.setText(b[2]),d.visPropOld.fontsize="0px",a.renderer.updateTextStyle(d,!1),b[3]&&(__TURBOPACK__default__export__3.isString(b[3])?(d._jc=new __TURBOPACK__default__export__.JessieCode,d._jc.use(a),d._handler=function(){d._jc.parse(b[3])}):d._handler=b[3]),__TURBOPACK__default__export__4.addEvent(d.rendNodeButton,"click",priv5.ButtonClickEventHandler,d),__TURBOPACK__default__export__4.addEvent(d.rendNodeButton,"mousedown",function(a){__TURBOPACK__default__export__3.exists(a.stopPropagation)&&a.stopPropagation()},d),__TURBOPACK__default__export__4.addEvent(d.rendNodeButton,"touchstart",function(a){__TURBOPACK__default__export__3.exists(a.stopPropagation)&&a.stopPropagation()},d),__TURBOPACK__default__export__4.addEvent(d.rendNodeButton,"pointerdown",function(a){__TURBOPACK__default__export__3.exists(a.stopPropagation)&&a.stopPropagation()},d),d},__TURBOPACK__default__export__.registerElement("button",__TURBOPACK__default__export__.createButton),__TURBOPACK__default__export__.createVectorField=function(a,b,c){var d,e;if(!(b.length>=3&&(__TURBOPACK__default__export__3.isArray(b[0])||__TURBOPACK__default__export__3.isFunction(b[0])||__TURBOPACK__default__export__3.isString(b[0]))&&__TURBOPACK__default__export__3.isArray(b[1])&&3===b[1].length&&__TURBOPACK__default__export__3.isArray(b[2])&&3===b[2].length))throw Error("JSXGraph: Can't create vector field with parent types '"+typeof b[0]+"', '"+typeof b[1]+"', '"+typeof b[2]+"'.");return e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"vectorfield"),(d=a.create("curve",[[],[]],e)).elType="vectorfield",d.setF=function(a,b){var c,e;return __TURBOPACK__default__export__3.isArray(a)?(c=__TURBOPACK__default__export__3.createFunction(a[0],this.board,b),e=__TURBOPACK__default__export__3.createFunction(a[1],this.board,b),this.F=function(a,b){return[c(a,b),e(a,b)]}):this.F=__TURBOPACK__default__export__3.createFunction(a,d.board,b),this},d.setF(b[0],"x, y"),d.xData=b[1],d.yData=b[2],d.updateDataArray=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n=this.evalVisProp("scale"),o=__TURBOPACK__default__export__3.evaluate(this.xData[0]),p=__TURBOPACK__default__export__3.evaluate(this.xData[1]),q=(__TURBOPACK__default__export__3.evaluate(this.xData[2])-o)/p,r=__TURBOPACK__default__export__3.evaluate(this.yData[0]),s=__TURBOPACK__default__export__3.evaluate(this.yData[1]),t=(__TURBOPACK__default__export__3.evaluate(this.yData[2])-r)/s,u=this.evalVisProp("arrowhead.enabled");for(u&&(k=(j=this.evalVisProp("arrowhead.size"))/a.unitX,l=j/a.unitY,m=this.evalVisProp("arrowhead.angle")),this.dataX=[],this.dataY=[],d=0,b=o;d<=p;b+=q,d++)for(e=0,c=r;e<=s;c+=t,e++)f=this.F(b,c),f[0]*=n,f[1]*=n,__TURBOPACK__default__export__3.concat(this.dataX,[b,b+f[0],NaN]),__TURBOPACK__default__export__3.concat(this.dataY,[c,c+f[1],NaN]),u&&Math.abs(f[0])+Math.abs(f[1])>0&&(h=(g=Math.atan2(f[1],f[0]))+m,i=g-m,__TURBOPACK__default__export__3.concat(this.dataX,[b+f[0]-Math.cos(h)*k,b+f[0],b+f[0]-Math.cos(i)*k,NaN]),__TURBOPACK__default__export__3.concat(this.dataY,[c+f[1]-Math.sin(h)*l,c+f[1],c+f[1]-Math.sin(i)*l,NaN]))},d.methodMap=__TURBOPACK__default__export__3.deepCopy(d.methodMap,{setF:"setF"}),d},__TURBOPACK__default__export__.registerElement("vectorfield",__TURBOPACK__default__export__.createVectorField),__TURBOPACK__default__export__.createSlopeField=function(a,b,c){var d,e,f;if(!(b.length>=3&&(__TURBOPACK__default__export__3.isFunction(b[0])||__TURBOPACK__default__export__3.isString(b[0]))&&__TURBOPACK__default__export__3.isArray(b[1])&&3===b[1].length&&__TURBOPACK__default__export__3.isArray(b[2])&&3===b[2].length))throw Error("JSXGraph: Can't create slope field with parent types '"+typeof b[0]+"', '"+typeof b[1]+"', '"+typeof b[2]+"'.");return e=__TURBOPACK__default__export__3.createFunction(b[0],a,"x, y"),b[0]=function(a,b){var c=e(a,b),d=Math.sqrt(1+c*c);return[1/d,c/d]},f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"slopefield"),(d=a.create("vectorfield",b,f)).elType="slopefield",d.setF=function(a,b){var c=__TURBOPACK__default__export__3.createFunction(a,d.board,b);this.F=function(a,b){var d=c(a,b),e=Math.sqrt(1+d*d);return[1/e,d/e]}},d.methodMap=__TURBOPACK__default__export__3.deepCopy(d.methodMap,{setF:"setF"}),d},__TURBOPACK__default__export__.registerElement("slopefield",__TURBOPACK__default__export__.createSlopeField),__TURBOPACK__default__export__.createSmartLabel=function(a,b,c){var d,e,f,g,h,i;if(0===b.length||0>[__TURBOPACK__default__export__1.OBJECT_CLASS_POINT,__TURBOPACK__default__export__1.OBJECT_CLASS_LINE,__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE].indexOf(b[0].elementClass)&&0>[__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON,__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE].indexOf(b[0].type))throw Error("JSXGraph: Can't create smartlabel with parent types '"+typeof b[0]+"', '"+typeof b[1]+"'.");return f=b[0],g=b[1]||"",f.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT?e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"smartlabelpoint"):f.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?((e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"smartlabelline")).rotate=function(){return 180*Math.atan(f.getSlope())/Math.PI},e.visible=function(){return!(1.5>f.L())}):f.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE?(e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"smartlabelcircle")).visible=function(){return!(1.5>f.Radius())}:f.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON?e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"smartlabelpolygon"):f.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE&&((e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"smartlabelangle")).rotate=function(){var a=f.center.coords.usrCoords,b=f.getLabelAnchor().usrCoords,c=180*Math.atan2(b[2]-a[2],b[1]-a[1])/Math.PI;return c>90&&c<270?c+180:c},e.anchorX=function(){var a=f.center.coords.usrCoords,b=f.getLabelAnchor().usrCoords,c=180*Math.atan2(b[2]-a[2],b[1]-a[1])/Math.PI;return c>90&&c<270?"right":"left"}),h=function(a,b,c,d){var e;switch(d){case"length":e=function(){return b.L()};break;case"slope":e=function(){return b.Slope()};break;case"area":e=function(){return b.Area()};break;case"radius":e=function(){return b.Radius()};break;case"perimeter":e=function(){return b.Perimeter()};break;case"rad":e=function(){return b.Value()};break;case"deg":e=function(){return 180*b.Value()/Math.PI};break;default:e=function(){return 0}}return function(){var b,c="",d=__TURBOPACK__default__export__3.evaluate(g),f=a.evalVisProp("digits"),h=a.evalVisProp("unit"),i=a.evalVisProp("prefix"),j=a.evalVisProp("suffix"),k=a.evalVisProp("usemathjax")||a.evalVisProp("usekatex");return""===d?(b=a.useLocale()?a.formatNumberLocale(e(),f):__TURBOPACK__default__export__3.toFixed(e(),f),c=k?"\\("+i+b+"\\,"+h+j+"\\)":[i,b,h,j].join("")):c=d,c}},f.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_POINT?(d=a.create("text",[function(){return f.X()},function(){return f.Y()},""],e),i=function(){var a,b,c="",e=__TURBOPACK__default__export__3.evaluate(g),h=d.evalVisProp("digits"),i=d.evalVisProp("unit"),j=d.evalVisProp("prefix"),k=d.evalVisProp("suffix"),l=d.evalVisProp("dir"),m=d.evalVisProp("usemathjax")||d.evalVisProp("usekatex");return d.useLocale()?(a=d.formatNumberLocale(f.X(),h),b=d.formatNumberLocale(f.Y(),h)):(a=__TURBOPACK__default__export__3.toFixed(f.X(),h),b=__TURBOPACK__default__export__3.toFixed(f.Y(),h)),""===e?"row"===l?c=m?"\\("+j+a+"\\,"+i+" / "+b+"\\,"+i+k+"\\)":""+j+a+" "+i+" / "+b+" "+i+k:0===l.indexOf("col")&&(c=m?"\\("+j+"\\left(\\array{"+a+"\\,"+i+"\\\\ "+b+"\\,"+i+"}\\right)"+k+"\\)":""+j+a+" "+i+"<br/>"+b+" "+i+k):c=e,c}):f.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_LINE?"length"===e.measure?i=h(d=a.create("text",[function(){return(f.point1.X()+f.point2.X())*.5},function(){return(f.point1.Y()+f.point2.Y())*.5},""],e),f,"line","length"):"slope"===e.measure&&(i=h(d=a.create("text",[function(){return .25*f.point1.X()+.75*f.point2.X()},function(){return .25*f.point1.Y()+.75*f.point2.Y()},""],e),f,"line","slope")):f.elementClass===__TURBOPACK__default__export__1.OBJECT_CLASS_CIRCLE?"radius"===e.measure?i=h(d=a.create("text",[function(){return f.center.X()+.5*f.Radius()},function(){return f.center.Y()},""],e),f,"circle","radius"):"area"===e.measure?i=h(d=a.create("text",[function(){return f.center.X()},function(){return f.center.Y()+.5*f.Radius()},""],e),f,"circle","area"):("circumference"===e.measure||"perimeter"===e.measure)&&(i=h(d=a.create("text",[function(){return f.getLabelAnchor()},""],e),f,"circle","perimeter")):f.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON?"area"===e.measure?i=h(d=a.create("text",[function(){return f.getTextAnchor()},""],e),f,"polygon","area"):"perimeter"===e.measure&&(i=h(d=a.create("text",[function(){var a=f.borders.length-1;return a>=0?[(f.borders[a].point1.X()+f.borders[a].point2.X())*.5,(f.borders[a].point1.Y()+f.borders[a].point2.Y())*.5]:f.getTextAnchor()},""],e),f,"polygon","perimeter")):f.type===__TURBOPACK__default__export__1.OBJECT_TYPE_ANGLE&&(i=h(d=a.create("text",[function(){return f.getLabelAnchor()},""],e),f,"angle",e.measure)),__TURBOPACK__default__export__3.exists(d)&&(d.setText(i),f.addChild(d),d.setParents([f])),d},__TURBOPACK__default__export__.registerElement("smartlabel",__TURBOPACK__default__export__.createSmartLabel),__TURBOPACK__default__export__.ForeignObject=function(a,b,c,d,e){this.constructor(a,c,__TURBOPACK__default__export__1.OBJECT_TYPE_FOREIGNOBJECT,__TURBOPACK__default__export__1.OBJECT_CLASS_OTHER),this.element=this.board.select(c.anchor),this.coordsConstructor(b),this._useUserSize=!1,this.size=[1,1],__TURBOPACK__default__export__3.exists(e)&&e.length>0&&(this._useUserSize=!0,this.W=__TURBOPACK__default__export__3.createFunction(e[0],this.board,""),this.H=__TURBOPACK__default__export__3.createFunction(e[1],this.board,""),this.addParentsFromJCFunctions([this.W,this.H]),this.usrSize=[this.W(),this.H()]),this.content=d,this.elType="foreignobject",this.id=this.board.setId(this,"Im"),this.board.renderer.drawForeignObject(this),this.board.finalizeAdding(this),this.methodMap=__TURBOPACK__default__export__.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform",W:"W",Width:"W",H:"H",Height:"H"})},__TURBOPACK__default__export__.ForeignObject.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.ForeignObject,__TURBOPACK__default__export__32,"coordsConstructor"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.ForeignObject.prototype,{hasPoint:function(a,b){var c,d,e,f,g,h,i,j,k,l=this.transformations.length;return(__TURBOPACK__default__export__3.isObject(this.evalVisProp("precision"))?(f=this.board._inputDevice,g=this.evalVisProp("precision."+f)):g=this.board.options.precision.hasPoint,0===l)?(c=a-this.coords.scrCoords[1],d=this.coords.scrCoords[2]-b,c>=-(e=g)&&c-this.size[0]<=e&&d>=-e&&d-this.size[1]<=e):(i=[(h=(h=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_SCREEN,[a,b],this.board)).usrCoords)[0]-this.span[0][0],h[1]-this.span[0][1],h[2]-this.span[0][2]],!!(0<=(j=(k=__TURBOPACK__default__export__2.innerProduct)(i,this.span[1]))&&j<=k(this.span[1],this.span[1])&&0<=(j=k(i,this.span[2]))&&j<=k(this.span[2],this.span[2]))||!1)},update:function(a){return this.needsUpdate&&(this.updateCoords(a),this.updateSize()),this},updateRenderer:function(){return this.updateRendererGeneric("updateForeignObject")},updateSize:function(){var a=[0,0];return this._useUserSize?(this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)]):this.rendNode.hasChildNodes()&&(a=this.rendNode.childNodes[0].getBoundingClientRect(),this.size=[a.width,a.height]),this},updateSpan:function(){var a,b,c=this.transformations.length,d=[];if(0===c)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(a=0,d[0]=[this.Z(),this.X(),this.Y()],d[1]=[this.Z(),this.X()+this.W(),this.Y()],d[2]=[this.Z(),this.X(),this.Y()+this.H()];a<c;a++)for(b=0;b<3;b++)d[b]=__TURBOPACK__default__export__2.matVecMult(this.transformations[a].matrix,d[b]);for(b=0;b<3;b++)d[b][1]/=d[b][0],d[b][2]/=d[b][0],d[b][0]/=d[b][0];for(b=1;b<3;b++)d[b][0]-=d[0][0],d[b][1]-=d[0][1],d[b][2]-=d[0][2];this.span=d}return this},addTransform:function(a){var b;if(__TURBOPACK__default__export__3.isArray(a))for(b=0;b<a.length;b++)this.transformations.push(a[b]);else this.transformations.push(a);return this},getParents:function(){var a=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return 0!==this.parents.length&&(a=this.parents),a},setSize:function(a,b){return this.W=__TURBOPACK__default__export__3.createFunction(a,this.board,""),this.H=__TURBOPACK__default__export__3.createFunction(b,this.board,""),this._useUserSize=!0,this.addParentsFromJCFunctions([this.W,this.H]),this},W:function(){},H:function(){}}),__TURBOPACK__default__export__.createForeignObject=function(a,b,c){var d,e,f=b[0],g=b[1],h=[];if(b.length>=2&&(h=b[2]),d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"foreignobject"),!(e=__TURBOPACK__default__export__32.create(__TURBOPACK__default__export__.ForeignObject,a,g,d,f,h)))throw Error("JSXGraph: Can't create foreignObject with parent types '"+typeof b[0]+"' and '"+typeof b[1]+"'.\nPossible parent types: [string, [x, y], [w, h]], [string, [x, y]], [element,transformation]");return e},__TURBOPACK__default__export__.registerElement("foreignobject",__TURBOPACK__default__export__.createForeignObject),__TURBOPACK__default__export__.registerElement("fo",__TURBOPACK__default__export__.createForeignObject);let __TURBOPACK__default__export__59=__TURBOPACK__default__export__.ForeignObject;__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__25,{axes3d:{axesPosition:"center",xAxis:{visible:!0,point2:{name:"x"},strokeColor:__TURBOPACK__default__export__.palette.red},yAxis:{visible:!0,point2:{name:"y"},strokeColor:__TURBOPACK__default__export__.palette.green},zAxis:{visible:!0,point2:{name:"z"},strokeColor:__TURBOPACK__default__export__.palette.blue},xAxisBorder:{name:"x",visible:"Ã¬nherit",withLabel:!1,label:{position:"50% left",offset:[30,0],fontsize:15},strokeWidth:1,lastArrow:!1,ticks3d:{visible:"Ã¬nherit",label:{anchorX:"middle",anchorY:"middle"}}},yAxisBorder:{name:"y",visible:"Ã¬nherit",withLabel:!1,label:{position:"50% right",offset:[0,-30],fontsize:15},strokeWidth:1,lastArrow:!1,ticks3d:{visible:"Ã¬nherit",label:{anchorX:"middle"}}},zAxisBorder:{name:"z",visible:"Ã¬nherit",withLabel:!1,label:{position:"50% right",offset:[30,0],fontsize:15},strokeWidth:1,lastArrow:!1,ticks3d:{visible:"Ã¬nherit",label:{anchorX:"middle",anchorY:"middle"}}},xPlaneRear:{visible:!0,layer:0,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",mesh3d:{layer:1}},yPlaneRear:{visible:!0,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",layer:0,mesh3d:{layer:1}},zPlaneRear:{visible:!0,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",layer:0,mesh3d:{layer:1}},xPlaneFront:{visible:!1,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",layer:0,mesh3d:{layer:1}},yPlaneFront:{visible:!1,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",layer:0,mesh3d:{layer:1}},zPlaneFront:{visible:!1,strokeWidth:1,strokeColor:"#dddddd",fillColor:"#dddddd",layer:0,mesh3d:{layer:1}},xPlaneRearYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneRearZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneFrontYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},xPlaneFrontZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneRearXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneRearZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneFrontXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},yPlaneFrontZAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneRearXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneRearYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneFrontXAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1},zPlaneFrontYAxis:{visible:"inherit",strokeColor:"#888888",strokeWidth:1}},axis3d:{highlight:!1,fixed:!0,strokeColor:"black",strokeWidth:1,tabindex:null,point1:{visible:!1,name:"",withLabel:!1},point2:{visible:!1,name:"",withLabel:!1,label:{visible:!0}}},circle3d:{layer:12,point:{visible:!1,name:""},needsRegularUpdate:!0},curve3d:{layer:12,highlight:!1,tabindex:-1,strokeWidth:1,numberPointsHigh:200,needsRegularUpdate:!0},face3d:{transitionProperties:[],layer:12,highlight:!1,tabindex:null,strokeWidth:1,fillColor:__TURBOPACK__default__export__.palette.yellow,fillOpacity:.4,needsRegularUpdate:!0,shader:{enabled:!1,type:"angle",hue:60,saturation:90,minLightness:30,maxLightness:90}},intersectionline3d:{point1:{visible:!1,name:""},point2:{visible:!1,name:""}},line3d:{layer:12,strokeWidth:1,strokeColor:"black",fixed:!0,tabindex:null,needsRegularUpdate:!0,point:{visible:!1,name:""},point1:{visible:!1,name:""},point2:{visible:!1,name:""},straightFirst:!1,straightLast:!1},mesh3d:{layer:12,strokeWidth:1,strokeColor:"#9a9a9a",strokeOpacity:.6,highlight:!1,tabindex:null,needsRegularUpdate:!0,stepWidthU:1,stepWidthV:1},plane3d:{layer:12,strokeWidth:0,strokeColor:"black",strokeOpacity:1,highlight:!1,tabindex:null,needsRegularUpdate:!0,visible:!0,gradient:"linear",gradientSecondColor:"#ffffff",gradientAngle:Math.PI,fillColor:"#a7a7a7",fillOpacity:.6,mesh3d:{visible:"inherit"},threePoints:!1,point:{visible:!1,name:"",fixed:!0},point1:{visible:!1,name:""},point2:{visible:!1,name:""},point3:{visible:!1,name:""}},point3d:{layer:13,infoboxDigits:"auto",strokeWidth:0,gradient:"radial",gradientSecondColor:"#555555",fillColor:"yellow",highlightStrokeColor:"#555555",gradientFX:.7,gradientFY:.3,needsRegularUpdate:!0},polygon3d:{layer:12,highlight:!1,tabindex:-1,strokeWidth:1,fillColor:"none",needsRegularUpdate:!0},polyhedron3d:{fillColorArray:["white","black"],needsRegularUpdate:!0},sphere3d:{layer:12,highlight:!1,strokeWidth:1,strokeColor:"#00ff80",fillColor:"white",gradient:"radial",gradientSecondColor:"#00ff80",gradientFX:.7,gradientFY:.3,fillOpacity:.4,needsRegularUpdate:!0},surface3d:{layer:12,highlight:!1,tabindex:-1,strokeWidth:1,stepsU:30,stepsV:30,needsRegularUpdate:!0},text3d:{withLabel:!1,needsRegularUpdate:!0},ticks3d:{visible:!0,ticksDistance:1,majorHeight:10,minorTicks:0,tickEndings:[0,1],drawLabels:!0,needsRegularUpdate:!0,label:{visible:!0,withLabel:!1}},vectorfield3d:{scale:1,arrowhead:{enabled:!0,size:5,angle:.125*Math.PI},needsRegularUpdate:!0},view3d:{needsRegularUpdate:!0,depthOrder:{enabled:!1,layers:[12,13]},projection:"parallel",verticalDrag:{enabled:!0,key:"shift"},az:{pointer:{enabled:!0,speed:1,outside:!0,button:-1,key:"none"},keyboard:{enabled:!0,step:10,key:"ctrl"},continuous:!0,slider:{visible:"inherit",style:6,point1:{pos:"auto",frozen:!1},point2:{pos:"auto",frozen:!1},min:0,max:2*Math.PI,start:1}},el:{pointer:{enabled:!0,speed:1,outside:!0,button:-1,key:"none"},keyboard:{enabled:!0,step:10,key:"ctrl"},continuous:!0,slider:{visible:"inherit",style:6,point1:{frozen:!1,pos:"auto"},point2:{frozen:!1,pos:"auto"},min:0,max:2*Math.PI,start:.3}},bank:{pointer:{enabled:!0,speed:.08,outside:!0,button:-1,key:"none"},keyboard:{enabled:!0,step:10,key:"ctrl"},continuous:!0,slider:{visible:"inherit",style:6,point1:{frozen:!1,pos:"auto"},point2:{frozen:!1,pos:"auto"},min:-Math.PI,max:Math.PI,start:0}},trackball:{enabled:!1,outside:!0,button:-1,key:"none"},r:"auto",fov:.4*Math.PI,values:[[0,1.57],[.78,.62],[0,0],[5.49,.62],[4.71,0],[3.93,.62],[3.14,0],[2.36,.62],[1.57,1.57]],infobox:{strokeColor:"#000000",fontSize:16,useKatex:!1,useMathjax:!1,intl:{enabled:!0,options:{minimumFractionDigits:2,maximumFractionDigits:3}}},_currentView:-1}});let __TURBOPACK__default__export__60=__TURBOPACK__default__export__.Options;__TURBOPACK__default__export__.View3D=function(a,b,c){this.constructor(a,c,__TURBOPACK__default__export__1.OBJECT_TYPE_VIEW3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.objects={},this.depthOrdered={},this.elementsByName={},this.defaultAxes=null,this.angles={az:null,el:null,bank:null},this.matrix3DRot=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],this.matrix3DRotShift=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],this.matrix3D=[[1,0,0,0],[0,1,0,0],[0,0,1,0]],this.boxToCam=[],this.llftCorner=b[0],this.size=b[1],this.bbox3D=b[2],this.r=-1,this.focalDist=-1,this.projectionType="parallel",this.trackballEnabled=!1,this.timeoutAzimuth=null,this.zIndexMin=1/0,this.zIndexMax=-1/0,this.id=this.board.setId(this,"V"),this.board.finalizeAdding(this),this.elType="view3d",this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{})},__TURBOPACK__default__export__.View3D.prototype=new __TURBOPACK__default__export__31,__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.View3D.prototype,{create:function(a,b,c){var d=[];return a.indexOf("3d")>0&&d.push(this),this.board.create(a,d.concat(b),c)},select:function(a,b){var c,d,e,f,g=a;if(null===g)return g;if(__TURBOPACK__default__export__3.isString(g)&&""!==g)__TURBOPACK__default__export__3.exists(this.objects[g])?g=this.objects[g]:__TURBOPACK__default__export__3.exists(this.elementsByName[g])&&(g=this.elementsByName[g]);else if(!b&&(__TURBOPACK__default__export__3.isFunction(g)||__TURBOPACK__default__export__3.isObject(g)&&!__TURBOPACK__default__export__3.isFunction(g.setAttribute))){for(e=0,c=__TURBOPACK__default__export__3.filterElements(this.objectsList,g),d={},f=c.length;e<f;e++)d[c[e].id]=c[e];g=new __TURBOPACK__default__export__35(d)}else __TURBOPACK__default__export__3.isObject(g)&&__TURBOPACK__default__export__3.exists(g.id)&&!__TURBOPACK__default__export__3.exists(this.objects[g.id])&&(g=null);return g},setAnglesFromRotation:function(){var a,b,c,d,e,f,g,h=this.matrix3DRot;(a=Math.sqrt(h[1][3]*h[1][3]+h[2][3]*h[2][3]))>__TURBOPACK__default__export__2.eps?(b=h[2][3]/a,c=h[1][3]/a):(b=Math.cos(this.angles.bank),c=Math.sin(this.angles.bank)),h=__TURBOPACK__default__export__2.matMatMult([[1,0,0,0],[0,b,-c,0],[0,c,b,0],[0,0,0,1]],h),this.angles.bank=Math.atan2(c,b),d=h[2][3],e=h[3][3],h=__TURBOPACK__default__export__2.matMatMult([[1,0,0,0],[0,1,0,0],[0,0,d,e],[0,0,-e,d]],h),this.angles.el=Math.atan2(e,d),f=-h[1][1],g=h[3][1],this.angles.az=Math.atan2(g,f),this.angles.az<0&&(this.angles.az+=2*Math.PI),this.setSlidersFromAngles()},anglesHaveMoved:function(){return this._hasMoveAz||this._hasMoveEl||Math.abs(this.angles.az-this.az_slide.Value())>__TURBOPACK__default__export__2.eps||Math.abs(this.angles.el-this.el_slide.Value())>__TURBOPACK__default__export__2.eps||Math.abs(this.angles.bank-this.bank_slide.Value())>__TURBOPACK__default__export__2.eps},getAnglesFromSliders:function(){this.angles.az=this.az_slide.Value(),this.angles.el=this.el_slide.Value(),this.angles.bank=this.bank_slide.Value()},setSlidersFromAngles:function(){this.az_slide.setValue(this.angles.az),this.el_slide.setValue(this.angles.el),this.bank_slide.setValue(this.angles.bank)},getRotationFromAngles:function(){var a,b,c,d,e,f,g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];return a=this.angles.az,b=this.angles.el,c=this.angles.bank,d=-Math.sin(b),g[1][1]=-Math.cos(a),g[1][2]=Math.sin(a),g[1][3]=0,g[2][1]=d*Math.sin(a),g[2][2]=d*Math.cos(a),g[2][3]=Math.cos(b),g[3][1]=Math.cos(b)*Math.sin(a),g[3][2]=Math.cos(b)*Math.cos(a),g[3][3]=Math.sin(b),e=Math.cos(c),f=Math.sin(c),g=__TURBOPACK__default__export__2.matMatMult([[1,0,0,0],[0,e,f,0],[0,-f,e,0],[0,0,0,1]],g)},_projectToSphere:function(a,b,c){var d,e,f=__TURBOPACK__default__export__2.hypot(b,c);return f<.7071067811865475*a?Math.sqrt(a*a-f*f):(d=a/1.414213562373095)*d/f},updateProjectionTrackball:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=100,o=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];return __TURBOPACK__default__export__3.exists(this._trackball)?((b=this._trackball.dx)*b+(c=this._trackball.dy)*c>__TURBOPACK__default__export__2.eps&&(n=(this.size[0]*this.board.unitX+this.size[1]*this.board.unitY)*.25,e=[f=this._trackball.x,g=this._trackball.y,this._projectToSphere(n,f,g)],f-=b,g-=c,d=[f,g,this._projectToSphere(n,f,g)],m=__TURBOPACK__default__export__2.crossProduct(d,e),j=__TURBOPACK__default__export__2.hypot(m[0],m[1],m[2]),m[0]/=j,m[1]/=j,m[2]/=j,i=1-(k=Math.cos(h=2*Math.asin(i=(i=(i=__TURBOPACK__default__export__14.distance(e,d,3)/(2*n))>1?1:i)<-1?-1:i))),l=Math.sin(h),o[1][1]=k+m[0]*m[0]*i,o[2][1]=m[1]*m[0]*i+m[2]*l,o[3][1]=m[2]*m[0]*i-m[1]*l,o[1][2]=m[0]*m[1]*i-m[2]*l,o[2][2]=k+m[1]*m[1]*i,o[3][2]=m[2]*m[1]*i+m[0]*l,o[1][3]=m[0]*m[2]*i+m[1]*l,o[2][3]=m[1]*m[2]*i-m[0]*l,o[3][3]=k+m[2]*m[2]*i),o=__TURBOPACK__default__export__2.matMatMult(o,this.matrix3DRot)):this.matrix3DRot},updateAngleSliderBounds:function(){var a,b,c,d,e,f,g,h,i,j,k;this.trackballEnabled=this.evalVisProp("trackball.enabled"),this.trackballEnabled?(this.az_slide.setMin(0),this.az_slide.setMax(2*Math.PI),this.el_slide.setMin(-.5*Math.PI),this.el_slide.setMax(.5*Math.PI),this.bank_slide.setMin(-Math.PI),this.bank_slide.setMax(Math.PI)):(this.az_slide.setMin(this.visProp.az.slider.min),this.az_slide.setMax(this.visProp.az.slider.max),this.el_slide.setMin(this.visProp.el.slider.min),this.el_slide.setMax(this.visProp.el.slider.max),this.bank_slide.setMin(this.visProp.bank.slider.min),this.bank_slide.setMax(this.visProp.bank.slider.max)),a=this.az_slide._smax,b=this.az_slide._smin,c=this.el_slide._smax,d=this.el_slide._smin,j=this.bank_slide._smax,k=this.bank_slide._smin,this.trackballEnabled?(.5*Math.PI<(e=__TURBOPACK__default__export__2.mod(this.angles.el,2*Math.PI))&&e<1.5*Math.PI&&(this.angles.el=Math.PI-e,this.angles.az=__TURBOPACK__default__export__2.wrap(this.angles.az+Math.PI,b,a),this.angles.bank=__TURBOPACK__default__export__2.wrap(this.angles.bank+Math.PI,k,j)),this.angles.az=__TURBOPACK__default__export__2.wrap(this.angles.az,b,a),this.angles.el=__TURBOPACK__default__export__2.wrap(this.angles.el,d,c),this.angles.bank=__TURBOPACK__default__export__2.wrap(this.angles.bank,k,j)):(i=function(a){return a<d?d-a:c<a?a-c:0},f=.5*(d+c),g=__TURBOPACK__default__export__2.wrap(this.angles.el,f-Math.PI,f+Math.PI),h=__TURBOPACK__default__export__2.wrap(Math.PI-this.angles.el,f-Math.PI,f+Math.PI),i(g)<=i(h)?this.angles.el=__TURBOPACK__default__export__2.clamp(g,d,c):(this.angles.el=__TURBOPACK__default__export__2.clamp(h,d,c),this.angles.az=__TURBOPACK__default__export__2.wrap(this.angles.az+Math.PI,b,a),this.angles.bank=__TURBOPACK__default__export__2.wrap(this.angles.bank+Math.PI,k,j)),this.angles.az=__TURBOPACK__default__export__2.wrapAndClamp(this.angles.az,b,a,2*Math.PI),this.angles.bank=__TURBOPACK__default__export__2.wrapAndClamp(this.angles.bank,k,j,2*Math.PI),this.matrix3DRot=this.getRotationFromAngles()),this.setSlidersFromAngles()},_updateCentralProjection:function(){var a,b,c=20,d=8;return"auto"===(a=this.evalVisProp("r"))&&(a=1.01*__TURBOPACK__default__export__2.hypot(this.bbox3D[0][0]-this.bbox3D[0][1],this.bbox3D[1][0]-this.bbox3D[1][1],this.bbox3D[2][0]-this.bbox3D[2][1])),this.boxToCam=this.matrix3DRot.map(function(a){return a.slice()}),this.boxToCam[3][0]=-a,this.focalDist=1/Math.tan(.5*this.evalVisProp("fov")),b=[[0,0,0,-1],[0,this.focalDist,0,0],[0,0,this.focalDist,0],[2*c*d/(d-c),0,0,(c+d)/(d-c)]],__TURBOPACK__default__export__2.matMatMult(b,this.boxToCam)},update:function(){var a,b,c,d,e,f=this.r,g=[[1,0,0,0],[0,-f,0,0],[0,0,-f,0],[0,0,0,1]];return __TURBOPACK__default__export__3.exists(this.el_slide)&&__TURBOPACK__default__export__3.exists(this.az_slide)&&__TURBOPACK__default__export__3.exists(this.bank_slide)&&this.needsUpdate?(a=[[1,0,0],[0,1,0],[0,0,1]],this.projectionType=this.evalVisProp("projection").toLowerCase(),this.trackballEnabled!==this.evalVisProp("trackball.enabled")&&this.updateAngleSliderBounds(),this._hasMoveTrackball?(this.matrix3DRot=this.updateProjectionTrackball(),this.setAnglesFromRotation()):this.anglesHaveMoved()&&(this.getAnglesFromSliders(),this.matrix3DRot=this.getRotationFromAngles()),this.shift=[[1,0,0,0],[-.5*(this.bbox3D[0][0]+this.bbox3D[0][1]),1,0,0],[-.5*(this.bbox3D[1][0]+this.bbox3D[1][1]),0,1,0],[-.5*(this.bbox3D[2][0]+this.bbox3D[2][1]),0,0,1]],"central"===this.projectionType?(c=.8,a[1][1]=this.size[0]/c,a[2][2]=this.size[1]/c,a[1][0]=this.llftCorner[0]+.5*a[1][1]*c,a[2][0]=this.llftCorner[1]+.5*a[2][2]*c,this.viewPortTransform=a,b=this._updateCentralProjection(),this.matrix3D=__TURBOPACK__default__export__2.matMatMult(b,this.shift)):(d=this.bbox3D[0][1]-this.bbox3D[0][0],e=this.bbox3D[1][1]-this.bbox3D[1][0],a[1][1]=this.size[0]/d,a[2][2]=this.size[1]/e,a[1][0]=this.llftCorner[0]+.5*a[1][1]*d,a[2][0]=this.llftCorner[1]+.5*a[2][2]*e,this.matrix3D=__TURBOPACK__default__export__2.matMatMult(a,__TURBOPACK__default__export__2.matMatMult(__TURBOPACK__default__export__2.matMatMult(this.matrix3DRot,g),this.shift).slice(0,3))),this.matrix3DRotShift=__TURBOPACK__default__export__2.matMatMult(this.matrix3DRot,this.shift)):this.needsUpdate=!1,this},compareDepth:function(a,b){return a.zIndex-b.zIndex},updateZIndices:function(){var a,b;for(a in this.objects)this.objects.hasOwnProperty(a)&&((b=this.objects[a]).type===__TURBOPACK__default__export__1.OBJECT_TYPE_LINE3D||b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON3D)&&__TURBOPACK__default__export__3.exists(b.element2D)&&b.element2D.evalVisProp("visible")&&b.updateZIndex()},updateShaders:function(){var a,b,c;for(a in this.objects)this.objects.hasOwnProperty(a)&&(b=this.objects[a],__TURBOPACK__default__export__3.exists(b.shader)&&((c=b.shader())<this.zIndexMin?this.zIndexMin=c:c>this.zIndexMax&&(this.zIndexMax=c)))},updateDepthOrdering:function(){var a,b,c,d,e,f,g;for(c=0,f=this.evalVisProp("depthorder.layers");c<f.length;c++)this.depthOrdered[f[c]]=[];for(a in this.objects)this.objects.hasOwnProperty(a)&&((b=this.objects[a]).type===__TURBOPACK__default__export__1.OBJECT_TYPE_FACE3D||b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_LINE3D||b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POINT3D||b.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON3D)&&__TURBOPACK__default__export__3.exists(b.element2D)&&b.element2D.evalVisProp("visible")&&(g=b.element2D.evalVisProp("layer"),f.indexOf(g)>=0&&this.depthOrdered[g].push(b));if(this.board.renderer&&"svg"===this.board.renderer.type)for(c=0;c<f.length;c++)for(g=f[c],this.depthOrdered[g].sort(this.compareDepth.bind(this)),e=this.depthOrdered[g],d=0;d<e.length;d++)this.board.renderer.setLayer(e[d].element2D,g);return this},updateRenderer:function(){return this.needsUpdate&&(this.depthOrdered={},void 0!==this.shift&&this.evalVisProp("depthorder.enabled")&&(this.updateZIndices(),this.updateShaders(),this.board.renderer&&"svg"===this.board.renderer.type&&this.updateDepthOrdering()),this.needsUpdate=!1),this},removeObject:function(a,b){var c,d;if(__TURBOPACK__default__export__3.isArray(a)){for(c=0;c<a.length;c++)this.removeObject(a[c]);return this}if(a=this.select(a),!__TURBOPACK__default__export__3.exists(a)||__TURBOPACK__default__export__3.isString(a))return this;try{for(d in a.childElements)a.childElements.hasOwnProperty(d)&&this.removeObject(a.childElements[d]);delete this.objects[a.id]}catch(b){__TURBOPACK__default__export__.debug("View3D "+a.id+": Could not be removed: "+b)}return this.board.removeObject(a,b),this},worldToFocal:function(a,b=!0){var c,d=__TURBOPACK__default__export__2.matVecMult(this.boxToCam,__TURBOPACK__default__export__2.matVecMult(this.shift,a));if(d[3]-=d[0]*this.focalDist,b)return d;for(c=1;c<4;c++)d[c]/=d[0];return d.slice(1,4)},project3DTo2D:function(a,b,c){var d,e;return(3==arguments.length?d=[1,a,b,c]:3===a.length?(d=a.slice()).unshift(1):d=a,e=__TURBOPACK__default__export__2.matVecMult(this.matrix3D,d),"central"===this.projectionType)?(e[1]/=e[0],e[2]/=e[0],e[3]/=e[0],e[0]/=e[0],__TURBOPACK__default__export__2.matVecMult(this.viewPortTransform,e.slice(0,3))):e},_getW0:function(a,b,c){var d,e=__TURBOPACK__default__export__2.inverse(a),f=e[0][0]+b[1]*e[0][1]+b[2]*e[0][2],g=e[3][0]+b[1]*e[3][1]+b[2]*e[3][2];return d=c*e[0][3]-e[3][3],[1/((g*e[0][3]-f*e[3][3])/d),(g-f*c)/d]},project2DTo3DPlane:function(a,b,c){var d,e,f,g,h,i,j,k,l=c.slice(1)||[0,0,0],m=b.slice(1);if(g=__TURBOPACK__default__export__2.norm(m,3),f=__TURBOPACK__default__export__2.innerProduct(l,m,3)/g,"parallel"===this.projectionType){(d=this.matrix3D.slice(0,3)).push([0,m[0],m[1],m[2]]),(e=a.coords.usrCoords.slice()).push(f);try{1===d[2][3]&&(d[2][1]=d[2][2]=.001*__TURBOPACK__default__export__2.eps),h=__TURBOPACK__default__export__2.Numerics.Gauss(d,e)}catch(a){h=[0,NaN,NaN,NaN]}}else{d=this.matrix3D,e=a.coords.usrCoords.slice(),i=__TURBOPACK__default__export__2.Numerics.Gauss(this.viewPortTransform,e),j=(k=this._getW0(d,i,f))[0],e=[i[0]*j,i[1]*j,i[2]*j,k[1]*j];try{1===d[2][3]&&(d[2][1]=d[2][2]=.001*__TURBOPACK__default__export__2.eps),h=__TURBOPACK__default__export__2.Numerics.Gauss(d,e),h[1]/=h[0],h[2]/=h[0],h[3]/=h[0],h[0]/=h[0]}catch(a){h=[0,NaN,NaN,NaN]}}return h},projectScreenToSegment:function(a,b,c){var d,e,f,g,h,i,j,k=this.project3DTo2D(b).slice(1,3),l=this.project3DTo2D(c).slice(1,3),m=[l[0]-k[0],l[1]-k[1]],n=__TURBOPACK__default__export__2.innerProduct(m,m),o=[a[0]-k[0],a[1]-k[1]],p=__TURBOPACK__default__export__2.innerProduct(o,m)/n;return"central"===this.projectionType?(d=[.5*(b[0]+c[0]),.5*(b[1]+c[1]),.5*(b[2]+c[2])],f=[(e=this.project3DTo2D(d).slice(1,3))[0]-k[0],e[1]-k[1]],h=(1-(g=__TURBOPACK__default__export__2.innerProduct(f,m)/n))*p/((1-2*g)*p+g)):h=p,[1,(j=1-(i=Math.min(Math.max(h,0),1)))*b[0]+i*c[0],j*b[1]+i*c[1],j*b[2]+i*c[2]]},project2DTo3DVertical:function(a,b){var c=a.coords.usrCoords.slice(1,3),d=[b[1],b[2],this.bbox3D[2][0]],e=[b[1],b[2],this.bbox3D[2][1]];return this.projectScreenToSegment(c,d,e)},project3DToCube:function(a){var b=this.bbox3D,c=!1;return a[1]<b[0][0]&&(a[1]=b[0][0],c=!0),a[1]>b[0][1]&&(a[1]=b[0][1],c=!0),a[2]<b[1][0]&&(a[2]=b[1][0],c=!0),a[2]>b[1][1]&&(a[2]=b[1][1],c=!0),a[3]<=b[2][0]&&(a[3]=b[2][0],c=!0),a[3]>=b[2][1]&&(a[3]=b[2][1],c=!0),[a,c]},intersectionLineCube:function(a,b,c){var d,e,f,g,h;for(e=0,h=3===b.length?b:b.slice(1),d=c;e<3;e++)0!==h[e]&&(f=(this.bbox3D[e][0]-a[e+1])/h[e],g=(this.bbox3D[e][1]-a[e+1])/h[e],d=c<0?Math.max(d,Math.min(f,g)):Math.min(d,Math.max(f,g)));return d},isInCube:function(a,b){var c;if(4===a.length){if(0===a[0])return!1;c=a.slice(1)}return c[0]>this.bbox3D[0][0]-__TURBOPACK__default__export__2.eps&&c[0]<this.bbox3D[0][1]+__TURBOPACK__default__export__2.eps&&c[1]>this.bbox3D[1][0]-__TURBOPACK__default__export__2.eps&&c[1]<this.bbox3D[1][1]+__TURBOPACK__default__export__2.eps&&c[2]>this.bbox3D[2][0]-__TURBOPACK__default__export__2.eps&&c[2]<this.bbox3D[2][1]+__TURBOPACK__default__export__2.eps},intersectionPlanePlane:function(a,b,c){var d,e,f,g,h,i=[!1,!1];return c=c||b.d,(g=__TURBOPACK__default__export__2.crossProduct(a.normal.slice(1),b.normal.slice(1))).unshift(0),d=__TURBOPACK__default__export__2.Geometry.meet3Planes(a.normal,a.d,b.normal,c,g,0),h=__TURBOPACK__default__export__2.Geometry.meetPlanePlane(a.vec1,a.vec2,b.vec1,b.vec2),f=this.intersectionLineCube(d,h,1/0),e=__TURBOPACK__default__export__2.axpy(f,h,d),this.isInCube(e)&&(i[0]=e),f=this.intersectionLineCube(d,h,-1/0),e=__TURBOPACK__default__export__2.axpy(f,h,d),this.isInCube(e)&&(i[1]=e),i},intersectionPlaneFace:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=[],s=[],t=[];for((q=__TURBOPACK__default__export__2.crossProduct(a.normal.slice(1),b.normal.slice(1))).unshift(0),e=__TURBOPACK__default__export__14.meet3Planes(a.normal,a.d,b.normal,b.d,q,0),o=__TURBOPACK__default__export__14.meetPlanePlane(a.vec1,a.vec2,b.vec1,b.vec2),i=b.polyhedron.faces[b.faceNumber],f=b.polyhedron.coords,j=i.length,c=1;c<=j;c++)g=f[i[c-1]],p=[0,(h=f[i[c%j]])[1]-g[1],h[2]-g[2],h[3]-g[3]],k=Math.random(),l=Math.random(),m=Math.random(),n=Math.random(),s=[[k*o[1]+l*o[3],-(k*p[1])+-(l*p[3])],[m*o[2]+n*o[3],-(m*p[2])+-(n*p[3])]],t=[k*(g[1]-e[1])+l*(g[3]-e[3]),m*(g[2]-e[2])+n*(g[3]-e[3])],(d=__TURBOPACK__default__export__13.Gauss(s,t)[1])>-__TURBOPACK__default__export__2.eps&&d<1+__TURBOPACK__default__export__2.eps&&r.push([1,g[1]+d*p[1],g[2]+d*p[2],g[3]+d*p[3]]);return r},intersectionPlanePolyhedron:function(a,b){var c,d,e,f,g,h,i,j=1e-12,k=[],l=[],m=[],n=[];for(c=0;c<b.numberFaces;c++)if(!(b.def.faces[c].length<3)&&!((e=this.intersectionPlaneFace(a,b.faces[c])).length<2)&&4===e[0].length&&4===e[1].length){for(d=0;d<k.length&&!(__TURBOPACK__default__export__14.distance(e[0],k[d][0],4)<j&&__TURBOPACK__default__export__14.distance(e[1],k[d][1],4)<j||__TURBOPACK__default__export__14.distance(e[0],k[d][1],4)<j&&__TURBOPACK__default__export__14.distance(e[1],k[d][0],4)<j);d++);d===k.length&&k.push(e.slice())}if(0===k.length)return{X:l,Y:m,Z:n};h=g=0,c=0;do{for(4===(f=k[h][c]).length&&(l.push(f[1]),m.push(f[2]),n.push(f[3])),c=(c+1)%2,f=k[h][c],i=h,d=0;d<k.length;d++){if(d!==h&&__TURBOPACK__default__export__14.distance(f,k[d][0])<j){h=d,c=0;break}if(d!==h&&__TURBOPACK__default__export__14.distance(f,k[d][1])<j){h=d,c=1;break}}if(h===i){console.log("Error face3d intersection update: did not find next",h,c);break}}while(h!==g)return l.push(l[0]),m.push(m[0]),n.push(n[0]),{X:l,Y:m,Z:n}},getMesh:function(a,b,c){var d,e,f,g,h,i,j,k=[0,0,0],l=__TURBOPACK__default__export__3.evaluate(b[2]),m=__TURBOPACK__default__export__3.evaluate(c[2]),n=[],o=[];for(d=0,i=(__TURBOPACK__default__export__3.evaluate(b[1])-__TURBOPACK__default__export__3.evaluate(b[0]))/l,j=(__TURBOPACK__default__export__3.evaluate(c[1])-__TURBOPACK__default__export__3.evaluate(c[0]))/m;d<=l;d++){for(e=0,f=b[0]+i*d;e<=m;e++)g=c[0]+j*e,k=__TURBOPACK__default__export__3.isFunction(a)?a(f,g):[a[0](f,g),a[1](f,g),a[2](f,g)],h=this.project3DTo2D(k),n.push(h[1]),o.push(h[2]);n.push(NaN),o.push(NaN)}for(e=0;e<=m;e++){for(d=0,g=c[0]+j*e;d<=l;d++)f=b[0]+i*d,k=__TURBOPACK__default__export__3.isFunction(a)?a(f,g):[a[0](f,g),a[1](f,g),a[2](f,g)],h=this.project3DTo2D(k),n.push(h[1]),o.push(h[2]);n.push(NaN),o.push(NaN)}return[n,o]},animateAzimuth:function(){var a=this.az_slide._smin,b=this.az_slide._smax-a,c=this.az_slide.Value()+.1;this.az_slide.position=(c-a)/b,this.az_slide.position>1&&(this.az_slide.position=0),this.board._change3DView=!0,this.board.update(),this.board._change3DView=!1,this.timeoutAzimuth=setTimeout((function(){this.animateAzimuth()}).bind(this),200)},stopAzimuth:function(){clearTimeout(this.timeoutAzimuth),this.timeoutAzimuth=null},isVerticalDrag:function(){var a=this.board;return!!this.evalVisProp("verticaldrag.enabled")&&a["_"+this.evalVisProp("verticaldrag.key")+"Key"]},setView:function(a,b,c){return c=c||this.r,this.az_slide.setValue(a),this.el_slide.setValue(b),this.r=c,this.board.update(),this},nextView:function(){var a=this.evalVisProp("values"),b=this.visProp._currentview;return b=(b+1)%a.length,this.setCurrentView(b),this},previousView:function(){var a=this.evalVisProp("values"),b=this.visProp._currentview;return b=(b+a.length-1)%a.length,this.setCurrentView(b),this},setCurrentView:function(a){var b=this.evalVisProp("values");return(a<0||a>=b.length)&&(a=(a%b.length+b.length)%b.length),this.setView(b[a][0],b[a][1],b[a][2]),this.visProp._currentview=a,this},_azEventHandler:function(a){var b=this.az_slide._smax,c=this.az_slide._smin,d=(b-c)/this.board.canvasWidth*this.evalVisProp("az.pointer.speed"),e=a.movementX,f=this.az_slide.Value(),g=this.el_slide.Value();return this.board.mode===this.board.BOARD_MODE_DRAG||(this.evalVisProp("az.keyboard.enabled")&&("ArrowRight"===a.key?f+=this.evalVisProp("az.keyboard.step")*Math.PI/180:"ArrowLeft"===a.key&&(f-=this.evalVisProp("az.keyboard.step")*Math.PI/180)),this.evalVisProp("az.pointer.enabled")&&0!==e&&null==a.key&&(f+=e*d),this.evalVisProp("az.continuous")?f=__TURBOPACK__default__export__2.wrap(f,c,b):f>0?f=Math.min(b,f):f<0&&(f=Math.max(c,f)),this.setView(f,g)),this},_elEventHandler:function(a){var b=this.el_slide._smax,c=this.el_slide._smin,d=(b-c)/this.board.canvasHeight*this.evalVisProp("el.pointer.speed"),e=a.movementY,f=this.az_slide.Value(),g=this.el_slide.Value();return this.board.mode===this.board.BOARD_MODE_DRAG||(this.evalVisProp("el.keyboard.enabled")&&("ArrowUp"===a.key?g-=this.evalVisProp("el.keyboard.step")*Math.PI/180:"ArrowDown"===a.key&&(g+=this.evalVisProp("el.keyboard.step")*Math.PI/180)),this.evalVisProp("el.pointer.enabled")&&0!==e&&null==a.key&&(g+=e*d),this.evalVisProp("el.continuous")&&!this.trackballEnabled?g=__TURBOPACK__default__export__2.wrap(g,c,b):g>0?g=Math.min(b,g):g<0&&(g=Math.max(c,g)),this.setView(f,g)),this},_bankEventHandler:function(a){var b,c=this.bank_slide._smax,d=this.bank_slide._smin,e=a.deltaY,f=this.bank_slide.Value();return this.board.mode===this.board.BOARD_MODE_DRAG||(this.evalVisProp("bank.keyboard.enabled")&&(b=this.evalVisProp("bank.keyboard.step")*Math.PI/180,"."===a.key||"<"===a.key?f-=b:(","===a.key||">"===a.key)&&(f+=b)),this.evalVisProp("bank.pointer.enabled")&&0!==e&&null==a.key&&(f+=e*((c-d)/this.board.canvasHeight*this.evalVisProp("bank.pointer.speed")),a.preventDefault()),f=this.evalVisProp("bank.continuous")?__TURBOPACK__default__export__2.wrap(f,d,c):__TURBOPACK__default__export__2.clamp(f,d,c),this.bank_slide.setValue(f),this.board.update()),this},_trackballHandler:function(a){var b,c,d,e=this.board.getMousePosition(a);return d=new __TURBOPACK__default__export__7(__TURBOPACK__default__export__1.COORDS_BY_USER,[this.llftCorner[0]+.5*this.size[0],this.llftCorner[1]+.5*this.size[1]],this.board),b=e[0]-d.scrCoords[1],c=e[1]-d.scrCoords[2],this._trackball={dx:a.movementX,dy:-a.movementY,x:b,y:-c},this.board.update(),this},pointerDownHandler:function(a){var b,c,d;this._hasMoveAz=!1,this._hasMoveEl=!1,this._hasMoveBank=!1,this._hasMoveTrackball=!1,this.board.mode===this.board.BOARD_MODE_NONE&&(this.board._change3DView=!0,this.evalVisProp("trackball.enabled")?(b=this.evalVisProp("trackball.button"),c=this.evalVisProp("trackball.key"),(-1===b||b===a.button)&&("none"===c||c.indexOf("shift")>-1&&a.shiftKey||c.indexOf("ctrl")>-1&&a.ctrlKey)&&(d=this.evalVisProp("trackball.outside")?document:this.board.containerObj,__TURBOPACK__default__export__4.addEvent(d,"pointermove",this._trackballHandler,this),this._hasMoveTrackball=!0)):(this.evalVisProp("az.pointer.enabled")&&(b=this.evalVisProp("az.pointer.button"),c=this.evalVisProp("az.pointer.key"),(-1===b||b===a.button)&&("none"===c||c.indexOf("shift")>-1&&a.shiftKey||c.indexOf("ctrl")>-1&&a.ctrlKey)&&(d=this.evalVisProp("az.pointer.outside")?document:this.board.containerObj,__TURBOPACK__default__export__4.addEvent(d,"pointermove",this._azEventHandler,this),this._hasMoveAz=!0)),this.evalVisProp("el.pointer.enabled")&&(b=this.evalVisProp("el.pointer.button"),c=this.evalVisProp("el.pointer.key"),(-1===b||b===a.button)&&("none"===c||c.indexOf("shift")>-1&&a.shiftKey||c.indexOf("ctrl")>-1&&a.ctrlKey)&&(d=this.evalVisProp("el.pointer.outside")?document:this.board.containerObj,__TURBOPACK__default__export__4.addEvent(d,"pointermove",this._elEventHandler,this),this._hasMoveEl=!0)),this.evalVisProp("bank.pointer.enabled")&&(b=this.evalVisProp("bank.pointer.button"),c=this.evalVisProp("bank.pointer.key"),(-1===b||b===a.button)&&("none"===c||c.indexOf("shift")>-1&&a.shiftKey||c.indexOf("ctrl")>-1&&a.ctrlKey)&&(d=this.evalVisProp("bank.pointer.outside")?document:this.board.containerObj,__TURBOPACK__default__export__4.addEvent(d,"wheel",this._bankEventHandler,this,{passive:!1}),this._hasMoveBank=!0))),__TURBOPACK__default__export__4.addEvent(document,"pointerup",this.pointerUpHandler,this))},pointerUpHandler:function(a){var b;this._hasMoveAz&&(b=this.evalVisProp("az.pointer.outside")?document:this.board.containerObj,__TURBOPACK__default__export__4.removeEvent(b,"pointermove",this._azEventHandler,this),this._hasMoveAz=!1),this._hasMoveEl&&(b=this.evalVisProp("el.pointer.outside")?document:this.board.containerObj,__TURBOPACK__default__export__4.removeEvent(b,"pointermove",this._elEventHandler,this),this._hasMoveEl=!1),this._hasMoveBank&&(b=this.evalVisProp("bank.pointer.outside")?document:this.board.containerObj,__TURBOPACK__default__export__4.removeEvent(b,"wheel",this._bankEventHandler,this),this._hasMoveBank=!1),this._hasMoveTrackball&&(b=this.evalVisProp("trackball.outside")?document:this.board.containerObj,__TURBOPACK__default__export__4.removeEvent(b,"pointermove",this._trackballHandler,this),this._hasMoveTrackball=!1),__TURBOPACK__default__export__4.removeEvent(document,"pointerup",this.pointerUpHandler,this),this.board._change3DView=!1}}),__TURBOPACK__default__export__.createView3D=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p=b[0],q=b[1];return e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"view3d"),(d=new __TURBOPACK__default__export__.View3D(a,b,e)).defaultAxes=d.create("axes3d",[],e),i=p[0],j=p[1],k=q[0],l=q[1],(f=__TURBOPACK__default__export__3.copyAttributes(e,a.options,"view3d","az","slider")).name="az",(g=__TURBOPACK__default__export__3.copyAttributes(e,a.options,"view3d","el","slider")).name="el",(h=__TURBOPACK__default__export__3.copyAttributes(e,a.options,"view3d","bank","slider")).name="bank",o=__TURBOPACK__default__export__3.evaluate(f.point1.pos),m=__TURBOPACK__default__export__3.isArray(o)?o:[i-1,j-2],o=__TURBOPACK__default__export__3.evaluate(f.point2.pos),n=__TURBOPACK__default__export__3.isArray(o)?o:[i+k+1,j-2],d.az_slide=a.create("slider",[m,n,[__TURBOPACK__default__export__3.evaluate(f.min),__TURBOPACK__default__export__3.evaluate(f.start),__TURBOPACK__default__export__3.evaluate(f.max)]],f),d.inherits.push(d.az_slide),d.az_slide.elType="view3d_slider",o=__TURBOPACK__default__export__3.evaluate(g.point1.pos),m=__TURBOPACK__default__export__3.isArray(o)?o:[i-1,j],o=__TURBOPACK__default__export__3.evaluate(g.point2.pos),n=__TURBOPACK__default__export__3.isArray(o)?o:[i-1,j+l],d.el_slide=a.create("slider",[m,n,[__TURBOPACK__default__export__3.evaluate(g.min),__TURBOPACK__default__export__3.evaluate(g.start),__TURBOPACK__default__export__3.evaluate(g.max)]],g),d.inherits.push(d.el_slide),d.el_slide.elType="view3d_slider",o=__TURBOPACK__default__export__3.evaluate(h.point1.pos),m=__TURBOPACK__default__export__3.isArray(o)?o:[i-1,j+l+2],o=__TURBOPACK__default__export__3.evaluate(h.point2.pos),n=__TURBOPACK__default__export__3.isArray(o)?o:[i+k+1,j+l+2],d.bank_slide=a.create("slider",[m,n,[__TURBOPACK__default__export__3.evaluate(h.min),__TURBOPACK__default__export__3.evaluate(h.start),__TURBOPACK__default__export__3.evaluate(h.max)]],h),d.inherits.push(d.bank_slide),d.bank_slide.elType="view3d_slider",d.board.infobox.visProp=__TURBOPACK__default__export__3.merge(d.board.infobox.visProp,e.infobox),d.board.highlightInfobox=function(a,b,c){var e,f,g,h,i,j,k="",l=c.board,m=null;for(this.mode===this.BOARD_MODE_DRAG&&(k=d.isVerticalDrag()?'<span style="color:black; font-size:200%">â &nbsp;</span>':'<span style="color:black; font-size:200%">â &nbsp;</span>'),f=0;f<c.parents.length&&!(m=l.objects[c.parents[f]]).is3D;f++);if(m&&__TURBOPACK__default__export__3.exists(m.element2D)){if(h=[1,0,0,m.coords[3]],d._w0=__TURBOPACK__default__export__2.innerProduct(d.matrix3D[0],h,4),g=d.project2DTo3DPlane(m.element2D,[1,0,0,1],h),!d.isInCube(g))return void d.board.highlightCustomInfobox("",m);e=m.evalVisProp("infoboxdigits"),j=d.board.infobox,i="auto"===e?j.useLocale()?[k,"(",j.formatNumberLocale(m.X())," | ",j.formatNumberLocale(m.Y())," | ",j.formatNumberLocale(m.Z()),")"]:[k,"(",__TURBOPACK__default__export__3.autoDigits(m.X())," | ",__TURBOPACK__default__export__3.autoDigits(m.Y())," | ",__TURBOPACK__default__export__3.autoDigits(m.Z()),")"]:j.useLocale()?[k,"(",j.formatNumberLocale(m.X(),e)," | ",j.formatNumberLocale(m.Y(),e)," | ",j.formatNumberLocale(m.Z(),e),")"]:[k,"(",__TURBOPACK__default__export__3.toFixed(m.X(),e)," | ",__TURBOPACK__default__export__3.toFixed(m.Y(),e)," | ",__TURBOPACK__default__export__3.toFixed(m.Z(),e),")"],d.board.highlightCustomInfobox(i.join(""),m)}else d.board.highlightCustomInfobox("("+a+", "+b+")",c)},d.BOARD_MODE_NONE=0,__TURBOPACK__default__export__4.addEvent(a.containerObj,"keydown",function(a){var b,c=!1;d.evalVisProp("el.keyboard.enabled")&&("ArrowUp"===a.key||"ArrowDown"===a.key)&&("none"===(b=d.evalVisProp("el.keyboard.key"))||b.indexOf("shift")>-1&&a.shiftKey||b.indexOf("ctrl")>-1&&a.ctrlKey)&&(d._elEventHandler(a),c=!0),d.evalVisProp("az.keyboard.enabled")&&("ArrowLeft"===a.key||"ArrowRight"===a.key)&&("none"===(b=d.evalVisProp("az.keyboard.key"))||b.indexOf("shift")>-1&&a.shiftKey||b.indexOf("ctrl")>-1&&a.ctrlKey)&&(d._azEventHandler(a),c=!0),d.evalVisProp("bank.keyboard.enabled")&&(","===a.key||"<"===a.key||"."===a.key||">"===a.key)&&("none"===(b=d.evalVisProp("bank.keyboard.key"))||b.indexOf("shift")>-1&&a.shiftKey||b.indexOf("ctrl")>-1&&a.ctrlKey)&&(d._bankEventHandler(a),c=!0),"PageUp"===a.key?(d.nextView(),c=!0):"PageDown"===a.key&&(d.previousView(),c=!0),c&&a.preventDefault(),this.board._change3DView=!1},d),__TURBOPACK__default__export__4.addEvent(a.containerObj,"pointerdown",d.pointerDownHandler,d),d.getAnglesFromSliders(),d.matrix3DRot=d.getRotationFromAngles(),d.updateAngleSliderBounds(),d.board.update(),d},__TURBOPACK__default__export__.registerElement("view3d",__TURBOPACK__default__export__.createView3D);let __TURBOPACK__default__export__61=__TURBOPACK__default__export__.View3D;__TURBOPACK__default__export__.GeometryElement3D=function(a,b){this.elType=b,this.view=a,this.id=this.view.board.setId(this,b),this.element2D=null,this.is3D=!0,this.zIndex=0,this.view.objects[this.id]=this,""!==this.name&&(this.view.elementsByName[this.name]=this)},__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.GeometryElement3D.prototype,{setAttr2D:function(a){var b=a;return b.name=this.name,b.element3d=this,b.id=null,b},setAttribute:function(a){var b,c,d,e,f,g={};for(b=0;b<arguments.length;b++)e=arguments[b],__TURBOPACK__default__export__3.isString(e)?(f=e.split(":"),g[__TURBOPACK__default__export__3.trim(f[0])]=__TURBOPACK__default__export__3.trim(f[1])):__TURBOPACK__default__export__3.isArray(e)?g[e[0]]=e[1]:__TURBOPACK__default__export__.extend(g,e);for(b in g)if(g.hasOwnProperty(b))switch(c=b.replace(/\s+/g,"").toLowerCase(),d=g[b],c){case"numberpointshigh":case"stepsu":case"stepsv":__TURBOPACK__default__export__3.exists(this.visProp[c])&&(!__TURBOPACK__default__export__.Validator[c]||__TURBOPACK__default__export__.Validator[c]&&__TURBOPACK__default__export__.Validator[c](d)||__TURBOPACK__default__export__.Validator[c]&&__TURBOPACK__default__export__3.isFunction(d)&&__TURBOPACK__default__export__.Validator[c](d()))&&(d=(!d.toLowerCase||"false"!==d.toLowerCase())&&d,this._set(c,d));break;default:__TURBOPACK__default__export__3.exists(this.element2D)&&this.element2D.setAttribute(g)}},getAttribute:function(a){var b;switch(a=a.toLowerCase()){case"numberpointshigh":case"stepsu":case"stepsv":b=this.visProp[a];break;default:__TURBOPACK__default__export__3.exists(this.element2D)&&(b=this.element2D.getAttribute(a))}return b},getAttributes:function(){var a,b,c={},d=["numberpointshigh","stepsu","stepsv"],e=d.length;for(__TURBOPACK__default__export__3.exists(this.element2D)&&(c=__TURBOPACK__default__export__3.merge(this.element2D.getAttributes())),a=0;a<e;a++)b=d[a],__TURBOPACK__default__export__3.exists(this.visProp[b])&&(c[b]=this.visProp[b]);return c},addTransformGeneric:function(a,b){var c,d=__TURBOPACK__default__export__3.isArray(b)?b:[b],e=d.length;for(0===this.transformations.length&&(this.baseElement=a),c=0;c<e;c++)this.transformations.push(d[c]);return this},setPosition2D:function(a){},projectCoords:function(a,b){},remove:function(){}});let __TURBOPACK__default__export__62=__TURBOPACK__default__export__.GeometryElement3D;__TURBOPACK__default__export__.createAxes3D=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=b[0],w=["x","y","z"],x="Axis",y=["Rear","Front"],z=[0,0,0],A=[0,0,0],B={};if(__TURBOPACK__default__export__3.exists(v.bbox3D))for(d=0;d<w.length;d++)z[d]=v.bbox3D[d][0],A[d]=v.bbox3D[d][1];else for(d=0;d<w.length;d++)z[d]=b[1][d],A[d]=b[2][1];for(d=0,j=(i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"axes3d")).axesposition;d<w.length;d++)s=(k=w[d])+x,"center"===j?(m=[0,0,0],(n=[0,0,0])[d]=A[d],B[s]=v.create("axis3d",[m,n],i[s.toLowerCase()]),B[s].view=v):"border"===j&&(s+="Border",m=z.slice(),n=A.slice(),"z"===k?(m[1]=A[1],n[0]=z[0]):(m="x"===k?[z[0],A[1],z[2]]:[A[0],z[1],z[2]],n=[A[0],A[1],z[2]]),n[d]=A[d],B[s]=v.create("axis3d",[m,n],i[s.toLowerCase()]),B[s].view=v,(u=i[s.toLowerCase()].ticks3d).element3d=!0,l=A[d]-z[d],"x"===k?B[s+"Ticks"]=v.create("ticks3d",[m,[1,0,0],l,[0,1,0]],u):"y"===k?B[s+"Ticks"]=v.create("ticks3d",[m,[0,1,0],l,[1,0,0]],u):B[s+"Ticks"]=v.create("ticks3d",[m,[0,0,1],l,[0,1,0]],u),B[s+"Ticks"].view=v);for("center"===j?(B.O=v.create("intersection",[B[w[0]+x],B[w[1]+x]],{name:"",visible:!1,withLabel:!1}),B.O.view=v):B.O=null,d=0;d<w.length;d++)for(e=0,g=(d+1)%3,h=(d+2)%3,k=w[d];e<y.length;e++)s=k+"Plane"+y[e],(m=[0,0,0])[d]=0===e?z[d]:A[d],p=[0,0,0],(o=[0,0,0])[g]=1,p[h]=1,q=[z[g],A[g]],r=[z[h],A[h]],i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"axes3d",s),B[s]=v.create("plane3d",[m,o,p,q,r],i),B[s].elType="axisplane3d";for(d=0;d<w.length;d++)for(e=0,k=w[d];e<y.length;e++)for(f=1;f<=2;f++)s=k+"Plane"+y[e]+w[g=(d+f)%3].toUpperCase()+"Axis",t=k+"Plane"+y[e],n=[0,0,0],(m=[0,0,0])[d]=n[d]=0===e?z[d]:A[d],m[g]=z[g],n[g]=A[g],i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"axes3d",s),B[s]=v.create("axis3d",[m,n],i),B[s].view=v,B[t].addChild(B[s]),B[t].element2D.inherits.push(B[s]);return B},__TURBOPACK__default__export__.registerElement("axes3d",__TURBOPACK__default__export__.createAxes3D),__TURBOPACK__default__export__.createAxis3D=function(a,b,c){var d,e,f,g=b[0],h=b[1],i=b[2];return(d=__TURBOPACK__default__export__3.copyAttributes(c.point1,a.options,"axis3d","point1")).element3d=!0,e=g.create("point",[function(a,b,c){return function(){return g.project3DTo2D(a,b,c)[1]}}(h[0],h[1],h[2]),function(a,b,c){return function(){return g.project3DTo2D(a,b,c)[2]}}(h[0],h[1],h[2])],d),(d=__TURBOPACK__default__export__3.copyAttributes(c.point2,a.options,"axis3d","point2")).element3d=!0,f=g.create("point",[function(a,b,c){return function(){return g.project3DTo2D(a,b,c)[1]}}(i[0],i[1],i[2]),function(a,b,c){return function(){return g.project3DTo2D(a,b,c)[2]}}(i[0],i[1],i[2])],d),(d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"axis3d")).element3d=!0,g.create("arrow",[e,f],d)},__TURBOPACK__default__export__.registerElement("axis3d",__TURBOPACK__default__export__.createAxis3D),__TURBOPACK__default__export__.createMesh3D=function(a,b,c){var d,e,f=b[0];return(d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"mesh3d")).element3d=!0,(e=f.create("curve",[[],[]],d)).point=b[1],e.direction1=b[2],e.direction2=b[3],e.range1=b[4],e.range2=b[5],e.updateDataArray=function(){var a,b,c,d,e=__TURBOPACK__default__export__3.evaluate(this.range1),g=__TURBOPACK__default__export__3.evaluate(this.range2),h=e[0],i=e[1],j=g[0],k=g[1],l=[0,0,0],m=[0,0,0],n=this.evalVisProp("stepwidthu"),o=this.evalVisProp("stepwidthv"),p=[0,0,0];if(this.dataX=[],this.dataY=[],__TURBOPACK__default__export__3.isFunction(this.point))p=this.point();else if(__TURBOPACK__default__export__3.isPoint3D(this.point))p=this.point.coords;else for(d=0;d<this.point.length;d++)p[d]=__TURBOPACK__default__export__3.evaluate(this.point[d]);if(__TURBOPACK__default__export__3.isFunction(this.direction1))l=__TURBOPACK__default__export__3.evaluate(this.direction1);else for(d=0;d<this.direction1.length;d++)l[d]=__TURBOPACK__default__export__3.evaluate(this.direction1[d]);if(__TURBOPACK__default__export__3.isFunction(this.direction2))m=__TURBOPACK__default__export__3.evaluate(this.direction2);else for(d=0;d<this.direction2.length;d++)m[d]=__TURBOPACK__default__export__3.evaluate(this.direction2[d]);for(4===p.length&&(p=p.slice(1)),4===l.length&&(l=l.slice(1)),4===m.length&&(m=m.slice(1)),a=__TURBOPACK__default__export__.Math.norm(l,3),b=__TURBOPACK__default__export__.Math.norm(m,3),d=0;d<3;d++)l[d]/=a,m[d]/=b;c=f.getMesh([function(a,b){return p[0]+a*l[0]+b*m[0]},function(a,b){return p[1]+a*l[1]+b*m[1]},function(a,b){return p[2]+a*l[2]+b*m[2]}],[Math.ceil(h),Math.floor(i),(Math.ceil(i)-Math.floor(h))/n],[Math.ceil(j),Math.floor(k),(Math.ceil(k)-Math.floor(j))/o]),this.dataX=c[0],this.dataY=c[1]},e},__TURBOPACK__default__export__.registerElement("mesh3d",__TURBOPACK__default__export__.createMesh3D),__TURBOPACK__default__export__.Circle3D=function(a,b,c,d,e){var f,g;this.constructor(a.board,e,__TURBOPACK__default__export__1.OBJECT_TYPE_CIRCLE3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.constructor3D(a,"circle3d"),this.center=this.board.select(b),this.normalFunc=c,this.normal=[0,0,0,0],this.curve,this.frame1,this.frame2,__TURBOPACK__default__export__3.exists(this.center._is_new)?(this.addChild(this.center),delete this.center._is_new):this.center.addChild(this),this.updateRadius=__TURBOPACK__default__export__3.createFunction(d,this.board),this.addParentsFromJCFunctions([this.updateRadius]),this.updateNormal(),this.frame1=__TURBOPACK__default__export__2.crossProduct(this.normal.slice(1),[1,0,0]),this.frame1.unshift(0),(f=__TURBOPACK__default__export__2.crossProduct(this.normal.slice(1),[-.5,.8660254037844386,0])).unshift(0),__TURBOPACK__default__export__2.norm(f)>__TURBOPACK__default__export__2.norm(this.frame1)&&(this.frame1=f),this.frame2=__TURBOPACK__default__export__2.crossProduct(this.normal.slice(1),this.frame1.slice(1)),this.frame2.unshift(0),this.normalizeFrame(),g=this,this.curve=a.create("curve3d",[function(a){var b=g.Radius(),c=Math.sin(a),d=Math.cos(a);return[g.center.coords[1]+b*(d*g.frame1[1]+c*g.frame2[1]),g.center.coords[2]+b*(d*g.frame1[2]+c*g.frame2[2]),g.center.coords[3]+b*(d*g.frame1[3]+c*g.frame2[3])]},[0,2*Math.PI]],e)},__TURBOPACK__default__export__.Circle3D.prototype=new __TURBOPACK__default__export__.GeometryElement,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Circle3D,__TURBOPACK__default__export__.GeometryElement3D,"constructor3D"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Circle3D.prototype,{update:function(){return this.needsUpdate&&(this.updateNormal().updateFrame(),this.curve.visProp.visible=!isNaN(this.Radius())),this},updateRenderer:function(){return this.needsUpdate=!1,this},setRadius:function(a){return this.updateRadius=__TURBOPACK__default__export__3.createFunction(a,this.board),this.addParentsFromJCFunctions([this.updateRadius]),this.board.update(),this},Radius:function(a){return __TURBOPACK__default__export__3.exists(a)?(this.setRadius(a),this.Radius()):Math.abs(this.updateRadius())},normalizeFrame:function(){var a,b=__TURBOPACK__default__export__2.norm(this.frame1),c=__TURBOPACK__default__export__2.norm(this.frame2);for(a=0;a<4;a++)this.frame1[a]/=b,this.frame2[a]/=c;return this},updateNormal:function(){var a,b,c=1e-12;if(this.normal=__TURBOPACK__default__export__3.evaluate(this.normalFunc),Math.abs(b=__TURBOPACK__default__export__2.norm(this.normal))>c)for(a=0;a<4;a++)this.normal[a]/=b;return this},updateFrame:function(){return this.frame1=__TURBOPACK__default__export__2.crossProduct(this.frame2.slice(1),this.normal.slice(1)),this.frame1.unshift(0),this.frame2=__TURBOPACK__default__export__2.crossProduct(this.normal.slice(1),this.frame1.slice(1)),this.frame2.unshift(0),this.normalizeFrame(),this},projectCoords:function(a,b){return this.curve.projectCoords(a,b)}}),__TURBOPACK__default__export__.createCircle3D=function(a,b,c){var d,e=b[0],f=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"circle3d"),g=__TURBOPACK__default__export__3.providePoints3D(e,[b[1]],c,"circle3d",["point"])[0],h=b[2],i=b[3];return(d=new __TURBOPACK__default__export__.Circle3D(e,g,h,i,f)).curve.addParents([d]),d.addChild(d.curve),d.update(),d},__TURBOPACK__default__export__.registerElement("circle3d",__TURBOPACK__default__export__.createCircle3D),__TURBOPACK__default__export__.createIntersectionCircle3D=function(a,b,c){var d,e,f,g=b[0],h=b[1],i=b[2],j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"intersectioncircle3d");f=__TURBOPACK__default__export__14.intersectionFunction3D(g,h,i),e=g.create("point3d",f[0],{visible:!1}),d=g.create("circle3d",[e,f[1],f[2]],j);try{h.addChild(d),i.addChild(d)}catch(a){throw Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof b[1]+"' and '"+typeof b[2]+"'.")}return d.type=__TURBOPACK__default__export__1.OBJECT_TYPE_INTERSECTION_CIRCLE3D,d.elType="intersectioncircle3d",d.setParents([h.id,i.id]),d},__TURBOPACK__default__export__.registerElement("intersectioncircle3d",__TURBOPACK__default__export__.createIntersectionCircle3D),__TURBOPACK__default__export__.Point3D=function(a,b,c,d){this.constructor(a.board,d,__TURBOPACK__default__export__1.OBJECT_TYPE_POINT3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.constructor3D(a,"point3d"),this.board.finalizeAdding(this),this.coords=[0,0,0,0],this.initialCoords=[0,0,0,0],this.F=b,this.slide=c,this.position=[],this.movePath=[],this.moveCallback=null,this.moveInterval=null,this._c2d=null,this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{})},__TURBOPACK__default__export__.Point3D.prototype=new __TURBOPACK__default__export__.GeometryElement,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Point3D,__TURBOPACK__default__export__.GeometryElement3D,"constructor3D"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Point3D.prototype,{X:function(){return this.coords[1]},Y:function(){return this.coords[2]},Z:function(){return this.coords[3]},W:function(){return this.coords[0]},updateCoords:function(){var a,b=0;if(__TURBOPACK__default__export__3.isFunction(this.F))this.coords=__TURBOPACK__default__export__3.evaluate(this.F),3===this.coords.length&&this.coords.unshift(1);else for(3===this.F.length&&(this.coords[0]=1,b=1),a=0;a<this.F.length;a++)__TURBOPACK__default__export__3.isFunction(this.F[a])&&(this.coords[b+a]=__TURBOPACK__default__export__3.evaluate(this.F[a]));return this},initCoords:function(){var a,b=0;if(__TURBOPACK__default__export__3.isFunction(this.F))this.coords=__TURBOPACK__default__export__3.evaluate(this.F),3===this.coords.length&&this.coords.unshift(1);else for(3===this.F.length&&(this.coords[0]=1,b=1),a=0;a<this.F.length;a++)this.coords[b+a]=__TURBOPACK__default__export__3.evaluate(this.F[a]);return this.initialCoords=this.coords.slice(),this},normalizeCoords:function(){return Math.abs(this.coords[0])>1e-14&&(this.coords[1]/=this.coords[0],this.coords[2]/=this.coords[0],this.coords[3]/=this.coords[0],this.coords[0]=1),this},setPosition:function(a,b){var c=this.coords;return 3===a.length?(c[0]=1,c[1]=a[0],c[2]=a[1],c[3]=a[2]):(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[2],this.normalizeCoords()),this},addTransform:function(a,b){return this.addTransformGeneric(a,b),this},updateTransform:function(){var a,b;if(0===this.transformations.length||null===this.baseElement)return this;for(b=0,a=this===this.baseElement?this.initialCoords:this.baseElement.coords;b<this.transformations.length;b++)this.transformations[b].update(),a=__TURBOPACK__default__export__2.matVecMult(this.transformations[b].matrix,a);return this.coords=a,this},update:function(a){var b,c,d;return this.element2D.draggable()&&0!==__TURBOPACK__default__export__14.distance(this._c2d,this.element2D.coords.usrCoords)?(this.view.isVerticalDrag()?b=this.view.project2DTo3DVertical(this.element2D,this.coords):(c=[1,0,0,this.coords[3]],b=this.view.project2DTo3DPlane(this.element2D,[1,0,0,1],c)),0!==b[0]&&(d=this.view.project3DToCube(b),this.coords=d[0],d[1]&&this.element2D.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,this.view.project3DTo2D(this.coords)),this.slide&&(this.coords=this.slide.projectCoords([1,this.X(),this.Y(),this.Z()],this.position),this.element2D.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,this.view.project3DTo2D(this.coords))))):(this.updateCoords().updateTransform(),this.slide&&(this.coords=this.slide.projectCoords([1,this.X(),this.Y(),this.Z()],this.position)),b=this.coords,this.element2D.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,this.view.project3DTo2D(b)),this.zIndex=__TURBOPACK__default__export__2.innerProduct(this.view.matrix3DRotShift[3],b)),this._c2d=this.element2D.coords.usrCoords.slice(),this},updateRenderer:function(){return this.needsUpdate=!1,this},testIfFinite:function(){return Math.abs(this.coords[0])>1e-12},distance:function(a){var b=1e-12,c=this.coords,d=a.coords;return c[0]*c[0]>b&&d[0]*d[0]>b?__TURBOPACK__default__export__2.hypot(d[1]-c[1],d[2]-c[2],d[3]-c[3]):1/0},moveTo:function(a,b,c){c=c||{};var d,e,f=Math.ceil(b/this.board.attr.animationdelay),g=a[0],h=a[1],i=a[2],j=this.coords[1]-g,k=this.coords[2]-h,l=this.coords[3]-i,m=()=>{};if(c.callback&&(m=c.callback),e=function(a){var b=a/f;if(c.effect){if("<>"===c.effect)return Math.pow(Math.sin(b*Math.PI/2),2);if("<"===c.effect)return b*b*b;if(">"===c.effect)return 1-Math.pow(1-b,3);if("=="===c.effect)return a/f;throw Error("valid effects are '==', '<>', '>', and '<'.")}return a/f},!__TURBOPACK__default__export__3.exists(b)||0===b)return this.setPosition([g,h,i],!0),this.board.update(this);if(!__TURBOPACK__default__export__3.exists(c.callback)&&Math.abs(j)<__TURBOPACK__default__export__2.eps&&Math.abs(k)<__TURBOPACK__default__export__2.eps&&Math.abs(l)<__TURBOPACK__default__export__2.eps)return this;for(this.animationPath=[],d=f;d>=0;d--)this.animationPath[f-d]=[g+j*e(d),h+k*e(d),i+l*e(d)];return this.moveAlong(this.animationPath,b,{callback:m})},moveAlong:function(a,b,c){let d=b/a.length;if(__TURBOPACK__default__export__3.isObject(c)&&"callback"in c&&(this.moveCallback=c.callback),this.movePath.length>0){this.movePath=a;return}return this.movePath=a,new Promise((a,b)=>{this.moveInterval=setInterval(()=>{if(this.movePath.length>0){let a=this.movePath.shift();this.setPosition(a,!0),this.board.update(this)}0===this.movePath.length&&(clearInterval(this.moveInterval),a(),__TURBOPACK__default__export__3.isFunction(this.moveCallback)&&this.moveCallback())},d)})},__evt__update3D:function(a){}}),__TURBOPACK__default__export__.createPoint3D=function(a,b,c){var d,e,f,g,h,i=b[0],j=null,k=null;if(f=b.length>2&&__TURBOPACK__default__export__3.exists(b[b.length-1].is3D)&&!__TURBOPACK__default__export__3.isTransformationOrArray(b[b.length-1])?b.pop():null,2===b.length)e=b[1];else if(3===b.length&&__TURBOPACK__default__export__3.isPoint3D(b[1])&&__TURBOPACK__default__export__3.isTransformationOrArray(b[2]))e=[0,0,0],j=b[1],k=b[2];else if(4===b.length)e=b.slice(1);else if(5===b.length)e=b.slice(1);else throw Error("JSXGraph: Can't create point3d with parent types '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [[x,y,z]], [x,y,z], or [[x,y,z], slide], () => [x, y, z], or [point, transformation(s)]");return d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"point3d"),(h=new __TURBOPACK__default__export__.Point3D(i,e,f,d)).initCoords(),null!==j&&null!==k&&h.addTransform(j,k),g=i.project3DTo2D(h.coords),d=h.setAttr2D(d),h.element2D=i.create("point",g,d),h.element2D.view=i,h.addChild(h.element2D),h.inherits.push(h.element2D),h.element2D.setParents(h),h.slide&&(h.slide.addChild(h),h.setParents(h.slide)),j&&h.setParents(j),h._c2d=h.element2D.coords.usrCoords.slice(),h},__TURBOPACK__default__export__.registerElement("point3d",__TURBOPACK__default__export__.createPoint3D),__TURBOPACK__default__export__.Curve3D=function(a,b,c,d,e,f,g){this.constructor(a.board,g,__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.constructor3D(a,"curve3d"),this.board.finalizeAdding(this),this._F=b,this._X=c,this._Y=d,this._Z=e,this.points=[],this.numberPoints=0,this.dataX=null,this.dataY=null,this.dataZ=null,null!==this._F?(this._X=function(a){return this._F(a)[0]},this._Y=function(a){return this._F(a)[1]},this._Z=function(a){return this._F(a)[2]}):__TURBOPACK__default__export__3.isFunction(this._X)?this._F=function(a){return[this._X(a),this._Y(a),this._Z(a)]}:this._F=null,this.range=f,this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{})},__TURBOPACK__default__export__.Curve3D.prototype=new __TURBOPACK__default__export__.GeometryElement,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Curve3D,__TURBOPACK__default__export__.GeometryElement3D,"constructor3D"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Curve3D.prototype,{updateCoords:function(){var a,b,c,d,e,f,g=this.evalVisProp("numberpointshigh"),h=[1,0,0,0];if(this.points=[],__TURBOPACK__default__export__3.exists(this.dataX))for(e=0,g=this.dataX.length;e<g;e++)this.points.push([1,this.dataX[e],this.dataY[e],this.dataZ[e]]);else if(__TURBOPACK__default__export__3.isArray(this._X))for(e=0,g=this._X.length;e<g;e++)this.points.push([1,this._X[e],this._Y[e],this._Z[e]]);else for(f=0,a=__TURBOPACK__default__export__3.evaluate(this.range),b=__TURBOPACK__default__export__3.evaluate(a[0]),d=((c=__TURBOPACK__default__export__3.evaluate(a[1]))-b)/(g-1),e=b;f<g&&e<=c;f++,e+=d)(h=this.F(e)).unshift(1),this.points.push(h);return this.numberPoints=this.points.length,this},evalF:function(a){var b,c,d=[0,0,0,0];if(0===this.transformations.length||!__TURBOPACK__default__export__3.exists(this.baseElement))return __TURBOPACK__default__export__3.exists(this._F)?this._F(a):[this._X[a],this._Y[a],this._Z[a]];for(c=0,b=this.transformations;c<b.length;c++)b[c].update();for(3===d.length&&d.unshift(1),(d=this===this.baseElement?__TURBOPACK__default__export__3.exists(this._F)?this._F(a):[this._X[a],this._Y[a],this._Z[a]]:this.baseElement.evalF(a)).unshift(1),d=__TURBOPACK__default__export__2.matVecMult(b[0].matrix,d),c=1;c<b.length;c++)d=__TURBOPACK__default__export__2.matVecMult(b[c].matrix,d);return d.slice(1)},F:function(a){return this.evalF(a)},X:function(a){return this.evalF(a)[0]},Y:function(a){return this.evalF(a)[1]},Z:function(a){return this.evalF(a)[2]},updateDataArray2D:function(){var a,b,c=[],d=[],e=this.points.length;for(a=0;a<e;a++)c.push((b=this.view.project3DTo2D(this.points[a]))[1]),d.push(b[2]);return{X:c,Y:d}},addTransform:function(a,b){return this.addTransformGeneric(a,b),this},updateTransform:function(){var a,b,c,d,e;if(0===this.transformations.length||null===this.baseElement||__TURBOPACK__default__export__3.exists(this._F))return this;for(c=0,a=this.transformations;c<a.length;c++)a[c].update();for(c=0,e=this.baseElement.numberPoints;c<e;c++){for(d=0,b=this===this.baseElement?this.points[c]:this.baseElement.points[c];d<a.length;d++)b=__TURBOPACK__default__export__2.matVecMult(a[d].matrix,b);this.points[c]=b}return this.numberPoints=e,this},updateDataArray:function(){},update:function(){return this.needsUpdate&&(this.updateDataArray(),this.updateCoords().updateTransform()),this},updateRenderer:function(){return this.needsUpdate=!1,this},projectCoords:function(a,b){return __TURBOPACK__default__export__14.projectCoordsToParametric(a,this,1,b)}}),__TURBOPACK__default__export__.createCurve3D=function(a,b,c){var d,e,f,g,h,i,j,k,l=b[0],m=null,n=null;return 3===b.length?__TURBOPACK__default__export__3.isTransformationOrArray(b[2])&&b[1].type===__TURBOPACK__default__export__1.OBJECT_TYPE_CURVE3D?(m=b[1],n=b[2],d=null,e=[],f=[],g=[]):(d=b[1],h=b[2],e=null,f=null,g=null):(2===b.length&&__TURBOPACK__default__export__3.isArray(b[1])?(e=(k=__TURBOPACK__default__export__2.transpose(b[1]))[0],f=k[1],g=k[2]):(e=b[1],f=b[2],g=b[3],h=b[4]),d=null),i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"curve3d"),i=(j=new __TURBOPACK__default__export__.Curve3D(l,d,e,f,g,h,i)).setAttr2D(i),j.element2D=l.create("curve",[[],[]],i),j.element2D.view=l,null!==m&&(j.addTransform(m,n),j.addParents(m)),j.element2D.updateDataArray=function(){var a=j.updateDataArray2D();this.dataX=a.X,this.dataY=a.Y},j.addChild(j.element2D),j.inherits.push(j.element2D),j.element2D.setParents(j),j.element2D.prepareUpdate().update(),a.isSuspendedUpdate||j.element2D.updateVisibility().updateRenderer(),j},__TURBOPACK__default__export__.registerElement("curve3d",__TURBOPACK__default__export__.createCurve3D),__TURBOPACK__default__export__.createVectorfield3D=function(a,b,c){var d,e,f=b[0];if(!(b.length>=5&&(__TURBOPACK__default__export__3.isArray(b[1])||__TURBOPACK__default__export__3.isFunction(b[1])||__TURBOPACK__default__export__3.isString(b[1]))&&__TURBOPACK__default__export__3.isArray(b[2])&&3===b[1].length&&__TURBOPACK__default__export__3.isArray(b[3])&&3===b[2].length&&__TURBOPACK__default__export__3.isArray(b[4])&&3===b[3].length))throw Error("JSXGraph: Can't create vector field 3D with parent types '"+typeof b[1]+"', '"+typeof b[2]+"', '"+typeof b[3]+"'.'"+typeof b[4]+"', ");return e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"vectorfield3d"),(d=f.create("curve3d",[[],[],[]],e)).setF=function(a,b){var c,e,f;return __TURBOPACK__default__export__3.isArray(a)?(c=__TURBOPACK__default__export__3.createFunction(a[0],this.board,b),e=__TURBOPACK__default__export__3.createFunction(a[1],this.board,b),f=__TURBOPACK__default__export__3.createFunction(a[2],this.board,b),this.F=function(a,b,d){return[c(a,b,d),e(a,b,d),f(a,b,d)]}):this.F=__TURBOPACK__default__export__3.createFunction(a,d.board,b),this},d.setF(b[1],"x, y, z"),d.xData=b[2],d.yData=b[3],d.zData=b[4],d.updateDataArray=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this.evalVisProp("scale"),t=[__TURBOPACK__default__export__3.evaluate(this.xData[0]),__TURBOPACK__default__export__3.evaluate(this.yData[0]),__TURBOPACK__default__export__3.evaluate(this.zData[0])],u=[__TURBOPACK__default__export__3.evaluate(this.xData[1]),__TURBOPACK__default__export__3.evaluate(this.yData[1]),__TURBOPACK__default__export__3.evaluate(this.zData[1])],v=[__TURBOPACK__default__export__3.evaluate(this.xData[2]),__TURBOPACK__default__export__3.evaluate(this.yData[2]),__TURBOPACK__default__export__3.evaluate(this.zData[2])],w=[(v[0]-t[0])/u[0],(v[1]-t[1])/u[1],(v[2]-t[2])/u[2]],x=this.evalVisProp("arrowhead.enabled");for(x&&(n=this.evalVisProp("arrowhead.size"),r=this.evalVisProp("arrowhead.angle"),o=n/a.unitX,p=n/a.unitY,q=n/Math.sqrt(a.unitX*a.unitY)),this.dataX=[],this.dataY=[],this.dataZ=[],c=0,g=t[0];c<=u[0];g+=w[0],c++)for(d=0,h=t[1];d<=u[1];h+=w[1],d++)for(b=0,i=t[2];b<=u[2];i+=w[2],b++)e=this.F(g,h,i),!((f=__TURBOPACK__default__export__2.norm(e))<Number.EPSILON)&&(e[0]*=s,e[1]*=s,e[2]*=s,__TURBOPACK__default__export__3.concat(this.dataX,[g,g+e[0],NaN]),__TURBOPACK__default__export__3.concat(this.dataY,[h,h+e[1],NaN]),__TURBOPACK__default__export__3.concat(this.dataZ,[i,i+e[2],NaN]),x&&(f*=s,j=Math.atan2(e[1],e[0]),k=(m=Math.asin(e[2]/f))-r,l=m+r,__TURBOPACK__default__export__3.concat(this.dataX,[g+e[0]-o*Math.cos(j)*Math.cos(k),g+e[0],g+e[0]-o*Math.cos(j)*Math.cos(l),NaN]),__TURBOPACK__default__export__3.concat(this.dataY,[h+e[1]-p*Math.sin(j)*Math.cos(k),h+e[1],h+e[1]-p*Math.sin(j)*Math.cos(l),NaN]),__TURBOPACK__default__export__3.concat(this.dataZ,[i+e[2]-q*Math.sin(l),i+e[2],i+e[2]-q*Math.sin(k),NaN])))},d.methodMap=__TURBOPACK__default__export__3.deepCopy(d.methodMap,{setF:"setF"}),d},__TURBOPACK__default__export__.registerElement("vectorfield3D",__TURBOPACK__default__export__.createVectorfield3D),__TURBOPACK__default__export__.Line3D=function(a,b,c,d,e){this.constructor(a.board,e,__TURBOPACK__default__export__1.OBJECT_TYPE_LINE3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.constructor3D(a,"line3d"),this.point=b,this.direction=c,this.vec=[0,0,0,0],this.range=d||[-1/0,1/0],this.point1=null,this.point2=null,this.board.finalizeAdding(this),this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{})},__TURBOPACK__default__export__.Line3D.prototype=new __TURBOPACK__default__export__.GeometryElement,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Line3D,__TURBOPACK__default__export__.GeometryElement3D,"constructor3D"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Line3D.prototype,{updateCoords:function(){var a,b=0;if(__TURBOPACK__default__export__3.exists(this.direction.view)&&this.direction.type===__TURBOPACK__default__export__1.OBJECT_TYPE_LINE3D)this.vec=this.direction.vec.slice();else if(__TURBOPACK__default__export__3.isFunction(this.direction))this.vec=__TURBOPACK__default__export__3.evaluate(this.direction),3===this.vec.length&&this.vec.unshift(0);else for(3===this.direction.length&&(this.vec[0]=0,b=1),a=0;a<this.direction.length;a++)this.vec[b+a]=__TURBOPACK__default__export__3.evaluate(this.direction[a]);return this},getPointCoords:function(a){var b,c=[],d=[];return c=this.point.coords,d=this.vec,b=__TURBOPACK__default__export__3.evaluate(a),Math.abs(a=this.view.intersectionLineCube(c,d,b))===1/0&&(a=0),[c[0]+d[0]*a,c[1]+d[1]*a,c[2]+d[2]*a,c[3]+d[3]*a]},addTransform:function(a,b){return this.point.addTransform(a.point,b),this.addTransformGeneric(a,b),this},updateTransform:function(){var a,b;if(0===this.transformations.length||null===this.baseElement)return this;for(b=0,a=this===this.baseElement?this.vec:this.baseElement.vec;b<this.transformations.length;b++)this.transformations[b].update(),a=__TURBOPACK__default__export__2.matVecMult(this.transformations[b].matrix,a);return this.vec=a,this},update:function(){return this.needsUpdate&&this.updateCoords().updateTransform(),this},setPosition2D:function(a){var b,c;for(b=0;b<this.parents.length;b++)"point3d"===(c=this.view.select(this.parents[b])).elType&&c.element2D.draggable()&&a.applyOnce(c.element2D);this.endpoints[0].update(),this.endpoints[1].update()},updateRenderer:function(){return this.needsUpdate=!1,this},projectCoords:function(a,b){var c,d=this.getPointCoords(0),e=this.getPointCoords(1),f=[e[0]-d[0],e[1]-d[1],e[2]-d[2]],g=[a[0]-d[0],a[1]-d[1],a[2]-d[2]],h=Math.min(Math.max(__TURBOPACK__default__export__2.innerProduct(g,f)/__TURBOPACK__default__export__2.innerProduct(f,f),__TURBOPACK__default__export__3.evaluate(this.range[0])),__TURBOPACK__default__export__3.evaluate(this.range[1]));return c=this.getPointCoords(h).slice(),b[0]=h,c},updateZIndex:function(){var a=this.endpoints[0],b=this.endpoints[1],c=[1,a.X()+b.X(),a.Y()+b.Y(),a.Z()+b.Z()];return c[1]*=.5,c[2]*=.5,c[3]*=.5,this.zIndex=__TURBOPACK__default__export__2.innerProduct(this.view.matrix3DRotShift[3],c),this}}),__TURBOPACK__default__export__.createLine3D=function(a,b,c){var d,e,f,g,h,i,j,k,l,m=b[0],n=null,o=null;if(d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"line3d"),b[1].type===__TURBOPACK__default__export__1.OBJECT_TYPE_LINE3D&&__TURBOPACK__default__export__3.isTransformationOrArray(b[2])&&(n=b[1],o=b[2],e=__TURBOPACK__default__export__3.providePoints3D(m,[[0,0,0,0],[0,0,0,0]],c,"line3d",["point1","point2"])),null===n&&(__TURBOPACK__default__export__3.isPoint3D(b[2])||3===b.length&&(__TURBOPACK__default__export__3.isArray(b[2])||__TURBOPACK__default__export__3.isFunction(b[2]))))i=__TURBOPACK__default__export__3.providePoints3D(m,[b[1]],c,"line3d",["point1"])[0],j=__TURBOPACK__default__export__3.providePoints3D(m,[b[2]],c,"line3d",["point2"])[0],g=function(){return[0,j.X()-i.X(),j.Y()-i.Y(),j.Z()-i.Z()]},h=[0,1],(l=new __TURBOPACK__default__export__.Line3D(m,i,g,h,d)).prepareUpdate().update(),(k=__TURBOPACK__default__export__3.providePoints3D(m,[[1,0,0,0],[1,0,0,0]],{visible:!0},"line3d",["point1","point2"]))[0].F=function(){var a=0;return l.evalVisProp("straightfirst")&&(a=-1/0),l.getPointCoords(a)},k[1].F=function(){var a=1;return l.evalVisProp("straightlast")&&(a=1/0),l.getPointCoords(a)},k[0].prepareUpdate().update(),k[1].prepareUpdate().update(),(d=l.setAttr2D(d)).straightfirst=!1,d.straightlast=!1,l.element2D=m.create("segment",[k[0].element2D,k[1].element2D],d),l.element2D.view=m,l.endpoints=k,l.addChild(k[0]),l.addChild(k[1]),l.addParents([i,j]);else{if(null!==n)f=__TURBOPACK__default__export__3.providePoints3D(m,[[0,0,0]],c,"line3d",["point"])[0],g=[0,0,0,1e-4],h=b[3]||[-1/0,1/0];else if(__TURBOPACK__default__export__3.exists(b[2].view)&&b[2].type===__TURBOPACK__default__export__1.OBJECT_TYPE_LINE3D||__TURBOPACK__default__export__3.isFunction(b[2])||3===b[2].length||4===b[2].length)f=__TURBOPACK__default__export__3.providePoints3D(m,[b[1]],c,"line3d",["point"])[0],g=b[2],h=b[3];else throw Error("JSXGraph: Can't create line3d with parents of type '"+typeof b[1]+", "+typeof b[2]+", "+typeof b[3]+"'.");e=__TURBOPACK__default__export__3.providePoints3D(m,[[1,0,0,0],[1,0,0,0]],c,"line3d",["point1","point2"]),(l=new __TURBOPACK__default__export__.Line3D(m,f,g,h,d)).prepareUpdate().update(),e[0].F=function(){return l.getPointCoords(__TURBOPACK__default__export__3.evaluate(l.range[0]))},e[0].prepareUpdate().update(),i=e[0],e[1].F=function(){return l.getPointCoords(__TURBOPACK__default__export__3.evaluate(l.range[1]))},e[1].prepareUpdate().update(),j=e[1],(d=l.setAttr2D(d)).straightfirst=!1,d.straightlast=!1,l.element2D=m.create("segment",[i.element2D,j.element2D],d),l.element2D.view=m,l.endpoints=e,l.addParents(f),null!==n&&null!==o&&(l.addTransform(n,o),l.addParents(n))}return l.addChild(l.element2D),l.inherits.push(l.element2D),l.element2D.addParents(l),l.point1=i,l.point2=j,l.point1._is_new?(l.addChild(l.point1),delete l.point1._is_new):l.point1.addChild(l),l.point2._is_new?(l.addChild(l.point2),delete l.point2._is_new):l.point2.addChild(l),__TURBOPACK__default__export__3.exists(f)&&(f._is_new?(l.addChild(f),delete f._is_new):f.addChild(l)),l.update(),l.element2D.prepareUpdate().update().updateRenderer(),l},__TURBOPACK__default__export__.registerElement("line3d",__TURBOPACK__default__export__.createLine3D),__TURBOPACK__default__export__.Plane3D=function(a,b,c,d,e,f,g){this.constructor(a.board,g,__TURBOPACK__default__export__1.OBJECT_TYPE_PLANE3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.constructor3D(a,"plane3d"),this.board.finalizeAdding(this),this.point=b,this.direction1=c,this.direction2=e,this.range_u=d||[-1/0,1/0],this.range_v=f||[-1/0,1/0],this.vec1=[0,0,0,0],this.vec2=[0,0,0,0],this.mesh3d=null,this.normal=[0,0,0,0],this.d=0,this.updateCoords(),this.updateNormal(),this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{})},__TURBOPACK__default__export__.Plane3D.prototype=new __TURBOPACK__default__export__.GeometryElement,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Plane3D,__TURBOPACK__default__export__.GeometryElement3D,"constructor3D"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Plane3D.prototype,{F:function(a,b){var c,d,e,f,g;for(c=0,d=this.vec1.slice(),e=this.vec2.slice(),f=__TURBOPACK__default__export__2.norm(d,3),g=__TURBOPACK__default__export__2.norm(e,3);c<3;c++)d[c]/=f,e[c]/=g;return[this.point.X()+a*d[0]+b*e[0],this.point.Y()+a*d[1]+b*e[1],this.point.Z()+a*d[2]+b*e[2]]},X:function(a,b){return this.F(a,b)[0]},Y:function(a,b){return this.F(a,b)[1]},Z:function(a,b){return this.F(a,b)[2]},updateCoords:function(){var a,b;if(__TURBOPACK__default__export__3.exists(this.direction1.view)&&this.direction1.type===__TURBOPACK__default__export__1.OBJECT_TYPE_LINE3D)this.vec1=this.direction1.vec.slice();else if(__TURBOPACK__default__export__3.isFunction(this.direction1))this.vec1=__TURBOPACK__default__export__3.evaluate(this.direction1),3===this.vec1.length&&this.vec1.unshift(0);else for(b=0,3===this.direction1.length&&(this.vec1[0]=0,b=1),a=0;a<this.direction1.length;a++)this.vec1[b+a]=__TURBOPACK__default__export__3.evaluate(this.direction1[a]);if(__TURBOPACK__default__export__3.exists(this.direction2.view)&&this.direction2.type===__TURBOPACK__default__export__1.OBJECT_TYPE_LINE3D)this.vec2=this.direction2.vec.slice();else if(__TURBOPACK__default__export__3.isFunction(this.direction2))this.vec2=__TURBOPACK__default__export__3.evaluate(this.direction2),3===this.vec2.length&&this.vec2.unshift(0);else for(b=0,3===this.direction2.length&&(this.vec2[0]=0,b=1),a=0;a<this.direction2.length;a++)this.vec2[b+a]=__TURBOPACK__default__export__3.evaluate(this.direction2[a]);return this},updateNormal:function(){var a,b;if(!this.needsUpdate,this.normal=__TURBOPACK__default__export__2.crossProduct(this.vec1.slice(1),this.vec2.slice(1)),Math.abs(b=__TURBOPACK__default__export__2.norm(this.normal))>__TURBOPACK__default__export__2.eps*__TURBOPACK__default__export__2.eps)for(a=0;a<3;a++)this.normal[a]/=b;return this.normal.unshift(0),this.d=__TURBOPACK__default__export__2.innerProduct(this.point.coords,this.normal,4),this},updateDataArray:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=["xPlaneRear","yPlaneRear","zPlaneRear"],q=[],r=[0,0,0],s=[0,0,0],t=[0,0,0],u=[0,0,0],v=1e-12,w=this.view;if(this.dataX=[],this.dataY=[],this.updateNormal(),"axisplane3d"!==this.elType&&w.defaultAxes&&__TURBOPACK__default__export__3.evaluate(this.range_u[0])===-1/0&&__TURBOPACK__default__export__3.evaluate(this.range_u[1])===1/0&&__TURBOPACK__default__export__3.evaluate(this.range_v[0])===-1/0&&__TURBOPACK__default__export__3.evaluate(this.range_v[1])===1/0){for(j=0;j<p.length;j++){if(!1!==(u=w.intersectionPlanePlane(this,w.defaultAxes[p[j]]))[0]&&!1!==u[1]){for(i=0;i<q.length&&!(__TURBOPACK__default__export__14.distance(u[0],q[i][0],4)<v&&__TURBOPACK__default__export__14.distance(u[1],q[i][1],4)<v||__TURBOPACK__default__export__14.distance(u[0],q[i][1],4)<v&&__TURBOPACK__default__export__14.distance(u[1],q[i][0],4)<v);i++);i===q.length&&q.push(u.slice())}if((u=[1,0,0,0])[j+1]=w.bbox3D[j][1],h=__TURBOPACK__default__export__2.innerProduct(u,w.defaultAxes[p[j]].normal,4),!1!==(u=w.intersectionPlanePlane(this,w.defaultAxes[p[j]],h))[0]&&!1!==u[1]){for(i=0;i<q.length&&!(__TURBOPACK__default__export__14.distance(u[0],q[i][0],4)<v&&__TURBOPACK__default__export__14.distance(u[1],q[i][1],4)<v||__TURBOPACK__default__export__14.distance(u[0],q[i][1],4)<v&&__TURBOPACK__default__export__14.distance(u[1],q[i][0],4)<v);i++);i===q.length&&q.push(u.slice())}}if(0===q.length)return{X:this.dataX,Y:this.dataY};n=m=0,i=0;do{for(4===(u=q[n][i]).length&&(e=w.project3DTo2D(u),this.dataX.push(e[1]),this.dataY.push(e[2])),i=(i+1)%2,u=q[n][i],o=n,j=0;j<q.length;j++){if(j!==n&&__TURBOPACK__default__export__14.distance(u,q[j][0])<v){n=j,i=0;break}if(j!==n&&__TURBOPACK__default__export__14.distance(u,q[j][1])<v){n=j,i=1;break}}if(n===o){console.log("Error plane3d update: did not find next",n);break}}while(n!==m)e=w.project3DTo2D(q[m][0]),this.dataX.push(e[1]),this.dataY.push(e[2])}else{for(i=1,a=__TURBOPACK__default__export__3.evaluate(this.range_u[0]),b=__TURBOPACK__default__export__3.evaluate(this.range_u[1]),c=__TURBOPACK__default__export__3.evaluate(this.range_v[0]),d=__TURBOPACK__default__export__3.evaluate(this.range_v[1]),t=this.point.coords,r=this.vec1.slice(),s=this.vec2.slice(),f=__TURBOPACK__default__export__2.norm(r,4),g=__TURBOPACK__default__export__2.norm(s,4);i<4;i++)r[i]/=f,s[i]/=g;for(j=0;j<4;j++){switch(j){case 0:k=a,l=c;break;case 1:k=b,l=c;break;case 2:k=b,l=d;break;case 3:k=a,l=d}for(i=0;i<4;i++)u[i]=t[i]+k*r[i]+l*s[i];e=w.project3DTo2D(u),this.dataX.push(e[1]),this.dataY.push(e[2])}this.dataX.push(this.dataX[0]),this.dataY.push(this.dataY[0])}return{X:this.dataX,Y:this.dataY}},addTransform:function(a,b){return this.addTransformGeneric(a,b),this.point.addTransform(a.point,b),this},updateTransform:function(){var a,b,c;if(0===this.transformations.length||null===this.baseElement)return this;for(this===this.baseElement?(a=this.vec1,b=this.vec2):(a=this.baseElement.vec1,b=this.baseElement.vec2),c=0;c<this.transformations.length;c++)this.transformations[c].update(),a=__TURBOPACK__default__export__2.matVecMult(this.transformations[c].matrix,a),b=__TURBOPACK__default__export__2.matVecMult(this.transformations[c].matrix,b);return this.vec1=a,this.vec2=b,this},update:function(){return this.needsUpdate&&this.updateCoords().updateTransform(),this},updateRenderer:function(){return this.needsUpdate=!1,this},projectCoords:function(a,b){return __TURBOPACK__default__export__14.projectCoordsToParametric(a,this,2,b)}}),__TURBOPACK__default__export__.createPlane3D=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n=b[0],o=null,p=null;if((d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"plane3d")).threepoints||__TURBOPACK__default__export__3.isPoint3D(b[2])||__TURBOPACK__default__export__3.isPoint3D(b[3]))e=__TURBOPACK__default__export__3.providePoints3D(n,[b[1]],c,"plane3d",["point1"])[0],f=__TURBOPACK__default__export__3.providePoints3D(n,[b[2]],c,"plane3d",["point2"])[0],g=__TURBOPACK__default__export__3.providePoints3D(n,[b[3]],c,"plane3d",["point3"])[0],h=function(){return[f.X()-e.X(),f.Y()-e.Y(),f.Z()-e.Z()]},i=function(){return[g.X()-e.X(),g.Y()-e.Y(),g.Z()-e.Z()]},j=b[4]||[-1/0,1/0],k=b[5]||[-1/0,1/0];else{if(b[1].type===__TURBOPACK__default__export__1.OBJECT_TYPE_PLANE3D&&__TURBOPACK__default__export__3.isTransformationOrArray(b[2])?(o=b[1],p=b[2],e=__TURBOPACK__default__export__3.providePoints3D(n,[[0,0,0,0]],c,"plane3d",["point"])[0],h=[0,1e-4,0,0],i=[0,0,1e-4,0],j=b[3]||[-1/0,1/0],k=b[4]||[-1/0,1/0]):(e=__TURBOPACK__default__export__3.providePoints3D(n,[b[1]],c,"plane3d",["point"])[0],h=b[2],i=b[3],j=b[4]||[-1/0,1/0],k=b[5]||[-1/0,1/0]),!1===e)throw Error("JSXGraph: Can't create plane3d with first parent of type '"+typeof b[1]+"'.\nPossible first parent types are: point3d, array of length 3, function returning an array of length 3.");if(null!==o&&b<3||null===o&&b.length<4)throw Error("JSXGraph: Can't create plane3d with parents of type '"+typeof b[1]+", "+typeof b[2]+", "+typeof b[3]+", "+typeof b[4]+", "+typeof b[5]+"'.")}return l=new __TURBOPACK__default__export__.Plane3D(n,e,h,j,i,k,d),e.addChild(l),d=l.setAttr2D(d),l.element2D=n.create("curve",[[],[]],d),l.element2D.view=n,null!==o&&null!==p&&(l.addTransform(o,p),l.addParents(o)),l.element2D.updateDataArray=function(){var a=l.updateDataArray();this.dataX=a.X,this.dataY=a.Y},l.addChild(l.element2D),l.inherits.push(l.element2D),l.element2D.setParents(l),Math.abs(l.range_u[0])!==1/0&&Math.abs(l.range_u[1])!==1/0&&Math.abs(l.range_v[0])!==1/0&&Math.abs(l.range_v[1])!==1/0&&(d=__TURBOPACK__default__export__3.copyAttributes(d.mesh3d,a.options,"mesh3d"),m=n.create("mesh3d",[function(){return e.coords},function(){return l.vec1},function(){return l.vec2},l.range_u,l.range_v],d),l.mesh3d=m,l.addChild(m),l.inherits.push(m),l.element2D.inherits.push(m),m.setParents(l),l.mesh3d.view=n),l.element2D.prepareUpdate().update(),a.isSuspendedUpdate||l.element2D.updateVisibility().updateRenderer(),l},__TURBOPACK__default__export__.registerElement("plane3d",__TURBOPACK__default__export__.createPlane3D),__TURBOPACK__default__export__.createIntersectionLine3D=function(a,b,c){var d,e,f,g=b[0],h=b[1],i=b[2],j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"intersectionline3d"),k=[];for(e=0,f=__TURBOPACK__default__export__14.intersectionFunction3D(g,h,i);e<2;e++)k[e]=g.create("point3d",f[e],j["point"+(e+1)]);d=g.create("line3d",k,j);try{h.addChild(d),i.addChild(d)}catch(a){throw Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof b[1]+"' and '"+typeof b[2]+"'.")}return d.type=__TURBOPACK__default__export__1.OBJECT_TYPE_INTERSECTION_LINE3D,d.elType="intersectionline3d",d.setParents([h.id,i.id]),d},__TURBOPACK__default__export__.registerElement("intersectionline3d",__TURBOPACK__default__export__.createIntersectionLine3D),__TURBOPACK__default__export__.Text3D=function(a,b,c,d,e){this.constructor(a.board,e,__TURBOPACK__default__export__1.OBJECT_TYPE_TEXT3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.constructor3D(a,"text3d"),this.board.finalizeAdding(this),this.coords=[0,0,0,0],this.F=b,this.slide=d,this.X=function(){return this.coords[1]},this.Y=function(){return this.coords[2]},this.Z=function(){return this.coords[3]},this.position=[],this._c2d=null,this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{})},__TURBOPACK__default__export__.Text3D.prototype=new __TURBOPACK__default__export__.GeometryElement,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Text3D,__TURBOPACK__default__export__.GeometryElement3D,"constructor3D"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Text3D.prototype,{updateCoords:function(){var a;if(__TURBOPACK__default__export__3.isFunction(this.F))this.coords=__TURBOPACK__default__export__3.evaluate(this.F),this.coords.unshift(1);else for(a=0,this.coords[0]=1;a<3;a++)__TURBOPACK__default__export__3.isFunction(this.F[a])&&(this.coords[a+1]=__TURBOPACK__default__export__3.evaluate(this.F[a]));return this},initCoords:function(){var a;if(__TURBOPACK__default__export__3.isFunction(this.F))this.coords=__TURBOPACK__default__export__3.evaluate(this.F),this.coords.unshift(1);else for(a=0,this.coords[0]=1;a<3;a++)this.coords[a+1]=__TURBOPACK__default__export__3.evaluate(this.F[a]);return this},normalizeCoords:function(){return Math.abs(this.coords[0])>__TURBOPACK__default__export__2.eps&&(this.coords[1]/=this.coords[0],this.coords[2]/=this.coords[0],this.coords[3]/=this.coords[0],this.coords[0]=1),this},setPosition:function(a,b){var c=this.coords;return 3===a.length?(c[0]=1,c[1]=a[0],c[2]=a[1],c[3]=a[2]):(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[2],this.normalizeCoords()),this},update:function(a){var b,c,d;return this.element2D.draggable()&&0!==__TURBOPACK__default__export__14.distance(this._c2d,this.element2D.coords.usrCoords)?(this.view.isVerticalDrag()?b=this.view.project2DTo3DVertical(this.element2D,this.coords):(c=[1,0,0,this.coords[3]],b=this.view.project2DTo3DPlane(this.element2D,[1,0,0,1],c)),0!==b[0]&&(d=this.view.project3DToCube(b),this.coords=d[0],d[1]&&this.element2D.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,this.view.project3DTo2D(this.coords)),this.slide&&(this.coords=this.slide.projectCoords([this.X(),this.Y(),this.Z()],this.position),this.element2D.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,this.view.project3DTo2D(this.coords))))):(this.updateCoords(),this.slide&&(this.coords=this.slide.projectCoords([this.X(),this.Y(),this.Z()],this.position)),b=this.coords,this.element2D.coords.setCoordinates(__TURBOPACK__default__export__1.COORDS_BY_USER,this.view.project3DTo2D(b)),this.zIndex=__TURBOPACK__default__export__2.innerProduct(this.view.matrix3DRotShift[3],b),this.element2D.prepareUpdate().update()),this._c2d=this.element2D.coords.usrCoords.slice(),this},updateRenderer:function(){return this.needsUpdate=!1,this},testIfFinite:function(){return Math.abs(this.coords[0])>__TURBOPACK__default__export__2.eps},__evt__update3D:function(a){}}),__TURBOPACK__default__export__.createText3D=function(a,b,c){var d,e,f,g,h,i,j=b[0];if(f=b.length>2&&__TURBOPACK__default__export__3.exists(b[b.length-1].is3D)?b.pop():null,3===b.length)e=b[1],g=b[2];else if(5===b.length)e=b.slice(1,4),g=b[4];else throw Error("JSXGraph: Can't create text3d with parent types '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [[x,y,z], text], [x,y,z, text]");return d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"text3d"),(i=new __TURBOPACK__default__export__.Text3D(j,e,g,f,d)).initCoords(),h=j.project3DTo2D(i.coords),d=i.setAttr2D(d),i.element2D=j.create("text",[h[1],h[2],g],d),i.element2D.view=j,i.addChild(i.element2D),i.inherits.push(i.element2D),i.element2D.setParents(i),i.slide&&(i.slide.addChild(i),i.setParents(i.slide)),i._c2d=i.element2D.coords.usrCoords.slice(),i},__TURBOPACK__default__export__.registerElement("text3d",__TURBOPACK__default__export__.createText3D),__TURBOPACK__default__export__.createTicks3D=function(a,b,c){var d,e,f=b[0],g=b[1],h=b[2],i=b[3],j=b[4];return e=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"ticks3d"),(d=f.create("curve",[[],[]],e)).point=g,d.direction1=h,d.len=i,d.direction2=j,d.drawLabels=function(b){var c,d,e,g,h,i,j,k=0,l=this.len,m=this.evalVisProp("ticksdistance"),n=this.evalVisProp("tickendings"),o=this.evalVisProp("majorheight"),p=[0,0,0],q=[0,0,0],r=[0,0,0],s=[];if(o/=Math.sqrt(a.unitX*a.unitY),c=o*n[1]*2,this.dataX=[],this.dataY=[],__TURBOPACK__default__export__3.isFunction(this.point))r=this.point().slice(1);else for(g=0;g<3;g++)r[g]=__TURBOPACK__default__export__3.evaluate(this.point[g]);for(g=0;g<3;g++)p[g]=__TURBOPACK__default__export__3.evaluate(this.direction1[g]),q[g]=__TURBOPACK__default__export__3.evaluate(this.direction2[g]);for(g=0,d=__TURBOPACK__default__export__.Math.norm(p,3),e=__TURBOPACK__default__export__.Math.norm(q,3);g<3;g++)p[g]/=d,q[g]/=e;if(!(Math.abs(m)<__TURBOPACK__default__export__2.eps)){for(h=k;h<=l;h+=m){for(g=0,j=[r[0]+h*p[0]+c*q[0],r[1]+h*p[1]+c*q[1],r[2]+h*p[2]+c*q[2]];g<3;g++)0!==p[g]&&(i=r[g]+h*p[g]);s.push(f.create("text3d",[j,i],b))}return s}},d.evalVisProp("drawlabels")&&(d.labels=d.drawLabels(e.label)),d.updateDataArray=function(){var b,c,d,e,g,h,i,j,k=0,l=this.len,m=this.evalVisProp("ticksdistance"),n=this.evalVisProp("tickendings"),o=this.evalVisProp("majorheight"),p=[0,0,0],q=[0,0,0],r=[0,0,0];if(o/=Math.sqrt(a.unitX*a.unitY),b=-(o*n[0]),c=o*n[1],this.dataX=[],this.dataY=[],__TURBOPACK__default__export__3.isFunction(this.point))r=this.point().slice(1);else for(g=0;g<3;g++)r[g]=__TURBOPACK__default__export__3.evaluate(this.point[g]);for(g=0;g<3;g++)p[g]=__TURBOPACK__default__export__3.evaluate(this.direction1[g]),q[g]=__TURBOPACK__default__export__3.evaluate(this.direction2[g]);for(g=0,d=__TURBOPACK__default__export__.Math.norm(p,3),e=__TURBOPACK__default__export__.Math.norm(q,3);g<3;g++)p[g]/=d,q[g]/=e;if(!(Math.abs(m)<__TURBOPACK__default__export__2.eps))for(h=k;h<=l;h+=m)j=[r[0]+h*p[0]+b*q[0],r[1]+h*p[1]+b*q[1],r[2]+h*p[2]+b*q[2]],i=f.project3DTo2D(j),this.dataX.push(i[1]),this.dataY.push(i[2]),j=[r[0]+h*p[0]+c*q[0],r[1]+h*p[1]+c*q[1],r[2]+h*p[2]+c*q[2]],i=f.project3DTo2D(j),this.dataX.push(i[1]),this.dataY.push(i[2]),this.dataX.push(NaN),this.dataY.push(NaN)},d},__TURBOPACK__default__export__.registerElement("ticks3d",__TURBOPACK__default__export__.createTicks3D),__TURBOPACK__default__export__.Polygon3D=function(a,b,c){var d;for(this.constructor(a.board,c,__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.constructor3D(a,"polygon3d"),this.board.finalizeAdding(this),this.vertices=[],d=0;d<b.length;d++)this.vertices[d]=this.board.select(b[d]),this.vertices[d]._is_new&&(delete this.vertices[d]._is_new,this.vertices[d]._is_new_pol=!0)},__TURBOPACK__default__export__.Polygon3D.prototype=new __TURBOPACK__default__export__.GeometryElement,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Polygon3D,__TURBOPACK__default__export__.GeometryElement3D,"constructor3D"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Polygon3D.prototype,{update:function(){return this},updateRenderer:function(){return this.needsUpdate=!1,this},updateZIndex:function(){var a,b=this.vertices.length,c=[1,0,0,0];if(b<=0)return[NaN,NaN,NaN,NaN];for(a=0;a<b;a++)c[1]+=this.vertices[a].coords[1],c[2]+=this.vertices[a].coords[2],c[3]+=this.vertices[a].coords[3];return c[1]/=b,c[2]/=b,c[3]/=b,this.zIndex=__TURBOPACK__default__export__2.innerProduct(this.view.matrix3DRotShift[3],c),this}}),__TURBOPACK__default__export__.createPolygon3D=function(a,b,c){var d,e,f,g,h,i,j=b[0],k=[],l=[],m=!1;if(h=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"polygon3d"),null===(g=a.select(b[1]))&&(g=b[1]),__TURBOPACK__default__export__3.isObject(g)&&g.type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYGON3D&&__TURBOPACK__default__export__3.isTransformationOrArray(b[2]))for(e=0,m=!0,f=g.vertices.length-1,i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"polygon3d","vertices");e<f;e++)i.withlabel&&(i.name=""===g.vertices[e].name?"":g.vertices[e].name+"'"),k.push(a.create("point3d",[g.vertices[e],b[2]],i));else if(__TURBOPACK__default__export__3.isArray(b[1])&&b[1].every(a=>__TURBOPACK__default__export__3.isPoint3D(a)))k=b[1];else if(!1===(k=__TURBOPACK__default__export__3.providePoints3D(j,b.slice(1),c,"polygon3d",["vertices"])))throw Error("JSXGraph: Can't create polygon3d with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates. Alternatively, a polygon3d and a transformation can be supplied");for(e=0,(d=new __TURBOPACK__default__export__.Polygon3D(j,k,h)).isDraggable=!0,h=d.setAttr2D(h);e<k.length;e++)l.push(k[e].element2D);if(d.element2D=a.create("polygon",l,h),d.element2D.view=j,d.addChild(d.element2D),d.inherits.push(d.element2D),d.element2D.setParents(d),m)for(d.prepareUpdate().update().updateVisibility().updateRenderer(),f=g.vertices.length-1,e=0;e<f;e++)k[e].prepareUpdate().update().updateVisibility().updateRenderer();return d},__TURBOPACK__default__export__.registerElement("polygon3d",__TURBOPACK__default__export__.createPolygon3D),__TURBOPACK__default__export__.Face3D=function(a,b,c,d){this.constructor(a.board,d,__TURBOPACK__default__export__1.OBJECT_TYPE_FACE3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.constructor3D(a,"face3d"),this.board.finalizeAdding(this),this.polyhedron=b,this.faceNumber=c,this.normal=[0,0,0,0],this.d=0,this.vec1=[0,0,0,0],this.vec2=[0,0,0,0],0===this.faceNumber&&this.updateCoords(),this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{})},__TURBOPACK__default__export__.Face3D.prototype=new __TURBOPACK__default__export__.GeometryElement,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Face3D,__TURBOPACK__default__export__.GeometryElement3D,"constructor3D"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Face3D.prototype,{updateCoords:function(){var a,b,c,d,e=this.polyhedron;for(a in e.vertices){if(d=e.vertices[a],__TURBOPACK__default__export__3.isFunction(d))e.coords[a]=__TURBOPACK__default__export__3.evaluate(d);else if(__TURBOPACK__default__export__3.isArray(d))for(b=0,e.coords[a]=[],c=d.length;b<c;b++)e.coords[a][b]=__TURBOPACK__default__export__3.evaluate(d[b]);else if(d=e.view.select(d),__TURBOPACK__default__export__3.isPoint3D(d))e.coords[a]=d.coords;else throw Error("Polyhedron3D.updateCoords: unknown vertices type!");3===e.coords[a].length&&e.coords[a].unshift(1)}return this},updateDataArray2D:function(){var a,b,c,d,e=[],f=[],g=this.polyhedron,h=g.faces[this.faceNumber];if(0===this.faceNumber)for(a in g.vertices)g.coords2D[a]=[];for(a=0,b=h.length,this.zIndex=0;a<b;a++)0===(d=g.coords2D[h[a]]).length&&(c=g.coords[h[a]],d=this.view.project3DTo2D(c),g.coords2D[h[a]]=d,g.zIndex[h[a]]=__TURBOPACK__default__export__2.innerProduct(this.view.matrix3DRotShift[3],c)),e.push(d[1]),f.push(d[2]),this.zIndex+=g.zIndex[h[a]];return b>0&&(this.zIndex/=b),2!==b&&(e.push(e[0]),f.push(f[0])),{X:e,Y:f}},addTransform:function(a,b){return 0===this.faceNumber&&this.addTransformGeneric(a,b),this},updateTransform:function(){var a,b,c,d,e;if(0!==this.faceNumber||0===this.transformations.length||null===this.baseElement)return this;for(c=0,a=this.transformations;c<a.length;c++)a[c].update();for(c in(e=this===this.baseElement?this.polyhedron:this.baseElement.polyhedron).coords)if(e.coords.hasOwnProperty(c)){for(d=0,b=e.coords[c];d<a.length;d++)b=__TURBOPACK__default__export__2.matVecMult(a[d].matrix,b);this.polyhedron.coords[c]=b}return this},update:function(){var a,b,c,d,e,f;if(this.needsUpdate&&!this.view.board._change3DView){if(b=this.polyhedron,0===this.faceNumber&&this.updateCoords().updateTransform(),(f=b.faces[this.faceNumber]).length<3)return this;if(d=b.coords[f[0]],e=b.coords[f[1]],this.vec1=[e[0]-d[0],e[1]-d[1],e[2]-d[2],e[3]-d[3]],e=b.coords[f[2]],this.vec2=[e[0]-d[0],e[1]-d[1],e[2]-d[2],e[3]-d[3]],this.normal=__TURBOPACK__default__export__2.crossProduct(this.vec1.slice(1),this.vec2.slice(1)),c=__TURBOPACK__default__export__2.norm(this.normal),this.normal.unshift(0),Math.abs(c)>1e-12)for(a=1;a<4;a++)this.normal[a]/=c;this.d=__TURBOPACK__default__export__2.innerProduct(d,this.normal,4)}return this},updateRenderer:function(){return this.needsUpdate&&(this.needsUpdate=!1,this.shader()),this},shader:function(){var a,b,c,d,e,f,g,h,i;if(this.evalVisProp("shader.enabled"))return a=this.evalVisProp("shader.hue"),b=this.evalVisProp("shader.saturation"),h=this.evalVisProp("shader.minlightness"),i=this.evalVisProp("shader.maxlightness"),"angle"===this.evalVisProp("shader.type").toLowerCase()?c=h+(i-h)*(d=Math.abs(d=__TURBOPACK__default__export__2.innerProduct(this.view.matrix3DRotShift[3],this.normal))):(g=this.view.zIndexMax,f=this.view.zIndexMin,c=h+(i-h)*((this.zIndex-f)/(g-f))),e="hsl("+a+","+b+"%,"+c+"%)",this.element2D.visProp.fillcolor=e,this.zIndex}}),__TURBOPACK__default__export__.createFace3D=function(a,b,c){var d,e,f=b[0],g=b[1],h=b[2];return d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"face3d"),d=(e=new __TURBOPACK__default__export__.Face3D(f,g,h,d)).setAttr2D(d),e.element2D=f.create("curve",[[],[]],d),e.element2D.view=f,e.element2D.updateDataArray=function(){var a=e.updateDataArray2D();this.dataX=a.X,this.dataY=a.Y},e.addChild(e.element2D),e.inherits.push(e.element2D),e.element2D.setParents(e),e.element2D.prepareUpdate().update(),a.isSuspendedUpdate||e.element2D.updateVisibility().updateRenderer(),e},__TURBOPACK__default__export__.registerElement("face3d",__TURBOPACK__default__export__.createFace3D),__TURBOPACK__default__export__.Polyhedron3D=function(a,b,c,d){var e,f,g,h=this;for(this.constructor(a.board,d,__TURBOPACK__default__export__1.OBJECT_TYPE_POLYHEDRON3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.constructor3D(a,"polyhedron3d"),this.board.finalizeAdding(this),this.elType="polyhedron3d",this.faces=c,this.numberFaces=c.length,this.def=b,f=["setAttribute","setParents","prepareUpdate","updateRenderer","update","fullUpdate","highlight","noHighlight"],g=function(a){return function(){var b;for(b in h.faces)h.faces.hasOwnProperty(b)&&__TURBOPACK__default__export__3.exists(h.faces[b][a])&&h.faces[b][a].apply(h.faces[b],arguments);return h}},e=0;e<f.length;e++)this[f[e]]=g(f[e]);this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{setAttribute:"setAttribute",setParents:"setParents",addTransform:"addTransform"})},__TURBOPACK__default__export__.Polyhedron3D.prototype=new __TURBOPACK__default__export__.GeometryElement,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Polyhedron3D,__TURBOPACK__default__export__.GeometryElement3D,"constructor3D"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Polyhedron3D.prototype,{addTransform:function(a,b){if(this.faces.length>0&&a.faces.length>0)this.faces[0].addTransform(a.faces[0],b);else throw Error("Adding transformation failed. At least one of the two polyhedra has no faces.");return this},toSTL:function(a){var b,c,d,e,f,g,h="model ";for(void 0===a&&(a=this.name),h+=a+"\n",b=0;b<this.def.faces.length;b++){for(h+=" facet normal 0 0 0\n  outer loop\n",g=(e=this.def.faces[b]).length,d=this.def.coords,c=0;c<g;c++)h+="   vertex "+(f=d[e[c]])[1]+" "+f[2]+" "+f[3]+"\n";h+="  endloop\n endfacet\n"}return h+("endsolid "+a+"\n")}}),__TURBOPACK__default__export__.createPolyhedron3D=function(a,b,c){var d,e,f,g,h,i,j,k=b[0],l=[],m=null,n=null,o={view:k,vertices:{},coords:{},coords2D:{},zIndex:{},faces:[]};if(__TURBOPACK__default__export__3.exists(b[1].type)&&b[1].type===__TURBOPACK__default__export__1.OBJECT_TYPE_POLYHEDRON3D)m=b[1],n=b[2],o.vertices=m.def.vertices,o.faces=m.def.faces;else{if(__TURBOPACK__default__export__3.isArray(b[1]))for(d=0,e=b[1].length;d<e;d++)o.vertices[d]=b[1][d];else if(__TURBOPACK__default__export__3.isObject(b[1]))for(d in b[1])b[1].hasOwnProperty(d)&&(o.vertices[d]=b[1][d]);o.faces=b[2]}for(j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"polyhedron3d"),console.time("polyhedron"),k.board.suspendUpdate(),e=o.faces.length,d=0;d<e;d++)i=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"face3d"),j.fillcolorarray.length>0&&(i.fillcolor=j.fillcolorarray[d%j.fillcolorarray.length]),g=o.faces[d],__TURBOPACK__default__export__3.isArray(g)&&2===g.length&&__TURBOPACK__default__export__3.isObject(g[1])&&__TURBOPACK__default__export__3.isArray(g[0])&&(__TURBOPACK__default__export__3.mergeAttr(i,g[1]),o.faces[d]=g[0]),f=k.create("face3d",[o,d],i),l.push(f);for((h=new __TURBOPACK__default__export__.Polyhedron3D(k,o,l,j)).setParents(h),d=0;d<e;d++)h.inherits.push(h.faces[d]),h.addChild(h.faces[d]);return null!==m&&(h.addTransform(m,n),h.addParents(m)),k.board.unsuspendUpdate(),console.timeEnd("polyhedron"),h},__TURBOPACK__default__export__.registerElement("polyhedron3d",__TURBOPACK__default__export__.createPolyhedron3D),__TURBOPACK__default__export__.Sphere3D=function(a,b,c,d,e){this.constructor(a.board,e,__TURBOPACK__default__export__1.OBJECT_TYPE_SPHERE3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.constructor3D(a,"sphere3d"),this.board.finalizeAdding(this),this.method=b,this.center=this.board.select(c),this.point2=null,this.points=[],this.element2D=null,this.aux2D=[],this.projectionType=a.projectionType,"twoPoints"===b?(this.point2=this.board.select(d),this.radius=this.Radius()):"pointRadius"===b&&(this.updateRadius=__TURBOPACK__default__export__3.createFunction(d,this.board),this.updateRadius(),this.addParentsFromJCFunctions([this.updateRadius])),__TURBOPACK__default__export__3.exists(this.center._is_new)?(this.addChild(this.center),delete this.center._is_new):this.center.addChild(this),"twoPoints"===b&&(__TURBOPACK__default__export__3.exists(this.point2._is_new)?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this)),this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{center:"center",point2:"point2",Radius:"Radius"})},__TURBOPACK__default__export__.Sphere3D.prototype=new __TURBOPACK__default__export__.GeometryElement,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Sphere3D,__TURBOPACK__default__export__.GeometryElement3D,"constructor3D"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Sphere3D.prototype,{X:function(a,b){return this.Radius()*Math.sin(a)*Math.cos(b)},Y:function(a,b){return this.Radius()*Math.sin(a)*Math.sin(b)},Z:function(a,b){return this.Radius()*Math.cos(a)},range_u:[0,2*Math.PI],range_v:[0,Math.PI],update:function(){return this.projectionType!==this.view.projectionType&&this.rebuildProjection(),this},updateRenderer:function(){return this.needsUpdate=!1,this},setRadius:function(a){return this.updateRadius=__TURBOPACK__default__export__3.createFunction(a,this.board),this.addParentsFromJCFunctions([this.updateRadius]),this.board.update(),this},Radius:function(a){return __TURBOPACK__default__export__3.exists(a)?(this.setRadius(a),this.Radius()):"twoPoints"===this.method?this.center.testIfFinite()&&this.point2.testIfFinite()?this.center.distance(this.point2):NaN:"pointRadius"===this.method?Math.abs(this.updateRadius()):NaN},focusFn:function(a){var b=this;return function(){var c=b.view.boxToCam[3],d=b.Radius();return b.view.project3DTo2D([b.center.X()+a*d*c[1],b.center.Y()+a*d*c[2],b.center.Z()+a*d*c[3]]).slice(1,3)}},innerVertexFn:function(){var a=this;return function(){var b,c=a.view,d=c.worldToFocal(a.center.coords,!1),e=__TURBOPACK__default__export__2.hypot(d[0],d[1]),f=c.boxToCam,g=a.Radius(),h=Math.atan(-e/d[2])+Math.acos(g/__TURBOPACK__default__export__2.norm(d)),i=Math.cos(h),j=Math.sin(h);return b=e>1e-8?[-(d[0]*f[1][1]+d[1]*f[2][1])/e,-(d[0]*f[1][2]+d[1]*f[2][2])/e,-(d[0]*f[1][3]+d[1]*f[2][3])/e]:[f[1][1],f[1][2],f[1][3]],c.project3DTo2D([a.center.X()+g*(j*b[0]+i*f[3][1]),a.center.Y()+g*(j*b[1]+i*f[3][2]),a.center.Z()+g*(j*b[2]+i*f[3][3])])}},buildCentralProjection:function(a){var b=this.view,c={visible:!1,withLabel:!1},d=b.create("point",this.focusFn(-1),c),e=b.create("point",this.focusFn(1),c),f=b.create("point",this.innerVertexFn(b),c);this.aux2D=[d,e,f],this.element2D=b.create("ellipse",this.aux2D,void 0===a?this.visProp:a)},buildParallelProjection:function(a){var b=this,c=function(){var a=b.view.bbox3D[0][1]-b.view.bbox3D[0][0];return b.Radius()*b.view.size[0]/a};this.aux2D=[],this.element2D=this.view.create("circle",[b.center.element2D,c],void 0===a?this.visProp:a)},rebuildProjection:function(a){var b;if(this.element2D)for(b in this.view.board.removeObject(this.element2D),this.aux2D)this.aux2D.hasOwnProperty(b)&&this.view.board.removeObject(this.aux2D[b]);this.projectionType=this.view.projectionType,"central"===this.projectionType?this.buildCentralProjection(a):this.buildParallelProjection(a),this.addChild(this.element2D),this.inherits.push(this.element2D),this.element2D.view=this.view},projectCoords:function(a,b){var c=this.Radius(),d=[1].concat(a),e=this.center.coords,f=__TURBOPACK__default__export__14.distance(e,d,4),g=__TURBOPACK__default__export__12.subtract(d,e);return 0===f?(b[0]=0,b[1]=0,[1,c,0,0]):0===c?(b[0]=0,b[1]=0,this.center.coords):(f=c/f,g[0]=1,g[1]*=f,g[2]*=f,g[3]*=f,b[1]=Math.atan2(g[2],g[1]),b[1]+=b[1]<0?Math.PI:0,0!==b[1]?b[0]=Math.atan2(g[2],g[3]*Math.sin(b[1])):b[0]=Math.atan2(g[1],g[3]*Math.cos(b[1])),b[0]+=b[0]<0?2*Math.PI:0,g)}}),__TURBOPACK__default__export__.createSphere3D=function(a,b,c){var d,e,f,g,h,i,j=b[0];for(i=1,d=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"sphere3d"),e=[];i<b.length;i++)if(__TURBOPACK__default__export__3.isPointType3D(a,b[i])){if(f=0===e.length?"center":"point",!1===(g=__TURBOPACK__default__export__3.providePoints3D(j,[b[i]],c,"sphere3d",[f])[0]))throw Error("JSXGraph: Can't create sphere3d from this type. Please provide a point type.");e.push(g)}else e.push(b[i]);if(__TURBOPACK__default__export__3.isPoint3D(e[0])&&__TURBOPACK__default__export__3.isPoint3D(e[1]))h=new __TURBOPACK__default__export__.Sphere3D(j,"twoPoints",e[0],e[1],d);else if(__TURBOPACK__default__export__3.isPoint3D(e[0])&&(__TURBOPACK__default__export__3.isNumber(e[1])||__TURBOPACK__default__export__3.isFunction(e[1])||__TURBOPACK__default__export__3.isString(e[1])))h=new __TURBOPACK__default__export__.Sphere3D(j,"pointRadius",e[0],e[1],d);else throw Error("JSXGraph: Can't create sphere3d with parent types '"+typeof b[1]+"' and '"+typeof b[2]+"'.\nPossible parent types: [point,point], [point,number], [point,function]");return d=h.setAttr2D(d),h.rebuildProjection(d),h.element2D.prepareUpdate().update(),a.isSuspendedUpdate||h.element2D.updateVisibility().updateRenderer(),h},__TURBOPACK__default__export__.registerElement("sphere3d",__TURBOPACK__default__export__.createSphere3D),__TURBOPACK__default__export__.Surface3D=function(a,b,c,d,e,f,g,h){this.constructor(a.board,h,__TURBOPACK__default__export__1.OBJECT_TYPE_SURFACE3D,__TURBOPACK__default__export__1.OBJECT_CLASS_3D),this.constructor3D(a,"surface3d"),this.board.finalizeAdding(this),this._F=b,this._X=c,this._Y=d,this._Z=e,null!==this._F?(this._X=function(a,b){return this._F(a,b)[0]},this._Y=function(a,b){return this._F(a,b)[1]},this._Z=function(a,b){return this._F(a,b)[2]}):null!==this._X&&(this._F=function(a,b){return[this._X(a,b),this._Y(a,b),this._Z(a,b)]}),this.range_u=f,this.range_v=g,this.dataX=null,this.dataY=null,this.dataZ=null,this.points=[],this.methodMap=__TURBOPACK__default__export__3.deepCopy(this.methodMap,{})},__TURBOPACK__default__export__.Surface3D.prototype=new __TURBOPACK__default__export__.GeometryElement,__TURBOPACK__default__export__3.copyPrototypeMethods(__TURBOPACK__default__export__.Surface3D,__TURBOPACK__default__export__.GeometryElement3D,"constructor3D"),__TURBOPACK__default__export__.extend(__TURBOPACK__default__export__.Surface3D.prototype,{updateWireframe:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o=[1,0,0,0];for(c=0,this.points=[],a=this.evalVisProp("stepsu"),b=this.evalVisProp("stepsv"),e=__TURBOPACK__default__export__3.evaluate(this.range_u),f=__TURBOPACK__default__export__3.evaluate(this.range_v),g=__TURBOPACK__default__export__3.evaluate(e[0]),h=__TURBOPACK__default__export__3.evaluate(f[0]),i=__TURBOPACK__default__export__3.evaluate(e[1]),j=__TURBOPACK__default__export__3.evaluate(f[1]),k=(i-g)/a,l=(j-h)/b,m=g;c<=a;c++,m+=k)for(this.points.push([]),d=0,n=h;d<=b;d++,n+=l)(o=this.F(m,n)).unshift(1),this.points[c].push(o);return this},updateCoords:function(){return null!==this._F?this.updateWireframe():this.updateTransform(),this},evalF:function(a,b){var c,d,e=[0,0,0,0];if(0===this.transformations.length||!__TURBOPACK__default__export__3.exists(this.baseElement))return this._F(a,b);for(d=0,c=this.transformations;d<c.length;d++)c[d].update();for((e=this===this.baseElement?this._F(a,b):this.baseElement.evalF(a,b)).unshift(1),e=__TURBOPACK__default__export__2.matVecMult(c[0].matrix,e),d=1;d<c.length;d++)e=__TURBOPACK__default__export__2.matVecMult(c[d].matrix,e);return e.slice(1)},F:function(a,b){return this.evalF(a,b)},X:function(a,b){return this.evalF(a,b)[0]},Y:function(a,b){return this.evalF(a,b)[1]},Z:function(a,b){return this.evalF(a,b)[2]},updateDataArray2D:function(){var a,b,c,d,e,f=[],g=[];if(0!==(c=this.points.length)){for(a=0,d=this.points[0].length;a<c;a++){for(b=0;b<d;b++)e=this.view.project3DTo2D(this.points[a][b]),f.push(e[1]),g.push(e[2]);f.push(NaN),g.push(NaN)}for(b=0;b<d;b++){for(a=0;a<c;a++)e=this.view.project3DTo2D(this.points[a][b]),f.push(e[1]),g.push(e[2]);f.push(NaN),g.push(NaN)}}return{X:f,Y:g}},addTransform:function(a,b){return this.addTransformGeneric(a,b),this},updateTransform:function(){var a,b,c,d,e,f,g;if(0===this.transformations.length||null===this.baseElement||__TURBOPACK__default__export__3.exists(this._F))return this;for(c=0,a=this.transformations;c<a.length;c++)a[c].update();if(this!==this.baseElement&&(this.points=[]),(f=this.baseElement.points.length)>0)for(c=0,g=this.baseElement.points[0].length;c<f;c++)for(this!==this.baseElement&&this.points.push([]),d=0;d<g;d++){for(e=0,b=this===this.baseElement?this.points[c][d]:this.baseElement.points[c][d];e<a.length;e++)b=__TURBOPACK__default__export__2.matVecMult(a[e].matrix,b);this===this.baseElement?this.points[c][d]=b:this.points[c].push(b)}return this},updateDataArray:function(){},update:function(){return this.needsUpdate&&(this.updateDataArray(),this.updateCoords()),this},updateRenderer:function(){return this.needsUpdate=!1,this},projectCoords:function(a,b){return __TURBOPACK__default__export__14.projectCoordsToParametric(a,this,2,b)}}),__TURBOPACK__default__export__.createParametricSurface3D=function(a,b,c){var d,e,f,g,h,i,j,k,l=b[0],m=null,n=null;return 3===b.length?(m=b[1],n=b[2],d=null,e=null,f=null,g=null):4===b.length?(d=b[1],h=b[2],i=b[3],e=null,f=null,g=null):(e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],d=null),j=__TURBOPACK__default__export__3.copyAttributes(c,a.options,"surface3d"),j=(k=new __TURBOPACK__default__export__.Surface3D(l,d,e,f,g,h,i,j)).setAttr2D(j),k.element2D=l.create("curve",[[],[]],j),k.element2D.view=l,null!==m&&(k.addTransform(m,n),k.addParents(m)),k.element2D.updateDataArray=function(){var a=k.updateDataArray2D();this.dataX=a.X,this.dataY=a.Y},k.addChild(k.element2D),k.inherits.push(k.element2D),k.element2D.setParents(k),k.element2D.prepareUpdate().update(),a.isSuspendedUpdate||k.element2D.updateVisibility().updateRenderer(),k},__TURBOPACK__default__export__.registerElement("parametricsurface3d",__TURBOPACK__default__export__.createParametricSurface3D),__TURBOPACK__default__export__.createFunctiongraph3D=function(a,b,c){var d,e=b[0],f=function(a,b){return a},g=function(a,b){return b},h=__TURBOPACK__default__export__3.createFunction(b[1],a,"x, y"),i=b[2],j=b[3];return(d=e.create("parametricsurface3d",[f,g,h,i,j],c)).elType="functiongraph3d",d},__TURBOPACK__default__export__.registerElement("functiongraph3d",__TURBOPACK__default__export__.createFunctiongraph3D),__TURBOPACK__default__export__.Parse3D={STL:function(a){var b,c,d,e,f,g,h,i,j,k=[],l=[],m=[];for(b=0,e=(g=a.split("\n")).length;b<e;b++)if(0===(f=g[b].trim()).indexOf("solid"))i=-1,l=[],m=[];else if(0===f.indexOf("endsolid"))k.push([l.slice(),m.slice()]);else if(0===f.indexOf("facet"))i++,m.push([]);else if(0===f.indexOf("outer loop")||0===f.indexOf("endloop"))continue;else if(0===f.indexOf("vertex")){for(c=0,h=f.split(" ").slice(1).map(a=>parseFloat(a)),j=!1;c<l.length;c++)if(__TURBOPACK__default__export__.Math.Geometry.distance(l[c],h,3)<__TURBOPACK__default__export__.Math.eps){j=!0,d=c;break}!1===j&&(d=l.length,l.push(h)),m[i].push(d)}return k}};let __TURBOPACK__default__export__63=__TURBOPACK__default__export__.Parse3D,size=.75,color="#000";__TURBOPACK__default__export__.themes.mono_thin={board:{showInfobox:!1,showCopyright:!0,defaultAxes:{x:{ticks:{minorTicks:0,majorHeight:10,majorTickEndings:[1,0]}},y:{ticks:{minorTicks:0,majorHeight:10,majorTickEndings:[0,1]}}}},navbar:{strokeColor:"#bbb",fillColor:"none"},elements:{strokeColor:color,highlightStrokeColor:color,fillColor:"none",highlightFillColor:"none",strokeOpacity:.6,highlightStrokeOpacity:1},angle:{strokeColor:color,fillColor:"#aaaaaa55",fillOpacity:.3,highlightFillColor:"#aaaaaa33",highlightFillOpacity:.3,label:{strokeColor:color}},arc:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size},axis:{},boxplot:{strokeWidth:size,strokeColor:color,fillColor:color,fillOpacity:.2,highlightStrokeWidth:size,highlightStrokeColor:color,highlightFillColor:color,highlightFillOpacity:.1},circle:{strokeWidth:size,highlightStrokeWidth:1.5*size,strokeColor:color,highlightFillColor:"none",highlightStrokeColor:color,center:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},point2:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color}},circumcircle:{strokeWidth:size,highlightStrokeWidth:1.5*size,strokeColor:color,highlightFillColor:"none",highlightStrokeColor:color,center:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color}},circumcirclearc:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size},circumcirclesector:{strokeColor:color,fillColor:"#aaaaaa55",fillOpacity:.3,highlightFillColor:"#aaaaaa33",highlightFillOpacity:.3},comb:{strokeColor:color,strokeWidth:size},conic:{strokeWidth:size,highlightStrokeWidth:1.5*size,strokeColor:color,highlightStrokeColor:color,fillColor:"none",highlightFillColor:"none"},curve:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size},grid:{strokeWidth:size},hatch:{strokeColor:color,strokeWidth:size},incircle:{strokeWidth:size,highlightStrokeWidth:1.5*size,strokeColor:color,highlightFillColor:"none",highlightStrokeColor:color,center:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color}},inequality:{fillColor:"#aaaaaa55",fillOpacity:.2},integral:{fillColor:"#aaaaaa55",highlightFillColor:"#aaaaa33",fillOpacity:.3,highlightFillOpacity:.3,curveLeft:{color:color},baseLeft:{color:color},curveRight:{color:color},baseRight:{color:color}},label:{strokeColor:color},line:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size,point1:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},point2:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color}},normal:{strokeColor:color},parallel:{strokeColor:color},perpendicular:{strokeColor:color},perpendicularsegment:{strokeColor:color},point:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},polygon:{fillColor:"#aaaaaa55",highlightFillColor:"#aaaaaa33",fillOpacity:.3,highlightFillOpacity:.3,vertices:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},borders:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size}},sector:{strokeColor:color,fillColor:"#aaaaaa55",fillOpacity:.3,highlightFillColor:"#aaaaaa33",highlightFillOpacity:.3},semicircle:{center:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color}},slider:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color,baseline:{strokeWidth:size,strokeColor:color,highlightStrokeColor:color},label:{strokeColor:color},highline:{strokeWidth:3*size,name:"",strokeColor:color,highlightStrokeColor:color},ticks:{strokeColor:color}},slopefield:{strokeWidth:.75*size,highlightStrokeWidth:size,highlightStrokeColor:color,highlightStrokeOpacity:.8},tapemeasure:{strokeColor:color,strokeWidth:size,highlightStrokeColor:color,highlightStrokeWidth:size,point1:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},point2:{size:size,fillColor:color,strokeColor:color,highlightStrokeWidth:4*size,highlightFillColor:color,highlightStrokeColor:color},ticks:{strokeWidth:size}},text:{strokeColor:color},tracecurve:{strokeColor:color},turtle:{strokeWidth:size,strokeColor:color,arrow:{strokeWidth:2*size,strokeColor:"#aaaaaa55"}},vectorfield:{strokeWidth:.75*size,highlightStrokeWidth:size,highlightStrokeColor:color,highlightStrokeOpacity:.8}};let __TURBOPACK__default__export__64=__TURBOPACK__default__export__,COORDS_BY_SCREEN=__TURBOPACK__default__export__.COORDS_BY_SCREEN,COORDS_BY_USER=__TURBOPACK__default__export__.COORDS_BY_USER,Dump=__TURBOPACK__default__export__.Dump,Expect=__TURBOPACK__default__export__.Expect,JSXGraph=__TURBOPACK__default__export__.JSXGraph,Mat=__TURBOPACK__default__export__.Math,Options=__TURBOPACK__default__export__.Options,boards=__TURBOPACK__default__export__.boards,elements=__TURBOPACK__default__export__.elements,palette=__TURBOPACK__default__export__.palette,paletteWong=__TURBOPACK__default__export__.paletteWong,Board=__TURBOPACK__default__export__.Board,Chart=__TURBOPACK__default__export__.Chart,Circle=__TURBOPACK__default__export__.Circle,Complex=__TURBOPACK__default__export__.Complex,Composition=__TURBOPACK__default__export__.Composition,Coords=__TURBOPACK__default__export__.Coords,CoordsElement=__TURBOPACK__default__export__.CoordsElement,Curve=__TURBOPACK__default__export__.Curve,GeometryElement=__TURBOPACK__default__export__.GeometryElement,Group=__TURBOPACK__default__export__.Group,Image1=__TURBOPACK__default__export__.Image,JessieCode=__TURBOPACK__default__export__.JessieCode,Prefix=__TURBOPACK__default__export__.PrefixParser,Line=__TURBOPACK__default__export__.Line,Point=__TURBOPACK__default__export__.Point,Polygon=__TURBOPACK__default__export__.Polygon,Text=__TURBOPACK__default__export__.Text,Ticks=__TURBOPACK__default__export__.Ticks,Transformation=__TURBOPACK__default__export__.Transformation,Turtle=__TURBOPACK__default__export__.Turtle,View3D=__TURBOPACK__default__export__.View3D,LMS2rgb=__TURBOPACK__default__export__.LMS2rgb,addEvent=__TURBOPACK__default__export__.addEvent,autoDigits=__TURBOPACK__default__export__.autoDigits,autoHighlight=__TURBOPACK__default__export__.autoHighlight,bind=__TURBOPACK__default__export__.bind,capitalize=__TURBOPACK__default__export__.capitalize,clearVisPropOld=__TURBOPACK__default__export__.clearVisPropOld,clone=__TURBOPACK__default__export__.clone,cloneAndCopy=__TURBOPACK__default__export__.cloneAndCopy,cmpArrays=__TURBOPACK__default__export__.cmpArrays,coordsArrayToMatrix=__TURBOPACK__default__export__.coordsArrayToMatrix,copyAttributes=__TURBOPACK__default__export__.copyAttributes,createEvalFunction=__TURBOPACK__default__export__.createEvalFunction,createFunction=__TURBOPACK__default__export__.createFunction,createHTMLSlider=__TURBOPACK__default__export__.createHTMLSlider,darkenColor=__TURBOPACK__default__export__.darkenColor,debug=__TURBOPACK__default__export__.debug,debugInt=__TURBOPACK__default__export__.debugInt,debugLine=__TURBOPACK__default__export__.debugLine,debugWST=__TURBOPACK__default__export__.debugWST,deepCopy=__TURBOPACK__default__export__.deepCopy,def=__TURBOPACK__default__export__.def,deprecated=__TURBOPACK__default__export__.deprecated,eliminateDuplicates=__TURBOPACK__default__export__.eliminateDuplicates,escapeHTML=__TURBOPACK__default__export__.escapeHTML,evalSlider=__TURBOPACK__default__export__.evalSlider,evaluate=__TURBOPACK__default__export__.evaluate,filterElements=__TURBOPACK__default__export__.filterElements,getBoardByContainerId=__TURBOPACK__default__export__.getBoardByContainerId,getCSSTransformMatrix=__TURBOPACK__default__export__.getCSSTransformMatrix,getCSSTransform=__TURBOPACK__default__export__.getCSSTransform,getDimensions=__TURBOPACK__default__export__.getDimensions,getOffset=__TURBOPACK__default__export__.getOffset,getPosition=__TURBOPACK__default__export__.getPosition,getProp=__TURBOPACK__default__export__.getProp,hex2rgb=__TURBOPACK__default__export__.hex2rgb,hsv2rgb=__TURBOPACK__default__export__.hsv2rgb,isAndroid=__TURBOPACK__default__export__.isAndroid,isApple=__TURBOPACK__default__export__.isApple,isArray=__TURBOPACK__default__export__.isArray,isDesktop=__TURBOPACK__default__export__.isDesktop,isInArray=__TURBOPACK__default__export__.isInArray,isInObject=__TURBOPACK__default__export__.isInObject,isMetroApp=__TURBOPACK__default__export__.isMetroApp,isMobile=__TURBOPACK__default__export__.isMobile,isMozilla=__TURBOPACK__default__export__.isMozilla,isBoard=__TURBOPACK__default__export__.isBoard,isName=__TURBOPACK__default__export__.isName,isNode=__TURBOPACK__default__export__.isNode,isNumber=__TURBOPACK__default__export__.isNumber,isObject=__TURBOPACK__default__export__.isObject,isPoint=__TURBOPACK__default__export__.isPoint,isPoint3D=__TURBOPACK__default__export__.isPoint3D,isPointType=__TURBOPACK__default__export__.isPointType,isPointType3D=__TURBOPACK__default__export__.isPointType3D,isString=__TURBOPACK__default__export__.isString,isTouchDevice=__TURBOPACK__default__export__.isTouchDevice,isTransformationOrArray=__TURBOPACK__default__export__.isTransformationOrArray,isWebWorker=__TURBOPACK__default__export__.isWebWorker,isWebkitAndroid=__TURBOPACK__default__export__.isWebkitAndroid,isWebkitApple=__TURBOPACK__default__export__.isWebkitApple,keys=__TURBOPACK__default__export__.keys,lightenColor=__TURBOPACK__default__export__.lightenColor,merge=__TURBOPACK__default__export__.merge,normalizePointFace=__TURBOPACK__default__export__.normalizePointFace,providePoints=__TURBOPACK__default__export__.providePoints,registerElement=__TURBOPACK__default__export__.registerElement,registerReader=__TURBOPACK__default__export__.registerReader,removeAllEvents=__TURBOPACK__default__export__.removeAllEvents,removeElementFromArray=__TURBOPACK__default__export__.removeElementFromArray,removeEvent=__TURBOPACK__default__export__.removeEvent,rgb2LMS=__TURBOPACK__default__export__.rgb2LMS,rgb2bw=__TURBOPACK__default__export__.rgb2bw,rgb2cb=__TURBOPACK__default__export__.rgb2cb,rgb2css=__TURBOPACK__default__export__.rgb2css,rgb2hex=__TURBOPACK__default__export__.rgb2hex,rgb2hsv=__TURBOPACK__default__export__.rgb2hsv,rgbParser=__TURBOPACK__default__export__.rgbParser,rgb2rgbo=__TURBOPACK__default__export__.rgba2rgbo,rgb2rgba=__TURBOPACK__default__export__.rgbo2rgba,sanitizeHTML=__TURBOPACK__default__export__.sanitizeHTML,shortcut=__TURBOPACK__default__export__.shortcut,strBool=__TURBOPACK__default__export__.str2Bool,supportsCanvas=__TURBOPACK__default__export__.supportsCanvas,supportsPointerEvents=__TURBOPACK__default__export__.supportsPointerEvents,supportsSVG=__TURBOPACK__default__export__.supportsSVG,supportsVML=__TURBOPACK__default__export__.supportsVML,swap=__TURBOPACK__default__export__.swap,timeChunk=__TURBOPACK__default__export__.timedChunk,toFixed=__TURBOPACK__default__export__.toFixed,toFullscreen=__TURBOPACK__default__export__.toFullscreen,toJSON=__TURBOPACK__default__export__.toJSON,trim=__TURBOPACK__default__export__.trim,trimNumber=__TURBOPACK__default__export__.trimNumber,truncate=__TURBOPACK__default__export__.truncate,unescapeHTML=__TURBOPACK__default__export__.unescapeHTML,uniqueArray=__TURBOPACK__default__export__.uniqueArray,useBlackWhiteOptions=__TURBOPACK__default__export__.useBlackWhiteOptions,useStandardOptions=__TURBOPACK__default__export__.useStandardOptions,warn=__TURBOPACK__default__export__.warn;__TURBOPACK__default__export__4.isBrowser?window.JXG=__TURBOPACK__default__export__:__TURBOPACK__default__export__4.isWebWorker()&&(self.JXG=__TURBOPACK__default__export__);let __TURBOPACK__default__export__65=__TURBOPACK__default__export__;__turbopack_context__.s(["Save",()=>Save],11087);var __TURBOPACK__imported__module__67653__=__turbopack_context__.i(67653);let __iconNode=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Save=(0,__TURBOPACK__imported__module__67653__.default)("save",__iconNode);__turbopack_context__.s(["Trash2",()=>Trash2],17957);var __TURBOPACK__imported__module__67653__1=__TURBOPACK__imported__module__67653__;let __iconNode1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=(0,__TURBOPACK__imported__module__67653__1.default)("trash-2",__iconNode1);__turbopack_context__.s(["Circle",()=>Circle1],14425);var __TURBOPACK__imported__module__67653__2=__TURBOPACK__imported__module__67653__;let __iconNode2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Circle1=(0,__TURBOPACK__imported__module__67653__2.default)("circle",__iconNode2);__turbopack_context__.s(["Pencil",()=>Pencil],21971);var __TURBOPACK__imported__module__67653__3=__TURBOPACK__imported__module__67653__;let __iconNode3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pencil=(0,__TURBOPACK__imported__module__67653__3.default)("pencil",__iconNode3);__turbopack_context__.s(["RotateCcw",()=>RotateCcw],21797);var __TURBOPACK__imported__module__67653__4=__TURBOPACK__imported__module__67653__;let __iconNode4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=(0,__TURBOPACK__imported__module__67653__4.default)("rotate-ccw",__iconNode4);__turbopack_context__.s(["Eraser",()=>Eraser],92919);var __TURBOPACK__imported__module__67653__5=__TURBOPACK__imported__module__67653__;let __iconNode5=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Eraser=(0,__TURBOPACK__imported__module__67653__5.default)("eraser",__iconNode5);__turbopack_context__.s(["Ruler",()=>Ruler],64803);var __TURBOPACK__imported__module__67653__6=__TURBOPACK__imported__module__67653__;let __iconNode6=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Ruler=(0,__TURBOPACK__imported__module__67653__6.default)("ruler",__iconNode6);__turbopack_context__.s(["Triangle",()=>Triangle],3989);var __TURBOPACK__imported__module__67653__7=__TURBOPACK__imported__module__67653__;let __iconNode7=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],Triangle=(0,__TURBOPACK__imported__module__67653__7.default)("triangle",__iconNode7);__turbopack_context__.s(["Gauge",()=>Gauge],79368);var __TURBOPACK__imported__module__67653__8=__TURBOPACK__imported__module__67653__;let __iconNode8=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Gauge=(0,__TURBOPACK__imported__module__67653__8.default)("gauge",__iconNode8);__turbopack_context__.s(["default",()=>DraggableRuler],94825);var __TURBOPACK__imported__module__84787__=__turbopack_context__.i(84787),__TURBOPACK__imported__module__40044__=__turbopack_context__.i(40044),__TURBOPACK__imported__module__40044__1=__TURBOPACK__imported__module__40044__;function useBoardScale(a){return(0,__TURBOPACK__imported__module__40044__1.useCallback)(()=>{let b=a.current?.closest(".jxgbox");if(!b)return{pxPerUnitX:50,pxPerUnitY:50,uniformScale:50};let{width:c,height:d}=b.getBoundingClientRect(),e=Math.min(c/12,d/9);return{pxPerUnitX:e,pxPerUnitY:e,uniformScale:e,boardLeft:-1,boardTop:8,boardRight:11,boardBottom:-1,boardWidth:12,boardHeight:9}},[a])}function DraggableRuler({x:a,y:b,rotation:c,length:d,onPositionChange:e,isActive:f,onActivate:g,onUiBusyChange:h}){let[i,j]=(0,__TURBOPACK__imported__module__40044__.useState)(!1),[k,l]=(0,__TURBOPACK__imported__module__40044__.useState)(!1),[m,n]=(0,__TURBOPACK__imported__module__40044__.useState)(!1),[o,p]=(0,__TURBOPACK__imported__module__40044__.useState)(!1),[q,r]=(0,__TURBOPACK__imported__module__40044__.useState)({x:0,y:0}),[s,t]=(0,__TURBOPACK__imported__module__40044__.useState)({x:0,y:0,rotation:0,initialAngle:0}),[u,v]=(0,__TURBOPACK__imported__module__40044__.useState)({x:0,y:0,length:0}),w=(0,__TURBOPACK__imported__module__40044__.useRef)(null),{pxPerUnitX:x,pxPerUnitY:y}=useBoardScale(w)(),z=Math.min(x,y),A=(0,__TURBOPACK__imported__module__40044__.useMemo)(()=>{let a=-1,b=8,c=-1,d=12,e=9;return{boardToScreen:(b,f)=>{let g=w.current?.closest(".jxgbox"),h=g?.offsetWidth||800,i=g?.offsetHeight||500;return{x:(b-a)/d*h,y:i-(f-c)/e*i}},screenToBoard:(c,f)=>{let g=w.current?.closest(".jxgbox"),h=g?.offsetWidth||800;return{x:c/h*d+a,y:b-f/(g?.offsetHeight||500)*e}}}},[]),B=A.boardToScreen,C=A.screenToBoard,D=B(a,b),E=(a,b)=>({x:a,y:b}),F=a=>{a.preventDefault(),a.stopPropagation(),g(),h(!0);let b=a.target;if(b.classList.contains("rotation-handle")||b.closest(".rotation-handle")){l(!0);let b=D.x,d=D.y,e=Math.atan2(a.clientY-d,a.clientX-b)*(180/Math.PI);t({x:a.clientX,y:a.clientY,rotation:c,initialAngle:e})}else b.classList.contains("resize-handle")||b.closest(".resize-handle")?(n(!0),v({x:a.clientX,y:a.clientY,length:d})):(j(!0),r({x:a.clientX-D.x,y:a.clientY-D.y}))},G=a=>{a.preventDefault(),a.stopPropagation(),g(),h(!0);let b=a.touches[0];if(!b)return;let e=a.target;if(e.classList.contains("rotation-handle")||e.closest(".rotation-handle")){l(!0);let a=D.x,d=D.y,e=Math.atan2(b.clientY-d,b.clientX-a)*(180/Math.PI);t({x:b.clientX,y:b.clientY,rotation:c,initialAngle:e})}else e.classList.contains("resize-handle")||e.closest(".resize-handle")?(n(!0),v({x:b.clientX,y:b.clientY,length:d})):(j(!0),r({x:b.clientX-D.x,y:b.clientY-D.y}))},H=(0,__TURBOPACK__imported__module__40044__.useCallback)(f=>{if(i){let a=C(f.clientX-q.x,f.clientY-q.y),b=E(a.x,a.y);e(b.x,b.y,c,d)}else if(k){let c=D.x,g=D.y,h=Math.atan2(f.clientY-g,f.clientX-c)*(180/Math.PI)-s.initialAngle;for(;h>180;)h-=360;for(;h<-180;)h+=360;e(a,b,s.rotation+h,d)}else if(m){let d=f.clientX-u.x,g=f.clientY-u.y,h=c*Math.PI/180,i=(d*Math.cos(h)+g*Math.sin(h))/z;e(a,b,c,Math.max(2,Math.min(10,u.length+i)))}},[i,k,m,q,u,s,D,a,b,c,d,e,z,C]),I=(0,__TURBOPACK__imported__module__40044__.useCallback)(f=>{let g=f.touches[0];if(g){if(i){let a=C(g.clientX-q.x,g.clientY-q.y),b=E(a.x,a.y);e(b.x,b.y,c,d)}else if(k){let c=D.x,f=D.y,h=Math.atan2(g.clientY-f,g.clientX-c)*(180/Math.PI)-s.initialAngle;for(;h>180;)h-=360;for(;h<-180;)h+=360;e(a,b,s.rotation+h,d)}else if(m){let d=g.clientX-u.x,f=g.clientY-u.y,h=c*Math.PI/180,i=(d*Math.cos(h)+f*Math.sin(h))/z;e(a,b,c,Math.max(2,Math.min(10,u.length+i)))}}},[i,k,m,q,u,s,D,a,b,c,d,e,z,C]),J=(0,__TURBOPACK__imported__module__40044__.useCallback)(()=>{j(!1),l(!1),n(!1),h(!1)},[h]),K=(0,__TURBOPACK__imported__module__40044__.useCallback)(()=>{j(!1),l(!1),n(!1),h(!1)},[h]);return(0,__TURBOPACK__imported__module__40044__.useEffect)(()=>{if(i||k||m)return document.addEventListener("mousemove",H),document.addEventListener("mouseup",J),document.addEventListener("touchmove",I,{passive:!1}),document.addEventListener("touchend",K),()=>{document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",J),document.removeEventListener("touchmove",I,{passive:!1}),document.removeEventListener("touchend",K)}},[i,k,m,H,I,J,K]),(0,__TURBOPACK__imported__module__40044__.useEffect)(()=>{let a=w.current?.closest(".jxgbox");if(!a)return;let b=new ResizeObserver(()=>{r(a=>({...a}))});return b.observe(a),()=>b.disconnect()},[]),(0,__TURBOPACK__imported__module__84787__.jsx)("div",{ref:w,className:`absolute select-none group ${f?"z-50":"z-40"}`,style:{left:D.x,top:D.y,transform:`rotate(${c}deg)`,transformOrigin:"0 0"},onMouseDown:F,onTouchStart:G,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:(0,__TURBOPACK__imported__module__84787__.jsxs)("div",{className:"relative",style:{pointerEvents:"none"},children:[(0,__TURBOPACK__imported__module__84787__.jsxs)("svg",{width:d*z+100,height:40,className:"absolute",style:{left:-50,top:-10,pointerEvents:"auto"},children:[(0,__TURBOPACK__imported__module__84787__.jsxs)("defs",{children:[(0,__TURBOPACK__imported__module__84787__.jsxs)("linearGradient",{id:"rulerPlasticGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.6)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"15%",stopColor:"rgba(255,255,255,0.4)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"30%",stopColor:"rgba(255,255,255,0.2)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"50%",stopColor:"rgba(240,245,250,0.1)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"70%",stopColor:"rgba(200,210,220,0.15)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"85%",stopColor:"rgba(150,160,170,0.2)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"100%",stopColor:"rgba(100,110,120,0.25)"})]}),(0,__TURBOPACK__imported__module__84787__.jsxs)("linearGradient",{id:"rulerHighlightGradient",x1:"0%",y1:"0%",x2:"60%",y2:"40%",children:[(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.8)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"30%",stopColor:"rgba(255,255,255,0.4)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"60%",stopColor:"rgba(255,255,255,0.1)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"100%",stopColor:"rgba(255,255,255,0)"})]}),(0,__TURBOPACK__imported__module__84787__.jsxs)("linearGradient",{id:"rulerShadowGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"0%",stopColor:"rgba(0,0,0,0)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"50%",stopColor:"rgba(0,0,0,0.05)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("stop",{offset:"100%",stopColor:"rgba(0,0,0,0.15)"})]}),(0,__TURBOPACK__imported__module__84787__.jsxs)("filter",{id:"rulerSoftShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,__TURBOPACK__imported__module__84787__.jsx)("feDropShadow",{dx:"0",dy:"8",stdDeviation:"16",floodColor:"#000",floodOpacity:"0.3"}),(0,__TURBOPACK__imported__module__84787__.jsx)("feDropShadow",{dx:"0",dy:"4",stdDeviation:"8",floodColor:"#000",floodOpacity:"0.2"}),(0,__TURBOPACK__imported__module__84787__.jsx)("feDropShadow",{dx:"0",dy:"2",stdDeviation:"4",floodColor:"#000",floodOpacity:"0.1"})]}),(0,__TURBOPACK__imported__module__84787__.jsxs)("filter",{id:"rulerGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,__TURBOPACK__imported__module__84787__.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,__TURBOPACK__imported__module__84787__.jsxs)("feMerge",{children:[(0,__TURBOPACK__imported__module__84787__.jsx)("feMergeNode",{in:"coloredBlur"}),(0,__TURBOPACK__imported__module__84787__.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,__TURBOPACK__imported__module__84787__.jsxs)("g",{filter:f?"url(#rulerGlow)":"url(#rulerSoftShadow)",children:[(0,__TURBOPACK__imported__module__84787__.jsx)("rect",{x:50,y:10,width:d*z,height:20,fill:"rgba(240,245,250,0.25)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("rect",{x:50,y:10,width:d*z,height:20,fill:"url(#rulerShadowGradient)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("rect",{x:50,y:10,width:d*z,height:20,fill:"url(#rulerPlasticGradient)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("rect",{x:50,y:10,width:d*z,height:20,fill:"url(#rulerHighlightGradient)"}),(0,__TURBOPACK__imported__module__84787__.jsx)("rect",{x:50,y:10,width:d*z,height:20,fill:"none",stroke:"#000000",strokeWidth:"1.2"})]}),(()=>{let a=[],b=z,c=Math.floor(d);for(let d=0;d<=c;d++){let e=50+d*b,f=d%5==0?18:12;if(a.push((0,__TURBOPACK__imported__module__84787__.jsx)("rect",{x:e-.5,y:10,width:1,height:f,fill:"#000"},`cm-${d}`)),d<c)for(let c=1;c<10;c++){let f=e+b*c/10,g=5===c?8:5;a.push((0,__TURBOPACK__imported__module__84787__.jsx)("rect",{x:f-.25,y:10,width:.5,height:g,fill:"#000",opacity:"0.75"},`mm-${d}-${c}`))}}if(d%1!=0){let c=Math.floor(d),e=50+d*b;for(let e=1;e<=Math.floor((d-c)*10);e++){let d=50+(c+e/10)*b,f=5===e?8:5;a.push((0,__TURBOPACK__imported__module__84787__.jsx)("rect",{x:d-.25,y:10,width:.5,height:f,fill:"#000",opacity:"0.75"},`mm-final-${e}`))}a.push((0,__TURBOPACK__imported__module__84787__.jsx)("rect",{x:e-.5,y:10,width:1,height:12,fill:"#000"},"cm-final"))}return a})()]}),(()=>{let a=z,b=Math.floor(d),c=[];for(let d=1;d<=b;d++){let b=d*a,e=d%5==0;c.push((0,__TURBOPACK__imported__module__84787__.jsx)("div",{className:"absolute text-xs text-gray-800 font-mono",style:{left:b,top:-25,transform:"translateX(-50%)",fontWeight:e?"bold":"normal",fontSize:"11px",fontFamily:"Arial, sans-serif",pointerEvents:"none"},children:d},`ruler-number-${d}`))}if(d%1!=0){let b=d*a;c.push((0,__TURBOPACK__imported__module__84787__.jsx)("div",{className:"absolute text-xs text-gray-800 font-mono",style:{left:b,top:-25,transform:"translateX(-50%)",fontWeight:"normal",fontSize:"11px",fontFamily:"Arial, sans-serif",pointerEvents:"none"},children:d.toFixed(1)},"ruler-number-final"))}return c})(),(0,__TURBOPACK__imported__module__84787__.jsx)("div",{className:"rotation-handle absolute w-6 h-6 bg-white rounded-full cursor-grab hover:scale-110 border-2 border-emerald-500 shadow-md flex items-center justify-center transition-opacity duration-200",style:{pointerEvents:"auto",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",opacity:+!!o,left:d*z-2,top:2,transform:"translate(-50%, -50%)",zIndex:20},title:"OtoÄit pravÃ­tko",children:(0,__TURBOPACK__imported__module__84787__.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"})}),(0,__TURBOPACK__imported__module__84787__.jsx)("div",{className:"resize-handle absolute w-6 h-6 bg-white rounded-full cursor-grab hover:scale-110 border-2 border-amber-500 shadow-md flex items-center justify-center transition-opacity duration-200",style:{pointerEvents:"auto",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",opacity:+!!o,left:d*z-2,top:14,transform:"translate(-50%, -50%)",zIndex:15},title:"ZmÄnit dÃ©lku",children:(0,__TURBOPACK__imported__module__84787__.jsx)("div",{className:"w-2 h-2 bg-amber-500 rounded-full"})})]})})}__turbopack_context__.s(["default",()=>DraggableTriangle],17740);var __TURBOPACK__imported__module__84787__1=__TURBOPACK__imported__module__84787__,__TURBOPACK__imported__module__40044__2=__TURBOPACK__imported__module__40044__;function DraggableTriangle({x:a,y:b,rotation:c,size:d,type:e,onPositionChange:f,isActive:g,onActivate:h,onUiBusyChange:i}){let[j,k]=(0,__TURBOPACK__imported__module__40044__2.useState)(!1),[l,m]=(0,__TURBOPACK__imported__module__40044__2.useState)(!1),[n,o]=(0,__TURBOPACK__imported__module__40044__2.useState)(!1),[p,q]=(0,__TURBOPACK__imported__module__40044__2.useState)(!1),[r,s]=(0,__TURBOPACK__imported__module__40044__2.useState)({x:0,y:0}),[t,u]=(0,__TURBOPACK__imported__module__40044__2.useState)({x:0,y:0,rotation:0,initialAngle:0}),[v,w]=(0,__TURBOPACK__imported__module__40044__2.useState)({x:0,y:0,size:0}),x=(0,__TURBOPACK__imported__module__40044__2.useRef)(null),{pxPerUnitX:y,pxPerUnitY:z}=useBoardScale(x)(),A=Math.min(y,z),B=(0,__TURBOPACK__imported__module__40044__2.useMemo)(()=>{let a=-1,b=8,c=-1,d=12,e=9;return{boardToScreen:(b,f)=>{let g=x.current?.closest(".jxgbox"),h=g?.offsetWidth||800,i=g?.offsetHeight||500;return{x:(b-a)/d*h,y:i-(f-c)/e*i}},screenToBoard:(c,f)=>{let g=x.current?.closest(".jxgbox"),h=g?.offsetWidth||800;return{x:c/h*d+a,y:b-f/(g?.offsetHeight||500)*e}}}},[]),C=B.boardToScreen,D=B.screenToBoard,E=C(a,b),F=(a,b)=>({x:a,y:b}),G=e=>{e.preventDefault(),e.stopPropagation(),h(),i(!0);let f=e.target;if(f.classList.contains("rotation-handle")||f.closest(".rotation-handle")){m(!0);let d=C(a,b),f=d.x,g=d.y,h=Math.atan2(e.clientY-g,e.clientX-f)*(180/Math.PI);u({x:e.clientX,y:e.clientY,rotation:c,initialAngle:h})}else f.classList.contains("resize-handle")||f.closest(".resize-handle")?(o(!0),w({x:e.clientX,y:e.clientY,size:d})):(f.classList.contains("drag-handle")||f.closest(".drag-handle"),k(!0),s({x:e.clientX-E.x,y:e.clientY-E.y}))},H=e=>{e.preventDefault(),e.stopPropagation(),h(),i(!0);let f=e.touches[0];if(!f)return;let g=e.target;if(g.classList.contains("rotation-handle")||g.closest(".rotation-handle")){m(!0);let d=C(a,b),e=d.x,g=d.y,h=Math.atan2(f.clientY-g,f.clientX-e)*(180/Math.PI);u({x:f.clientX,y:f.clientY,rotation:c,initialAngle:h})}else g.classList.contains("resize-handle")||g.closest(".resize-handle")?(o(!0),w({x:f.clientX,y:f.clientY,size:d})):(g.classList.contains("drag-handle")||g.closest(".drag-handle"),k(!0),s({x:f.clientX-E.x,y:f.clientY-E.y}))},I=(0,__TURBOPACK__imported__module__40044__2.useCallback)(g=>{if(j){let a=D(g.clientX-r.x,g.clientY-r.y),b=F(a.x,a.y);f(b.x,b.y,c,d)}else if(l){let c=C(a,b),e=c.x,h=c.y,i=Math.atan2(g.clientY-h,g.clientX-e)*(180/Math.PI)-t.initialAngle;for(;i>180;)i-=360;for(;i<-180;)i+=360;f(a,b,t.rotation+i,d)}else if(n){let d=g.clientX-v.x,h=g.clientY-v.y,i=c*Math.PI/180,j=(d*Math.cos(i)+h*Math.sin(i))/20,k=v.size+j,l="45-45-90"===e?k:k*Math.sqrt(3)/2,m=k;l<3?m="45-45-90"===e?3:3/(Math.sqrt(3)/2):l>10&&(m="45-45-90"===e?10:10/(Math.sqrt(3)/2)),f(a,b,c,m)}},[j,l,n,r,v,t,a,b,c,d,e,f,D,C]),J=(0,__TURBOPACK__imported__module__40044__2.useCallback)(g=>{let h=g.touches[0];if(h){if(j){let a=D(h.clientX-r.x,h.clientY-r.y),b=F(a.x,a.y);f(b.x,b.y,c,d)}else if(l){let c=C(a,b),e=c.x,g=c.y,i=Math.atan2(h.clientY-g,h.clientX-e)*(180/Math.PI)-t.initialAngle;for(;i>180;)i-=360;for(;i<-180;)i+=360;f(a,b,t.rotation+i,d)}else if(n){let d=h.clientX-v.x,g=h.clientY-v.y,i=c*Math.PI/180,j=(d*Math.cos(i)+g*Math.sin(i))/20,k=v.size+j,l="45-45-90"===e?k:k*Math.sqrt(3)/2,m=k;l<3?m="45-45-90"===e?3:3/(Math.sqrt(3)/2):l>10&&(m="45-45-90"===e?10:10/(Math.sqrt(3)/2)),f(a,b,c,m)}}},[j,l,n,r,v,t,a,b,c,d,e,f,D,C]),K=(0,__TURBOPACK__imported__module__40044__2.useCallback)(()=>{k(!1),m(!1),o(!1),i(!1)},[i]),L=(0,__TURBOPACK__imported__module__40044__2.useCallback)(()=>{k(!1),m(!1),o(!1),i(!1)},[i]);(0,__TURBOPACK__imported__module__40044__2.useEffect)(()=>{if(j||l||n)return document.addEventListener("mousemove",I),document.addEventListener("mouseup",K),document.addEventListener("touchmove",J,{passive:!1}),document.addEventListener("touchend",L),()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",K),document.removeEventListener("touchmove",J,{passive:!1}),document.removeEventListener("touchend",L)}},[j,l,n,I,J,K,L]),(0,__TURBOPACK__imported__module__40044__2.useEffect)(()=>{let a=x.current?.closest(".jxgbox");if(!a)return;let b=new ResizeObserver(()=>{s(a=>({...a}))});return b.observe(a),()=>b.disconnect()},[]);let M=()=>{let a=A,b=Math.min(16,Math.floor(d)),c=Math.min(16,Math.floor("45-45-90"===e?d:d*Math.sqrt(3)/2)),f=[];for(let c=0;c<=b;c++){let d=c*a,e=c%5==0?18:12;if(f.push((0,__TURBOPACK__imported__module__84787__1.jsx)("rect",{x:d-.75,y:0,width:1.5,height:e,fill:"#000"},`h-cm-${c}`)),c<b)for(let b=1;b<10;b++){let e=d+a*b/10,g=5===b?8:5;f.push((0,__TURBOPACK__imported__module__84787__1.jsx)("rect",{x:e-.5,y:0,width:1,height:g,fill:"#000",opacity:"0.75"},`h-mm-${c}-${b}`))}}if(d%1!=0){let b=Math.floor(d),c=d*a;for(let c=1;c<=Math.floor((d-b)*10);c++){let d=(b+c/10)*a,e=5===c?8:5;f.push((0,__TURBOPACK__imported__module__84787__1.jsx)("rect",{x:d-.5,y:0,width:1,height:e,fill:"#000",opacity:"0.75"},`h-mm-final-${c}`))}f.push((0,__TURBOPACK__imported__module__84787__1.jsx)("rect",{x:c-.75,y:0,width:1.5,height:12,fill:"#000"},"h-cm-final"))}let g=[];for(let b=0;b<=c;b++){let d=b*a,e=b%5==0?18:12;if(g.push((0,__TURBOPACK__imported__module__84787__1.jsx)("rect",{x:-e,y:d-.75,width:e,height:1.5,fill:"#000"},`v-cm-${b}`)),b<c)for(let c=1;c<10;c++){let e=d+a*c/10,f=5===c?8:5;g.push((0,__TURBOPACK__imported__module__84787__1.jsx)("rect",{x:-f,y:e-.5,width:f,height:1,fill:"#000",opacity:"0.75"},`v-mm-${b}-${c}`))}}let h="45-45-90"===e?d:d*Math.sqrt(3)/2;if(h%1!=0){let b=Math.floor(h),c=h*a;for(let c=1;c<=Math.floor((h-b)*10);c++){let d=(b+c/10)*a,e=5===c?8:5;g.push((0,__TURBOPACK__imported__module__84787__1.jsx)("rect",{x:-e,y:d-.5,width:e,height:1,fill:"#000",opacity:"0.75"},`v-mm-final-${c}`))}g.push((0,__TURBOPACK__imported__module__84787__1.jsx)("rect",{x:-12,y:c-.75,width:12,height:1.5,fill:"#000"},"v-cm-final"))}return(0,__TURBOPACK__imported__module__84787__1.jsxs)("g",{children:[(0,__TURBOPACK__imported__module__84787__1.jsx)("text",{x:4,y:-8,fontSize:"11",fontFamily:"Arial, sans-serif",fontWeight:"bold",fill:"#000",children:"0"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("g",{transform:`translate(${N[0]?.x||0},${N[0]?.y||0})`,children:f}),(0,__TURBOPACK__imported__module__84787__1.jsx)("g",{transform:`translate(${N[0]?.x||0},${N[0]?.y||0})`,children:g})]})},N=(()=>{let a=d*A;if("45-45-90"===e)return[{x:0,y:0},{x:a,y:0},{x:0,y:a}];{let b=a*Math.sqrt(3)/2;return[{x:0,y:0},{x:a,y:0},{x:0,y:b}]}})(),O=`M ${N[0]?.x||0} ${N[0]?.y||0} L ${N[1]?.x||0} ${N[1]?.y||0} L ${N[2]?.x||0} ${N[2]?.y||0} Z`,P=d*A,Q="45-45-90"===e?P:P*Math.sqrt(3)/2,R=P/2,S=Q/2,T=d*A,U="45-45-90"===e?T:T*Math.sqrt(3)/2,V={x:N[0]?.x||0,y:N[0]?.y||0},W=U/T,X=Math.sqrt(1+W*W),Y=1/X,Z=W/X,$=(a,b)=>{let c=a-V.x,d=b-V.y,e=c*Y+d*Z,f=2*e*Y-c,g=2*e*Z-d;return{x:V.x+f,y:V.y+g}},_=-Z,aa=Y,ab=T,ac=-U,ad=Math.hypot(ab,ac)||1,ae=ab/ad,af=ac/ad,ag=.5*Math.hypot(T,U),ah=.7*ag,ai=.55*ag,aj=Math.max(-11,-(.12*T)),ak=V.x+Y*ai+_*aj,al=V.y+Z*ai+aa*aj,am={x:ak-ah/2*Y,y:al-ah/2*Z},an={x:ak+ah/2*Y,y:al+ah/2*Z},ao=(am.y-an.y)/(af||1e-6),ap={x:an.x+ao*ae,y:an.y+ao*af},aq=`M ${am.x} ${am.y} L ${an.x} ${an.y} L ${ap.x} ${ap.y} Z`,ar=$(am.x,am.y),as=$(an.x,an.y),at=$(ap.x,ap.y),au=`M ${ar.x} ${ar.y} L ${as.x} ${as.y} L ${at.x} ${at.y} Z`,av={x:((N[1]?.x||0)+(N[2]?.x||0))/2,y:((N[1]?.y||0)+(N[2]?.y||0))/2};return(0,__TURBOPACK__imported__module__84787__1.jsx)("div",{ref:x,className:`absolute select-none group ${g?"z-50":"z-40"}`,style:{left:E.x,top:E.y,transform:`rotate(${c}deg)`,transformOrigin:"0 0",backgroundColor:p?"rgba(255, 0, 0, 0.1)":"transparent"},onMouseDown:G,onTouchStart:H,onMouseEnter:()=>q(!0),onMouseLeave:()=>q(!1),children:(0,__TURBOPACK__imported__module__84787__1.jsxs)("div",{className:"relative",style:{pointerEvents:"auto"},children:[(0,__TURBOPACK__imported__module__84787__1.jsxs)("svg",{width:d*A+100,height:"45-45-90"===e?d*A+100:d*A*Math.sqrt(3)/2+100,className:"absolute",style:{left:-50,top:-50,pointerEvents:"auto"},children:[(0,__TURBOPACK__imported__module__84787__1.jsxs)("defs",{children:[(0,__TURBOPACK__imported__module__84787__1.jsxs)("linearGradient",{id:`plasticGradient-${e}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.6)"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"15%",stopColor:"rgba(255,255,255,0.4)"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"30%",stopColor:"rgba(255,255,255,0.2)"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"50%",stopColor:"rgba(240,245,250,0.1)"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"70%",stopColor:"rgba(200,210,220,0.15)"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"85%",stopColor:"rgba(150,160,170,0.2)"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"100%",stopColor:"rgba(100,110,120,0.25)"})]}),(0,__TURBOPACK__imported__module__84787__1.jsxs)("linearGradient",{id:`highlightGradient-${e}`,x1:"0%",y1:"0%",x2:"60%",y2:"40%",children:[(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"0%",stopColor:"rgba(255,255,255,0.8)"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"30%",stopColor:"rgba(255,255,255,0.4)"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"60%",stopColor:"rgba(255,255,255,0.1)"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"100%",stopColor:"rgba(255,255,255,0)"})]}),(0,__TURBOPACK__imported__module__84787__1.jsxs)("linearGradient",{id:`shadowGradient-${e}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"0%",stopColor:"rgba(0,0,0,0)"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"50%",stopColor:"rgba(0,0,0,0.05)"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("stop",{offset:"100%",stopColor:"rgba(0,0,0,0.15)"})]}),(0,__TURBOPACK__imported__module__84787__1.jsxs)("filter",{id:`softShadow-${e}`,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,__TURBOPACK__imported__module__84787__1.jsx)("feDropShadow",{dx:"0",dy:"8",stdDeviation:"16",floodColor:"#000",floodOpacity:"0.3"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("feDropShadow",{dx:"0",dy:"4",stdDeviation:"8",floodColor:"#000",floodOpacity:"0.2"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("feDropShadow",{dx:"0",dy:"2",stdDeviation:"4",floodColor:"#000",floodOpacity:"0.1"})]}),(0,__TURBOPACK__imported__module__84787__1.jsxs)("filter",{id:`innerShadow-${e}`,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,__TURBOPACK__imported__module__84787__1.jsx)("feFlood",{floodColor:"#000",floodOpacity:"0.2",result:"flood"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("feComposite",{in:"flood",in2:"SourceGraphic",operator:"in",result:"composite"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("feGaussianBlur",{in:"composite",stdDeviation:"3",result:"blur"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("feOffset",{in:"blur",dx:"2",dy:"2",result:"offset"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("feComposite",{in:"offset",in2:"SourceGraphic",operator:"over"})]}),(0,__TURBOPACK__imported__module__84787__1.jsxs)("filter",{id:`deepInnerShadow-${e}`,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,__TURBOPACK__imported__module__84787__1.jsx)("feFlood",{floodColor:"#000",floodOpacity:"0.15",result:"flood"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("feComposite",{in:"flood",in2:"SourceGraphic",operator:"in",result:"composite"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("feGaussianBlur",{in:"composite",stdDeviation:"5",result:"blur"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("feOffset",{in:"blur",dx:"3",dy:"3",result:"offset"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("feComposite",{in:"offset",in2:"SourceGraphic",operator:"over"})]}),(0,__TURBOPACK__imported__module__84787__1.jsxs)("filter",{id:`glow-${e}`,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,__TURBOPACK__imported__module__84787__1.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,__TURBOPACK__imported__module__84787__1.jsxs)("feMerge",{children:[(0,__TURBOPACK__imported__module__84787__1.jsx)("feMergeNode",{in:"coloredBlur"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),(0,__TURBOPACK__imported__module__84787__1.jsxs)("mask",{id:`triangle-mask-${e}`,children:[(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:O,fill:"white"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:aq,fill:"black"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:au,fill:"black"})]})]}),(0,__TURBOPACK__imported__module__84787__1.jsxs)("g",{filter:g?`url(#glow-${e})`:`url(#softShadow-${e})`,children:[(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:O,fill:"rgba(240,245,250,0.25)",mask:`url(#triangle-mask-${e})`}),(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:O,fill:`url(#shadowGradient-${e})`,mask:`url(#triangle-mask-${e})`}),(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:O,fill:`url(#plasticGradient-${e})`,mask:`url(#triangle-mask-${e})`}),(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:O,fill:`url(#highlightGradient-${e})`,mask:`url(#triangle-mask-${e})`}),(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:O,fill:"none",stroke:"#000000",strokeWidth:"2.5"})]}),(0,__TURBOPACK__imported__module__84787__1.jsx)("line",{x1:V.x,y1:V.y,x2:av.x,y2:av.y,stroke:"#000000",strokeWidth:"1.2",strokeDasharray:"4 3"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:`M ${(N[0]?.x||0)+6} ${N[0]?.y||0} L ${(N[0]?.x||0)+6} ${(N[0]?.y||0)+6} L ${N[0]?.x||0} ${(N[0]?.y||0)+6}`,fill:"none",stroke:"#000000",strokeWidth:"1.2",strokeLinecap:"round"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("text",{x:(N[0]?.x||0)+10,y:(N[0]?.y||0)+3,fontSize:"8",fill:"#000000",fontFamily:"Arial, sans-serif",fontWeight:"bold",children:"90Â°"}),(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:aq,fill:"none",stroke:"#000000",strokeWidth:"1.2",filter:`url(#deepInnerShadow-${e})`}),(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:au,fill:"none",stroke:"#000000",strokeWidth:"1.2",filter:`url(#deepInnerShadow-${e})`}),(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:aq,fill:"none",stroke:"#000000",strokeWidth:"1.2",filter:`url(#innerShadow-${e})`}),(0,__TURBOPACK__imported__module__84787__1.jsx)("path",{d:au,fill:"none",stroke:"#000000",strokeWidth:"1.2",filter:`url(#innerShadow-${e})`}),M()]}),(()=>{let a=A,b=Math.min(16,Math.floor(d)),c=[];for(let d=1;d<=b;d++){let b=d*a,e=d%5==0;c.push((0,__TURBOPACK__imported__module__84787__1.jsx)("div",{className:"absolute text-xs text-gray-800 font-mono",style:{left:b-50,top:-65,transform:"translateX(-50%)",fontWeight:e?"bold":"normal",fontSize:"11px",fontFamily:"Arial, sans-serif",pointerEvents:"none"},children:d},`h-number-${d}`))}if(d%1!=0){let b=d*a;c.push((0,__TURBOPACK__imported__module__84787__1.jsx)("div",{className:"absolute text-xs text-gray-800 font-mono",style:{left:b-50,top:-65,transform:"translateX(-50%)",fontWeight:"normal",fontSize:"11px",fontFamily:"Arial, sans-serif",pointerEvents:"none"},children:d.toFixed(1)},"h-number-final"))}return c})(),(0,__TURBOPACK__imported__module__84787__1.jsx)("div",{className:"rotation-handle absolute w-6 h-6 bg-white rounded-full cursor-grab hover:scale-110 border-2 border-emerald-500 shadow-md flex items-center justify-center transition-opacity duration-200",style:{pointerEvents:"auto",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",opacity:+!!p,left:`${1.35*R-50-.2*P}px`,top:`${1.35*S-50-.2*Q}px`,transform:"translate(-50%, -50%)",zIndex:20},title:"OtoÄit trojÃºhelnÃ­k",children:(0,__TURBOPACK__imported__module__84787__1.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"})}),(0,__TURBOPACK__imported__module__84787__1.jsx)("div",{className:"resize-handle absolute w-6 h-6 bg-white rounded-full cursor-grab hover:scale-110 border-2 border-amber-500 shadow-md flex items-center justify-center transition-opacity duration-200",style:{pointerEvents:"auto",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",opacity:+!!p,left:`${.6*R-50+.2*P}px`,top:`${.6*S-50+.2*Q}px`,transform:"translate(-50%, -50%)",zIndex:15},title:"ZmÄnit velikost",children:(0,__TURBOPACK__imported__module__84787__1.jsx)("div",{className:"w-2 h-2 bg-amber-500 rounded-full"})})]})})}__turbopack_context__.s(["default",()=>DraggableProtractor],75772);var __TURBOPACK__imported__module__84787__2=__TURBOPACK__imported__module__84787__,__TURBOPACK__imported__module__40044__3=__TURBOPACK__imported__module__40044__;function DraggableProtractor({x:a,y:b,rotation:c,size:d,onPositionChange:e,isActive:f,onActivate:g,onUiBusyChange:h}){let[i,j]=(0,__TURBOPACK__imported__module__40044__3.useState)(!1),[k,l]=(0,__TURBOPACK__imported__module__40044__3.useState)(!1),[m,n]=(0,__TURBOPACK__imported__module__40044__3.useState)(!1),[o,p]=(0,__TURBOPACK__imported__module__40044__3.useState)(!1),[q,r]=(0,__TURBOPACK__imported__module__40044__3.useState)({x:0,y:0}),[s,t]=(0,__TURBOPACK__imported__module__40044__3.useState)({x:0,y:0,rotation:0}),[u,v]=(0,__TURBOPACK__imported__module__40044__3.useState)({x:0,y:0,size:0}),w=(0,__TURBOPACK__imported__module__40044__3.useRef)(null),{pxPerUnitX:x,pxPerUnitY:y}=useBoardScale(w)(),z=Math.min(x,y),A=(a,b)=>{let c=-1,d=8,e=12,f=9,g=w.current?.closest(".jxgbox"),h=g?.offsetWidth||800;return{x:a/h*e+c,y:d-b/(g?.offsetHeight||500)*f}},B=((a,b)=>{let c=-1,d=-1,e=12,f=9,g=w.current?.closest(".jxgbox"),h=g?.offsetWidth||800,i=g?.offsetHeight||500;return{x:(a-c)/e*h,y:i-(b-d)/f*i}})(a,b),C=(a,b)=>({x:a,y:b}),D=a=>{a.preventDefault(),a.stopPropagation(),g(),h(!0);let b=a.target;b.classList.contains("rotation-handle")?(l(!0),t({x:a.clientX,y:a.clientY,rotation:c})):b.classList.contains("resize-handle")?(n(!0),v({x:a.clientX,y:a.clientY,size:d})):(j(!0),r({x:a.clientX-B.x,y:a.clientY-B.y}))},E=a=>{a.preventDefault(),a.stopPropagation(),g(),h(!0);let b=a.touches[0];if(!b)return;let e=a.target;e.classList.contains("rotation-handle")?(l(!0),t({x:b.clientX,y:b.clientY,rotation:c})):e.classList.contains("resize-handle")?(n(!0),v({x:b.clientX,y:b.clientY,size:d})):(j(!0),r({x:b.clientX-B.x,y:b.clientY-B.y}))},F=(0,__TURBOPACK__imported__module__40044__3.useCallback)(f=>{if(i){let a=A(f.clientX-q.x,f.clientY-q.y),b=C(a.x,a.y);e(b.x,b.y,c,d)}else if(k){let c=B.x,g=B.y,h=f.clientX-c;e(a,b,5*Math.round((180*Math.atan2(f.clientY-g,h)/Math.PI+360)%360/5),d)}else if(m){let d=f.clientX-u.x,g=f.clientY-u.y,h=c*Math.PI/180,i=(d*Math.cos(h)+g*Math.sin(h))/20;e(a,b,c,Math.max(2,Math.min(6,u.size+i)))}},[i,k,m,q,u,B,a,b,c,d,e]),G=(0,__TURBOPACK__imported__module__40044__3.useCallback)(f=>{let g=f.touches[0];if(g){if(i){let a=A(g.clientX-q.x,g.clientY-q.y),b=C(a.x,a.y);e(b.x,b.y,c,d)}else if(k){let c=B.x,f=B.y,h=g.clientX-c;e(a,b,5*Math.round((180*Math.atan2(g.clientY-f,h)/Math.PI+360)%360/5),d)}else if(m){let d=g.clientX-u.x,f=g.clientY-u.y,h=c*Math.PI/180,i=(d*Math.cos(h)+f*Math.sin(h))/20;e(a,b,c,Math.max(2,Math.min(6,u.size+i)))}}},[i,k,m,q,u,B,a,b,c,d,e]),H=(0,__TURBOPACK__imported__module__40044__3.useCallback)(()=>{j(!1),l(!1),n(!1),h(!1)},[h]),I=(0,__TURBOPACK__imported__module__40044__3.useCallback)(()=>{j(!1),l(!1),n(!1),h(!1)},[h]);(0,__TURBOPACK__imported__module__40044__3.useEffect)(()=>{if(i||k||m)return document.addEventListener("mousemove",F),document.addEventListener("mouseup",H),document.addEventListener("touchmove",G,{passive:!1}),document.addEventListener("touchend",I),()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",H),document.removeEventListener("touchmove",G,{passive:!1}),document.removeEventListener("touchend",I)}},[i,k,m,F,G,H,I]),(0,__TURBOPACK__imported__module__40044__3.useEffect)(()=>{let a=w.current?.closest(".jxgbox");if(!a)return;let b=new ResizeObserver(()=>{r(a=>({...a}))});return b.observe(a),()=>b.disconnect()},[]);let J=d*z,K=d*z*1.2,L=d*z*1.1,M=J,N=Math.max(8,.075*M),O=M-N,P=__TURBOPACK__imported__module__40044__3.default.useMemo(()=>Math.random().toString(36).slice(2),[]),Q=a=>`M ${K-a} ${L} A ${a} ${a} 0 0 1 ${K+a} ${L}`,R=(a,b)=>`
      M ${K-a} ${L}
      A ${a} ${a} 0 0 1 ${K+a} ${L}
      L ${K+b} ${L}
      A ${b} ${b} 0 0 0 ${K-b} ${L}
      Z
    `,S=()=>{let a=[];for(let b=0;b<=180;b+=1){let c=b*Math.PI/180,d=b%10==0,e=b%5==0&&!d,f=b%1==0&&!d&&!e,g=0,h=.5;d?(g=M-O,h=2.5):e?(g=(M-O)*.7,h=1.5):f&&(g=(M-O)*.4,h=.8);let i=K+Math.cos(c)*(M-g),j=L-Math.sin(c)*(M-g),k=K+Math.cos(c)*M,l=L-Math.sin(c)*M;if(a.push((0,__TURBOPACK__imported__module__84787__2.jsx)("line",{x1:i,y1:j,x2:k,y2:l,stroke:"#374151",strokeWidth:h},`mark-${b}`)),d){let d=M+20,e=K+Math.cos(c)*d,f=L-Math.sin(c)*d;a.push((0,__TURBOPACK__imported__module__84787__2.jsxs)("text",{x:e,y:f,fontSize:"11",fill:"#1f2937",fontFamily:"Arial, sans-serif",fontWeight:"bold",textAnchor:"middle",dominantBaseline:"middle",children:[b,"Â°"]},`label-${b}`))}}return a};return(0,__TURBOPACK__imported__module__84787__2.jsx)("div",{ref:w,className:`absolute select-none group ${f?"z-50":"z-40"}`,style:{left:B.x,top:B.y,transform:`translate(-50%, -50%) rotate(${c}deg)`,transformOrigin:"50% 50%"},onMouseDown:D,onTouchStart:E,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:(0,__TURBOPACK__imported__module__84787__2.jsxs)("div",{className:"relative",style:{pointerEvents:"auto"},children:[(0,__TURBOPACK__imported__module__84787__2.jsxs)("svg",{width:d*z*2.6,height:d*z*2.4,className:"absolute",style:{left:-d*z*1.3,top:-d*z*1.2,pointerEvents:"auto"},viewBox:`0 0 ${d*z*2.6} ${d*z*1.4}`,children:[(0,__TURBOPACK__imported__module__84787__2.jsxs)("defs",{children:[(0,__TURBOPACK__imported__module__84787__2.jsx)("filter",{id:"protractorShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:(0,__TURBOPACK__imported__module__84787__2.jsx)("feDropShadow",{dx:"1",dy:"1",stdDeviation:"2",floodColor:"#000",floodOpacity:"0.15"})}),(0,__TURBOPACK__imported__module__84787__2.jsxs)("mask",{id:`innerArcMask-${P}`,children:[(0,__TURBOPACK__imported__module__84787__2.jsx)("rect",{width:"100%",height:"100%",fill:"white"}),(0,__TURBOPACK__imported__module__84787__2.jsx)("rect",{x:K-2*O,y:L-N-1,width:4*O,height:N+20,fill:"black"})]})]}),(0,__TURBOPACK__imported__module__84787__2.jsx)("path",{d:R(M,O),fill:"rgba(107,114,128,0.22)",stroke:"none"}),(0,__TURBOPACK__imported__module__84787__2.jsx)("rect",{x:K-O,y:L-N,width:2*O,height:N,fill:"rgba(107,114,128,0.22)"}),(0,__TURBOPACK__imported__module__84787__2.jsx)("path",{d:Q(M),fill:"none",stroke:"#0f172a",strokeWidth:"2.2",opacity:"0.95",filter:"url(#protractorShadow)"}),(0,__TURBOPACK__imported__module__84787__2.jsx)("line",{x1:K-M,y1:L,x2:K+M,y2:L,stroke:"#000000",strokeWidth:f?1.9:1,strokeLinecap:"round"}),(0,__TURBOPACK__imported__module__84787__2.jsx)("line",{x1:K-O,y1:L-N,x2:K+O,y2:L-N,stroke:"#000000",strokeWidth:"1.4",strokeLinecap:"round"}),(0,__TURBOPACK__imported__module__84787__2.jsx)("path",{d:`M ${K-O} ${L} A ${O} ${O} 0 0 1 ${K+O} ${L} Z`,fill:"none",stroke:"#000000",strokeWidth:"1",mask:`url(#innerArcMask-${P})`}),(0,__TURBOPACK__imported__module__84787__2.jsx)("circle",{cx:K,cy:L,r:f?4:3,fill:"#dc2626",stroke:"#fff",strokeWidth:"2",filter:"url(#protractorShadow)"}),S()]}),(0,__TURBOPACK__imported__module__84787__2.jsx)("div",{className:"rotation-handle absolute w-6 h-6 bg-white rounded-full cursor-grab hover:scale-110 border-2 border-emerald-500 shadow-md flex items-center justify-center transition-opacity duration-200",style:{pointerEvents:"auto",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",opacity:+!!o,left:`${.2*K-.3*J}px`,top:`${.36*L}px`,transform:"translate(-50%, -50%)",zIndex:20},title:"OtoÄit ÃºhlomÄr",children:(0,__TURBOPACK__imported__module__84787__2.jsx)("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"})}),(0,__TURBOPACK__imported__module__84787__2.jsx)("div",{className:"resize-handle absolute w-6 h-6 bg-white rounded-full cursor-grab hover:scale-110 border-2 border-amber-500 shadow-md flex items-center justify-center transition-opacity duration-200",style:{pointerEvents:"auto",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.1)",opacity:+!!o,left:`${-.37*K+.3*J}px`,top:`${.36*L}px`,transform:"translate(-50%, -50%)",zIndex:15},title:"ZmÄnit velikost",children:(0,__TURBOPACK__imported__module__84787__2.jsx)("div",{className:"w-2 h-2 bg-amber-500 rounded-full"})})]})})}}];

//# sourceMappingURL=c0305_jsxgraph_src_index_5802bcf1.js.map