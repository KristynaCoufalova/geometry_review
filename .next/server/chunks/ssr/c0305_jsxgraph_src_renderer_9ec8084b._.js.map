{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristynacoufalova/Documents/geometry_review/node_modules/jsxgraph/src/renderer/abstract.js"],"sourcesContent":["/*\n    Copyright 2008-2025\n        Matthias Ehmann,\n        Michael Gerhaeuser,\n        Carsten Miller,\n        Bianca Valentin,\n        Alfred Wassermann,\n        Peter Wilfahrt\n\n    This file is part of JSXGraph.\n\n    JSXGraph is free software dual licensed under the GNU LGPL or MIT License.\n\n    You can redistribute it and/or modify it under the terms of the\n\n      * GNU Lesser General Public License as published by\n        the Free Software Foundation, either version 3 of the License, or\n        (at your option) any later version\n      OR\n      * MIT License: https://github.com/jsxgraph/jsxgraph/blob/master/LICENSE.MIT\n\n    JSXGraph is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License and\n    the MIT License along with JSXGraph. If not, see <https://www.gnu.org/licenses/>\n    and <https://opensource.org/licenses/MIT/>.\n */\n\n/*global JXG: true, define: true, AMprocessNode: true, MathJax: true, document: true, window: true */\n\n/*\n    nomen:    Allow underscores to indicate private class members. Might be replaced by local variables.\n    plusplus: Only allowed in for-loops\n    newcap:   AsciiMathMl exposes non-constructor functions beginning with upper case letters\n*/\n/*jslint nomen: true, plusplus: true, newcap: true, unparam: true*/\n/*eslint no-unused-vars: \"off\"*/\n\n/**\n * @fileoverview JSXGraph can use various technologies to render the contents of a construction, e.g.\n * SVG, VML, and HTML5 Canvas. To accomplish this, The rendering and the logic and control mechanisms\n * are completely separated from each other. Every rendering technology has it's own class, called\n * Renderer, e.g. SVGRenderer for SVG, the same for VML and Canvas. The common base for all available\n * renderers is the class AbstractRenderer defined in this file.\n */\n\nimport JXG from \"../jxg.js\";\nimport Options from \"../options.js\";\nimport Coords from \"../base/coords.js\";\nimport Const from \"../base/constants.js\";\nimport Mat from \"../math/math.js\";\nimport Geometry from \"../math/geometry.js\";\nimport Type from \"../utils/type.js\";\nimport Env from \"../utils/env.js\";\n\n/**\n * <p>This class defines the interface to the graphics part of JSXGraph. This class is an abstract class, it\n * actually does not render anything. This is up to the {@link JXG.SVGRenderer}, {@link JXG.VMLRenderer},\n * and {@link JXG.CanvasRenderer} classes. We strongly discourage you from using the methods in these classes\n * directly. Only the methods which are defined in this class and are not marked as private are guaranteed\n * to exist in any renderer instance you can access via {@link JXG.Board#renderer}. But not all methods may\n * work as expected.</p>\n * <p>The methods of this renderer can be divided into different categories:\n * <dl>\n *     <dt>Draw basic elements</dt>\n *     <dd>In this category we find methods to draw basic elements like {@link JXG.Point}, {@link JXG.Line},\n *     and {@link JXG.Curve} as well as assisting methods tightly bound to these basic painters. You do not\n *     need to implement these methods in a descendant renderer but instead implement the primitive drawing\n *     methods described below. This approach is encouraged when you're using a XML based rendering engine\n *     like VML and SVG. If you want to use a bitmap based rendering technique you are supposed to override\n *     these methods instead of the primitive drawing methods.</dd>\n *     <dt>Draw primitives</dt>\n *     <dd>This category summarizes methods to handle primitive nodes. As creation and management of these nodes\n *     is different among different the rendering techniques most of these methods are purely virtual and need\n *     proper implementation if you choose to not overwrite the basic element drawing methods.</dd>\n *     <dt>Attribute manipulation</dt>\n *     <dd>In XML based renders you have to manipulate XML nodes and their attributes to change the graphics.\n *     For that purpose attribute manipulation methods are defined to set the color, opacity, and other things.\n *     Please note that some of these methods are required in bitmap based renderers, too, because some elements\n *     like {@link JXG.Text} can be HTML nodes floating over the construction.</dd>\n *     <dt>Renderer control</dt>\n *     <dd>Methods to clear the drawing board or to stop and to resume the rendering engine.</dd>\n * </dl></p>\n * @class JXG.AbstractRenderer\n * @constructor\n * @see JXG.SVGRenderer\n * @see JXG.VMLRenderer\n * @see JXG.CanvasRenderer\n */\nJXG.AbstractRenderer = function () {\n    // WHY THIS IS A CLASS INSTEAD OF A SINGLETON OBJECT:\n    //\n    // The renderers need to keep track of some stuff which is not always the same on different boards,\n    // like enhancedRendering, reference to the container object, and resolution in VML. Sure, those\n    // things could be stored in board. But they are rendering related and JXG.Board is already very\n    // very big.\n    //\n    // And we can't save the rendering related data in {SVG,VML,Canvas}Renderer and make only the\n    // JXG.AbstractRenderer a singleton because of that:\n    //\n    // Given an object o with property a set to true\n    //     var o = {a: true};\n    // and a class c doing nothing\n    //     c = function() {};\n    // Set c's prototype to o\n    //     c.prototype = o;\n    // and create an instance of c we get i.a to be true\n    //     i = new c();\n    //     i.a;\n    //     > true\n    // But we can overwrite this property via\n    //     c.prototype.a = false;\n    //     i.a;\n    //     > false\n\n    /**\n     * The vertical offset for {@link Text} elements. Every {@link Text} element will\n     * be placed this amount of pixels below the user given coordinates.\n     * @type Number\n     * @default 0\n     */\n    this.vOffsetText = 0;\n\n    /**\n     * If this property is set to <tt>true</tt> the visual properties of the elements are updated\n     * on every update. Visual properties means: All the stuff stored in the\n     * {@link JXG.GeometryElement#visProp} property won't be set if enhancedRendering is <tt>false</tt>\n     * @type Boolean\n     * @default true\n     */\n    this.enhancedRendering = true;\n\n    /**\n     * The HTML element that stores the JSXGraph board in it.\n     * @type Node\n     */\n    this.container = null;\n\n    /**\n     * This is used to easily determine which renderer we are using\n     * @example if (board.renderer.type === 'vml') {\n     *     // do something\n     * }\n     * @type String\n     */\n    this.type = \"\";\n\n    /**\n     * True if the browsers' SVG engine supports foreignObject.\n     * Not supported browsers are IE 9 - 11.\n     * It is tested in svg renderer.\n     *\n     * @type Boolean\n     * @private\n     */\n    this.supportsForeignObject = false;\n\n    /**\n     * Defines dash patterns. Sizes are in pixel.\n     * Defined styles are:\n     * <ol>\n     * <li> 2 dash, 2 space</li>\n     * <li> 5 dash, 5 space</li>\n     * <li> 10 dash, 10 space</li>\n     * <li> 20 dash, 20 space</li>\n     * <li> 20 dash, 10 space, 10 dash, 10 space</li>\n     * <li> 20 dash, 5 space, 10 dash, 5 space</li>\n     * <li> 0 dash, 5 space (dotted line)</li>\n     * </ol>\n     * This means, the numbering is <b>1-based</b>.\n     * Solid lines are set with dash:0.\n     * If the object's attribute \"dashScale:true\" the dash pattern is multiplied by\n     * strokeWidth / 2.\n     *\n     * @type Array\n     * @default [[2, 2], [5, 5], [10, 10], [20, 20], [20, 10, 10, 10], [20, 5, 10, 5], [0, 5]]\n     * @see JXG.GeometryElement#dash\n     * @see JXG.GeometryElement#dashScale\n     */\n    this.dashArray = [\n        [2, 2],\n        [5, 5],\n        [10, 10],\n        [20, 20],\n        [20, 10, 10, 10],\n        [20, 5, 10, 5],\n        [0, 5]\n    ];\n};\n\nJXG.extend(\n    JXG.AbstractRenderer.prototype,\n    /** @lends JXG.AbstractRenderer.prototype */ {\n\n        /* ********* Private methods *********** */\n\n        /**\n         * Update visual properties, but only if {@link JXG.AbstractRenderer#enhancedRendering} or <tt>enhanced</tt> is set to true.\n         * @param {JXG.GeometryElement} el The element to update\n         * @param {Object} [not={}] Select properties you don't want to be updated: <tt>{fill: true, dash: true}</tt> updates\n         * everything except for fill and dash. Possible values are <tt>stroke, fill, dash, shadow, gradient</tt>.\n         * @param {Boolean} [enhanced=false] If true, {@link JXG.AbstractRenderer#enhancedRendering} is assumed to be true.\n         * @private\n         */\n        _updateVisual: function (el, not, enhanced) {\n            if (enhanced || this.enhancedRendering) {\n                not = not || {};\n\n                this.setObjectTransition(el);\n                if (!el.evalVisProp('draft')) {\n                    if (!not.stroke) {\n                        if (el.highlighted) {\n                            this.setObjectStrokeColor(\n                                el,\n                                el.evalVisProp('highlightstrokecolor'),\n                                el.evalVisProp('highlightstrokeopacity')\n                            );\n                            this.setObjectStrokeWidth(el, el.evalVisProp('highlightstrokewidth'));\n                        } else {\n                            this.setObjectStrokeColor(\n                                el,\n                                el.evalVisProp('strokecolor'),\n                                el.evalVisProp('strokeopacity')\n                            );\n                            this.setObjectStrokeWidth(el, el.evalVisProp('strokewidth'));\n                        }\n                    }\n\n                    if (!not.fill) {\n                        if (el.highlighted) {\n                            this.setObjectFillColor(\n                                el,\n                                el.evalVisProp('highlightfillcolor'),\n                                el.evalVisProp('highlightfillopacity')\n                            );\n                        } else {\n                            this.setObjectFillColor(\n                                el,\n                                el.evalVisProp('fillcolor'),\n                                el.evalVisProp('fillopacity')\n                            );\n                        }\n                    }\n\n                    if (!not.dash) {\n                        this.setDashStyle(el, el.visProp);\n                    }\n\n                    if (!not.shadow) {\n                        this.setShadow(el);\n                    }\n\n                    // if (!not.gradient) {\n                    //     // this.setGradient(el);\n                    //     this.setShadow(el);\n                    // }\n\n                    if (!not.tabindex) {\n                        this.setTabindex(el);\n                    }\n                } else {\n                    this.setDraft(el);\n                }\n\n                if (el.highlighted) {\n                    this.setCssClass(el, el.evalVisProp('highlightcssclass'));\n                } else {\n                    this.setCssClass(el, el.evalVisProp('cssclass'));\n                }\n\n                if (el.evalVisProp('aria.enabled')) {\n                    this.setARIA(el);\n                }\n            }\n        },\n\n        /**\n         * Get information if element is highlighted.\n         * @param {JXG.GeometryElement} el The element which is tested for being highlighted.\n         * @returns {String} 'highlight' if highlighted, otherwise the ampty string '' is returned.\n         * @private\n         */\n        _getHighlighted: function (el) {\n            var isTrace = false,\n                hl;\n\n            if (!Type.exists(el.board) || !Type.exists(el.board.highlightedObjects)) {\n                // This case handles trace elements.\n                // To make them work, we simply neglect highlighting.\n                isTrace = true;\n            }\n\n            if (!isTrace && Type.exists(el.board.highlightedObjects[el.id])) {\n                hl = \"highlight\";\n            } else {\n                hl = \"\";\n            }\n            return hl;\n        },\n\n        /* ********* Point related stuff *********** */\n\n        /**\n         * Draws a point on the {@link JXG.Board}.\n         * @param {JXG.Point} el Reference to a {@link JXG.Point} object that has to be drawn.\n         * @see Point\n         * @see JXG.Point\n         * @see JXG.AbstractRenderer#updatePoint\n         * @see JXG.AbstractRenderer#changePointStyle\n         */\n        drawPoint: function (el) {\n            var prim,\n                // Sometimes el is not a real point and lacks the methods of a JXG.Point instance,\n                // in these cases to not use el directly.\n                face = Options.normalizePointFace(el.evalVisProp('face'));\n\n            // Determine how the point looks like\n            if (face === \"o\") {\n                prim = \"ellipse\";\n            } else if (face === \"[]\") {\n                prim = \"rect\";\n            } else {\n                // cross/x, diamond/<>, triangleup/A/^, triangledown/v, triangleleft/<,\n                // triangleright/>, plus/+, |, -\n                prim = \"path\";\n            }\n\n            el.rendNode = this.appendChildPrim(\n                this.createPrim(prim, el.id),\n                el.evalVisProp('layer')\n            );\n            this.appendNodesToElement(el, prim);\n\n            // Adjust visual properties\n            this._updateVisual(el, { dash: true, shadow: true }, true);\n\n            // By now we only created the xml nodes and set some styles, in updatePoint\n            // the attributes are filled with data.\n            this.updatePoint(el);\n        },\n\n        /**\n         * Updates visual appearance of the renderer element assigned to the given {@link JXG.Point}.\n         * @param {JXG.Point} el Reference to a {@link JXG.Point} object, that has to be updated.\n         * @see Point\n         * @see JXG.Point\n         * @see JXG.AbstractRenderer#drawPoint\n         * @see JXG.AbstractRenderer#changePointStyle\n         */\n        updatePoint: function (el) {\n            var size = el.evalVisProp('size'),\n                // sometimes el is not a real point and lacks the methods of a JXG.Point instance,\n                // in these cases to not use el directly.\n                face = Options.normalizePointFace(el.evalVisProp('face')),\n                unit = el.evalVisProp('sizeunit'),\n                zoom = el.evalVisProp('zoom'),\n                s1;\n\n            if (!isNaN(el.coords.scrCoords[2] + el.coords.scrCoords[1])) {\n                if (unit === \"user\") {\n                    size *= Math.sqrt(Math.abs(el.board.unitX * el.board.unitY));\n                }\n                size *= !el.board || !zoom ? 1.0 : Math.sqrt(el.board.zoomX * el.board.zoomY);\n                s1 = size === 0 ? 0 : size + 1;\n\n                if (face === \"o\") {\n                    // circle\n                    this.updateEllipsePrim(\n                        el.rendNode,\n                        el.coords.scrCoords[1],\n                        el.coords.scrCoords[2],\n                        s1,\n                        s1\n                    );\n                } else if (face === \"[]\") {\n                    // rectangle\n                    this.updateRectPrim(\n                        el.rendNode,\n                        el.coords.scrCoords[1] - size,\n                        el.coords.scrCoords[2] - size,\n                        size * 2,\n                        size * 2\n                    );\n                } else {\n                    // x, +, <>, <<>>, ^, v, <, >\n                    this.updatePathPrim(\n                        el.rendNode,\n                        this.updatePathStringPoint(el, size, face),\n                        el.board\n                    );\n                }\n                this._updateVisual(el, { dash: false, shadow: false });\n                this.setShadow(el);\n            }\n        },\n\n        /**\n         * Changes the style of a {@link JXG.Point}. This is required because the point styles differ in what\n         * elements have to be drawn, e.g. if the point is marked by a \"x\" or a \"+\" two lines are drawn, if\n         * it's marked by spot a circle is drawn. This method removes the old renderer element(s) and creates\n         * the new one(s).\n         * @param {JXG.Point} el Reference to a {@link JXG.Point} object, that's style is changed.\n         * @see Point\n         * @see JXG.Point\n         * @see JXG.AbstractRenderer#updatePoint\n         * @see JXG.AbstractRenderer#drawPoint\n         */\n        changePointStyle: function (el) {\n            var node = this.getElementById(el.id);\n\n            // remove the existing point rendering node\n            if (Type.exists(node)) {\n                this.remove(node);\n            }\n\n            // and make a new one\n            this.drawPoint(el);\n            Type.clearVisPropOld(el);\n\n            if (!el.visPropCalc.visible) {\n                this.display(el, false);\n            }\n\n            if (el.evalVisProp('draft')) {\n                this.setDraft(el);\n            }\n        },\n\n        /* ********* Line related stuff *********** */\n\n        /**\n         * Draws a line on the {@link JXG.Board}.\n         * @param {JXG.Line} el Reference to a line object, that has to be drawn.\n         * @see Line\n         * @see JXG.Line\n         * @see JXG.AbstractRenderer#updateLine\n         */\n        drawLine: function (el) {\n            el.rendNode = this.appendChildPrim(\n                this.createPrim(\"line\", el.id),\n                el.evalVisProp('layer')\n            );\n            this.appendNodesToElement(el, \"lines\");\n            this.updateLine(el);\n        },\n\n        /**\n         * Updates visual appearance of the renderer element assigned to the given {@link JXG.Line}.\n         * @param {JXG.Line} el Reference to the {@link JXG.Line} object that has to be updated.\n         * @see Line\n         * @see JXG.Line\n         * @see JXG.AbstractRenderer#drawLine\n         */\n        updateLine: function (el) {\n            this._updateVisual(el);\n            this.updatePathWithArrowHeads(el); // Calls the renderer primitive\n            this.setLineCap(el);\n        },\n\n        /* ********* Curve related stuff *********** */\n\n        /**\n         * Draws a {@link JXG.Curve} on the {@link JXG.Board}.\n         * @param {JXG.Curve} el Reference to a graph object, that has to be plotted.\n         * @see Curve\n         * @see JXG.Curve\n         * @see JXG.AbstractRenderer#updateCurve\n         */\n        drawCurve: function (el) {\n            el.rendNode = this.appendChildPrim(\n                this.createPrim(\"path\", el.id),\n                el.evalVisProp('layer')\n            );\n            this.appendNodesToElement(el, \"path\");\n            this.updateCurve(el);\n        },\n\n        /**\n         * Updates visual appearance of the renderer element assigned to the given {@link JXG.Curve}.\n         * @param {JXG.Curve} el Reference to a {@link JXG.Curve} object, that has to be updated.\n         * @see Curve\n         * @see JXG.Curve\n         * @see JXG.AbstractRenderer#drawCurve\n         */\n        updateCurve: function (el) {\n            this._updateVisual(el);\n            this.updatePathWithArrowHeads(el); // Calls the renderer primitive\n            this.setLineCap(el);\n        },\n\n        /* ********* Arrow heads and related stuff *********** */\n\n        /**\n         * Handles arrow heads of a line or curve element and calls the renderer primitive.\n         *\n         * @param {JXG.GeometryElement} el Reference to a line or curve object that has to be drawn.\n         * @param {Boolean} doHighlight\n         *\n         * @private\n         * @see Line\n         * @see JXG.Line\n         * @see Curve\n         * @see JXG.Curve\n         * @see JXG.AbstractRenderer#updateLine\n         * @see JXG.AbstractRenderer#updateCurve\n         * @see JXG.AbstractRenderer#makeArrows\n         * @see JXG.AbstractRenderer#getArrowHeadData\n         */\n        updatePathWithArrowHeads: function (el, doHighlight) {\n            var hl = doHighlight ? 'highlight' : '',\n                w,\n                arrowData;\n\n            if (doHighlight && el.evalVisProp('highlightstrokewidth')) {\n                w = Math.max(\n                    el.evalVisProp('highlightstrokewidth'),\n                    el.evalVisProp('strokewidth')\n                );\n            } else {\n                w = el.evalVisProp('strokewidth');\n            }\n\n            // Get information if there are arrow heads and how large they are.\n            arrowData = this.getArrowHeadData(el, w, hl);\n\n            // Create the SVG nodes if necessary\n            this.makeArrows(el, arrowData);\n\n            // Draw the paths with arrow heads\n            if (el.elementClass === Const.OBJECT_CLASS_LINE) {\n                this.updateLineWithEndings(el, arrowData);\n            } else if (el.elementClass === Const.OBJECT_CLASS_CURVE) {\n                this.updatePath(el);\n            }\n\n            this.setArrowSize(el, arrowData);\n        },\n\n        /**\n         * This method determines some data about the line endings of this element.\n         * If there are arrow heads, the offset is determined so that no parts of the line stroke\n         * lap over the arrow head.\n         * <p>\n         * The returned object also contains the types of the arrow heads.\n         *\n         * @param {JXG.GeometryElement} el JSXGraph line or curve element\n         * @param {Number} strokewidth strokewidth of the element\n         * @param {String} hl Ither 'highlight' or empty string\n         * @returns {Object} object containing the data\n         *\n         * @private\n         */\n        getArrowHeadData: function (el, strokewidth, hl) {\n            var minlen = Mat.eps,\n                typeFirst,\n                typeLast,\n                offFirst = 0,\n                offLast = 0,\n                sizeFirst = 0,\n                sizeLast = 0,\n                ev_fa = el.evalVisProp('firstarrow'),\n                ev_la = el.evalVisProp('lastarrow'),\n                off,\n                size;\n\n            /*\n               Handle arrow heads.\n\n               The default arrow head is an isosceles triangle with base length 10 units and height 10 units.\n               These 10 units are scaled to strokeWidth * arrowSize pixels.\n            */\n            if (ev_fa || ev_la) {\n                if (Type.exists(ev_fa.type)) {\n                    typeFirst = el.eval(ev_fa.type);\n                } else {\n                    if (el.elementClass === Const.OBJECT_CLASS_LINE) {\n                        typeFirst = 1;\n                    } else {\n                        typeFirst = 7;\n                    }\n                }\n                if (Type.exists(ev_la.type)) {\n                    typeLast = el.eval(ev_la.type);\n                } else {\n                    if (el.elementClass === Const.OBJECT_CLASS_LINE) {\n                        typeLast = 1;\n                    } else {\n                        typeLast = 7;\n                    }\n                }\n\n                if (ev_fa) {\n                    size = 6;\n                    if (Type.exists(ev_fa.size)) {\n                        size = el.eval(ev_fa.size);\n                    }\n                    if (hl !== \"\" && Type.exists(ev_fa[hl + \"size\"])) {\n                        size = el.eval(ev_fa[hl + \"size\"]);\n                    }\n\n                    off = strokewidth * size;\n                    if (typeFirst === 2) {\n                        off *= 0.5;\n                        minlen += strokewidth * size;\n                    } else if (typeFirst === 3) {\n                        off = (strokewidth * size) / 3;\n                        minlen += strokewidth;\n                    } else if (typeFirst === 4 || typeFirst === 5 || typeFirst === 6) {\n                        off = (strokewidth * size) / 1.5;\n                        minlen += strokewidth * size;\n                    } else if (typeFirst === 7) {\n                        off = 0;\n                        size = 10;\n                        minlen += strokewidth;\n                    } else {\n                        minlen += strokewidth * size;\n                    }\n                    offFirst += off;\n                    sizeFirst = size;\n                }\n\n                if (ev_la) {\n                    size = 6;\n                    if (Type.exists(ev_la.size)) {\n                        size = el.eval(ev_la.size);\n                    }\n                    if (hl !== \"\" && Type.exists(ev_la[hl + \"size\"])) {\n                        size = el.eval(ev_la[hl + \"size\"]);\n                    }\n                    off = strokewidth * size;\n                    if (typeLast === 2) {\n                        off *= 0.5;\n                        minlen += strokewidth * size;\n                    } else if (typeLast === 3) {\n                        off = (strokewidth * size) / 3;\n                        minlen += strokewidth;\n                    } else if (typeLast === 4 || typeLast === 5 || typeLast === 6) {\n                        off = (strokewidth * size) / 1.5;\n                        minlen += strokewidth * size;\n                    } else if (typeLast === 7) {\n                        off = 0;\n                        size = 10;\n                        minlen += strokewidth;\n                    } else {\n                        minlen += strokewidth * size;\n                    }\n                    offLast += off;\n                    sizeLast = size;\n                }\n            }\n            el.visPropCalc.typeFirst = typeFirst;\n            el.visPropCalc.typeLast = typeLast;\n\n            return {\n                evFirst: ev_fa,\n                evLast: ev_la,\n                typeFirst: typeFirst,\n                typeLast: typeLast,\n                offFirst: offFirst,\n                offLast: offLast,\n                sizeFirst: sizeFirst,\n                sizeLast: sizeLast,\n                showFirst: 1, // Show arrow head. 0 if the distance is too small\n                showLast: 1, // Show arrow head. 0 if the distance is too small\n                minLen: minlen,\n                strokeWidth: strokewidth\n            };\n        },\n\n        /**\n         * Corrects the line length if there are arrow heads, such that\n         * the arrow ends exactly at the intended position.\n         * Calls the renderer method to draw the line.\n         *\n         * @param {JXG.Line} el Reference to a line object, that has to be drawn\n         * @param {Object} arrowData Data concerning possible arrow heads\n         *\n         * @returns {JXG.AbstractRenderer} Reference to the renderer\n         *\n         * @private\n         * @see Line\n         * @see JXG.Line\n         * @see JXG.AbstractRenderer#updateLine\n         * @see JXG.AbstractRenderer#getPositionArrowHead\n         *\n         */\n        updateLineWithEndings: function (el, arrowData) {\n            var c1,\n                c2,\n                // useTotalLength = true,\n                margin = null;\n\n            c1 = new Coords(Const.COORDS_BY_USER, el.point1.coords.usrCoords, el.board);\n            c2 = new Coords(Const.COORDS_BY_USER, el.point2.coords.usrCoords, el.board);\n            margin = el.evalVisProp('margin');\n            Geometry.calcStraight(el, c1, c2, margin);\n\n            this.handleTouchpoints(el, c1, c2, arrowData);\n            this.getPositionArrowHead(el, c1, c2, arrowData);\n\n            this.updateLinePrim(\n                el.rendNode,\n                c1.scrCoords[1],\n                c1.scrCoords[2],\n                c2.scrCoords[1],\n                c2.scrCoords[2],\n                el.board\n            );\n\n            return this;\n        },\n\n        /**\n         *\n         * Calls the renderer method to draw a curve.\n         *\n         * @param {JXG.GeometryElement} el Reference to a line object, that has to be drawn.\n         * @returns {JXG.AbstractRenderer} Reference to the renderer\n         *\n         * @private\n         * @see Curve\n         * @see JXG.Curve\n         * @see JXG.AbstractRenderer#updateCurve\n         *\n         */\n        updatePath: function (el) {\n            if (el.evalVisProp('handdrawing')) {\n                this.updatePathPrim(el.rendNode, this.updatePathStringBezierPrim(el), el.board);\n            } else {\n                this.updatePathPrim(el.rendNode, this.updatePathStringPrim(el), el.board);\n            }\n\n            return this;\n        },\n\n        /**\n         * Shorten the length of a line element such that the arrow head touches\n         * the start or end point and such that the arrow head ends exactly\n         * at the start / end position of the line.\n         * <p>\n         * The Coords objects c1 and c2 are changed in place. In object a, the Boolean properties\n         * 'showFirst' and 'showLast' are set.\n         *\n         * @param  {JXG.Line} el Reference to the line object that gets arrow heads.\n         * @param  {JXG.Coords} c1  Coords of the first point of the line (after {@link JXG.Math.Geometry#calcStraight}).\n         * @param  {JXG.Coords} c2  Coords of the second point of the line (after {@link JXG.Math.Geometry#calcStraight}).\n         * @param  {Object}  a Object { evFirst: Boolean, evLast: Boolean} containing information about arrow heads.\n         * @see JXG.AbstractRenderer#getArrowHeadData\n         *\n         */\n        getPositionArrowHead: function (el, c1, c2, a) {\n            var d, d1x, d1y, d2x, d2y;\n\n            //    Handle arrow heads.\n\n            //    The default arrow head (type==1) is an isosceles triangle with base length 10 units and height 10 units.\n            //    These 10 units are scaled to strokeWidth * arrowSize pixels.\n            if (a.evFirst || a.evLast) {\n                // Correct the position of the arrow heads\n                d1x = d1y = d2x = d2y = 0.0;\n                d = c1.distance(Const.COORDS_BY_SCREEN, c2);\n\n                if (a.evFirst && el.board.renderer.type !== \"vml\") {\n                    if (d >= a.minLen) {\n                        d1x = ((c2.scrCoords[1] - c1.scrCoords[1]) * a.offFirst) / d;\n                        d1y = ((c2.scrCoords[2] - c1.scrCoords[2]) * a.offFirst) / d;\n                    } else {\n                        a.showFirst = 0;\n                    }\n                }\n\n                if (a.evLast && el.board.renderer.type !== \"vml\") {\n                    if (d >= a.minLen) {\n                        d2x = ((c2.scrCoords[1] - c1.scrCoords[1]) * a.offLast) / d;\n                        d2y = ((c2.scrCoords[2] - c1.scrCoords[2]) * a.offLast) / d;\n                    } else {\n                        a.showLast = 0;\n                    }\n                }\n                c1.setCoordinates(\n                    Const.COORDS_BY_SCREEN,\n                    [c1.scrCoords[1] + d1x, c1.scrCoords[2] + d1y],\n                    false,\n                    true\n                );\n                c2.setCoordinates(\n                    Const.COORDS_BY_SCREEN,\n                    [c2.scrCoords[1] - d2x, c2.scrCoords[2] - d2y],\n                    false,\n                    true\n                );\n            }\n\n            return this;\n        },\n\n        /**\n         * Handle touchlastpoint / touchfirstpoint\n         *\n         * @param {JXG.GeometryElement} el\n         * @param {JXG.Coords} c1 Coordinates of the start of the line. The coordinates are changed in place.\n         * @param {JXG.Coords} c2 Coordinates of the end of the line. The coordinates are changed in place.\n         * @param {Object} a\n         * @see JXG.AbstractRenderer#getArrowHeadData\n         */\n        handleTouchpoints: function (el, c1, c2, a) {\n            var s1, s2, d, d1x, d1y, d2x, d2y;\n\n            if (a.evFirst || a.evLast) {\n                d = d1x = d1y = d2x = d2y = 0.0;\n\n                s1 = el.point1.evalVisProp('size') +\n                    el.point1.evalVisProp('strokewidth');\n\n                s2 = el.point2.evalVisProp('size') +\n                    el.point2.evalVisProp('strokewidth');\n\n                // Handle touchlastpoint /touchfirstpoint\n                if (a.evFirst && el.evalVisProp('touchfirstpoint') &&\n                        el.point1.evalVisProp('visible')) {\n                    d = c1.distance(Const.COORDS_BY_SCREEN, c2);\n                    //if (d > s) {\n                    d1x = ((c2.scrCoords[1] - c1.scrCoords[1]) * s1) / d;\n                    d1y = ((c2.scrCoords[2] - c1.scrCoords[2]) * s1) / d;\n                    //}\n                }\n                if (a.evLast && el.evalVisProp('touchlastpoint') &&\n                        el.point2.evalVisProp('visible')) {\n                    d = c1.distance(Const.COORDS_BY_SCREEN, c2);\n                    //if (d > s) {\n                    d2x = ((c2.scrCoords[1] - c1.scrCoords[1]) * s2) / d;\n                    d2y = ((c2.scrCoords[2] - c1.scrCoords[2]) * s2) / d;\n                    //}\n                }\n                c1.setCoordinates(\n                    Const.COORDS_BY_SCREEN,\n                    [c1.scrCoords[1] + d1x, c1.scrCoords[2] + d1y],\n                    false,\n                    true\n                );\n                c2.setCoordinates(\n                    Const.COORDS_BY_SCREEN,\n                    [c2.scrCoords[1] - d2x, c2.scrCoords[2] - d2y],\n                    false,\n                    true\n                );\n            }\n\n            return this;\n        },\n\n        /**\n         * Set the arrow head size.\n         *\n         * @param {JXG.GeometryElement} el Reference to a line or curve object that has to be drawn.\n         * @param {Object} arrowData Data concerning possible arrow heads\n         * @returns {JXG.AbstractRenderer} Reference to the renderer\n         *\n         * @private\n         * @see Line\n         * @see JXG.Line\n         * @see Curve\n         * @see JXG.Curve\n         * @see JXG.AbstractRenderer#updatePathWithArrowHeads\n         * @see JXG.AbstractRenderer#getArrowHeadData\n         */\n        setArrowSize: function (el, a) {\n            if (a.evFirst) {\n                this._setArrowWidth(\n                    el.rendNodeTriangleStart,\n                    a.showFirst * a.strokeWidth,\n                    el.rendNode,\n                    a.sizeFirst\n                );\n            }\n            if (a.evLast) {\n                this._setArrowWidth(\n                    el.rendNodeTriangleEnd,\n                    a.showLast * a.strokeWidth,\n                    el.rendNode,\n                    a.sizeLast\n                );\n            }\n            return this;\n        },\n\n        /**\n         * Update the line endings (linecap) of a straight line from its attribute\n         * 'linecap'.\n         * Possible values for the attribute 'linecap' are: 'butt', 'round', 'square'.\n         * The default value is 'butt'. Not available for VML renderer.\n         *\n         * @param {JXG.Line} element A arbitrary line.\n         * @see Line\n         * @see JXG.Line\n         * @see JXG.AbstractRenderer#updateLine\n         */\n        setLineCap: function (el) { /* stub */ },\n\n        /* ********* Ticks related stuff *********** */\n\n        /**\n         * Creates a rendering node for ticks added to a line.\n         * @param {JXG.Line} el A arbitrary line.\n         * @see Line\n         * @see Ticks\n         * @see JXG.Line\n         * @see JXG.Ticks\n         * @see JXG.AbstractRenderer#updateTicks\n         */\n        drawTicks: function (el) {\n            el.rendNode = this.appendChildPrim(\n                this.createPrim(\"path\", el.id),\n                el.evalVisProp('layer')\n            );\n            this.appendNodesToElement(el, \"path\");\n        },\n\n        /**\n         * Update {@link Ticks} on a {@link JXG.Line}. This method is only a stub and has to be implemented\n         * in any descendant renderer class.\n         * @param {JXG.Ticks} el Reference of a ticks object that has to be updated.\n         * @see Line\n         * @see Ticks\n         * @see JXG.Line\n         * @see JXG.Ticks\n         * @see JXG.AbstractRenderer#drawTicks\n         */\n        updateTicks: function (el) { /* stub */ },\n\n        /* ********* Circle related stuff *********** */\n\n        /**\n         * Draws a {@link JXG.Circle}\n         * @param {JXG.Circle} el Reference to a {@link JXG.Circle} object that has to be drawn.\n         * @see Circle\n         * @see JXG.Circle\n         * @see JXG.AbstractRenderer#updateEllipse\n         */\n        drawEllipse: function (el) {\n            el.rendNode = this.appendChildPrim(\n                this.createPrim(\"ellipse\", el.id),\n                el.evalVisProp('layer')\n            );\n            this.appendNodesToElement(el, \"ellipse\");\n            this.updateEllipse(el);\n        },\n\n        /**\n         * Updates visual appearance of a given {@link JXG.Circle} on the {@link JXG.Board}.\n         * @param {JXG.Circle} el Reference to a {@link JXG.Circle} object, that has to be updated.\n         * @see Circle\n         * @see JXG.Circle\n         * @see JXG.AbstractRenderer#drawEllipse\n         */\n        updateEllipse: function (el) {\n            this._updateVisual(el);\n\n            var radius = el.Radius();\n\n            if (\n                /*radius > 0.0 &&*/\n                Math.abs(el.center.coords.usrCoords[0]) > Mat.eps &&\n                !isNaN(radius + el.center.coords.scrCoords[1] + el.center.coords.scrCoords[2]) &&\n                radius * el.board.unitX < 2000000\n            ) {\n                this.updateEllipsePrim(\n                    el.rendNode,\n                    el.center.coords.scrCoords[1],\n                    el.center.coords.scrCoords[2],\n                    radius * el.board.unitX,\n                    radius * el.board.unitY\n                );\n            }\n            this.setLineCap(el);\n        },\n\n        /* ********* Polygon related stuff *********** */\n\n        /**\n         * Draws a {@link JXG.Polygon} on the {@link JXG.Board}.\n         * @param {JXG.Polygon} el Reference to a Polygon object, that is to be drawn.\n         * @see Polygon\n         * @see JXG.Polygon\n         * @see JXG.AbstractRenderer#updatePolygon\n         */\n        drawPolygon: function (el) {\n            el.rendNode = this.appendChildPrim(\n                this.createPrim(\"polygon\", el.id),\n                el.evalVisProp('layer')\n            );\n            this.appendNodesToElement(el, \"polygon\");\n            this.updatePolygon(el);\n        },\n\n        /**\n         * Updates properties of a {@link JXG.Polygon}'s rendering node.\n         * @param {JXG.Polygon} el Reference to a {@link JXG.Polygon} object, that has to be updated.\n         * @see Polygon\n         * @see JXG.Polygon\n         * @see JXG.AbstractRenderer#drawPolygon\n         */\n        updatePolygon: function (el) {\n            // Here originally strokecolor wasn't updated but strokewidth was.\n            // But if there's no strokecolor i don't see why we should update strokewidth.\n            this._updateVisual(el, { stroke: true, dash: true });\n            this.updatePolygonPrim(el.rendNode, el);\n        },\n\n        /* ********* Text related stuff *********** */\n\n        /**\n         * Shows a small copyright notice in the top left corner of the board.\n         * @param {String} str The copyright notice itself\n         * @param {Number} fontsize Size of the font the copyright notice is written in\n         * @see JXG.AbstractRenderer#displayLogo\n         * @see Text#fontSize\n         */\n        displayCopyright: function (str, fontsize) { /* stub */ },\n\n        /**\n         * Shows a small JSXGraph logo in the top left corner of the board.\n         * @param {String} str The data-URL of the logo\n         * @param {Number} fontsize Size of the font the copyright notice is written in\n         * @see JXG.AbstractRenderer#displayCopyright\n         * @see Text#fontSize\n         */\n        displayLogo: function (str, fontsize) { /* stub */ },\n\n        /**\n         * An internal text is a {@link JXG.Text} element which is drawn using only\n         * the given renderer but no HTML. This method is only a stub, the drawing\n         * is done in the special renderers.\n         * @param {JXG.Text} el Reference to a {@link JXG.Text} object\n         * @see Text\n         * @see JXG.Text\n         * @see JXG.AbstractRenderer#updateInternalText\n         * @see JXG.AbstractRenderer#drawText\n         * @see JXG.AbstractRenderer#updateText\n         * @see JXG.AbstractRenderer#updateTextStyle\n         */\n        drawInternalText: function (el) { /* stub */ },\n\n        /**\n         * Updates visual properties of an already existing {@link JXG.Text} element.\n         * @param {JXG.Text} el Reference to an {@link JXG.Text} object, that has to be updated.\n         * @see Text\n         * @see JXG.Text\n         * @see JXG.AbstractRenderer#drawInternalText\n         * @see JXG.AbstractRenderer#drawText\n         * @see JXG.AbstractRenderer#updateText\n         * @see JXG.AbstractRenderer#updateTextStyle\n         */\n        updateInternalText: function (el) { /* stub */ },\n\n        /**\n         * Displays a {@link JXG.Text} on the {@link JXG.Board} by putting a HTML div over it.\n         * @param {JXG.Text} el Reference to an {@link JXG.Text} object, that has to be displayed\n         * @see Text\n         * @see JXG.Text\n         * @see JXG.AbstractRenderer#drawInternalText\n         * @see JXG.AbstractRenderer#updateText\n         * @see JXG.AbstractRenderer#updateInternalText\n         * @see JXG.AbstractRenderer#updateTextStyle\n         */\n        drawText: function (el) {\n            var node, z, level, ev_visible;\n\n            if (\n                el.evalVisProp('display') === \"html\" &&\n                Env.isBrowser &&\n                this.type !== \"no\"\n            ) {\n                node = this.container.ownerDocument.createElement(\"div\");\n                //node = this.container.ownerDocument.createElementNS('http://www.w3.org/1999/xhtml', 'div'); //\n                node.style.position = \"absolute\";\n                node.className = el.evalVisProp('cssclass');\n\n                level = el.evalVisProp('layer');\n                if (!Type.exists(level)) {\n                    // trace nodes have level not set\n                    level = 0;\n                }\n\n                if (this.container.style.zIndex === \"\") {\n                    z = 0;\n                } else {\n                    z = parseInt(this.container.style.zIndex, 10);\n                }\n\n                node.style.zIndex = z + level;\n                this.container.appendChild(node);\n\n                node.setAttribute(\"id\", this.container.id + \"_\" + el.id);\n            } else {\n                node = this.drawInternalText(el);\n            }\n\n            el.rendNode = node;\n            el.htmlStr = \"\";\n\n            // Set el.visPropCalc.visible\n            if (el.visProp.islabel && Type.exists(el.visProp.anchor)) {\n                ev_visible = el.visProp.anchor.evalVisProp('visible');\n                el.prepareUpdate().updateVisibility(ev_visible);\n            } else {\n                el.prepareUpdate().updateVisibility();\n            }\n            this.updateText(el);\n        },\n\n        /**\n         * Updates visual properties of an already existing {@link JXG.Text} element.\n         * @param {JXG.Text} el Reference to an {@link JXG.Text} object, that has to be updated.\n         * @see Text\n         * @see JXG.Text\n         * @see JXG.AbstractRenderer#drawText\n         * @see JXG.AbstractRenderer#drawInternalText\n         * @see JXG.AbstractRenderer#updateInternalText\n         * @see JXG.AbstractRenderer#updateTextStyle\n         */\n        updateText: function (el) {\n            var content = el.plaintext,\n                v, c,\n                parentNode, node,\n                // scale, vshift,\n                // id, wrap_id,\n                ax, ay, angle, co, si,\n                to_h, to_v;\n\n            if (el.visPropCalc.visible) {\n                this.updateTextStyle(el, false);\n\n                if (el.evalVisProp('display') === \"html\" && this.type !== \"no\") {\n                    // Set the position\n                    if (!isNaN(el.coords.scrCoords[1] + el.coords.scrCoords[2])) {\n                        // Horizontal\n                        c = el.coords.scrCoords[1];\n                        // webkit seems to fail for extremely large values for c.\n                        c = Math.abs(c) < 1000000 ? c : 1000000;\n                        ax = el.getAnchorX();\n\n                        if (ax === \"right\") {\n                            // v = Math.floor(el.board.canvasWidth - c);\n                            v = el.board.canvasWidth - c;\n                            to_h = \"right\";\n                        } else if (ax === \"middle\") {\n                            // v = Math.floor(c - 0.5 * el.size[0]);\n                            v = c - 0.5 * el.size[0];\n                            to_h = \"center\";\n                        } else {\n                            // 'left'\n                            // v = Math.floor(c);\n                            v = c;\n                            to_h = \"left\";\n                        }\n\n                        // This may be useful for foreignObj.\n                        //if (window.devicePixelRatio !== undefined) {\n                        //v *= window.devicePixelRatio;\n                        //}\n\n                        if (el.visPropOld.left !== ax + v) {\n                            if (ax === \"right\") {\n                                el.rendNode.style.right = v + \"px\";\n                                el.rendNode.style.left = \"auto\";\n                            } else {\n                                el.rendNode.style.left = v + \"px\";\n                                el.rendNode.style.right = \"auto\";\n                            }\n                            el.visPropOld.left = ax + v;\n                        }\n\n                        // Vertical\n                        c = el.coords.scrCoords[2] + this.vOffsetText;\n                        c = Math.abs(c) < 1000000 ? c : 1000000;\n                        ay = el.getAnchorY();\n\n                        if (ay === \"bottom\") {\n                            // v = Math.floor(el.board.canvasHeight - c);\n                            v = el.board.canvasHeight - c;\n                            to_v = \"bottom\";\n                        } else if (ay === \"middle\") {\n                            // v = Math.floor(c - 0.5 * el.size[1]);\n                            v = c - 0.5 * el.size[1];\n                            to_v = \"center\";\n                        } else {\n                            // top\n                            // v = Math.floor(c);\n                            v = c;\n                            to_v = \"top\";\n                        }\n\n                        // This may be useful for foreignObj.\n                        //if (window.devicePixelRatio !== undefined) {\n                        //v *= window.devicePixelRatio;\n                        //}\n\n                        if (el.visPropOld.top !== ay + v) {\n                            if (ay === \"bottom\") {\n                                el.rendNode.style.top = \"auto\";\n                                el.rendNode.style.bottom = v + \"px\";\n                            } else {\n                                el.rendNode.style.bottom = \"auto\";\n                                el.rendNode.style.top = v + \"px\";\n                            }\n                            el.visPropOld.top = ay + v;\n                        }\n                    }\n\n                    // Set the content\n                    if (el.htmlStr !== content) {\n                        try {\n                            if (el.type === Type.OBJECT_TYPE_BUTTON) {\n                                el.rendNodeButton.innerHTML = content;\n                            } else if (\n                                el.type === Type.OBJECT_TYPE_CHECKBOX ||\n                                el.type === Type.OBJECT_TYPE_INPUT\n                            ) {\n                                el.rendNodeLabel.innerHTML = content;\n                            } else {\n                                el.rendNode.innerHTML = content;\n                            }\n                        } catch (e) {\n                            // Setting innerHTML sometimes fails in IE8.\n                            // A workaround is to take the node off the DOM, assign innerHTML,\n                            // then append back.\n                            // Works for text elements as they are absolutely positioned.\n                            parentNode = el.rendNode.parentNode;\n                            el.rendNode.parentNode.removeChild(el.rendNode);\n                            el.rendNode.innerHTML = content;\n                            parentNode.appendChild(el.rendNode);\n                        }\n                        el.htmlStr = content;\n\n                        if (el.evalVisProp('usemathjax')) {\n                            // Typesetting directly might not work because MathJax was not loaded completely\n                            try {\n                                if (MathJax.typeset) {\n                                    // Version 3\n                                    MathJax.typeset([el.rendNode]);\n                                } else {\n                                    // Version 2\n                                    MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, el.rendNode]);\n                                }\n\n                                // Obsolete:\n                                // // Restore the transformation necessary for fullscreen mode\n                                // // MathJax removes it when handling dynamic content\n                                // id = el.board.container;\n                                // wrap_id = \"fullscreenwrap_\" + id;\n                                // if (document.getElementById(wrap_id)) {\n                                //     scale = el.board.containerObj._cssFullscreenStore.scale;\n                                //     vshift = el.board.containerObj._cssFullscreenStore.vshift;\n                                //     Env.scaleJSXGraphDiv(\n                                //         \"#\" + wrap_id,\n                                //         \"#\" + id,\n                                //         scale,\n                                //         vshift\n                                //     );\n                                // }\n                            } catch (e) {\n                                JXG.debug(\"MathJax (not yet) loaded\");\n                            }\n                        } else if (el.evalVisProp('usekatex')) {\n                            try {\n                                // Checkboxes et. al. do not possess rendNodeLabel during the first update.\n                                // In this case node will be undefined and not rendered by KaTeX.\n                                if (el.rendNode.innerHTML.indexOf('<span') === 0 &&\n                                    el.rendNode.innerHTML.indexOf('<label') > 0 &&\n                                    (\n                                        el.rendNode.innerHTML.indexOf('<checkbox') > 0 ||\n                                        el.rendNode.innerHTML.indexOf('<input') > 0\n                                    )\n                                 ) {\n                                    node = el.rendNodeLabel;\n                                } else if (el.rendNode.innerHTML.indexOf('<button') === 0) {\n                                    node = el.rendNodeButton;\n                                } else {\n                                    node = el.rendNode;\n                                }\n\n                                if (node) {\n                                    /* eslint-disable no-undef */\n                                    katex.render(content, node, {\n                                        macros: el.evalVisProp('katexmacros'),\n                                        throwOnError: false\n                                    });\n                                    /* eslint-enable no-undef */\n                                }\n                            } catch (e) {\n                                JXG.debug(\"KaTeX not loaded (yet)\");\n                            }\n                        } else if (el.evalVisProp('useasciimathml')) {\n                            // This is not a constructor.\n                            // See http://asciimath.org/ for more information\n                            // about AsciiMathML and the project's source code.\n                            try {\n                                AMprocessNode(el.rendNode, false);\n                            } catch (e) {\n                                JXG.debug(\"AsciiMathML not loaded (yet)\");\n                            }\n                        }\n                    }\n\n                    angle = el.evalVisProp('rotate');\n                    if (angle !== 0) {\n                        // Don't forget to convert to rad\n                        angle *= (Math.PI / 180);\n                        co = Math.cos(angle);\n                        si = Math.sin(angle);\n\n                        el.rendNode.style['transform'] = 'matrix(' +\n                                [co, -1 * si, si, co, 0, 0].join(',') +\n                            ')';\n                        el.rendNode.style['transform-origin'] = to_h + ' ' + to_v;\n                    }\n                    this.transformRect(el, el.transformations);\n                } else {\n                    this.updateInternalText(el);\n                }\n            }\n        },\n\n        /**\n         * Converts string containing CSS properties into\n         * array with key-value pair objects.\n         *\n         * @example\n         * \"color:blue; background-color:yellow\" is converted to\n         * [{'color': 'blue'}, {'backgroundColor': 'yellow'}]\n         *\n         * @param  {String} cssString String containing CSS properties\n         * @return {Array}           Array of CSS key-value pairs\n         */\n        _css2js: function (cssString) {\n            var pairs = [],\n                i,\n                len,\n                key,\n                val,\n                s,\n                list = Type.trim(cssString).replace(/;$/, \"\").split(\";\");\n\n            len = list.length;\n            for (i = 0; i < len; ++i) {\n                if (Type.trim(list[i]) !== \"\") {\n                    s = list[i].split(\":\");\n                    key = Type.trim(\n                        s[0].replace(/-([a-z])/gi, function (match, char) {\n                            return char.toUpperCase();\n                        })\n                    );\n                    val = Type.trim(s[1]);\n                    pairs.push({ key: key, val: val });\n                }\n            }\n            return pairs;\n        },\n\n        /**\n         * Updates font-size, color and opacity properties and CSS style properties of a {@link JXG.Text} node.\n         * This function is also called by highlight() and nohighlight().\n         * @param {JXG.Text} el Reference to the {@link JXG.Text} object, that has to be updated.\n         * @param {Boolean} doHighlight\n         * @see Text\n         * @see JXG.Text\n         * @see JXG.AbstractRenderer#drawText\n         * @see JXG.AbstractRenderer#drawInternalText\n         * @see JXG.AbstractRenderer#updateText\n         * @see JXG.AbstractRenderer#updateInternalText\n         * @see JXG.AbstractRenderer#updateInternalTextStyle\n         */\n        updateTextStyle: function (el, doHighlight) {\n            var fs,\n                so, sc,\n                css,\n                node,\n                display = Env.isBrowser ? el.visProp.display : \"internal\",\n                nodeList = [\"rendNode\", \"rendNodeTag\", \"rendNodeLabel\"],\n                lenN = nodeList.length,\n                fontUnit = el.evalVisProp('fontunit'),\n                cssList,\n                prop,\n                style,\n                cssString,\n                styleList = [\"cssdefaultstyle\", \"cssstyle\"],\n                lenS = styleList.length;\n\n            if (doHighlight) {\n                sc = el.evalVisProp('highlightstrokecolor');\n                so = el.evalVisProp('highlightstrokeopacity');\n                css = el.evalVisProp('highlightcssclass');\n            } else {\n                sc = el.evalVisProp('strokecolor');\n                so = el.evalVisProp('strokeopacity');\n                css = el.evalVisProp('cssclass');\n            }\n\n            // This part is executed for all text elements except internal texts in canvas.\n            // HTML-texts or internal texts in SVG or VML.\n            //            HTML    internal\n            //  SVG        +         +\n            //  VML        +         +\n            //  canvas     +         -\n            //  no         -         -\n            if (this.type !== \"no\" && (display === \"html\" || this.type !== \"canvas\")) {\n                for (style = 0; style < lenS; style++) {\n                    // First set cssString to\n                    // ev.cssdefaultstyle of ev.highlightcssdefaultstyle,\n                    // then to\n                    // ev.cssstyle of ev.highlightcssstyle\n                    cssString = el.evalVisProp(\n                        (doHighlight ? 'highlight' : '') + styleList[style]\n                    );\n                    // Set the CSS style properties - without deleting other properties\n                    for (node = 0; node < lenN; node++) {\n                        if (Type.exists(el[nodeList[node]])) {\n                            if (cssString !== \"\" && el.visPropOld[styleList[style] + '_' + node] !== cssString) {\n                                cssList = this._css2js(cssString);\n                                for (prop in cssList) {\n                                    if (cssList.hasOwnProperty(prop)) {\n                                        el[nodeList[node]].style[cssList[prop].key] = cssList[prop].val;\n                                    }\n                                }\n                                el.visPropOld[styleList[style] + '_' + node] = cssString;\n                            }\n                        }\n                        // el.visPropOld[styleList[style]] = cssString;\n                    }\n                }\n\n                fs = el.evalVisProp('fontsize');\n                if (el.visPropOld.fontsize !== fs) {\n                    el.needsSizeUpdate = true;\n                    try {\n                        for (node = 0; node < lenN; node++) {\n                            if (Type.exists(el[nodeList[node]])) {\n                                el[nodeList[node]].style.fontSize = fs + fontUnit;\n                            }\n                        }\n                    } catch (e) {\n                        // IE needs special treatment.\n                        for (node = 0; node < lenN; node++) {\n                            if (Type.exists(el[nodeList[node]])) {\n                                el[nodeList[node]].style.fontSize = fs;\n                            }\n                        }\n                    }\n                    el.visPropOld.fontsize = fs;\n                }\n            }\n\n            this.setTabindex(el);\n\n            this.setObjectTransition(el);\n            if (display === \"html\" && this.type !== \"no\") {\n                // Set new CSS class\n                if (el.visPropOld.cssclass !== css) {\n                    el.rendNode.className = css;\n                    el.visPropOld.cssclass = css;\n                    el.needsSizeUpdate = true;\n                }\n                this.setObjectStrokeColor(el, sc, so);\n            } else {\n                this.updateInternalTextStyle(el, sc, so);\n            }\n\n            if (el.evalVisProp('aria.enabled')) {\n                this.setARIA(el);\n            }\n\n            return this;\n        },\n\n        /**\n         * Set color and opacity of internal texts.\n         * This method is used for Canvas and VML.\n         * SVG needs its own version.\n         * @private\n         * @see JXG.AbstractRenderer#updateTextStyle\n         * @see JXG.SVGRenderer#updateInternalTextStyle\n         */\n        updateInternalTextStyle: function (el, strokeColor, strokeOpacity) {\n            this.setObjectStrokeColor(el, strokeColor, strokeOpacity);\n        },\n\n        /* ********* Image related stuff *********** */\n\n        /**\n         * Draws an {@link JXG.Image} on a board; This is just a template that has to be implemented by special\n         * renderers.\n         * @param {JXG.Image} el Reference to the image object that is to be drawn\n         * @see Image\n         * @see JXG.Image\n         * @see JXG.AbstractRenderer#updateImage\n         */\n        drawImage: function (el) { /* stub */ },\n\n        /**\n         * Updates the properties of an {@link JXG.Image} element.\n         * @param {JXG.Image} el Reference to an {@link JXG.Image} object, that has to be updated.\n         * @see Image\n         * @see JXG.Image\n         * @see JXG.AbstractRenderer#drawImage\n         */\n        updateImage: function (el) {\n            this.updateRectPrim(\n                el.rendNode,\n                el.coords.scrCoords[1],\n                el.coords.scrCoords[2] - el.size[1],\n                el.size[0],\n                el.size[1]\n            );\n\n            this.updateImageURL(el);\n            this.transformRect(el, el.transformations);\n            this._updateVisual(el, { stroke: true, dash: true }, true);\n        },\n\n        /**\n         * Multiplication of transformations without updating. That means, at that point it is expected that the\n         * matrices contain numbers only. First, the origin in user coords is translated to <tt>(0,0)</tt> in screen\n         * coords. Then, the stretch factors are divided out. After the transformations in user coords, the stretch\n         * factors are multiplied in again, and the origin in user coords is translated back to its position. This\n         * method does not have to be implemented in a new renderer.\n         * @param {JXG.GeometryElement} el A JSXGraph element. We only need its board property.\n         * @param {Array} transformations An array of JXG.Transformations.\n         * @returns {Array} A matrix represented by a two dimensional array of numbers.\n         * @see JXG.AbstractRenderer#transformRect\n         */\n        joinTransforms: function (el, transformations) {\n            var i,\n                ox = el.board.origin.scrCoords[1],\n                oy = el.board.origin.scrCoords[2],\n                ux = el.board.unitX,\n                uy = el.board.unitY,\n\n                len = transformations.length,\n                // Translate to 0,0 in screen coords and then scale\n                m = [\n                    [1, 0, 0],\n                    [-ox / ux, 1 / ux, 0],\n                    [oy / uy, 0, -1 / uy]\n                ];\n\n            for (i = 0; i < len; i++) {\n                m = Mat.matMatMult(transformations[i].matrix, m);\n            }\n            // Scale back and then translate back\n            m = Mat.matMatMult(\n                [\n                    [1, 0, 0],\n                    [ox, ux, 0],\n                    [oy, 0, -uy]\n                ],\n                m\n            );\n            return m;\n        },\n\n        /**\n         * Applies transformations on images and text elements. This method has to implemented in\n         * all descendant classes where text and image transformations are to be supported.\n         * <p>\n         * Only affine transformation are supported, no proper projective transformations. This means, the\n         * respective entries of the transformation matrix are simply ignored.\n         *\n         * @param {JXG.Image|JXG.Text} el A {@link JXG.Image} or {@link JXG.Text} object.\n         * @param {Array} transformations An array of {@link JXG.Transformation} objects. This is usually the\n         * transformations property of the given element <tt>el</tt>.\n         */\n        transformRect: function (el, transformations) { /* stub */ },\n\n        /**\n         * If the URL of the image is provided by a function the URL has to be updated during updateImage()\n         * @param {JXG.Image} el Reference to an image object.\n         * @see JXG.AbstractRenderer#updateImage\n         */\n        updateImageURL: function (el) { /* stub */ },\n\n        /**\n         * Updates CSS style properties of a {@link JXG.Image} node.\n         * In SVGRenderer opacity is the only available style element.\n         * This function is called by highlight() and nohighlight().\n         * This function works for VML.\n         * It does not work for Canvas.\n         * SVGRenderer overwrites this method.\n         * @param {JXG.Text} el Reference to the {@link JXG.Image} object, that has to be updated.\n         * @param {Boolean} doHighlight\n         * @see Image\n         * @see JXG.Image\n         * @see JXG.AbstractRenderer#highlight\n         * @see JXG.AbstractRenderer#noHighlight\n         */\n        updateImageStyle: function (el, doHighlight) {\n            el.rendNode.className = el.evalVisProp(\n                doHighlight ? 'highlightcssclass' : 'cssclass'\n            );\n        },\n\n        drawForeignObject: function (el) { /* stub */ },\n\n        updateForeignObject: function (el) {\n            /* stub */\n        },\n\n        /* ********* Render primitive objects *********** */\n\n        /**\n         * Appends a node to a specific layer level. This is just an abstract method and has to be implemented\n         * in all renderers that want to use the <tt>createPrim</tt> model to draw.\n         * @param {Node} node A DOM tree node.\n         * @param {Number} level The layer the node is attached to. This is the index of the layer in\n         * {@link JXG.SVGRenderer#layer} or the <tt>z-index</tt> style property of the node in VMLRenderer.\n         */\n        appendChildPrim: function (node, level) { /* stub */ },\n\n        /**\n         * Stores the rendering nodes. This is an abstract method which has to be implemented in all renderers that use\n         * the <tt>createPrim</tt> method.\n         * @param {JXG.GeometryElement} el A JSXGraph element.\n         * @param {String} type The XML node name. Only used in VMLRenderer.\n         */\n        appendNodesToElement: function (el, type) { /* stub */ },\n\n        /**\n         * Creates a node of a given type with a given id.\n         * @param {String} type The type of the node to create.\n         * @param {String} id Set the id attribute to this.\n         * @returns {Node} Reference to the created node.\n         */\n        createPrim: function (type, id) { /* stub */ return null; },\n\n        /**\n         * Removes an element node. Just a stub.\n         * @param {Node} node The node to remove.\n         */\n        remove: function (node) { /* stub */ },\n\n        /**\n         * Can be used to create the nodes to display arrows. This is an abstract method which has to be implemented\n         * in any descendant renderer.\n         * @param {JXG.GeometryElement} el The element the arrows are to be attached to.\n         * @param {Object} arrowData Data concerning possible arrow heads\n         *\n         */\n        makeArrows: function (el, arrowData) { /* stub */ },\n\n        /**\n         * Updates width of an arrow DOM node. Used in\n         * @param {Node} node The arrow node.\n         * @param {Number} width\n         * @param {Node} parentNode Used in IE only\n         */\n        _setArrowWidth: function (node, width, parentNode) { /* stub */ },\n\n        /**\n         * Updates an ellipse node primitive. This is an abstract method which has to be implemented in all renderers\n         * that use the <tt>createPrim</tt> method.\n         * @param {Node} node Reference to the node.\n         * @param {Number} x Centre X coordinate\n         * @param {Number} y Centre Y coordinate\n         * @param {Number} rx The x-axis radius.\n         * @param {Number} ry The y-axis radius.\n         */\n        updateEllipsePrim: function (node, x, y, rx, ry) { /* stub */ },\n\n        /**\n         * Refreshes a line node. This is an abstract method which has to be implemented in all renderers that use\n         * the <tt>createPrim</tt> method.\n         * @param {Node} node The node to be refreshed.\n         * @param {Number} p1x The first point's x coordinate.\n         * @param {Number} p1y The first point's y coordinate.\n         * @param {Number} p2x The second point's x coordinate.\n         * @param {Number} p2y The second point's y coordinate.\n         * @param {JXG.Board} board\n         */\n        updateLinePrim: function (node, p1x, p1y, p2x, p2y, board) { /* stub */ },\n\n        /**\n         * Updates a path element. This is an abstract method which has to be implemented in all renderers that use\n         * the <tt>createPrim</tt> method.\n         * @param {Node} node The path node.\n         * @param {String} pathString A string formatted like e.g. <em>'M 1,2 L 3,1 L5,5'</em>. The format of the string\n         * depends on the rendering engine.\n         * @param {JXG.Board} board Reference to the element's board.\n         */\n        updatePathPrim: function (node, pathString, board) { /* stub */ },\n\n        /**\n         * Builds a path data string to draw a point with a face other than <em>rect</em> and <em>circle</em>. Since\n         * the format of such a string usually depends on the renderer this method\n         * is only an abstract method. Therefore, it has to be implemented in the descendant renderer itself unless\n         * the renderer does not use the createPrim interface but the draw* interfaces to paint.\n         * @param {JXG.Point} el The point element\n         * @param {Number} size A positive number describing the size. Usually the half of the width and height of\n         * the drawn point.\n         * @param {String} type A string describing the point's face. This method only accepts the shortcut version of\n         * each possible face: <tt>x, +, |, -, [], <>, <<>>,^, v, >, < </tt>\n         */\n        updatePathStringPoint: function (el, size, type) { /* stub */ },\n\n        /**\n         * Builds a path data string from a {@link JXG.Curve} element. Since the path data strings heavily depend on the\n         * underlying rendering technique this method is just a stub. Although such a path string is of no use for the\n         * CanvasRenderer, this method is used there to draw a path directly.\n         * @param {JXG.GeometryElement} el\n         */\n        updatePathStringPrim: function (el) { /* stub */ },\n\n        /**\n         * Builds a path data string from a {@link JXG.Curve} element such that the curve looks like hand drawn. Since\n         * the path data strings heavily depend on the underlying rendering technique this method is just a stub.\n         * Although such a path string is of no use for the CanvasRenderer, this method is used there to draw a path\n         * directly.\n         * @param  {JXG.GeometryElement} el\n         */\n        updatePathStringBezierPrim: function (el) { /* stub */ },\n\n        /**\n         * Update a polygon primitive.\n         * @param {Node} node\n         * @param {JXG.Polygon} el A JSXGraph element of type {@link JXG.Polygon}\n         */\n        updatePolygonPrim: function (node, el) { /* stub */ },\n\n        /**\n         * Update a rectangle primitive. This is used only for points with face of type 'rect'.\n         * @param {Node} node The node yearning to be updated.\n         * @param {Number} x x coordinate of the top left vertex.\n         * @param {Number} y y coordinate of the top left vertex.\n         * @param {Number} w Width of the rectangle.\n         * @param {Number} h The rectangle's height.\n         */\n        updateRectPrim: function (node, x, y, w, h) { /* stub */ },\n\n        /* ********* Set attributes *********** */\n\n        /**\n         * Shows or hides an element on the canvas; Only a stub, requires implementation in the derived renderer.\n         * @param {JXG.GeometryElement} el Reference to the object that has to appear.\n         * @param {Boolean} value true to show the element, false to hide the element.\n         */\n        display: function (el, value) {\n            if (el) {\n                el.visPropOld.visible = value;\n            }\n        },\n\n        /**\n         * Hides an element on the canvas; Only a stub, requires implementation in the derived renderer.\n         *\n         * Please use JXG.AbstractRenderer#display instead\n         * @param {JXG.GeometryElement} el Reference to the geometry element that has to disappear.\n         * @see JXG.AbstractRenderer#show\n         * @deprecated\n         */\n        hide: function (el) { /* stub */ },\n\n        /**\n         * Highlights an object, i.e. changes the current colors of the object to its highlighting colors\n         * and highlighting strokewidth.\n         * @param {JXG.GeometryElement} el Reference of the object that will be highlighted.\n         * @param {Boolean} [suppressHighlightStrokeWidth=undefined] If undefined or false, highlighting also changes strokeWidth. This might not be\n         * the cases for polygon borders. Thus, if a polygon is highlighted, its polygon borders change strokeWidth only if the polygon attribute\n         * highlightByStrokeWidth == true.\n         * @returns {JXG.AbstractRenderer} Reference to the renderer\n         * @see JXG.AbstractRenderer#updateTextStyle\n         */\n        highlight: function (el, suppressHighlightStrokeWidth) {\n            var i, do_hl, sw;\n\n            this.setObjectTransition(el);\n            if (!el.visProp.draft) {\n                if (el.type === Const.OBJECT_TYPE_POLYGON) {\n                    this.setObjectFillColor(el, el.evalVisProp('highlightfillcolor'), el.evalVisProp('highlightfillopacity'));\n                    do_hl = el.evalVisProp('highlightbystrokewidth');\n                    for (i = 0; i < el.borders.length; i++) {\n                        this.highlight(el.borders[i], !do_hl);\n                    }\n                } else {\n                    if (el.elementClass === Const.OBJECT_CLASS_TEXT) {\n                        this.updateTextStyle(el, true);\n                    } else if (el.type === Const.OBJECT_TYPE_IMAGE) {\n                        this.updateImageStyle(el, true);\n                        this.setObjectFillColor(\n                            el,\n                            el.evalVisProp('highlightfillcolor'),\n                            el.evalVisProp('highlightfillopacity')\n                        );\n                    } else {\n                        this.setObjectStrokeColor(\n                            el,\n                            el.evalVisProp('highlightstrokecolor'),\n                            el.evalVisProp('highlightstrokeopacity')\n                        );\n                        this.setObjectFillColor(\n                            el,\n                            el.evalVisProp('highlightfillcolor'),\n                            el.evalVisProp('highlightfillopacity')\n                        );\n                    }\n                }\n\n                // Highlight strokeWidth is suppressed if\n                // parameter suppressHighlightStrokeWidth is false or undefined.\n                // suppressHighlightStrokeWidth is false if polygon attribute\n                // highlightbystrokewidth is true.\n                if (!suppressHighlightStrokeWidth && el.evalVisProp('highlightstrokewidth')) {\n                    sw = Math.max(\n                        el.evalVisProp('highlightstrokewidth'),\n                        el.evalVisProp('strokewidth')\n                    );\n                    this.setObjectStrokeWidth(el, sw);\n                    if (\n                        el.elementClass === Const.OBJECT_CLASS_LINE ||\n                        el.elementClass === Const.OBJECT_CLASS_CURVE\n                    ) {\n                        this.updatePathWithArrowHeads(el, true);\n                    }\n                }\n            }\n            this.setCssClass(el, el.evalVisProp('highlightcssclass'));\n\n            return this;\n        },\n\n        /**\n         * Uses the normal colors of an object, i.e. the opposite of {@link JXG.AbstractRenderer#highlight}.\n         * @param {JXG.GeometryElement} el Reference of the object that will get its normal colors.\n         * @returns {JXG.AbstractRenderer} Reference to the renderer\n         * @see JXG.AbstractRenderer#updateTextStyle\n         */\n        noHighlight: function (el) {\n            var i, sw;\n\n            this.setObjectTransition(el);\n            if (!el.evalVisProp('draft')) {\n                if (el.type === Const.OBJECT_TYPE_POLYGON) {\n                    this.setObjectFillColor(el, el.evalVisProp('fillcolor'), el.evalVisProp('fillopacity'));\n                    for (i = 0; i < el.borders.length; i++) {\n                        this.noHighlight(el.borders[i]);\n                    }\n                } else {\n                    if (el.elementClass === Const.OBJECT_CLASS_TEXT) {\n                        this.updateTextStyle(el, false);\n                    } else if (el.type === Const.OBJECT_TYPE_IMAGE) {\n                        this.updateImageStyle(el, false);\n                        this.setObjectFillColor(el, el.evalVisProp('fillcolor'), el.evalVisProp('fillopacity'));\n                    } else {\n                        this.setObjectStrokeColor(el, el.evalVisProp('strokecolor'), el.evalVisProp('strokeopacity'));\n                        this.setObjectFillColor(el, el.evalVisProp('fillcolor'), el.evalVisProp('fillopacity'));\n                    }\n                }\n\n                sw = el.evalVisProp('strokewidth');\n                this.setObjectStrokeWidth(el, sw);\n                if (\n                    el.elementClass === Const.OBJECT_CLASS_LINE ||\n                    el.elementClass === Const.OBJECT_CLASS_CURVE\n                ) {\n                    this.updatePathWithArrowHeads(el, false);\n                }\n            }\n            this.setCssClass(el, el.evalVisProp('cssclass'));\n\n            return this;\n        },\n\n        /**\n         * Puts an object from draft mode back into normal mode.\n         * @param {JXG.GeometryElement} el Reference of the object that no longer is in draft mode.\n         */\n        removeDraft: function (el) {\n            this.setObjectTransition(el);\n            if (el.type === Const.OBJECT_TYPE_POLYGON) {\n                this.setObjectFillColor(el, el.evalVisProp('fillcolor'), el.evalVisProp('fillopacity'));\n            } else {\n                if (el.type === Const.OBJECT_CLASS_POINT) {\n                    this.setObjectFillColor(el, el.evalVisProp('fillcolor'), el.evalVisProp('fillopacity'));\n                }\n                this.setObjectStrokeColor(el, el.evalVisProp('strokecolor'), el.evalVisProp('strokeopacity'));\n                this.setObjectStrokeWidth(el, el.evalVisProp('strokewidth'));\n            }\n        },\n\n        /**\n         * Set ARIA related properties of an element. The attribute \"aria\" of an element contains at least the\n         * properties \"enabled\", \"label\", and \"live\". Additionally, all available properties from\n         * {@link https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA} may be set.\n         * <p>\n         * In JSXGraph, the available properties are used without the leading 'aria-'.\n         * For example, the value of the JSXGraph attribute 'aria.label' will be set to the\n         * HTML attribute 'aria-label'.\n         *\n         * @param {JXG.GeometryElement} el Reference of the object that wants new\n         *        ARIA attributes.\n         */\n        setARIA: function(el) { /* stub */ },\n\n        /**\n         * Sets the buffering as recommended by SVGWG. Until now only Opera supports this and will be ignored by other\n         * browsers. Although this feature is only supported by SVG we have this method in {@link JXG.AbstractRenderer}\n         * because it is called from outside the renderer.\n         * @param {Node} node The SVG DOM Node which buffering type to update.\n         * @param {String} type Either 'auto', 'dynamic', or 'static'. For an explanation see\n         *   {@link https://www.w3.org/TR/SVGTiny12/painting.html#BufferedRenderingProperty}.\n         */\n        setBuffering: function (node, type) { /* stub */ },\n\n        /**\n         * Sets CSS classes for elements (relevant for SVG only).\n         *\n         * @param {JXG.GeometryElement} el Reference of the object that wants a\n         *         new set of CSS classes.\n         * @param {String} cssClass String containing a space separated list of CSS classes.\n         */\n        setCssClass: function (el, cssClass) { /* stub */ },\n\n        /**\n         * Sets an element's dash style.\n         * @param {JXG.GeometryElement} el An JSXGraph element.\n         */\n        setDashStyle: function (el) { /* stub */ },\n\n        /**\n         * Puts an object into draft mode, i.e. it's visual appearance will be changed. For GEONE<sub>x</sub>T backwards\n         * compatibility.\n         * @param {JXG.GeometryElement} el Reference of the object that is in draft mode.\n         */\n        setDraft: function (el) {\n            if (!el.evalVisProp('draft')) {\n                return;\n            }\n            var draftColor = el.board.options.elements.draft.color,\n                draftOpacity = el.board.options.elements.draft.opacity;\n\n                this.setObjectTransition(el);\n            if (el.type === Const.OBJECT_TYPE_POLYGON) {\n                this.setObjectFillColor(el, draftColor, draftOpacity);\n            } else {\n                if (el.elementClass === Const.OBJECT_CLASS_POINT) {\n                    this.setObjectFillColor(el, draftColor, draftOpacity);\n                } else {\n                    this.setObjectFillColor(el, \"none\", 0);\n                }\n                this.setObjectStrokeColor(el, draftColor, draftOpacity);\n                this.setObjectStrokeWidth(el, el.board.options.elements.draft.strokeWidth);\n            }\n        },\n\n        /**\n         * Sets up nodes for rendering a gradient fill.\n         * @param {JXG.GeometryElement}  el Reference of the object which gets the gradient\n         */\n        setGradient: function (el) { /* stub */ },\n\n        /**\n         * Move element into new layer. This is trivial for canvas, but needs more effort in SVG.\n         * Does not work dynamically, i.e. if level is a function.\n         *\n         * @param {JXG.GeometryElement} el Element which is put into different layer\n         * @param {Number} value Layer number\n         * @private\n         */\n        setLayer: function (el, level) { /* stub */ },\n\n        /**\n         * Sets an objects fill color.\n         * @param {JXG.GeometryElement} el Reference of the object that wants a new fill color.\n         * @param {String} color Color in a HTML/CSS compatible format. If you don't want any fill color at all, choose\n         * 'none'.\n         * @param {Number} opacity Opacity of the fill color. Must be between 0 and 1.\n         */\n        setObjectFillColor: function (el, color, opacity) { /* stub */ },\n\n        /**\n         * Changes an objects stroke color to the given color.\n         * @param {JXG.GeometryElement} el Reference of the {@link JXG.GeometryElement} that gets a new stroke\n         * color.\n         * @param {String} color Color value in a HTML compatible format, e.g. <strong>#00ff00</strong> or\n         * <strong>green</strong> for green.\n         * @param {Number} opacity Opacity of the fill color. Must be between 0 and 1.\n         */\n        setObjectStrokeColor: function (el, color, opacity) { /* stub */ },\n\n        /**\n         * Sets an element's stroke width.\n         * @param {JXG.GeometryElement} el Reference to the geometry element.\n         * @param {Number} width The new stroke width to be assigned to the element.\n         */\n        setObjectStrokeWidth: function (el, width) { /* stub */ },\n\n        /**\n         * Sets the transition duration (in milliseconds) for fill color and stroke\n         * color and opacity.\n         * @param {JXG.GeometryElement} el Reference of the object that wants a\n         *         new transition duration.\n         * @param {Number} duration (Optional) duration in milliseconds. If not given,\n         *        element.visProp.transitionDuration is taken. This is the default.\n         */\n        setObjectTransition: function (el, duration) { /* stub */ },\n\n        /**\n         * Sets a node's attribute.\n         * @param {Node} node The node that is to be updated.\n         * @param {String} key Name of the attribute.\n         * @param {String} val New value for the attribute.\n         */\n        setPropertyPrim: function (node, key, val) { /* stub */ },\n\n        /**\n         * Sets the shadow properties to a geometry element. This method is only a stub, it is implemented in the actual\n         * renderers.\n         * @param {JXG.GeometryElement} el Reference to a geometry object, that should get a shadow\n         */\n        setShadow: function (el) { /* stub */ },\n\n        /**\n         * Set the attribute `tabindex` to the attribute `tabindex` of an element.\n         * This is only relevant for the SVG renderer.\n         *\n         * @param {JXG.GeometryElement} el\n         */\n        setTabindex: function (el) { /* stub */ },\n\n        /**\n         * Shows a hidden element on the canvas; Only a stub, requires implementation in the derived renderer.\n         *\n         * Please use JXG.AbstractRenderer#display instead\n         * @param {JXG.GeometryElement} el Reference to the object that has to appear.\n         * @see JXG.AbstractRenderer#hide\n         * @deprecated\n         */\n        show: function (el) { /* stub */ },\n\n        /**\n         * Updates the gradient fill.\n         * @param {JXG.GeometryElement} el An JSXGraph element with an area that can be filled.\n         */\n        updateGradient: function (el) { /* stub */ },\n\n        /* ********* Renderer control *********** */\n\n        /**\n         * Stop redraw. This method is called before every update, so a non-vector-graphics based renderer can use this\n         * method to delete the contents of the drawing panel. This is an abstract method every descendant renderer\n         * should implement, if appropriate.\n         * @see JXG.AbstractRenderer#unsuspendRedraw\n         */\n        suspendRedraw: function () { /* stub */ },\n\n        /**\n         * Restart redraw. This method is called after updating all the rendering node attributes.\n         * @see JXG.AbstractRenderer#suspendRedraw\n         */\n        unsuspendRedraw: function () { /* stub */ },\n\n        /**\n         * The tiny zoom bar shown on the bottom of a board (if board attribute \"showNavigation\" is true).\n         * It is a div element and gets the CSS class \"JXG_navigation\" and the id {board id}_navigationbar.\n         * <p>\n         * The buttons get the CSS class \"JXG_navigation_button\" and the id {board_id}_name where name is\n         * one of [top, down, left, right, out, 100, in, fullscreen, screenshot, reload, cleartraces].\n         * <p>\n         * The symbols for zoom, navigation and reload are hard-coded.\n         *\n         * @param {JXG.Board} board Reference to a JSXGraph board.\n         * @param {Object} attr Attributes of the navigation bar\n         * @private\n         */\n        drawNavigationBar: function (board, attr) {\n            var doc,\n                node,\n                cancelbubble = function (e) {\n                    if (!e) {\n                        e = window.event;\n                    }\n\n                    if (e.stopPropagation) {\n                        // Non IE<=8\n                        e.stopPropagation();\n                    } else {\n                        e.cancelBubble = true;\n                    }\n                },\n                createButton = function (label, handler, board_id, type) {\n                    var button;\n\n                    board_id = board_id || \"\";\n\n                    button = doc.createElement(\"span\");\n                    button.innerHTML = label; // button.appendChild(doc.createTextNode(label));\n\n                    // Style settings are superseded by adding the CSS class below\n                    button.style.paddingLeft = \"7px\";\n                    button.style.paddingRight = \"7px\";\n\n                    if (button.classList !== undefined) {\n                        // classList not available in IE 9\n                        button.classList.add(\"JXG_navigation_button\");\n                        button.classList.add(\"JXG_navigation_button_\" + type);\n                    }\n                    // button.setAttribute('tabindex', 0);\n\n                    button.setAttribute(\"id\", board_id + '_navigation_' + type);\n                    button.setAttribute(\"aria-hidden\", 'true');   // navigation buttons should never appear in screen reader\n\n                    node.appendChild(button);\n\n                    Env.addEvent(\n                        button,\n                        \"click\",\n                        function (e) {\n                            Type.bind(handler, board)();\n                            return false;\n                        },\n                        board\n                    );\n                    // prevent the click from bubbling down to the board\n                    Env.addEvent(button, \"pointerup\", cancelbubble, board);\n                    Env.addEvent(button, \"pointerdown\", cancelbubble, board);\n                    Env.addEvent(button, \"pointerleave\", cancelbubble, board);\n                    Env.addEvent(button, \"mouseup\", cancelbubble, board);\n                    Env.addEvent(button, \"mousedown\", cancelbubble, board);\n                    Env.addEvent(button, \"touchend\", cancelbubble, board);\n                    Env.addEvent(button, \"touchstart\", cancelbubble, board);\n                };\n\n            if (Env.isBrowser && this.type !== \"no\") {\n                doc = board.containerObj.ownerDocument;\n                node = doc.createElement(\"div\");\n\n                node.setAttribute(\"id\", board.container + \"_navigationbar\");\n\n                // Style settings are superseded by adding the CSS class below\n                node.style.color = attr.strokecolor;\n                node.style.backgroundColor = attr.fillcolor;\n                node.style.padding = attr.padding;\n                node.style.position = attr.position;\n                node.style.fontSize = attr.fontsize;\n                node.style.cursor = attr.cursor;\n                node.style.zIndex = attr.zindex;\n                board.containerObj.appendChild(node);\n                node.style.right = attr.right;\n                node.style.bottom = attr.bottom;\n\n                if (node.classList !== undefined) {\n                    // classList not available in IE 9\n                    node.classList.add(\"JXG_navigation\");\n                }\n                // For XHTML we need unicode instead of HTML entities\n\n                if (board.attr.showfullscreen) {\n                    createButton(\n                        board.attr.fullscreen.symbol,\n                        function () {\n                            board.toFullscreen(board.attr.fullscreen.id);\n                        },\n                        board.container, \"fullscreen\"\n                    );\n                }\n\n                if (board.attr.showscreenshot) {\n                    createButton(\n                        board.attr.screenshot.symbol,\n                        function () {\n                            window.setTimeout(function () {\n                                board.renderer.screenshot(board, \"\", false);\n                            }, 330);\n                        },\n                        board.container, \"screenshot\"\n                    );\n                }\n\n                if (board.attr.showreload) {\n                    // full reload circle: \\u27F2\n                    // the board.reload() method does not exist during the creation\n                    // of this button. That's why this anonymous function wrapper is required.\n                    createButton(\n                        \"\\u21BB\",\n                        function () {\n                            board.reload();\n                        },\n                        board.container, \"reload\"\n                    );\n                }\n\n                if (board.attr.showcleartraces) {\n                    // clear traces symbol (otimes): \\u27F2\n                    createButton(\"\\u2297\",\n                        function () {\n                            board.clearTraces();\n                        },\n                        board.container, \"cleartraces\"\n                    );\n                }\n\n                if (board.attr.shownavigation) {\n                    if (board.attr.showzoom) {\n                        createButton(\"\\u2013\", board.zoomOut, board.container, \"out\");\n                        createButton(\"o\", board.zoom100, board.container, \"100\");\n                        createButton(\"+\", board.zoomIn, board.container, \"in\");\n                    }\n                    createButton(\"\\u2190\", board.clickLeftArrow, board.container, \"left\");\n                    createButton(\"\\u2193\", board.clickUpArrow, board.container, \"down\"); // Down arrow\n                    createButton(\"\\u2191\", board.clickDownArrow, board.container, \"up\"); // Up arrow\n                    createButton(\"\\u2192\", board.clickRightArrow, board.container, \"right\");\n                }\n            }\n        },\n\n        /**\n         * Wrapper for getElementById for maybe other renderers which elements are not directly accessible by DOM\n         * methods like document.getElementById().\n         * @param {String} id Unique identifier for element.\n         * @returns {Object} Reference to a JavaScript object. In case of SVG/VMLRenderer it's a reference to a SVG/VML node.\n         */\n        getElementById: function (id) {\n            var str;\n            if (Type.exists(this.container)) {\n                // Use querySelector over getElementById for compatibility with both 'regular' document\n                // and ShadowDOM fragments.\n                str = this.container.id + '_' + id;\n                // Mask special symbols like '/' and '\\' in id\n                if (Type.exists(CSS) && Type.exists(CSS.escape)) {\n                    str = CSS.escape(str);\n                }\n                return this.container.querySelector('#' + str);\n            }\n            return \"\";\n        },\n\n        /**\n         * Remove an element and provide a function that inserts it into its original position. This method\n         * is taken from this article {@link https://developers.google.com/speed/articles/javascript-dom}.\n         * @author KeeKim Heng, Google Web Developer\n         * @param {Element} el The element to be temporarily removed\n         * @returns {Function} A function that inserts the element into its original position\n         */\n        removeToInsertLater: function (el) {\n            var parentNode = el.parentNode,\n                nextSibling = el.nextSibling;\n\n            if (parentNode === null) {\n                return;\n            }\n            parentNode.removeChild(el);\n\n            return function () {\n                if (nextSibling) {\n                    parentNode.insertBefore(el, nextSibling);\n                } else {\n                    parentNode.appendChild(el);\n                }\n            };\n        },\n\n        /**\n         * Resizes the rendering element\n         * @param {Number} w New width\n         * @param {Number} h New height\n         */\n        resize: function (w, h) { /* stub */ },\n\n        /**\n         * Create crosshair elements (Fadenkreuz) for presentations.\n         * @param {Number} n Number of crosshairs.\n         */\n        createTouchpoints: function (n) { /* stub */ },\n\n        /**\n         * Show a specific crosshair.\n         * @param {Number} i Number of the crosshair to show\n         */\n        showTouchpoint: function (i) { /* stub */ },\n\n        /**\n         * Hide a specific crosshair.\n         * @param {Number} i Number of the crosshair to show\n         */\n        hideTouchpoint: function (i) { /* stub */ },\n\n        /**\n         * Move a specific crosshair.\n         * @param {Number} i Number of the crosshair to show\n         * @param {Array} pos New positon in screen coordinates\n         */\n        updateTouchpoint: function (i, pos) { /* stub */ },\n\n        /* ********* Dump related stuff *********** */\n\n        /**\n         * Convert SVG construction to base64 encoded SVG data URL.\n         * Only available on SVGRenderer.\n         *\n         * @see JXG.SVGRenderer#dumpToDataURI\n         */\n        dumpToDataURI: function (_ignoreTexts) { /* stub */ },\n\n        /**\n         * Convert SVG construction to canvas.\n         * Only available on SVGRenderer.\n         *\n         * @see JXG.SVGRenderer#dumpToCanvas\n         */\n        dumpToCanvas: function (canvasId, w, h, _ignoreTexts) { /* stub */ },\n\n        /**\n         * Display SVG image in html img-tag which enables\n         * easy download for the user.\n         *\n         * See JXG.SVGRenderer#screenshot\n         */\n        screenshot: function (board) { /* stub */ }\n\n    }\n);\n\nexport default JXG.AbstractRenderer;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1870, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristynacoufalova/Documents/geometry_review/node_modules/jsxgraph/src/renderer/svg.js"],"sourcesContent":["/*\n    Copyright 2008-2025\n        Matthias Ehmann,\n        Michael Gerhaeuser,\n        Carsten Miller,\n        Bianca Valentin,\n        Alfred Wassermann,\n        Peter Wilfahrt\n\n    This file is part of JSXGraph.\n\n    JSXGraph is free software dual licensed under the GNU LGPL or MIT License.\n\n    You can redistribute it and/or modify it under the terms of the\n\n      * GNU Lesser General Public License as published by\n        the Free Software Foundation, either version 3 of the License, or\n        (at your option) any later version\n      OR\n      * MIT License: https://github.com/jsxgraph/jsxgraph/blob/master/LICENSE.MIT\n\n    JSXGraph is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License and\n    the MIT License along with JSXGraph. If not, see <https://www.gnu.org/licenses/>\n    and <https://opensource.org/licenses/MIT/>.\n */\n\n/*global JXG: true, define: true, AMprocessNode: true, MathJax: true, document: true */\n/*jslint nomen: true, plusplus: true, newcap:true*/\n\nimport JXG from \"../jxg.js\";\nimport Options from \"../options.js\";\nimport AbstractRenderer from \"./abstract.js\";\nimport Const from \"../base/constants.js\";\nimport Type from \"../utils/type.js\";\nimport Color from \"../utils/color.js\";\nimport Base64 from \"../utils/base64.js\";\nimport Numerics from \"../math/numerics.js\";\n\n/**\n * Uses SVG to implement the rendering methods defined in {@link JXG.AbstractRenderer}.\n * @class JXG.SVGRenderer\n * @augments JXG.AbstractRenderer\n * @param {Node} container Reference to a DOM node containing the board.\n * @param {Object} dim The dimensions of the board\n * @param {Number} dim.width\n * @param {Number} dim.height\n * @see JXG.AbstractRenderer\n */\nJXG.SVGRenderer = function (container, dim) {\n    var i;\n\n    // docstring in AbstractRenderer\n    this.type = \"svg\";\n\n    this.isIE =\n        navigator.appVersion.indexOf(\"MSIE\") !== -1 || navigator.userAgent.match(/Trident\\//);\n\n    /**\n     * SVG root node\n     * @type Node\n     */\n    this.svgRoot = null;\n\n    /**\n     * The SVG Namespace used in JSXGraph.\n     * @see http://www.w3.org/TR/SVG2/\n     * @type String\n     * @default http://www.w3.org/2000/svg\n     */\n    this.svgNamespace = \"http://www.w3.org/2000/svg\";\n\n    /**\n     * The xlink namespace. This is used for images.\n     * @see http://www.w3.org/TR/xlink/\n     * @type String\n     * @default http://www.w3.org/1999/xlink\n     */\n    this.xlinkNamespace = \"http://www.w3.org/1999/xlink\";\n\n    // container is documented in AbstractRenderer.\n    // Type node\n    this.container = container;\n\n    // prepare the div container and the svg root node for use with JSXGraph\n    this.container.style.MozUserSelect = \"none\";\n    this.container.style.userSelect = \"none\";\n\n    this.container.style.overflow = \"hidden\";\n    if (this.container.style.position === \"\") {\n        this.container.style.position = \"relative\";\n    }\n\n    this.svgRoot = this.container.ownerDocument.createElementNS(this.svgNamespace, \"svg\");\n    this.svgRoot.style.overflow = \"hidden\";\n    this.svgRoot.style.display = \"block\";\n    this.resize(dim.width, dim.height);\n\n    //this.svgRoot.setAttributeNS(null, 'shape-rendering', 'crispEdge'); //'optimizeQuality'); //geometricPrecision');\n\n    this.container.appendChild(this.svgRoot);\n\n    /**\n     * The <tt>defs</tt> element is a container element to reference reusable SVG elements.\n     * @type Node\n     * @see https://www.w3.org/TR/SVG2/struct.html#DefsElement\n     */\n    this.defs = this.container.ownerDocument.createElementNS(this.svgNamespace, \"defs\");\n    this.svgRoot.appendChild(this.defs);\n\n    /**\n     * Filters are used to apply shadows.\n     * @type Node\n     * @see https://www.w3.org/TR/SVG2/struct.html#DefsElement\n     */\n    /**\n     * Create an SVG shadow filter. If the object's RGB color is [r,g,b], it's opacity is op, and\n     * the parameter color is given as [r', g', b'] with opacity op'\n     * the shadow will have RGB color [blend*r + r', blend*g + g', blend*b + b'] and the opacity will be equal to op * op'.\n     * Further, blur and offset can be adjusted.\n     *\n     * The shadow color is [r*ble\n     * @param {String} id Node is of the filter.\n     * @param {Array|String} rgb RGB value for the blend color or the string 'none' for default values. Default 'black'.\n     * @param {Number} opacity Value between 0 and 1, default is 1.\n     * @param {Number} blend  Value between 0 and 1, default is 0.1.\n     * @param {Number} blur  Default: 3\n     * @param {Array} offset [dx, dy]. Default is [5,5].\n     * @returns DOM node to be added to this.defs.\n     * @private\n     */\n    this.createShadowFilter = function (id, rgb, opacity, blend, blur, offset) {\n        var filter = this.container.ownerDocument.createElementNS(this.svgNamespace, 'filter'),\n            feOffset, feColor, feGaussianBlur, feBlend,\n            mat;\n\n        filter.setAttributeNS(null, 'id', id);\n        filter.setAttributeNS(null, 'width', '300%');\n        filter.setAttributeNS(null, 'height', '300%');\n        filter.setAttributeNS(null, 'filterUnits', 'userSpaceOnUse');\n\n        feOffset = this.container.ownerDocument.createElementNS(this.svgNamespace, 'feOffset');\n        feOffset.setAttributeNS(null, 'in', 'SourceGraphic'); // b/w: SourceAlpha, Color: SourceGraphic\n        feOffset.setAttributeNS(null, 'result', 'offOut');\n        feOffset.setAttributeNS(null, 'dx', offset[0]);\n        feOffset.setAttributeNS(null, 'dy', offset[1]);\n        filter.appendChild(feOffset);\n\n        feColor = this.container.ownerDocument.createElementNS(this.svgNamespace, 'feColorMatrix');\n        feColor.setAttributeNS(null, 'in', 'offOut');\n        feColor.setAttributeNS(null, 'result', 'colorOut');\n        feColor.setAttributeNS(null, 'type', 'matrix');\n        // See https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feColorMatrix\n        if (rgb === 'none' || !Type.isArray(rgb) || rgb.length < 3) {\n            feColor.setAttributeNS(null, 'values', '0.1 0 0 0 0  0 0.1 0 0 0  0 0 0.1 0 0  0 0 0 ' + opacity + ' 0');\n        } else {\n            rgb[0] /= 255;\n            rgb[1] /= 255;\n            rgb[2] /= 255;\n            mat = blend + ' 0 0 0 ' + rgb[0] +\n                '  0 ' + blend + ' 0 0 ' + rgb[1] +\n                '  0 0 ' + blend + ' 0 ' + rgb[2] +\n                '  0 0 0 ' + opacity + ' 0';\n            feColor.setAttributeNS(null, 'values', mat);\n        }\n        filter.appendChild(feColor);\n\n        feGaussianBlur = this.container.ownerDocument.createElementNS(this.svgNamespace, 'feGaussianBlur');\n        feGaussianBlur.setAttributeNS(null, 'in', 'colorOut');\n        feGaussianBlur.setAttributeNS(null, 'result', 'blurOut');\n        feGaussianBlur.setAttributeNS(null, 'stdDeviation', blur);\n        filter.appendChild(feGaussianBlur);\n\n        feBlend = this.container.ownerDocument.createElementNS(this.svgNamespace, 'feBlend');\n        feBlend.setAttributeNS(null, 'in', 'SourceGraphic');\n        feBlend.setAttributeNS(null, 'in2', 'blurOut');\n        feBlend.setAttributeNS(null, 'mode', 'normal');\n        filter.appendChild(feBlend);\n\n        return filter;\n    };\n\n    /**\n     * Create a \"unique\" string id from the arguments of the function.\n     * Concatenate all arguments by \"_\".\n     * \"Unique\" is achieved by simply prepending the container id.\n     * Do not escape the string.\n     *\n     * If the id is used in an \"url()\" call it must be eascaped.\n     *\n     * @params {String} one or strings which will be concatenated.\n     * @return {String}\n     * @private\n     */\n    this.uniqName = function () {\n        return this.container.id + '_' +\n            Array.prototype.slice.call(arguments).join('_');\n    };\n\n    /**\n     * Combine arguments to a string, joined by empty string.\n     * The container id needs to be escaped, as it may contain URI-unsafe characters\n     *\n     * @params {String} str variable number of strings\n     * @returns String\n     * @see JXG.SVGRenderer#toURL\n     * @private\n     * @example\n     * this.toStr('aaa', '_', 'bbb', 'TriangleEnd')\n     * // Output:\n     * // xxx_bbbTriangleEnd\n     */\n    this.toStr = function() {\n        // ES6 would be [...arguments].join()\n        var str = Array.prototype.slice.call(arguments).join('');\n        // Mask special symbols like '/' and '\\' in id\n        if (Type.exists(encodeURIComponent)) {\n            str = encodeURIComponent(str);\n        }\n        return str;\n    };\n\n    /**\n     * Combine arguments to an URL string of the form\n     * url(#...)\n     * Masks the container id. Calls {@link JXG.SVGRenderer#toStr}.\n     *\n     * @params {String} str variable number of strings\n     * @returns URL string\n     * @see JXG.SVGRenderer#toStr\n     * @private\n     * @example\n     * this.toURL('aaa', '_', 'bbb', 'TriangleEnd')\n     * // Output:\n     * // url(#xxx_bbbTriangleEnd)\n     */\n    this.toURL = function () {\n        return 'url(#' +\n            this.toStr.apply(this, arguments) + // Pass the arguments to toStr\n            ')';\n    };\n\n    /* Default shadow filter */\n    this.defs.appendChild(this.createShadowFilter(this.uniqName('f1'), 'none', 1, 0.1, 3, [5, 5]));\n\n    /**\n     * JSXGraph uses a layer system to sort the elements on the board. This puts certain types of elements in front\n     * of other types of elements. For the order used see {@link JXG.Options.layer}. The number of layers is documented\n     * there, too. The higher the number, the \"more on top\" are the elements on this layer.\n     * @type Array\n     */\n    this.layer = [];\n    for (i = 0; i < Options.layer.numlayers; i++) {\n        this.layer[i] = this.container.ownerDocument.createElementNS(this.svgNamespace, 'g');\n        this.svgRoot.appendChild(this.layer[i]);\n    }\n\n    try {\n        this.foreignObjLayer = this.container.ownerDocument.createElementNS(\n            this.svgNamespace,\n            \"foreignObject\"\n        );\n        this.foreignObjLayer.setAttribute(\"display\", \"none\");\n        this.foreignObjLayer.setAttribute(\"x\", 0);\n        this.foreignObjLayer.setAttribute(\"y\", 0);\n        this.foreignObjLayer.setAttribute(\"width\", \"100%\");\n        this.foreignObjLayer.setAttribute(\"height\", \"100%\");\n        this.foreignObjLayer.setAttribute(\"id\", this.uniqName('foreignObj'));\n        this.svgRoot.appendChild(this.foreignObjLayer);\n        this.supportsForeignObject = true;\n    } catch (e) {\n        this.supportsForeignObject = false;\n    }\n};\n\nJXG.SVGRenderer.prototype = new AbstractRenderer();\n\nJXG.extend(\n    JXG.SVGRenderer.prototype,\n    /** @lends JXG.SVGRenderer.prototype */ {\n        /* ******************************** *\n         *  This renderer does not need to\n         *  override draw/update* methods\n         *  since it provides draw/update*Prim\n         *  methods except for some cases like\n         *  internal texts or images.\n         * ******************************** */\n\n        /* ********* Arrow head related stuff *********** */\n\n        /**\n         * Creates an arrow DOM node. Arrows are displayed in SVG with a <em>marker</em> tag.\n         * @private\n         * @param {JXG.GeometryElement} el A JSXGraph element, preferably one that can have an arrow attached.\n         * @param {String} [idAppendix=''] A string that is added to the node's id.\n         * @returns {Node} Reference to the node added to the DOM.\n         */\n        _createArrowHead: function (el, idAppendix, type) {\n            var node2,\n                node3,\n                id = el.id + \"Triangle\",\n                //type = null,\n                v,\n                h;\n\n            if (Type.exists(idAppendix)) {\n                id += idAppendix;\n            }\n            if (Type.exists(type)) {\n                id += type;\n            }\n            node2 = this.createPrim(\"marker\", id);\n\n            node2.setAttributeNS(null, \"stroke\", el.evalVisProp('strokecolor'));\n            node2.setAttributeNS(\n                null,\n                \"stroke-opacity\",\n                el.evalVisProp('strokeopacity')\n            );\n            node2.setAttributeNS(null, \"fill\", el.evalVisProp('strokecolor'));\n            node2.setAttributeNS(null, \"fill-opacity\", el.evalVisProp('strokeopacity'));\n            node2.setAttributeNS(null, \"stroke-width\", 0); // this is the stroke-width of the arrow head.\n            // Should be zero to simplify the calculations\n\n            node2.setAttributeNS(null, \"orient\", \"auto\");\n            node2.setAttributeNS(null, \"markerUnits\", \"strokeWidth\"); // 'strokeWidth' 'userSpaceOnUse');\n\n            /*\n               Types 1, 2:\n               The arrow head is an isosceles triangle with base length 10 and height 10.\n\n               Type 3:\n               A rectangle\n\n               Types 4, 5, 6:\n               Defined by Bezier curves from mp_arrowheads.html\n\n               In any case but type 3 the arrow head is 10 units long,\n               type 3 is 10 units high.\n               These 10 units are scaled to strokeWidth * arrowSize pixels, see\n               this._setArrowWidth().\n\n               See also abstractRenderer.updateLine() where the line path is shortened accordingly.\n\n               Changes here are also necessary in setArrowWidth().\n\n               So far, lines with arrow heads are shortenend to avoid overlapping of\n               arrow head and line. This is not the case for curves, yet.\n               Therefore, the offset refX has to be adapted to the path type.\n            */\n            node3 = this.container.ownerDocument.createElementNS(this.svgNamespace, \"path\");\n            h = 5;\n            if (idAppendix === \"Start\") {\n                // First arrow\n                v = 0;\n                if (type === 2) {\n                    node3.setAttributeNS(null, \"d\", \"M 10,0 L 0,5 L 10,10 L 5,5 z\");\n                } else if (type === 3) {\n                    node3.setAttributeNS(null, \"d\", \"M 0,0 L 3.33,0 L 3.33,10 L 0,10 z\");\n                } else if (type === 4) {\n                    // insetRatio:0.8 tipAngle:45 wingCurve:15 tailCurve:0\n                    h = 3.31;\n                    node3.setAttributeNS(\n                        null,\n                        \"d\",\n                        \"M 0.00,3.31 C 3.53,3.84 7.13,4.50 10.00,6.63 C 9.33,5.52 8.67,4.42 8.00,3.31 C 8.67,2.21 9.33,1.10 10.00,0.00 C 7.13,2.13 3.53,2.79 0.00,3.31\"\n                    );\n                } else if (type === 5) {\n                    // insetRatio:0.9 tipAngle:40 wingCurve:5 tailCurve:15\n                    h = 3.28;\n                    node3.setAttributeNS(\n                        null,\n                        \"d\",\n                        \"M 0.00,3.28 C 3.39,4.19 6.81,5.07 10.00,6.55 C 9.38,5.56 9.00,4.44 9.00,3.28 C 9.00,2.11 9.38,0.99 10.00,0.00 C 6.81,1.49 3.39,2.37 0.00,3.28\"\n                    );\n                } else if (type === 6) {\n                    // insetRatio:0.9 tipAngle:35 wingCurve:5 tailCurve:0\n                    h = 2.84;\n                    node3.setAttributeNS(\n                        null,\n                        \"d\",\n                        \"M 0.00,2.84 C 3.39,3.59 6.79,4.35 10.00,5.68 C 9.67,4.73 9.33,3.78 9.00,2.84 C 9.33,1.89 9.67,0.95 10.00,0.00 C 6.79,1.33 3.39,2.09 0.00,2.84\"\n                    );\n                } else if (type === 7) {\n                    // insetRatio:0.9 tipAngle:60 wingCurve:30 tailCurve:0\n                    h = 5.2;\n                    node3.setAttributeNS(\n                        null,\n                        \"d\",\n                        \"M 0.00,5.20 C 4.04,5.20 7.99,6.92 10.00,10.39 M 10.00,0.00 C 7.99,3.47 4.04,5.20 0.00,5.20\"\n                    );\n                } else {\n                    // type == 1 or > 6\n                    node3.setAttributeNS(null, \"d\", \"M 10,0 L 0,5 L 10,10 z\");\n                }\n                if (\n                    // !Type.exists(el.rendNode.getTotalLength) &&\n                    el.elementClass === Const.OBJECT_CLASS_LINE\n                ) {\n                    if (type === 2) {\n                        v = 4.9;\n                    } else if (type === 3) {\n                        v = 3.3;\n                    } else if (type === 4 || type === 5 || type === 6) {\n                        v = 6.66;\n                    } else if (type === 7) {\n                        v = 0.0;\n                    } else {\n                        v = 10.0;\n                    }\n                }\n            } else {\n                // Last arrow\n                v = 10.0;\n                if (type === 2) {\n                    node3.setAttributeNS(null, \"d\", \"M 0,0 L 10,5 L 0,10 L 5,5 z\");\n                } else if (type === 3) {\n                    v = 3.3;\n                    node3.setAttributeNS(null, \"d\", \"M 0,0 L 3.33,0 L 3.33,10 L 0,10 z\");\n                } else if (type === 4) {\n                    // insetRatio:0.8 tipAngle:45 wingCurve:15 tailCurve:0\n                    h = 3.31;\n                    node3.setAttributeNS(\n                        null,\n                        \"d\",\n                        \"M 10.00,3.31 C 6.47,3.84 2.87,4.50 0.00,6.63 C 0.67,5.52 1.33,4.42 2.00,3.31 C 1.33,2.21 0.67,1.10 0.00,0.00 C 2.87,2.13 6.47,2.79 10.00,3.31\"\n                    );\n                } else if (type === 5) {\n                    // insetRatio:0.9 tipAngle:40 wingCurve:5 tailCurve:15\n                    h = 3.28;\n                    node3.setAttributeNS(\n                        null,\n                        \"d\",\n                        \"M 10.00,3.28 C 6.61,4.19 3.19,5.07 0.00,6.55 C 0.62,5.56 1.00,4.44 1.00,3.28 C 1.00,2.11 0.62,0.99 0.00,0.00 C 3.19,1.49 6.61,2.37 10.00,3.28\"\n                    );\n                } else if (type === 6) {\n                    // insetRatio:0.9 tipAngle:35 wingCurve:5 tailCurve:0\n                    h = 2.84;\n                    node3.setAttributeNS(\n                        null,\n                        \"d\",\n                        \"M 10.00,2.84 C 6.61,3.59 3.21,4.35 0.00,5.68 C 0.33,4.73 0.67,3.78 1.00,2.84 C 0.67,1.89 0.33,0.95 0.00,0.00 C 3.21,1.33 6.61,2.09 10.00,2.84\"\n                    );\n                } else if (type === 7) {\n                    // insetRatio:0.9 tipAngle:60 wingCurve:30 tailCurve:0\n                    h = 5.2;\n                    node3.setAttributeNS(\n                        null,\n                        \"d\",\n                        \"M 10.00,5.20 C 5.96,5.20 2.01,6.92 0.00,10.39 M 0.00,0.00 C 2.01,3.47 5.96,5.20 10.00,5.20\"\n                    );\n                } else {\n                    // type == 1 or > 6\n                    node3.setAttributeNS(null, \"d\", \"M 0,0 L 10,5 L 0,10 z\");\n                }\n                if (\n                    // !Type.exists(el.rendNode.getTotalLength) &&\n                    el.elementClass === Const.OBJECT_CLASS_LINE\n                ) {\n                    if (type === 2) {\n                        v = 5.1;\n                    } else if (type === 3) {\n                        v = 0.02;\n                    } else if (type === 4 || type === 5 || type === 6) {\n                        v = 3.33;\n                    } else if (type === 7) {\n                        v = 10.0;\n                    } else {\n                        v = 0.05;\n                    }\n                }\n            }\n            if (type === 7) {\n                node2.setAttributeNS(null, \"fill\", \"none\");\n                node2.setAttributeNS(null, \"stroke-width\", 1); // this is the stroke-width of the arrow head.\n            }\n            node2.setAttributeNS(null, \"refY\", h);\n            node2.setAttributeNS(null, \"refX\", v);\n\n            node2.appendChild(node3);\n            return node2;\n        },\n\n        /**\n         * Updates color of an arrow DOM node.\n         * @param {Node} node The arrow node.\n         * @param {String} color Color value in a HTML compatible format, e.g. <tt>#00ff00</tt> or <tt>green</tt> for green.\n         * @param {Number} opacity\n         * @param {JXG.GeometryElement} el The element the arrows are to be attached to\n         */\n        _setArrowColor: function (node, color, opacity, el, type) {\n            if (node) {\n                if (Type.isString(color)) {\n                    if (type !== 7) {\n                        this._setAttribute(function () {\n                            node.setAttributeNS(null, \"stroke\", color);\n                            node.setAttributeNS(null, \"fill\", color);\n                            node.setAttributeNS(null, \"stroke-opacity\", opacity);\n                            node.setAttributeNS(null, \"fill-opacity\", opacity);\n                        }, el.visPropOld.fillcolor);\n                    } else {\n                        this._setAttribute(function () {\n                            node.setAttributeNS(null, \"fill\", \"none\");\n                            node.setAttributeNS(null, \"stroke\", color);\n                            node.setAttributeNS(null, \"stroke-opacity\", opacity);\n                        }, el.visPropOld.fillcolor);\n                    }\n                }\n\n                // if (this.isIE) {\n                    // Necessary, since Safari is the new IE (11.2024)\n                    el.rendNode.parentNode.insertBefore(el.rendNode, el.rendNode);\n                // }\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        _setArrowWidth: function (node, width, parentNode, size) {\n            var s, d;\n\n            if (node) {\n                // if (width === 0) {\n                //     // display:none does not work well in webkit\n                //     node.setAttributeNS(null, 'display', 'none');\n                // } else {\n                s = width;\n                d = s * size;\n                node.setAttributeNS(null, \"viewBox\", 0 + \" \" + 0 + \" \" + s * 10 + \" \" + s * 10);\n                node.setAttributeNS(null, \"markerHeight\", d);\n                node.setAttributeNS(null, \"markerWidth\", d);\n                node.setAttributeNS(null, \"display\", \"inherit\");\n                // }\n\n                // if (this.isIE) {\n                    // Necessary, since Safari is the new IE (11.2024)\n                    parentNode.parentNode.insertBefore(parentNode, parentNode);\n                // }\n            }\n        },\n\n        /* ********* Line related stuff *********** */\n\n        // documented in AbstractRenderer\n        updateTicks: function (ticks) {\n            var i,\n                j,\n                c,\n                node,\n                x,\n                y,\n                tickStr = \"\",\n                len = ticks.ticks.length,\n                len2,\n                str,\n                isReal = true;\n\n            for (i = 0; i < len; i++) {\n                c = ticks.ticks[i];\n                x = c[0];\n                y = c[1];\n\n                len2 = x.length;\n                str = \" M \" + x[0] + \" \" + y[0];\n                if (!Type.isNumber(x[0])) {\n                    isReal = false;\n                }\n                for (j = 1; isReal && j < len2; ++j) {\n                    if (Type.isNumber(x[j])) {\n                        str += \" L \" + x[j] + \" \" + y[j];\n                    } else {\n                        isReal = false;\n                    }\n                }\n                if (isReal) {\n                    tickStr += str;\n                }\n            }\n\n            node = ticks.rendNode;\n\n            if (!Type.exists(node)) {\n                node = this.createPrim(\"path\", ticks.id);\n                this.appendChildPrim(node, ticks.evalVisProp('layer'));\n                ticks.rendNode = node;\n            }\n\n            node.setAttributeNS(null, \"stroke\", ticks.evalVisProp('strokecolor'));\n            node.setAttributeNS(null, \"fill\", \"none\");\n            // node.setAttributeNS(null, 'fill', ticks.evalVisProp('fillcolor'));\n            // node.setAttributeNS(null, 'fill-opacity', ticks.evalVisProp('fillopacity'));\n            node.setAttributeNS(\n                null,\n                \"stroke-opacity\",\n                ticks.evalVisProp('strokeopacity')\n            );\n            node.setAttributeNS(null, \"stroke-width\", ticks.evalVisProp('strokewidth'));\n            this.updatePathPrim(node, tickStr, ticks.board);\n        },\n\n        /* ********* Text related stuff *********** */\n\n        // Already documented in JXG.AbstractRenderer\n        displayCopyright: function (str, fontsize) {\n            var node, t,\n                x = 4 + 1.8 * fontsize,\n                y = 6 + fontsize,\n                alpha = 0.2;\n\n            node = this.createPrim(\"text\", 'licenseText');\n            node.setAttributeNS(null, 'x', x + 'px');\n            node.setAttributeNS(null, 'y', y + 'px');\n            node.setAttributeNS(null, 'style', 'font-family:Arial,Helvetica,sans-serif; font-size:' +\n                fontsize + 'px; opacity:' + alpha + ';');\n                // fill:#356AA0;\n            node.setAttributeNS(null, 'aria-hidden', 'true');\n\n            t = this.container.ownerDocument.createTextNode(str);\n            node.appendChild(t);\n            this.appendChildPrim(node, 0);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        displayLogo: function (str, fontsize) {\n            var node,\n                s = 1.5 * fontsize,\n                alpha = 0.2;\n\n            node = this.createPrim(\"image\", 'licenseLogo');\n            node.setAttributeNS(null, 'x', '5px');\n            node.setAttributeNS(null, 'y', '5px');\n            node.setAttributeNS(null, 'width', s + 'px');\n            node.setAttributeNS(null, 'height', s + 'px');\n            node.setAttributeNS(null, \"preserveAspectRatio\", \"none\");\n            node.setAttributeNS(null, 'style', 'opacity:' + alpha + ';');\n            node.setAttributeNS(null, 'aria-hidden', 'true');\n\n            node.setAttributeNS(this.xlinkNamespace, \"xlink:href\", str);\n            this.appendChildPrim(node, 0);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        drawInternalText: function (el) {\n            var node = this.createPrim(\"text\", el.id);\n\n            //node.setAttributeNS(null, \"style\", \"alignment-baseline:middle\"); // Not yet supported by Firefox\n            // Preserve spaces\n            //node.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"space\", \"preserve\");\n            node.style.whiteSpace = \"nowrap\";\n\n            el.rendNodeText = this.container.ownerDocument.createTextNode(\"\");\n            node.appendChild(el.rendNodeText);\n            this.appendChildPrim(node, el.evalVisProp('layer'));\n\n            return node;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateInternalText: function (el) {\n            var content = el.plaintext,\n                v, css,\n                ev_ax = el.getAnchorX(),\n                ev_ay = el.getAnchorY();\n\n            css = el.evalVisProp('cssclass');\n            if (el.rendNode.getAttributeNS(null, \"class\") !== css) {\n                el.rendNode.setAttributeNS(null, \"class\", css);\n                el.needsSizeUpdate = true;\n            }\n\n            if (!isNaN(el.coords.scrCoords[1] + el.coords.scrCoords[2])) {\n                // Horizontal\n                v = el.coords.scrCoords[1];\n                if (el.visPropOld.left !== ev_ax + v) {\n                    el.rendNode.setAttributeNS(null, \"x\", v + \"px\");\n\n                    if (ev_ax === \"left\") {\n                        el.rendNode.setAttributeNS(null, \"text-anchor\", \"start\");\n                    } else if (ev_ax === \"right\") {\n                        el.rendNode.setAttributeNS(null, \"text-anchor\", \"end\");\n                    } else if (ev_ax === \"middle\") {\n                        el.rendNode.setAttributeNS(null, \"text-anchor\", \"middle\");\n                    }\n                    el.visPropOld.left = ev_ax + v;\n                }\n\n                // Vertical\n                v = el.coords.scrCoords[2];\n                if (el.visPropOld.top !== ev_ay + v) {\n                    el.rendNode.setAttributeNS(null, \"y\", v + this.vOffsetText * 0.5 + \"px\");\n\n                    // Not supported by IE, edge\n                    // el.rendNode.setAttributeNS(null, \"dy\", \"0\");\n                    // if (ev_ay === \"bottom\") {\n                    //     el.rendNode.setAttributeNS(null, 'dominant-baseline', 'text-after-edge');\n                    // } else if (ev_ay === \"top\") {\n                    //     el.rendNode.setAttributeNS(null, 'dominant-baseline', 'text-before-edge');\n                    // } else if (ev_ay === \"middle\") {\n                    //     el.rendNode.setAttributeNS(null, 'dominant-baseline', 'middle');\n                    // }\n\n                    if (ev_ay === \"bottom\") {\n                        el.rendNode.setAttributeNS(null, \"dy\", \"0\");\n                        el.rendNode.setAttributeNS(null, 'dominant-baseline', 'auto');\n                    } else if (ev_ay === \"top\") {\n                        el.rendNode.setAttributeNS(null, \"dy\", \"1.6ex\");\n                        el.rendNode.setAttributeNS(null, 'dominant-baseline', 'auto');\n                    } else if (ev_ay === \"middle\") {\n                        el.rendNode.setAttributeNS(null, \"dy\", \"0.6ex\");\n                        el.rendNode.setAttributeNS(null, 'dominant-baseline', 'auto');\n                    }\n                    el.visPropOld.top = ev_ay + v;\n                }\n            }\n            if (el.htmlStr !== content) {\n                el.rendNodeText.data = content;\n                el.htmlStr = content;\n            }\n            this.transformRect(el, el.transformations);\n        },\n\n        /**\n         * Set color and opacity of internal texts.\n         * @private\n         * @see JXG.AbstractRenderer#updateTextStyle\n         * @see JXG.AbstractRenderer#updateInternalTextStyle\n         */\n        updateInternalTextStyle: function (el, strokeColor, strokeOpacity, duration) {\n            this.setObjectFillColor(el, strokeColor, strokeOpacity);\n        },\n\n        /* ********* Image related stuff *********** */\n\n        // Already documented in JXG.AbstractRenderer\n        drawImage: function (el) {\n            var node = this.createPrim(\"image\", el.id);\n\n            node.setAttributeNS(null, \"preserveAspectRatio\", \"none\");\n            this.appendChildPrim(node, el.evalVisProp('layer'));\n            el.rendNode = node;\n\n            this.updateImage(el);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        transformRect: function (el, t) {\n            var s, m, node,\n                str = \"\",\n                cx, cy,\n                len = t.length;\n\n            if (len > 0) {\n                node = el.rendNode;\n                m = this.joinTransforms(el, t);\n                s = [m[1][1], m[2][1], m[1][2], m[2][2], m[1][0], m[2][0]].join(\",\");\n                if (s.indexOf('NaN') === -1) {\n                    str += \" matrix(\" + s + \") \";\n                    if (el.elementClass === Const.OBJECT_CLASS_TEXT && el.visProp.display === 'html') {\n                        node.style.transform = str;\n                        cx = -el.coords.scrCoords[1];\n                        cy = -el.coords.scrCoords[2];\n                        switch (el.evalVisProp('anchorx')) {\n                            case 'right': cx += el.size[0]; break;\n                            case 'middle': cx += el.size[0] * 0.5; break;\n                        }\n                        switch (el.evalVisProp('anchory')) {\n                            case 'bottom': cy += el.size[1]; break;\n                            case 'middle': cy += el.size[1] * 0.5; break;\n                        }\n                        node.style['transform-origin'] = (cx) + 'px ' + (cy) + 'px';\n                    } else {\n                        // Images and texts with display:'internal'\n                        node.setAttributeNS(null, \"transform\", str);\n                    }\n                }\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateImageURL: function (el) {\n            var url = el.eval(el.url);\n\n            if (el._src !== url) {\n                el.imgIsLoaded = false;\n                el.rendNode.setAttributeNS(this.xlinkNamespace, \"xlink:href\", url);\n                el._src = url;\n\n                return true;\n            }\n\n            return false;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateImageStyle: function (el, doHighlight) {\n            var css = el.evalVisProp(\n                doHighlight ? 'highlightcssclass' : 'cssclass'\n            );\n\n            el.rendNode.setAttributeNS(null, \"class\", css);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        drawForeignObject: function (el) {\n            el.rendNode = this.appendChildPrim(\n                this.createPrim(\"foreignObject\", el.id),\n                el.evalVisProp('layer')\n            );\n\n            this.appendNodesToElement(el, \"foreignObject\");\n            this.updateForeignObject(el);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateForeignObject: function (el) {\n            if (el._useUserSize) {\n                el.rendNode.style.overflow = \"hidden\";\n            } else {\n                el.rendNode.style.overflow = \"visible\";\n            }\n\n            this.updateRectPrim(\n                el.rendNode,\n                el.coords.scrCoords[1],\n                el.coords.scrCoords[2] - el.size[1],\n                el.size[0],\n                el.size[1]\n            );\n\n            if (el.evalVisProp('evaluateOnlyOnce') !== true || !el.renderedOnce) {\n                el.rendNode.innerHTML = el.content;\n                el.renderedOnce = true;\n            }\n            this._updateVisual(el, { stroke: true, dash: true }, true);\n        },\n\n        /* ********* Render primitive objects *********** */\n\n        // Already documented in JXG.AbstractRenderer\n        appendChildPrim: function (node, level) {\n            if (!Type.exists(level)) {\n                // trace nodes have level not set\n                level = 0;\n            } else if (level >= Options.layer.numlayers) {\n                level = Options.layer.numlayers - 1;\n            }\n            this.layer[level].appendChild(node);\n\n            return node;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        createPrim: function (type, id) {\n            var node = this.container.ownerDocument.createElementNS(this.svgNamespace, type);\n            node.setAttributeNS(null, \"id\", this.uniqName(id));\n            node.style.position = \"absolute\";\n            if (type === \"path\") {\n                node.setAttributeNS(null, \"stroke-linecap\", \"round\");\n                node.setAttributeNS(null, \"stroke-linejoin\", \"round\");\n                node.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n            }\n\n            return node;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        remove: function (shape) {\n            if (Type.exists(shape) && Type.exists(shape.parentNode)) {\n                shape.parentNode.removeChild(shape);\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        setLayer: function (el, level) {\n            if (!Type.exists(level)) {\n                level = 0;\n            } else if (level >= Options.layer.numlayers) {\n                level = Options.layer.numlayers - 1;\n            }\n\n            this.layer[level].appendChild(el.rendNode);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        makeArrows: function (el, a) {\n            var node2, str,\n                ev_fa = a.evFirst,\n                ev_la = a.evLast;\n\n            if (this.isIE && el.visPropCalc.visible && (ev_fa || ev_la)) {\n                // Necessary, since Safari is the new IE (11.2024)\n                el.rendNode.parentNode.insertBefore(el.rendNode, el.rendNode);\n                return;\n            }\n\n            // We can not compare against visPropOld if there is need for a new arrow head,\n            // since here visPropOld and ev_fa / ev_la already have the same value.\n            // This has been set in _updateVisual.\n            //\n            node2 = el.rendNodeTriangleStart;\n            if (ev_fa) {\n                str = this.toStr(this.container.id, '_', el.id, 'TriangleStart', a.typeFirst);\n\n                // If we try to set the same arrow head as is already set, we can bail out now\n                if (!Type.exists(node2) || node2.id !== str) {\n                    node2 = this.container.ownerDocument.getElementById(str);\n                    // Check if the marker already exists.\n                    // If not, create a new marker\n                    if (node2 === null) {\n                        node2 = this._createArrowHead(el, \"Start\", a.typeFirst);\n                        this.defs.appendChild(node2);\n                    }\n                    el.rendNodeTriangleStart = node2;\n                    el.rendNode.setAttributeNS(null, \"marker-start\", this.toURL(str));\n                }\n            } else {\n                if (Type.exists(node2)) {\n                    this.remove(node2);\n                    el.rendNodeTriangleStart = null;\n                }\n                el.rendNode.setAttributeNS(null, \"marker-start\", null);\n            }\n\n            node2 = el.rendNodeTriangleEnd;\n            if (ev_la) {\n                str = this.toStr(this.container.id, '_', el.id, 'TriangleEnd', a.typeLast);\n\n                // If we try to set the same arrow head as is already set, we can bail out now\n                if (!Type.exists(node2) || node2.id !== str) {\n                    node2 = this.container.ownerDocument.getElementById(str);\n                    // Check if the marker already exists.\n                    // If not, create a new marker\n                    if (node2 === null) {\n                        node2 = this._createArrowHead(el, \"End\", a.typeLast);\n                        this.defs.appendChild(node2);\n                    }\n                    el.rendNodeTriangleEnd = node2;\n                    el.rendNode.setAttributeNS(null, \"marker-end\", this.toURL(str));\n                }\n            } else {\n                if (Type.exists(node2)) {\n                    this.remove(node2);\n                    el.rendNodeTriangleEnd = null;\n                }\n                el.rendNode.setAttributeNS(null, \"marker-end\", null);\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateEllipsePrim: function (node, x, y, rx, ry) {\n            var huge = 1000000;\n\n            huge = 200000; // IE\n            // webkit does not like huge values if the object is dashed\n            // iE doesn't like huge values above 216000\n            x = Math.abs(x) < huge ? x : (huge * x) / Math.abs(x);\n            y = Math.abs(y) < huge ? y : (huge * y) / Math.abs(y);\n            rx = Math.abs(rx) < huge ? rx : (huge * rx) / Math.abs(rx);\n            ry = Math.abs(ry) < huge ? ry : (huge * ry) / Math.abs(ry);\n\n            node.setAttributeNS(null, \"cx\", x);\n            node.setAttributeNS(null, \"cy\", y);\n            node.setAttributeNS(null, \"rx\", Math.abs(rx));\n            node.setAttributeNS(null, \"ry\", Math.abs(ry));\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateLinePrim: function (node, p1x, p1y, p2x, p2y) {\n            var huge = 1000000;\n\n            huge = 200000; //IE\n            if (!isNaN(p1x + p1y + p2x + p2y)) {\n                // webkit does not like huge values if the object is dashed\n                // IE doesn't like huge values above 216000\n                p1x = Math.abs(p1x) < huge ? p1x : (huge * p1x) / Math.abs(p1x);\n                p1y = Math.abs(p1y) < huge ? p1y : (huge * p1y) / Math.abs(p1y);\n                p2x = Math.abs(p2x) < huge ? p2x : (huge * p2x) / Math.abs(p2x);\n                p2y = Math.abs(p2y) < huge ? p2y : (huge * p2y) / Math.abs(p2y);\n\n                node.setAttributeNS(null, \"x1\", p1x);\n                node.setAttributeNS(null, \"y1\", p1y);\n                node.setAttributeNS(null, \"x2\", p2x);\n                node.setAttributeNS(null, \"y2\", p2y);\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updatePathPrim: function (node, pointString) {\n            if (pointString === \"\") {\n                pointString = \"M 0 0\";\n            }\n            node.setAttributeNS(null, \"d\", pointString);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updatePathStringPoint: function (el, size, type) {\n            var s = \"\",\n                scr = el.coords.scrCoords,\n                sqrt32 = size * Math.sqrt(3) * 0.5,\n                s05 = size * 0.5;\n\n            if (type === \"x\") {\n                s =\n                    \" M \" +\n                    (scr[1] - size) +\n                    \" \" +\n                    (scr[2] - size) +\n                    \" L \" +\n                    (scr[1] + size) +\n                    \" \" +\n                    (scr[2] + size) +\n                    \" M \" +\n                    (scr[1] + size) +\n                    \" \" +\n                    (scr[2] - size) +\n                    \" L \" +\n                    (scr[1] - size) +\n                    \" \" +\n                    (scr[2] + size);\n            } else if (type === \"+\") {\n                s =\n                    \" M \" +\n                    (scr[1] - size) +\n                    \" \" +\n                    scr[2] +\n                    \" L \" +\n                    (scr[1] + size) +\n                    \" \" +\n                    scr[2] +\n                    \" M \" +\n                    scr[1] +\n                    \" \" +\n                    (scr[2] - size) +\n                    \" L \" +\n                    scr[1] +\n                    \" \" +\n                    (scr[2] + size);\n            } else if (type === \"|\") {\n                s =\n                    \" M \" +\n                    scr[1] +\n                    \" \" +\n                    (scr[2] - size) +\n                    \" L \" +\n                    scr[1] +\n                    \" \" +\n                    (scr[2] + size);\n            } else if (type === \"-\") {\n                s =\n                    \" M \" +\n                    (scr[1] - size) +\n                    \" \" +\n                    scr[2] +\n                    \" L \" +\n                    (scr[1] + size) +\n                    \" \" +\n                    scr[2];\n            } else if (type === \"<>\" || type === \"<<>>\") {\n                if (type === \"<<>>\") {\n                    size *= 1.41;\n                }\n                s =\n                    \" M \" +\n                    (scr[1] - size) +\n                    \" \" +\n                    scr[2] +\n                    \" L \" +\n                    scr[1] +\n                    \" \" +\n                    (scr[2] + size) +\n                    \" L \" +\n                    (scr[1] + size) +\n                    \" \" +\n                    scr[2] +\n                    \" L \" +\n                    scr[1] +\n                    \" \" +\n                    (scr[2] - size) +\n                    \" Z \";\n                } else if (type === \"^\") {\n                    s =\n                    \" M \" +\n                    scr[1] +\n                    \" \" +\n                    (scr[2] - size) +\n                    \" L \" +\n                    (scr[1] - sqrt32) +\n                    \" \" +\n                    (scr[2] + s05) +\n                    \" L \" +\n                    (scr[1] + sqrt32) +\n                    \" \" +\n                    (scr[2] + s05) +\n                    \" Z \"; // close path\n            } else if (type === \"v\") {\n                s =\n                    \" M \" +\n                    scr[1] +\n                    \" \" +\n                    (scr[2] + size) +\n                    \" L \" +\n                    (scr[1] - sqrt32) +\n                    \" \" +\n                    (scr[2] - s05) +\n                    \" L \" +\n                    (scr[1] + sqrt32) +\n                    \" \" +\n                    (scr[2] - s05) +\n                    \" Z \";\n            } else if (type === \">\") {\n                s =\n                    \" M \" +\n                    (scr[1] + size) +\n                    \" \" +\n                    scr[2] +\n                    \" L \" +\n                    (scr[1] - s05) +\n                    \" \" +\n                    (scr[2] - sqrt32) +\n                    \" L \" +\n                    (scr[1] - s05) +\n                    \" \" +\n                    (scr[2] + sqrt32) +\n                    \" Z \";\n            } else if (type === \"<\") {\n                s =\n                    \" M \" +\n                    (scr[1] - size) +\n                    \" \" +\n                    scr[2] +\n                    \" L \" +\n                    (scr[1] + s05) +\n                    \" \" +\n                    (scr[2] - sqrt32) +\n                    \" L \" +\n                    (scr[1] + s05) +\n                    \" \" +\n                    (scr[2] + sqrt32) +\n                    \" Z \";\n            }\n            return s;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updatePathStringPrim: function (el) {\n            var i,\n                scr,\n                len,\n                symbm = \" M \",\n                symbl = \" L \",\n                symbc = \" C \",\n                nextSymb = symbm,\n                maxSize = 5000.0,\n                pStr = \"\";\n\n            if (el.numberPoints <= 0) {\n                return \"\";\n            }\n\n            len = Math.min(el.points.length, el.numberPoints);\n\n            if (el.bezierDegree === 1) {\n                for (i = 0; i < len; i++) {\n                    scr = el.points[i].scrCoords;\n                    if (isNaN(scr[1]) || isNaN(scr[2])) {\n                        // PenUp\n                        nextSymb = symbm;\n                    } else {\n                        // Chrome has problems with values being too far away.\n                        scr[1] = Math.max(Math.min(scr[1], maxSize), -maxSize);\n                        scr[2] = Math.max(Math.min(scr[2], maxSize), -maxSize);\n\n                        // Attention: first coordinate may be inaccurate if far way\n                        //pStr += [nextSymb, scr[1], ' ', scr[2]].join('');\n                        pStr += nextSymb + scr[1] + \" \" + scr[2]; // Seems to be faster now (webkit and firefox)\n                        nextSymb = symbl;\n                    }\n                }\n            } else if (el.bezierDegree === 3) {\n                i = 0;\n                while (i < len) {\n                    scr = el.points[i].scrCoords;\n                    if (isNaN(scr[1]) || isNaN(scr[2])) {\n                        // PenUp\n                        nextSymb = symbm;\n                    } else {\n                        pStr += nextSymb + scr[1] + \" \" + scr[2];\n                        if (nextSymb === symbc) {\n                            i += 1;\n                            scr = el.points[i].scrCoords;\n                            pStr += \" \" + scr[1] + \" \" + scr[2];\n                            i += 1;\n                            scr = el.points[i].scrCoords;\n                            pStr += \" \" + scr[1] + \" \" + scr[2];\n                        }\n                        nextSymb = symbc;\n                    }\n                    i += 1;\n                }\n            }\n            return pStr;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updatePathStringBezierPrim: function (el) {\n            var i, j, k,\n                scr,\n                lx, ly,\n                len,\n                symbm = \" M \",\n                symbl = \" C \",\n                nextSymb = symbm,\n                maxSize = 5000.0,\n                pStr = \"\",\n                f = el.evalVisProp('strokewidth'),\n                isNoPlot = el.evalVisProp('curvetype') !== \"plot\";\n\n            if (el.numberPoints <= 0) {\n                return \"\";\n            }\n\n            if (isNoPlot && el.board.options.curve.RDPsmoothing) {\n                el.points = Numerics.RamerDouglasPeucker(el.points, 0.5);\n            }\n\n            len = Math.min(el.points.length, el.numberPoints);\n            for (j = 1; j < 3; j++) {\n                nextSymb = symbm;\n                for (i = 0; i < len; i++) {\n                    scr = el.points[i].scrCoords;\n\n                    if (isNaN(scr[1]) || isNaN(scr[2])) {\n                        // PenUp\n                        nextSymb = symbm;\n                    } else {\n                        // Chrome has problems with values being too far away.\n                        scr[1] = Math.max(Math.min(scr[1], maxSize), -maxSize);\n                        scr[2] = Math.max(Math.min(scr[2], maxSize), -maxSize);\n\n                        // Attention: first coordinate may be inaccurate if far way\n                        if (nextSymb === symbm) {\n                            //pStr += [nextSymb, scr[1], ' ', scr[2]].join('');\n                            pStr += nextSymb + scr[1] + \" \" + scr[2]; // Seems to be faster now (webkit and firefox)\n                        } else {\n                            k = 2 * j;\n                            pStr += [\n                                nextSymb,\n                                lx + (scr[1] - lx) * 0.333 + f * (k * Math.random() - j),\n                                \" \",\n                                ly + (scr[2] - ly) * 0.333 + f * (k * Math.random() - j),\n                                \" \",\n                                lx + (scr[1] - lx) * 0.666 + f * (k * Math.random() - j),\n                                \" \",\n                                ly + (scr[2] - ly) * 0.666 + f * (k * Math.random() - j),\n                                \" \",\n                                scr[1],\n                                \" \",\n                                scr[2]\n                            ].join(\"\");\n                        }\n\n                        nextSymb = symbl;\n                        lx = scr[1];\n                        ly = scr[2];\n                    }\n                }\n            }\n            return pStr;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updatePolygonPrim: function (node, el) {\n            var i,\n                pStr = \"\",\n                scrCoords,\n                len = el.vertices.length;\n\n            node.setAttributeNS(null, \"stroke\", \"none\");\n            node.setAttributeNS(null, \"fill-rule\", \"evenodd\");\n            if (el.elType === \"polygonalchain\") {\n                len++;\n            }\n\n            for (i = 0; i < len - 1; i++) {\n                if (el.vertices[i].isReal) {\n                    scrCoords = el.vertices[i].coords.scrCoords;\n                    pStr = pStr + scrCoords[1] + \",\" + scrCoords[2];\n                } else {\n                    node.setAttributeNS(null, \"points\", \"\");\n                    return;\n                }\n\n                if (i < len - 2) {\n                    pStr += \" \";\n                }\n            }\n            if (pStr.indexOf(\"NaN\") === -1) {\n                node.setAttributeNS(null, \"points\", pStr);\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateRectPrim: function (node, x, y, w, h) {\n            node.setAttributeNS(null, \"x\", x);\n            node.setAttributeNS(null, \"y\", y);\n            node.setAttributeNS(null, \"width\", w);\n            node.setAttributeNS(null, \"height\", h);\n        },\n\n        /* ********* Set attributes *********** */\n\n        /**\n         * Call user-defined function to set visual attributes.\n         * If \"testAttribute\" is the empty string, the function\n         * is called immediately, otherwise it is called in a timeOut.\n         *\n         * This is necessary to realize smooth transitions but avoid transitions\n         * when first creating the objects.\n         *\n         * Usually, the string in testAttribute is the visPropOld attribute\n         * of the values which are set.\n         *\n         * @param {Function} setFunc       Some function which usually sets some attributes\n         * @param {String} testAttribute If this string is the empty string  the function is called immediately,\n         *                               otherwise it is called in a setImeout.\n         * @see JXG.SVGRenderer#setObjectFillColor\n         * @see JXG.SVGRenderer#setObjectStrokeColor\n         * @see JXG.SVGRenderer#_setArrowColor\n         * @private\n         */\n        _setAttribute: function (setFunc, testAttribute) {\n            if (testAttribute === \"\") {\n                setFunc();\n            } else {\n                window.setTimeout(setFunc, 1);\n            }\n        },\n\n        display: function (el, val) {\n            var node;\n\n            if (el && el.rendNode) {\n                el.visPropOld.visible = val;\n                node = el.rendNode;\n                if (val) {\n                    node.setAttributeNS(null, \"display\", \"inline\");\n                    node.style.visibility = \"inherit\";\n                } else {\n                    node.setAttributeNS(null, \"display\", \"none\");\n                    node.style.visibility = \"hidden\";\n                }\n            }\n        },\n\n        // documented in JXG.AbstractRenderer\n        hide: function (el) {\n            JXG.deprecated(\"Board.renderer.hide()\", \"Board.renderer.display()\");\n            this.display(el, false);\n        },\n\n        // documented in JXG.AbstractRenderer\n        setARIA: function(el) {\n            // This method is only called in abstractRenderer._updateVisual() if aria.enabled == true.\n            var key, k, v;\n\n            // this.setPropertyPrim(el.rendNode, 'aria-label', el.evalVisProp('aria.label'));\n            // this.setPropertyPrim(el.rendNode, 'aria-live', el.evalVisProp('aria.live'));\n            for (key in el.visProp.aria) {\n                if (el.visProp.aria.hasOwnProperty(key) && key !== 'enabled') {\n                    k = 'aria.' + key;\n                    v = el.evalVisProp('aria.' + key);\n                    if (el.visPropOld[k] !== v) {\n                        this.setPropertyPrim(el.rendNode, 'aria-' + key, v);\n                        el.visPropOld[k] = v;\n                    }\n                }\n            }\n        },\n\n        // documented in JXG.AbstractRenderer\n        setBuffering: function (el, type) {\n            el.rendNode.setAttribute(\"buffered-rendering\", type);\n        },\n\n        // documented in JXG.AbstractRenderer\n        setCssClass(el, cssClass) {\n\n            if (el.visPropOld.cssclass !== cssClass) {\n                this.setPropertyPrim(el.rendNode, 'class', cssClass);\n                el.visPropOld.cssclass = cssClass;\n            }\n        },\n\n        // documented in JXG.AbstractRenderer\n        setDashStyle: function (el) {\n            var dashStyle = el.evalVisProp('dash'),\n                ds = el.evalVisProp('dashscale'),\n                sw = ds ? 0.5 * el.evalVisProp('strokewidth') : 1,\n                node = el.rendNode;\n\n            if (dashStyle > 0) {\n                node.setAttributeNS(null, \"stroke-dasharray\",\n                    // sw could distinguish highlighting or not.\n                    // But it seems to preferable to ignore this.\n                    this.dashArray[dashStyle - 1].map(function (x) { return x * sw; }).join(',')\n                );\n            } else {\n                if (node.hasAttributeNS(null, \"stroke-dasharray\")) {\n                    node.removeAttributeNS(null, \"stroke-dasharray\");\n                }\n            }\n        },\n\n        // documented in JXG.AbstractRenderer\n        setGradient: function (el) {\n            var fillNode = el.rendNode,\n                node, node2, node3,\n                ev_g = el.evalVisProp('gradient');\n\n            if (ev_g === \"linear\" || ev_g === \"radial\") {\n                node = this.createPrim(ev_g + \"Gradient\", el.id + \"_gradient\");\n                node2 = this.createPrim(\"stop\", el.id + \"_gradient1\");\n                node3 = this.createPrim(\"stop\", el.id + \"_gradient2\");\n                node.appendChild(node2);\n                node.appendChild(node3);\n                this.defs.appendChild(node);\n                fillNode.setAttributeNS(\n                    null,\n                    'style',\n                    // \"fill:url(#\" + this.container.id + \"_\" + el.id + \"_gradient)\"\n                    'fill:' + this.toURL(this.container.id + '_' + el.id + '_gradient')\n                );\n                el.gradNode1 = node2;\n                el.gradNode2 = node3;\n                el.gradNode = node;\n            } else {\n                fillNode.removeAttributeNS(null, \"style\");\n            }\n        },\n\n        // documented in JXG.AbstractRenderer\n        setLineCap: function (el) {\n            var capStyle = el.evalVisProp('linecap');\n\n            if (\n                capStyle === undefined ||\n                capStyle === \"\" ||\n                el.visPropOld.linecap === capStyle ||\n                !Type.exists(el.rendNode)\n            ) {\n                return;\n            }\n\n            this.setPropertyPrim(el.rendNode, \"stroke-linecap\", capStyle);\n            el.visPropOld.linecap = capStyle;\n        },\n\n        // documented in JXG.AbstractRenderer\n        setObjectFillColor: function (el, color, opacity, rendNode) {\n            var node, c, rgbo, oo,\n                rgba = color,\n                o = opacity,\n                grad = el.evalVisProp('gradient');\n\n            o = o > 0 ? o : 0;\n\n            // TODO  save gradient and gradientangle\n            if (\n                el.visPropOld.fillcolor === rgba &&\n                el.visPropOld.fillopacity === o &&\n                grad === null\n            ) {\n                return;\n            }\n            if (Type.exists(rgba) && rgba !== false) {\n                if (rgba.length !== 9) {\n                    // RGB, not RGBA\n                    c = rgba;\n                    oo = o;\n                } else {\n                    // True RGBA, not RGB\n                    rgbo = Color.rgba2rgbo(rgba);\n                    c = rgbo[0];\n                    oo = o * rgbo[1];\n                }\n\n                if (rendNode === undefined) {\n                    node = el.rendNode;\n                } else {\n                    node = rendNode;\n                }\n\n                if (c !== \"none\" && c !== \"\" && c !== false) {\n                    this._setAttribute(function () {\n                        node.setAttributeNS(null, \"fill\", c);\n                    }, el.visPropOld.fillcolor);\n                }\n\n                if (el.type === JXG.OBJECT_TYPE_IMAGE) {\n                    this._setAttribute(function () {\n                        node.setAttributeNS(null, \"opacity\", oo);\n                    }, el.visPropOld.fillopacity);\n                    //node.style['opacity'] = oo;  // This would overwrite values set by CSS class.\n                } else {\n                    if (c === \"none\") {\n                        // This is done only for non-images\n                        // because images have no fill color.\n                        oo = 0;\n                        // This is necessary if there is a foreignObject below.\n                        node.setAttributeNS(null, \"pointer-events\", \"visibleStroke\");\n                    } else {\n                        // This is the default\n                        node.setAttributeNS(null, \"pointer-events\", \"visiblePainted\");\n                    }\n                    this._setAttribute(function () {\n                        node.setAttributeNS(null, \"fill-opacity\", oo);\n                    }, el.visPropOld.fillopacity);\n                }\n\n                if (grad === \"linear\" || grad === \"radial\") {\n                    this.updateGradient(el);\n                }\n            }\n            el.visPropOld.fillcolor = rgba;\n            el.visPropOld.fillopacity = o;\n        },\n\n        // documented in JXG.AbstractRenderer\n        setObjectStrokeColor: function (el, color, opacity) {\n            var rgba = color,\n                c, rgbo,\n                o = opacity,\n                oo, node;\n\n            o = o > 0 ? o : 0;\n\n            if (el.visPropOld.strokecolor === rgba && el.visPropOld.strokeopacity === o) {\n                return;\n            }\n\n            if (Type.exists(rgba) && rgba !== false) {\n                if (rgba.length !== 9) {\n                    // RGB, not RGBA\n                    c = rgba;\n                    oo = o;\n                } else {\n                    // True RGBA, not RGB\n                    rgbo = Color.rgba2rgbo(rgba);\n                    c = rgbo[0];\n                    oo = o * rgbo[1];\n                }\n\n                node = el.rendNode;\n\n                if (el.elementClass === Const.OBJECT_CLASS_TEXT) {\n                    if (el.evalVisProp('display') === \"html\") {\n                        this._setAttribute(function () {\n                            node.style.color = c;\n                            node.style.opacity = oo;\n                        }, el.visPropOld.strokecolor);\n                    } else {\n                        this._setAttribute(function () {\n                            node.setAttributeNS(null, \"style\", \"fill:\" + c);\n                            node.setAttributeNS(null, \"style\", \"fill-opacity:\" + oo);\n                        }, el.visPropOld.strokecolor);\n                    }\n                } else {\n                    this._setAttribute(function () {\n                        node.setAttributeNS(null, \"stroke\", c);\n                        node.setAttributeNS(null, \"stroke-opacity\", oo);\n                    }, el.visPropOld.strokecolor);\n                }\n\n                if (\n                    el.elementClass === Const.OBJECT_CLASS_CURVE ||\n                    el.elementClass === Const.OBJECT_CLASS_LINE\n                ) {\n                    if (el.evalVisProp('firstarrow')) {\n                        this._setArrowColor(\n                            el.rendNodeTriangleStart,\n                            c, oo, el,\n                            el.visPropCalc.typeFirst\n                        );\n                    }\n\n                    if (el.evalVisProp('lastarrow')) {\n                        this._setArrowColor(\n                            el.rendNodeTriangleEnd,\n                            c, oo, el,\n                            el.visPropCalc.typeLast\n                        );\n                    }\n                }\n            }\n\n            el.visPropOld.strokecolor = rgba;\n            el.visPropOld.strokeopacity = o;\n        },\n\n        // documented in JXG.AbstractRenderer\n        setObjectStrokeWidth: function (el, width) {\n            var node,\n                w = width;\n\n            if (isNaN(w) || el.visPropOld.strokewidth === w) {\n                return;\n            }\n\n            node = el.rendNode;\n            this.setPropertyPrim(node, \"stroked\", \"true\");\n            if (Type.exists(w)) {\n                this.setPropertyPrim(node, \"stroke-width\", w + \"px\");\n\n                // if (el.elementClass === Const.OBJECT_CLASS_CURVE ||\n                // el.elementClass === Const.OBJECT_CLASS_LINE) {\n                //     if (el.evalVisProp('firstarrow')) {\n                //         this._setArrowWidth(el.rendNodeTriangleStart, w, el.rendNode);\n                //     }\n                //\n                //     if (el.evalVisProp('lastarrow')) {\n                //         this._setArrowWidth(el.rendNodeTriangleEnd, w, el.rendNode);\n                //     }\n                // }\n            }\n            el.visPropOld.strokewidth = w;\n        },\n\n        // documented in JXG.AbstractRenderer\n        setObjectTransition: function (el, duration) {\n            var node, props,\n                transitionArr = [],\n                transitionStr,\n                i,\n                len = 0,\n                nodes = [\"rendNode\", \"rendNodeTriangleStart\", \"rendNodeTriangleEnd\"];\n\n            if (duration === undefined) {\n                duration = el.evalVisProp('transitionduration');\n            }\n\n            props = el.evalVisProp('transitionproperties');\n            if (duration === el.visPropOld.transitionduration &&\n                props === el.visPropOld.transitionproperties) {\n                return;\n            }\n\n            // if (\n            //     el.elementClass === Const.OBJECT_CLASS_TEXT &&\n            //     el.evalVisProp('display') === \"html\"\n            // ) {\n            //     // transitionStr = \" color \" + duration + \"ms,\" +\n            //     //     \" opacity \" + duration + \"ms\";\n            //     transitionStr = \" all \" + duration + \"ms ease\";\n            // } else {\n            //     transitionStr =\n            //         \" fill \" + duration + \"ms,\" +\n            //         \" fill-opacity \" + duration + \"ms,\" +\n            //         \" stroke \" + duration + \"ms,\" +\n            //         \" stroke-opacity \" + duration + \"ms,\" +\n            //         \" stroke-width \" + duration + \"ms,\" +\n            //         \" width \" + duration + \"ms,\" +\n            //         \" height \" + duration + \"ms,\" +\n            //         \" rx \" + duration + \"ms,\" +\n            //         \" ry \" + duration + \"ms\";\n            // }\n\n            if (Type.exists(props)) {\n                len = props.length;\n            }\n            for (i = 0; i < len; i++) {\n                transitionArr.push(props[i] + ' ' + duration + 'ms');\n            }\n            transitionStr = transitionArr.join(', ');\n\n            len = nodes.length;\n            for (i = 0; i < len; ++i) {\n                if (el[nodes[i]]) {\n                    node = el[nodes[i]];\n                    node.style.transition = transitionStr;\n                }\n            }\n\n            el.visPropOld.transitionduration = duration;\n            el.visPropOld.transitionproperties = props;\n        },\n\n        // documented in JXG.AbstractRenderer\n        setShadow: function (el) {\n            var ev_s = el.evalVisProp('shadow'),\n                ev_s_json, c, b, bl, o, op, id, node,\n                use_board_filter = true,\n                show = false;\n\n            ev_s_json = JSON.stringify(ev_s);\n            if (ev_s_json === el.visPropOld.shadow) {\n                return;\n            }\n\n            if (typeof ev_s === 'boolean') {\n                use_board_filter = true;\n                show = ev_s;\n                c = 'none';\n                b = 3;\n                bl = 0.1;\n                o = [5, 5];\n                op = 1;\n            } else {\n                if (el.evalVisProp('shadow.enabled')) {\n                    use_board_filter = false;\n                    show = true;\n                    c = JXG.rgbParser(el.evalVisProp('shadow.color'));\n                    b = el.evalVisProp('shadow.blur');\n                    bl = el.evalVisProp('shadow.blend');\n                    o = el.evalVisProp('shadow.offset');\n                    op = el.evalVisProp('shadow.opacity');\n                } else {\n                    show = false;\n                }\n            }\n\n            if (Type.exists(el.rendNode)) {\n                if (show) {\n                    if (use_board_filter) {\n                        el.rendNode.setAttributeNS(null, 'filter', this.toURL(this.container.id + '_' + 'f1'));\n                        // 'url(#' + this.container.id + '_' + 'f1)');\n                    } else {\n                        node = this.container.ownerDocument.getElementById(id);\n                        if (node) {\n                            this.defs.removeChild(node);\n                        }\n                        id = el.rendNode.id + '_' + 'f1';\n                        this.defs.appendChild(this.createShadowFilter(id, c, op, bl, b, o));\n                        el.rendNode.setAttributeNS(null, 'filter', this.toURL(id));\n                        // 'url(#' + id + ')');\n                    }\n                } else {\n                    el.rendNode.removeAttributeNS(null, 'filter');\n                }\n            }\n\n            el.visPropOld.shadow = ev_s_json;\n        },\n\n        // documented in JXG.AbstractRenderer\n        setTabindex: function (el) {\n            var val;\n            if (el.board.attr.keyboard.enabled && Type.exists(el.rendNode)) {\n                val = el.evalVisProp('tabindex');\n                if (!el.visPropCalc.visible /* || el.evalVisProp('fixed') */) {\n                    val = null;\n                }\n                if (val !== el.visPropOld.tabindex) {\n                    el.rendNode.setAttribute(\"tabindex\", val);\n                    el.visPropOld.tabindex = val;\n                }\n            }\n        },\n\n        // documented in JXG.AbstractRenderer\n        setPropertyPrim: function (node, key, val) {\n            if (key === \"stroked\") {\n                return;\n            }\n            node.setAttributeNS(null, key, val);\n        },\n\n        // documented in JXG.AbstractRenderer\n        show: function (el) {\n            JXG.deprecated(\"Board.renderer.show()\", \"Board.renderer.display()\");\n            this.display(el, true);\n            // var node;\n            //\n            // if (el && el.rendNode) {\n            //     node = el.rendNode;\n            //     node.setAttributeNS(null, 'display', 'inline');\n            //     node.style.visibility = \"inherit\";\n            // }\n        },\n\n        // documented in JXG.AbstractRenderer\n        updateGradient: function (el) {\n            var col,\n                op,\n                node2 = el.gradNode1,\n                node3 = el.gradNode2,\n                ev_g = el.evalVisProp('gradient');\n\n            if (!Type.exists(node2) || !Type.exists(node3)) {\n                return;\n            }\n\n            op = el.evalVisProp('fillopacity');\n            op = op > 0 ? op : 0;\n            col = el.evalVisProp('fillcolor');\n\n            node2.setAttributeNS(null, \"style\", \"stop-color:\" + col + \";stop-opacity:\" + op);\n            node3.setAttributeNS(\n                null,\n                \"style\",\n                \"stop-color:\" +\n                el.evalVisProp('gradientsecondcolor') +\n                \";stop-opacity:\" +\n                el.evalVisProp('gradientsecondopacity')\n            );\n            node2.setAttributeNS(\n                null,\n                \"offset\",\n                el.evalVisProp('gradientstartoffset') * 100 + \"%\"\n            );\n            node3.setAttributeNS(\n                null,\n                \"offset\",\n                el.evalVisProp('gradientendoffset') * 100 + \"%\"\n            );\n            if (ev_g === \"linear\") {\n                this.updateGradientAngle(el.gradNode, el.evalVisProp('gradientangle'));\n            } else if (ev_g === \"radial\") {\n                this.updateGradientCircle(\n                    el.gradNode,\n                    el.evalVisProp('gradientcx'),\n                    el.evalVisProp('gradientcy'),\n                    el.evalVisProp('gradientr'),\n                    el.evalVisProp('gradientfx'),\n                    el.evalVisProp('gradientfy'),\n                    el.evalVisProp('gradientfr')\n                );\n            }\n        },\n\n        /**\n         * Set the gradient angle for linear color gradients.\n         *\n         * @private\n         * @param {SVGnode} node SVG gradient node of an arbitrary JSXGraph element.\n         * @param {Number} radians angle value in radians. 0 is horizontal from left to right, Pi/4 is vertical from top to bottom.\n         */\n        updateGradientAngle: function (node, radians) {\n            // Angles:\n            // 0: ->\n            // 90: down\n            // 180: <-\n            // 90: up\n            var f = 1.0,\n                co = Math.cos(radians),\n                si = Math.sin(radians);\n\n            if (Math.abs(co) > Math.abs(si)) {\n                f /= Math.abs(co);\n            } else {\n                f /= Math.abs(si);\n            }\n\n            if (co >= 0) {\n                node.setAttributeNS(null, \"x1\", 0);\n                node.setAttributeNS(null, \"x2\", co * f);\n            } else {\n                node.setAttributeNS(null, \"x1\", -co * f);\n                node.setAttributeNS(null, \"x2\", 0);\n            }\n            if (si >= 0) {\n                node.setAttributeNS(null, \"y1\", 0);\n                node.setAttributeNS(null, \"y2\", si * f);\n            } else {\n                node.setAttributeNS(null, \"y1\", -si * f);\n                node.setAttributeNS(null, \"y2\", 0);\n            }\n        },\n\n        /**\n         * Set circles for radial color gradients.\n         *\n         * @private\n         * @param {SVGnode} node SVG gradient node\n         * @param {Number} cx SVG value cx (value between 0 and 1)\n         * @param {Number} cy  SVG value cy (value between 0 and 1)\n         * @param {Number} r  SVG value r (value between 0 and 1)\n         * @param {Number} fx  SVG value fx (value between 0 and 1)\n         * @param {Number} fy  SVG value fy (value between 0 and 1)\n         * @param {Number} fr  SVG value fr (value between 0 and 1)\n         */\n        updateGradientCircle: function (node, cx, cy, r, fx, fy, fr) {\n            node.setAttributeNS(null, \"cx\", cx * 100 + \"%\"); // Center first color\n            node.setAttributeNS(null, \"cy\", cy * 100 + \"%\");\n            node.setAttributeNS(null, \"r\", r * 100 + \"%\");\n            node.setAttributeNS(null, \"fx\", fx * 100 + \"%\"); // Center second color / focal point\n            node.setAttributeNS(null, \"fy\", fy * 100 + \"%\");\n            node.setAttributeNS(null, \"fr\", fr * 100 + \"%\");\n        },\n\n        /* ********* Renderer control *********** */\n\n        // documented in JXG.AbstractRenderer\n        suspendRedraw: function () {\n            // It seems to be important for the Linux version of firefox\n            this.suspendHandle = this.svgRoot.suspendRedraw(10000);\n        },\n\n        // documented in JXG.AbstractRenderer\n        unsuspendRedraw: function () {\n            this.svgRoot.unsuspendRedraw(this.suspendHandle);\n            // this.svgRoot.unsuspendRedrawAll();\n            //this.svgRoot.forceRedraw();\n        },\n\n        // documented in AbstractRenderer\n        resize: function (w, h) {\n            this.svgRoot.setAttribute(\"width\", parseFloat(w));\n            this.svgRoot.setAttribute(\"height\", parseFloat(h));\n        },\n\n        // documented in JXG.AbstractRenderer\n        createTouchpoints: function (n) {\n            var i, na1, na2, node;\n            this.touchpoints = [];\n            for (i = 0; i < n; i++) {\n                na1 = \"touchpoint1_\" + i;\n                node = this.createPrim(\"path\", na1);\n                this.appendChildPrim(node, 19);\n                node.setAttributeNS(null, \"d\", \"M 0 0\");\n                this.touchpoints.push(node);\n\n                this.setPropertyPrim(node, \"stroked\", \"true\");\n                this.setPropertyPrim(node, \"stroke-width\", \"1px\");\n                node.setAttributeNS(null, \"stroke\", \"#000000\");\n                node.setAttributeNS(null, \"stroke-opacity\", 1.0);\n                node.setAttributeNS(null, \"display\", \"none\");\n\n                na2 = \"touchpoint2_\" + i;\n                node = this.createPrim(\"ellipse\", na2);\n                this.appendChildPrim(node, 19);\n                this.updateEllipsePrim(node, 0, 0, 0, 0);\n                this.touchpoints.push(node);\n\n                this.setPropertyPrim(node, \"stroked\", \"true\");\n                this.setPropertyPrim(node, \"stroke-width\", \"1px\");\n                node.setAttributeNS(null, \"stroke\", \"#000000\");\n                node.setAttributeNS(null, \"stroke-opacity\", 1.0);\n                node.setAttributeNS(null, \"fill\", \"#ffffff\");\n                node.setAttributeNS(null, \"fill-opacity\", 0.0);\n\n                node.setAttributeNS(null, \"display\", \"none\");\n            }\n        },\n\n        // documented in JXG.AbstractRenderer\n        showTouchpoint: function (i) {\n            if (this.touchpoints && i >= 0 && 2 * i < this.touchpoints.length) {\n                this.touchpoints[2 * i].setAttributeNS(null, \"display\", \"inline\");\n                this.touchpoints[2 * i + 1].setAttributeNS(null, \"display\", \"inline\");\n            }\n        },\n\n        // documented in JXG.AbstractRenderer\n        hideTouchpoint: function (i) {\n            if (this.touchpoints && i >= 0 && 2 * i < this.touchpoints.length) {\n                this.touchpoints[2 * i].setAttributeNS(null, \"display\", \"none\");\n                this.touchpoints[2 * i + 1].setAttributeNS(null, \"display\", \"none\");\n            }\n        },\n\n        // documented in JXG.AbstractRenderer\n        updateTouchpoint: function (i, pos) {\n            var x,\n                y,\n                d = 37;\n\n            if (this.touchpoints && i >= 0 && 2 * i < this.touchpoints.length) {\n                x = pos[0];\n                y = pos[1];\n\n                this.touchpoints[2 * i].setAttributeNS(\n                    null,\n                    \"d\",\n                    \"M \" +\n                    (x - d) +\n                    \" \" +\n                    y +\n                    \" \" +\n                    \"L \" +\n                    (x + d) +\n                    \" \" +\n                    y +\n                    \" \" +\n                    \"M \" +\n                    x +\n                    \" \" +\n                    (y - d) +\n                    \" \" +\n                    \"L \" +\n                    x +\n                    \" \" +\n                    (y + d)\n                );\n                this.updateEllipsePrim(this.touchpoints[2 * i + 1], pos[0], pos[1], 25, 25);\n            }\n        },\n\n        /* ********* Dump related stuff *********** */\n\n        /**\n         * Walk recursively through the DOM subtree of a node and collect all\n         * value attributes together with the id of that node.\n         * <b>Attention:</b> Only values of nodes having a valid id are taken.\n         * @param  {Node} node   root node of DOM subtree that will be searched recursively.\n         * @return {Array}      Array with entries of the form [id, value]\n         * @private\n         */\n        _getValuesOfDOMElements: function (node) {\n            var values = [];\n            if (node.nodeType === 1) {\n                node = node.firstChild;\n                while (node) {\n                    if (node.id !== undefined && node.value !== undefined) {\n                        values.push([node.id, node.value]);\n                    }\n                    Type.concat(values, this._getValuesOfDOMElements(node));\n                    node = node.nextSibling;\n                }\n            }\n            return values;\n        },\n\n        // _getDataUri: function (url, callback) {\n        //     var image = new Image();\n        //     image.onload = function () {\n        //         var canvas = document.createElement(\"canvas\");\n        //         canvas.width = this.naturalWidth; // or 'width' if you want a special/scaled size\n        //         canvas.height = this.naturalHeight; // or 'height' if you want a special/scaled size\n        //         canvas.getContext(\"2d\").drawImage(this, 0, 0);\n        //         callback(canvas.toDataURL(\"image/png\"));\n        //         canvas.remove();\n        //     };\n        //     image.src = url;\n        // },\n\n        _getImgDataURL: function (svgRoot) {\n            var images, len, canvas, ctx, ur, i;\n\n            images = svgRoot.getElementsByTagName(\"image\");\n            len = images.length;\n            if (len > 0) {\n                canvas = document.createElement(\"canvas\");\n                //img = new Image();\n                for (i = 0; i < len; i++) {\n                    images[i].setAttribute(\"crossorigin\", \"anonymous\");\n                    //img.src = images[i].href;\n                    //img.onload = function() {\n                    // img.crossOrigin = \"anonymous\";\n                    ctx = canvas.getContext(\"2d\");\n                    canvas.width = images[i].getAttribute(\"width\");\n                    canvas.height = images[i].getAttribute(\"height\");\n                    try {\n                        ctx.drawImage(images[i], 0, 0, canvas.width, canvas.height);\n\n                        // If the image is not png, the format must be specified here\n                        ur = canvas.toDataURL();\n                        images[i].setAttribute(\"xlink:href\", ur);\n                    } catch (err) {\n                        console.log(\"CORS problem! Image can not be used\", err);\n                    }\n                }\n                //canvas.remove();\n            }\n            return true;\n        },\n\n        /**\n         * Return a data URI of the SVG code representing the construction.\n         * The SVG code of the construction is base64 encoded. The return string starts\n         * with \"data:image/svg+xml;base64,...\".\n         *\n         * @param {Boolean} ignoreTexts If true, the foreignObject tag is set to display=none.\n         * This is necessary for older versions of Safari. Default: false\n         * @returns {String}  data URI string\n         *\n         * @example\n         * var A = board.create('point', [2, 2]);\n         *\n         * var txt = board.renderer.dumpToDataURI(false);\n         * // txt consists of a string of the form\n         * // data:image/svg+xml;base64,PHN2Zy. base64 encoded SVG..+PC9zdmc+\n         * // Behind the comma, there is the base64 encoded SVG code\n         * // which is decoded with atob().\n         * // The call of decodeURIComponent(escape(...)) is necessary\n         * // to handle unicode strings correctly.\n         * var ar = txt.split(',');\n         * document.getElementById('output').value = decodeURIComponent(escape(atob(ar[1])));\n         *\n         * </pre><div id=\"JXG1bad4bec-6d08-4ce0-9b7f-d817e8dd762d\" class=\"jxgbox\" style=\"width: 300px; height: 300px;\"></div>\n         * <textarea id=\"output2023\" rows=\"5\" cols=\"50\"></textarea>\n         * <script type=\"text/javascript\">\n         *     (function() {\n         *         var board = JXG.JSXGraph.initBoard('JXG1bad4bec-6d08-4ce0-9b7f-d817e8dd762d',\n         *             {boundingbox: [-8, 8, 8,-8], axis: true, showcopyright: false, shownavigation: false});\n         *     var A = board.create('point', [2, 2]);\n         *\n         *     var txt = board.renderer.dumpToDataURI(false);\n         *     // txt consists of a string of the form\n         *     // data:image/svg+xml;base64,PHN2Zy. base64 encoded SVG..+PC9zdmc+\n         *     // Behind the comma, there is the base64 encoded SVG code\n         *     // which is decoded with atob().\n         *     // The call of decodeURIComponent(escape(...)) is necessary\n         *     // to handle unicode strings correctly.\n         *     var ar = txt.split(',');\n         *     document.getElementById('output2023').value = decodeURIComponent(escape(atob(ar[1])));\n         *\n         *     })();\n         *\n         * </script><pre>\n         *\n         */\n        dumpToDataURI: function (ignoreTexts) {\n            var svgRoot = this.svgRoot,\n                btoa = window.btoa || Base64.encode,\n                svg, i, len,\n                values = [];\n\n            // Move all HTML tags (beside the SVG root) of the container\n            // to the foreignObject element inside of the svgRoot node\n            // Problem:\n            // input values are not copied. This can be verified by looking at an innerHTML output\n            // of an input element. Therefore, we do it \"by hand\".\n            if (this.container.hasChildNodes() && Type.exists(this.foreignObjLayer)) {\n                if (!ignoreTexts) {\n                    this.foreignObjLayer.setAttribute(\"display\", \"inline\");\n                }\n                while (svgRoot.nextSibling) {\n                    // Copy all value attributes\n                    Type.concat(values, this._getValuesOfDOMElements(svgRoot.nextSibling));\n                    this.foreignObjLayer.appendChild(svgRoot.nextSibling);\n                }\n            }\n\n            this._getImgDataURL(svgRoot);\n\n            // Convert the SVG graphic into a string containing SVG code\n            svgRoot.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\n            svg = new XMLSerializer().serializeToString(svgRoot);\n\n            if (ignoreTexts !== true) {\n                // Handle SVG texts\n                // Insert all value attributes back into the svg string\n                len = values.length;\n                for (i = 0; i < len; i++) {\n                    svg = svg.replace(\n                        'id=\"' + values[i][0] + '\"',\n                        'id=\"' + values[i][0] + '\" value=\"' + values[i][1] + '\"'\n                    );\n                }\n            }\n\n            // if (false) {\n            //     // Debug: use example svg image\n            //     svg = '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.0\" width=\"220\" height=\"220\"><rect width=\"66\" height=\"30\" x=\"21\" y=\"32\" stroke=\"#204a87\" stroke-width=\"2\" fill=\"none\" /></svg>';\n            // }\n\n            // In IE we have to remove the namespace again.\n            // Since 2024 we have to check if the namespace attribute appears twice in one tag, because\n            // there might by a svg inside of the svg, e.g. the screenshot icon.\n            if (this.isIE &&\n                (svg.match(/xmlns=\"http:\\/\\/www.w3.org\\/2000\\/svg\"\\s+xmlns=\"http:\\/\\/www.w3.org\\/2000\\/svg\"/g) || []).length > 1\n            ) {\n                svg = svg.replace(/xmlns=\"http:\\/\\/www.w3.org\\/2000\\/svg\"\\s+xmlns=\"http:\\/\\/www.w3.org\\/2000\\/svg\"/g, \"\");\n            }\n\n            // Safari fails if the svg string contains a \"&nbsp;\"\n            // Obsolete with Safari 12+\n            svg = svg.replace(/&nbsp;/g, \" \");\n            // Replacing &quot;s might be necessary for older Safari versions\n            // svg = svg.replace(/url\\(&quot;(.*)&quot;\\)/g, \"url($1)\"); // Bug: does not replace matching &quot;s\n            // svg = svg.replace(/&quot;/g, \"\");\n\n            // Move all HTML tags back from\n            // the foreignObject element to the container\n            if (Type.exists(this.foreignObjLayer) && this.foreignObjLayer.hasChildNodes()) {\n                // Restore all HTML elements\n                while (this.foreignObjLayer.firstChild) {\n                    this.container.appendChild(this.foreignObjLayer.firstChild);\n                }\n                this.foreignObjLayer.setAttribute(\"display\", \"none\");\n            }\n\n            return \"data:image/svg+xml;base64,\" + btoa(unescape(encodeURIComponent(svg)));\n        },\n\n        /**\n         * Convert the SVG construction into an HTML canvas image.\n         * This works for all SVG supporting browsers. Implemented as Promise.\n         * <p>\n         * Might fail if any text element or foreign object element contains SVG. This\n         * is the case e.g. for the default fullscreen symbol.\n         * <p>\n         * For IE, it is realized as function.\n         * It works from version 9, with the exception that HTML texts\n         * are ignored on IE. The drawing is done with a delay of\n         * 200 ms. Otherwise there would be problems with IE.\n         *\n         * @param {String} canvasId Id of an HTML canvas element\n         * @param {Number} w Width in pixel of the dumped image, i.e. of the canvas tag.\n         * @param {Number} h Height in pixel of the dumped image, i.e. of the canvas tag.\n         * @param {Boolean} ignoreTexts If true, the foreignObject tag is taken out from the SVG root.\n         * This is necessary for older versions of Safari. Default: false\n         * @returns {Promise}  Promise object\n         *\n         * @example\n         * \tboard.renderer.dumpToCanvas('canvas').then(function() { console.log('done'); });\n         *\n         * @example\n         *  // IE 11 example:\n         * \tboard.renderer.dumpToCanvas('canvas');\n         * \tsetTimeout(function() { console.log('done'); }, 400);\n         */\n        dumpToCanvas: function (canvasId, w, h, ignoreTexts) {\n            var svg, tmpImg,\n                cv, ctx,\n                doc = this.container.ownerDocument;\n\n            // Prepare the canvas element\n            cv = doc.getElementById(canvasId);\n\n            // Clear the canvas\n            /* eslint-disable no-self-assign */\n            cv.width = cv.width;\n            /* eslint-enable no-self-assign */\n\n            ctx = cv.getContext(\"2d\");\n            if (w !== undefined && h !== undefined) {\n                cv.style.width = parseFloat(w) + \"px\";\n                cv.style.height = parseFloat(h) + \"px\";\n                // Scale twice the CSS size to make the image crisp\n                // cv.setAttribute('width', 2 * parseFloat(wOrg));\n                // cv.setAttribute('height', 2 * parseFloat(hOrg));\n                // ctx.scale(2 * wOrg / w, 2 * hOrg / h);\n                cv.setAttribute(\"width\", parseFloat(w));\n                cv.setAttribute(\"height\", parseFloat(h));\n            }\n\n            // Display the SVG string as data-uri in an HTML img.\n            /**\n             * @type {Image}\n             * @ignore\n             * {ignore}\n             */\n            tmpImg = new Image();\n            svg = this.dumpToDataURI(ignoreTexts);\n            tmpImg.src = svg;\n\n            // Finally, draw the HTML img in the canvas.\n            if (!(\"Promise\" in window)) {\n                /**\n                 * @function\n                 * @ignore\n                 */\n                tmpImg.onload = function () {\n                    // IE needs a pause...\n                    // Seems to be broken\n                    window.setTimeout(function () {\n                        try {\n                            ctx.drawImage(tmpImg, 0, 0, w, h);\n                        } catch (err) {\n                            console.log(\"screenshots not longer supported on IE\");\n                        }\n                    }, 200);\n                };\n                return this;\n            }\n\n            return new Promise(function (resolve, reject) {\n                try {\n                    tmpImg.onload = function () {\n                        ctx.drawImage(tmpImg, 0, 0, w, h);\n                        resolve();\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        },\n\n        /**\n         * Display SVG image in html img-tag which enables\n         * easy download for the user.\n         *\n         * Support:\n         * <ul>\n         * <li> IE: No\n         * <li> Edge: full\n         * <li> Firefox: full\n         * <li> Chrome: full\n         * <li> Safari: full (No text support in versions prior to 12).\n         * </ul>\n         *\n         * @param {JXG.Board} board Link to the board.\n         * @param {String} imgId Optional id of an img object. If given and different from the empty string,\n         * the screenshot is copied to this img object. The width and height will be set to the values of the\n         * JSXGraph container.\n         * @param {Boolean} ignoreTexts If set to true, the foreignObject is taken out of the\n         *  SVGRoot and texts are not displayed. This is mandatory for Safari. Default: false\n         * @return {Object}       the svg renderer object\n         */\n        screenshot: function (board, imgId, ignoreTexts) {\n            var node,\n                doc = this.container.ownerDocument,\n                parent = this.container.parentNode,\n                // cPos,\n                // cssTxt,\n                canvas, id, img,\n                button, buttonText,\n                w, h,\n                bas = board.attr.screenshot,\n                navbar, navbarDisplay, insert,\n                newImg = false,\n                _copyCanvasToImg,\n                isDebug = false;\n\n            if (this.type === \"no\") {\n                return this;\n            }\n\n            w = bas.scale * this.container.getBoundingClientRect().width;\n            h = bas.scale * this.container.getBoundingClientRect().height;\n\n            if (imgId === undefined || imgId === \"\") {\n                newImg = true;\n                img = new Image(); //doc.createElement('img');\n                img.style.width = w + \"px\";\n                img.style.height = h + \"px\";\n            } else {\n                newImg = false;\n                img = doc.getElementById(imgId);\n            }\n            // img.crossOrigin = 'anonymous';\n\n            // Create div which contains canvas element and close button\n            if (newImg) {\n                node = doc.createElement(\"div\");\n                node.style.cssText = bas.css;\n                node.style.width = w + \"px\";\n                node.style.height = h + \"px\";\n                node.style.zIndex = this.container.style.zIndex + 120;\n\n                // Try to position the div exactly over the JSXGraph board\n                node.style.position = \"absolute\";\n                node.style.top = this.container.offsetTop + \"px\";\n                node.style.left = this.container.offsetLeft + \"px\";\n            }\n\n            if (!isDebug) {\n                // Create canvas element and add it to the DOM\n                // It will be removed after the image has been stored.\n                canvas = doc.createElement(\"canvas\");\n                id = Math.random().toString(36).slice(2, 7);\n                canvas.setAttribute(\"id\", id);\n                canvas.setAttribute(\"width\", w);\n                canvas.setAttribute(\"height\", h);\n                canvas.style.width = w + \"px\";\n                canvas.style.height = w + \"px\";\n                canvas.style.display = \"none\";\n                parent.appendChild(canvas);\n            } else {\n                // Debug: use canvas element 'jxgbox_canvas' from jsxdev/dump.html\n                id = \"jxgbox_canvas\";\n                canvas = doc.getElementById(id);\n            }\n\n            if (newImg) {\n                // Create close button\n                button = doc.createElement(\"span\");\n                buttonText = doc.createTextNode(\"\\u2716\");\n                button.style.cssText = bas.cssButton;\n                button.appendChild(buttonText);\n                button.onclick = function () {\n                    node.parentNode.removeChild(node);\n                };\n\n                // Add all nodes\n                node.appendChild(img);\n                node.appendChild(button);\n                parent.insertBefore(node, this.container.nextSibling);\n            }\n\n            // Hide navigation bar in board\n            navbar = doc.getElementById(this.uniqName('navigationbar'));\n            if (Type.exists(navbar)) {\n                navbarDisplay = navbar.style.display;\n                navbar.style.display = \"none\";\n                insert = this.removeToInsertLater(navbar);\n            }\n\n            _copyCanvasToImg = function () {\n                // Show image in img tag\n                img.src = canvas.toDataURL(\"image/png\");\n\n                // Remove canvas node\n                if (!isDebug) {\n                    parent.removeChild(canvas);\n                }\n            };\n\n            // Create screenshot in image element\n            if (\"Promise\" in window) {\n                this.dumpToCanvas(id, w, h, ignoreTexts).then(_copyCanvasToImg);\n            } else {\n                // IE\n                this.dumpToCanvas(id, w, h, ignoreTexts);\n                window.setTimeout(_copyCanvasToImg, 200);\n            }\n\n            // Reinsert navigation bar in board\n            if (Type.exists(navbar)) {\n                navbar.style.display = navbarDisplay;\n                insert();\n            }\n\n            return this;\n        }\n    }\n);\n\nexport default JXG.SVGRenderer;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3704, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristynacoufalova/Documents/geometry_review/node_modules/jsxgraph/src/renderer/vml.js"],"sourcesContent":["/*\n    Copyright 2008-2025\n        Matthias Ehmann,\n        Michael Gerhaeuser,\n        Carsten Miller,\n        Bianca Valentin,\n        Alfred Wassermann,\n        Peter Wilfahrt\n\n    This file is part of JSXGraph.\n\n    JSXGraph is free software dual licensed under the GNU LGPL or MIT License.\n\n    You can redistribute it and/or modify it under the terms of the\n\n      * GNU Lesser General Public License as published by\n        the Free Software Foundation, either version 3 of the License, or\n        (at your option) any later version\n      OR\n      * MIT License: https://github.com/jsxgraph/jsxgraph/blob/master/LICENSE.MIT\n\n    JSXGraph is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License and\n    the MIT License along with JSXGraph. If not, see <https://www.gnu.org/licenses/>\n    and <https://opensource.org/licenses/MIT/>.\n */\n\n/*global JXG: true, define: true, AMprocessNode: true, MathJax: true, document: true */\n/*jslint nomen: true, plusplus: true, newcap:true*/\n\nimport JXG from \"../jxg.js\";\nimport AbstractRenderer from \"./abstract.js\";\nimport Const from \"../base/constants.js\";\nimport Type from \"../utils/type.js\";\nimport Color from \"../utils/color.js\";\nimport Mat from \"../math/math.js\";\nimport Numerics from \"../math/numerics.js\";\n\n/**\n * Uses VML to implement the rendering methods defined in {@link JXG.AbstractRenderer}.\n * VML was used in very old Internet Explorer versions upto IE 8.\n *\n *\n * @class JXG.VMLRenderer\n * @augments JXG.AbstractRenderer\n * @param {Node} container Reference to a DOM node containing the board.\n * @see JXG.AbstractRenderer\n * @deprecated\n */\nJXG.VMLRenderer = function (container) {\n    this.type = \"vml\";\n\n    this.container = container;\n    this.container.style.overflow = \"hidden\";\n    if (this.container.style.position === \"\") {\n        this.container.style.position = \"relative\";\n    }\n    this.container.onselectstart = function () {\n        return false;\n    };\n\n    this.resolution = 10; // Paths are drawn with a resolution of this.resolution/pixel.\n\n    // Add VML includes and namespace\n    // Original: IE <=7\n    //container.ownerDocument.createStyleSheet().addRule(\"v\\\\:*\", \"behavior: url(#default#VML);\");\n    if (!Type.exists(JXG.vmlStylesheet)) {\n        container.ownerDocument.namespaces.add(\"jxgvml\", \"urn:schemas-microsoft-com:vml\");\n        JXG.vmlStylesheet = this.container.ownerDocument.createStyleSheet();\n        JXG.vmlStylesheet.addRule(\".jxgvml\", \"behavior:url(#default#VML)\");\n    }\n\n    try {\n        if (!container.ownerDocument.namespaces.jxgvml) {\n            container.ownerDocument.namespaces.add(\"jxgvml\", \"urn:schemas-microsoft-com:vml\");\n        }\n\n        this.createNode = function (tagName) {\n            return container.ownerDocument.createElement(\n                \"<jxgvml:\" + tagName + ' class=\"jxgvml\">'\n            );\n        };\n    } catch (e) {\n        this.createNode = function (tagName) {\n            return container.ownerDocument.createElement(\n                \"<\" + tagName + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"jxgvml\">'\n            );\n        };\n    }\n\n    // dash styles\n    this.dashArray = [\n        \"Solid\",\n        \"1 1\",\n        \"ShortDash\",\n        \"Dash\",\n        \"LongDash\",\n        \"ShortDashDot\",\n        \"LongDashDot\"\n    ];\n};\n\nJXG.VMLRenderer.prototype = new AbstractRenderer();\n\nJXG.extend(\n    JXG.VMLRenderer.prototype,\n    /** @lends JXG.VMLRenderer.prototype */ {\n        /**\n         * Sets attribute <tt>key</tt> of node <tt>node</tt> to <tt>value</tt>.\n         * @param {Node} node A DOM node.\n         * @param {String} key Name of the attribute.\n         * @param {String} val New value of the attribute.\n         * @param {Boolean} [iFlag=false] If false, the attribute's name is case insensitive.\n         */\n        _setAttr: function (node, key, val, iFlag) {\n            try {\n                if (this.container.ownerDocument.documentMode === 8) {\n                    node[key] = val;\n                } else {\n                    node.setAttribute(key, val, iFlag);\n                }\n            } catch (e) {\n                JXG.debug(\"_setAttr:\" /*node.id*/ + \" \" + key + \" \" + val + \"<br>\\n\");\n            }\n        },\n\n        /* ******************************** *\n         *  This renderer does not need to\n         *  override draw/update* methods\n         *  since it provides draw/update*Prim\n         *  methods.\n         * ******************************** */\n\n        /* **************************\n         *    Lines\n         * **************************/\n\n        // documented in AbstractRenderer\n        updateTicks: function (ticks) {\n            var i,\n                len,\n                c,\n                x,\n                y,\n                r = this.resolution,\n                tickArr = [];\n\n            len = ticks.ticks.length;\n            for (i = 0; i < len; i++) {\n                c = ticks.ticks[i];\n                x = c[0];\n                y = c[1];\n\n                if (Type.isNumber(x[0]) && Type.isNumber(x[1])) {\n                    tickArr.push(\n                        \" m \" +\n                            Math.round(r * x[0]) +\n                            \", \" +\n                            Math.round(r * y[0]) +\n                            \" l \" +\n                            Math.round(r * x[1]) +\n                            \", \" +\n                            Math.round(r * y[1]) +\n                            \" \"\n                    );\n                }\n            }\n\n            if (!Type.exists(ticks.rendNode)) {\n                ticks.rendNode = this.createPrim(\"path\", ticks.id);\n                this.appendChildPrim(ticks.rendNode, ticks.evalVisProp('layer'));\n            }\n\n            this._setAttr(ticks.rendNode, \"stroked\", \"true\");\n            this._setAttr(\n                ticks.rendNode,\n                \"strokecolor\",\n                ticks.evalVisProp('strokecolor'),\n                1\n            );\n            this._setAttr(\n                ticks.rendNode,\n                \"strokeweight\",\n                ticks.evalVisProp('strokewidth')\n            );\n            this._setAttr(\n                ticks.rendNodeStroke,\n                \"opacity\",\n                ticks.evalVisProp('strokeopacity') * 100 + \"%\"\n            );\n            this.updatePathPrim(ticks.rendNode, tickArr, ticks.board);\n        },\n\n        /* **************************\n         *    Text related stuff\n         * **************************/\n\n        // Already documented in JXG.AbstractRenderer\n        displayCopyright: function (str, fontsize) {\n            var node, t;\n\n            node = this.createNode(\"textbox\");\n            node.style.position = \"absolute\";\n            this._setAttr(node, \"id\", this.container.id + \"_\" + \"licenseText\");\n\n            node.style.left = 20;\n            node.style.top = 2;\n            node.style.fontSize = fontsize;\n            node.style.color = \"#356AA0\";\n            node.style.fontFamily = \"Arial,Helvetica,sans-serif\";\n            this._setAttr(node, \"opacity\", \"30%\");\n            node.style.filter =\n                \"progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 30, enabled = true)\";\n\n            t = this.container.ownerDocument.createTextNode(str);\n            node.appendChild(t);\n            this.appendChildPrim(node, 0);\n        },\n\n        // documented in AbstractRenderer\n        drawInternalText: function (el) {\n            var node;\n            node = this.createNode(\"textbox\");\n            node.style.position = \"absolute\";\n            el.rendNodeText = this.container.ownerDocument.createTextNode(\"\");\n            node.appendChild(el.rendNodeText);\n            this.appendChildPrim(node, 9);\n            node.style.filter =\n                \"progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)\";\n\n            return node;\n        },\n\n        // documented in AbstractRenderer\n        updateInternalText: function (el) {\n            var v,\n                content = el.plaintext,\n                m = this.joinTransforms(el, el.transformations),\n                offset = [0, 0],\n                maxX,\n                maxY,\n                minX,\n                minY,\n                i,\n                node = el.rendNode,\n                p = [],\n                ev_ax = el.getAnchorX(),\n                ev_ay = el.getAnchorY();\n\n            if (!isNaN(el.coords.scrCoords[1] + el.coords.scrCoords[2])) {\n                // Horizontal\n                if (ev_ax === \"right\") {\n                    offset[0] = 1;\n                } else if (ev_ax === \"middle\") {\n                    offset[0] = 0.5;\n                } // default (ev_ax === 'left') offset[0] = 0;\n\n                // Vertical\n                if (ev_ay === \"bottom\") {\n                    offset[1] = 1;\n                } else if (ev_ay === \"middle\") {\n                    offset[1] = 0.5;\n                } // default (ev_ay === 'top') offset[1] = 0;\n\n                // Compute maxX, maxY, minX, minY\n                p[0] = Mat.matVecMult(m, [\n                    1,\n                    el.coords.scrCoords[1] - offset[0] * el.size[0],\n                    el.coords.scrCoords[2] + (1 - offset[1]) * el.size[1] + this.vOffsetText\n                ]);\n                p[0][1] /= p[0][0];\n                p[0][2] /= p[0][0];\n                p[1] = Mat.matVecMult(m, [\n                    1,\n                    el.coords.scrCoords[1] + (1 - offset[0]) * el.size[0],\n                    el.coords.scrCoords[2] + (1 - offset[1]) * el.size[1] + this.vOffsetText\n                ]);\n                p[1][1] /= p[1][0];\n                p[1][2] /= p[1][0];\n                p[2] = Mat.matVecMult(m, [\n                    1,\n                    el.coords.scrCoords[1] + (1 - offset[0]) * el.size[0],\n                    el.coords.scrCoords[2] - offset[1] * el.size[1] + this.vOffsetText\n                ]);\n                p[2][1] /= p[2][0];\n                p[2][2] /= p[2][0];\n                p[3] = Mat.matVecMult(m, [\n                    1,\n                    el.coords.scrCoords[1] - offset[0] * el.size[0],\n                    el.coords.scrCoords[2] - offset[1] * el.size[1] + this.vOffsetText\n                ]);\n                p[3][1] /= p[3][0];\n                p[3][2] /= p[3][0];\n                maxX = p[0][1];\n                minX = p[0][1];\n                maxY = p[0][2];\n                minY = p[0][2];\n\n                for (i = 1; i < 4; i++) {\n                    maxX = Math.max(maxX, p[i][1]);\n                    minX = Math.min(minX, p[i][1]);\n                    maxY = Math.max(maxY, p[i][2]);\n                    minY = Math.min(minY, p[i][2]);\n                }\n\n                // Horizontal\n                v =\n                    offset[0] === 1\n                        ? Math.floor(el.board.canvasWidth - maxX)\n                        : Math.floor(minX);\n                if (el.visPropOld.left !== ev_ax + v) {\n                    if (offset[0] === 1) {\n                        el.rendNode.style.right = v + \"px\";\n                        el.rendNode.style.left = \"auto\";\n                    } else {\n                        el.rendNode.style.left = v + \"px\";\n                        el.rendNode.style.right = \"auto\";\n                    }\n                    el.visPropOld.left = ev_ax + v;\n                }\n\n                // Vertical\n                v =\n                    offset[1] === 1\n                        ? Math.floor(el.board.canvasHeight - maxY)\n                        : Math.floor(minY);\n                if (el.visPropOld.top !== ev_ay + v) {\n                    if (offset[1] === 1) {\n                        el.rendNode.style.bottom = v + \"px\";\n                        el.rendNode.style.top = \"auto\";\n                    } else {\n                        el.rendNode.style.top = v + \"px\";\n                        el.rendNode.style.bottom = \"auto\";\n                    }\n                    el.visPropOld.top = ev_ay + v;\n                }\n            }\n\n            if (el.htmlStr !== content) {\n                el.rendNodeText.data = content;\n                el.htmlStr = content;\n            }\n\n            //this.transformRect(el, el.transformations);\n            node.filters.item(0).M11 = m[1][1];\n            node.filters.item(0).M12 = m[1][2];\n            node.filters.item(0).M21 = m[2][1];\n            node.filters.item(0).M22 = m[2][2];\n            node.filters.item(0).enabled = true;\n        },\n\n        /* **************************\n         *    Image related stuff\n         * **************************/\n\n        // Already documented in JXG.AbstractRenderer\n        drawImage: function (el) {\n            // IE 8: Bilder ueber data URIs werden bis 32kB unterstuetzt.\n            var node;\n\n            node = this.container.ownerDocument.createElement(\"img\");\n            node.style.position = \"absolute\";\n            this._setAttr(node, \"id\", this.container.id + \"_\" + el.id);\n\n            this.container.appendChild(node);\n            this.appendChildPrim(node, el.evalVisProp('layer'));\n\n            // Adding the rotation filter. This is always filter item 0:\n            // node.filters.item(0), see transformRect\n            // Also add the alpha filter. This is always filter item 1\n            // node.filters.item(1), see setObjectFillColor and setObjectSTrokeColor\n            //node.style.filter = node.style['-ms-filter'] = \"progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand')\";\n            node.style.filter =\n                \"progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand') progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)\";\n            el.rendNode = node;\n            this.updateImage(el);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        transformRect: function (el, t) {\n            var m,\n                maxX,\n                maxY,\n                minX,\n                minY,\n                i,\n                node = el.rendNode,\n                p = [],\n                len = t.length;\n\n            if (len > 0) {\n                /*\n                nt = el.rendNode.style.filter.toString();\n                if (!nt.match(/DXImageTransform/)) {\n                    node.style.filter = \"progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand') \" + nt;\n                }\n                */\n\n                m = this.joinTransforms(el, t);\n                p[0] = Mat.matVecMult(m, el.coords.scrCoords);\n                p[0][1] /= p[0][0];\n                p[0][2] /= p[0][0];\n                p[1] = Mat.matVecMult(m, [\n                    1,\n                    el.coords.scrCoords[1] + el.size[0],\n                    el.coords.scrCoords[2]\n                ]);\n                p[1][1] /= p[1][0];\n                p[1][2] /= p[1][0];\n                p[2] = Mat.matVecMult(m, [\n                    1,\n                    el.coords.scrCoords[1] + el.size[0],\n                    el.coords.scrCoords[2] - el.size[1]\n                ]);\n                p[2][1] /= p[2][0];\n                p[2][2] /= p[2][0];\n                p[3] = Mat.matVecMult(m, [\n                    1,\n                    el.coords.scrCoords[1],\n                    el.coords.scrCoords[2] - el.size[1]\n                ]);\n                p[3][1] /= p[3][0];\n                p[3][2] /= p[3][0];\n                maxX = p[0][1];\n                minX = p[0][1];\n                maxY = p[0][2];\n                minY = p[0][2];\n\n                for (i = 1; i < 4; i++) {\n                    maxX = Math.max(maxX, p[i][1]);\n                    minX = Math.min(minX, p[i][1]);\n                    maxY = Math.max(maxY, p[i][2]);\n                    minY = Math.min(minY, p[i][2]);\n                }\n                node.style.left = Math.floor(minX) + \"px\";\n                node.style.top = Math.floor(minY) + \"px\";\n\n                node.filters.item(0).M11 = m[1][1];\n                node.filters.item(0).M12 = m[1][2];\n                node.filters.item(0).M21 = m[2][1];\n                node.filters.item(0).M22 = m[2][2];\n                node.filters.item(0).enabled = true;\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateImageURL: function (el) {\n            var url = el.eval(el.url);\n\n            this._setAttr(el.rendNode, \"src\", url);\n        },\n\n        /* **************************\n         * Render primitive objects\n         * **************************/\n\n        // Already documented in JXG.AbstractRenderer\n        appendChildPrim: function (node, level) {\n            // For trace nodes\n            if (!Type.exists(level)) {\n                level = 0;\n            }\n\n            node.style.zIndex = level;\n            this.container.appendChild(node);\n\n            return node;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        appendNodesToElement: function (el, type) {\n            if (type === \"shape\" || type === \"path\" || type === \"polygon\") {\n                el.rendNodePath = this.getElementById(el.id + \"_path\");\n            }\n            el.rendNodeFill = this.getElementById(el.id + \"_fill\");\n            el.rendNodeStroke = this.getElementById(el.id + \"_stroke\");\n            el.rendNodeShadow = this.getElementById(el.id + \"_shadow\");\n            el.rendNode = this.getElementById(el.id);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        createPrim: function (type, id) {\n            var node,\n                pathNode,\n                fillNode = this.createNode(\"fill\"),\n                strokeNode = this.createNode(\"stroke\"),\n                shadowNode = this.createNode(\"shadow\");\n\n            this._setAttr(fillNode, \"id\", this.container.id + \"_\" + id + \"_fill\");\n            this._setAttr(strokeNode, \"id\", this.container.id + \"_\" + id + \"_stroke\");\n            this._setAttr(shadowNode, \"id\", this.container.id + \"_\" + id + \"_shadow\");\n\n            if (type === \"circle\" || type === \"ellipse\") {\n                node = this.createNode(\"oval\");\n                node.appendChild(fillNode);\n                node.appendChild(strokeNode);\n                node.appendChild(shadowNode);\n            } else if (\n                type === \"polygon\" ||\n                type === \"path\" ||\n                type === \"shape\" ||\n                type === \"line\"\n            ) {\n                node = this.createNode(\"shape\");\n                node.appendChild(fillNode);\n                node.appendChild(strokeNode);\n                node.appendChild(shadowNode);\n                pathNode = this.createNode(\"path\");\n                this._setAttr(pathNode, \"id\", this.container.id + \"_\" + id + \"_path\");\n                node.appendChild(pathNode);\n            } else {\n                node = this.createNode(type);\n                node.appendChild(fillNode);\n                node.appendChild(strokeNode);\n                node.appendChild(shadowNode);\n            }\n\n            node.style.position = \"absolute\";\n            node.style.left = \"0px\";\n            node.style.top = \"0px\";\n            this._setAttr(node, \"id\", this.container.id + \"_\" + id);\n\n            return node;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        remove: function (node) {\n            if (Type.exists(node)) {\n                node.removeNode(true);\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        makeArrows: function (el) {\n            var nodeStroke,\n                ev_fa = el.evalVisProp('firstarrow'),\n                ev_la = el.evalVisProp('lastarrow');\n\n            if (el.visPropOld.firstarrow === ev_fa && el.visPropOld.lastarrow === ev_la) {\n                return;\n            }\n\n            if (ev_fa) {\n                nodeStroke = el.rendNodeStroke;\n                this._setAttr(nodeStroke, \"startarrow\", \"block\");\n                this._setAttr(nodeStroke, \"startarrowlength\", \"long\");\n            } else {\n                nodeStroke = el.rendNodeStroke;\n                if (Type.exists(nodeStroke)) {\n                    this._setAttr(nodeStroke, \"startarrow\", \"none\");\n                }\n            }\n\n            if (ev_la) {\n                nodeStroke = el.rendNodeStroke;\n                this._setAttr(nodeStroke, \"id\", this.container.id + \"_\" + el.id + \"stroke\");\n                this._setAttr(nodeStroke, \"endarrow\", \"block\");\n                this._setAttr(nodeStroke, \"endarrowlength\", \"long\");\n            } else {\n                nodeStroke = el.rendNodeStroke;\n                if (Type.exists(nodeStroke)) {\n                    this._setAttr(nodeStroke, \"endarrow\", \"none\");\n                }\n            }\n            el.visPropOld.firstarrow = ev_fa;\n            el.visPropOld.lastarrow = ev_la;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateEllipsePrim: function (node, x, y, rx, ry) {\n            node.style.left = Math.floor(x - rx) + \"px\";\n            node.style.top = Math.floor(y - ry) + \"px\";\n            node.style.width = Math.floor(Math.abs(rx) * 2) + \"px\";\n            node.style.height = Math.floor(Math.abs(ry) * 2) + \"px\";\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateLinePrim: function (node, p1x, p1y, p2x, p2y, board) {\n            var s,\n                r = this.resolution;\n\n            if (!isNaN(p1x + p1y + p2x + p2y)) {\n                s = [\n                    \"m \",\n                    Math.floor(r * p1x),\n                    \", \",\n                    Math.floor(r * p1y),\n                    \" l \",\n                    Math.floor(r * p2x),\n                    \", \",\n                    Math.floor(r * p2y)\n                ];\n                this.updatePathPrim(node, s, board);\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updatePathPrim: function (node, pointString, board) {\n            var x = board.canvasWidth,\n                y = board.canvasHeight;\n            if (pointString.length <= 0) {\n                pointString = [\"m 0,0\"];\n            }\n            node.style.width = x;\n            node.style.height = y;\n            this._setAttr(\n                node,\n                \"coordsize\",\n                [Math.floor(this.resolution * x), Math.floor(this.resolution * y)].join(\",\")\n            );\n            this._setAttr(node, \"path\", pointString.join(\"\"));\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updatePathStringPoint: function (el, size, type) {\n            var s = [],\n                mround = Math.round,\n                scr = el.coords.scrCoords,\n                sqrt32 = size * Math.sqrt(3) * 0.5,\n                s05 = size * 0.5,\n                r = this.resolution;\n\n            if (type === \"x\") {\n                s.push(\n                    [\n                        \" m \",\n                        mround(r * (scr[1] - size)),\n                        \", \",\n                        mround(r * (scr[2] - size)),\n                        \" l \",\n                        mround(r * (scr[1] + size)),\n                        \", \",\n                        mround(r * (scr[2] + size)),\n                        \" m \",\n                        mround(r * (scr[1] + size)),\n                        \", \",\n                        mround(r * (scr[2] - size)),\n                        \" l \",\n                        mround(r * (scr[1] - size)),\n                        \", \",\n                        mround(r * (scr[2] + size))\n                    ].join(\"\")\n                );\n            } else if (type === \"+\") {\n                s.push(\n                    [\n                        \" m \",\n                        mround(r * (scr[1] - size)),\n                        \", \",\n                        mround(r * scr[2]),\n                        \" l \",\n                        mround(r * (scr[1] + size)),\n                        \", \",\n                        mround(r * scr[2]),\n                        \" m \",\n                        mround(r * scr[1]),\n                        \", \",\n                        mround(r * (scr[2] - size)),\n                        \" l \",\n                        mround(r * scr[1]),\n                        \", \",\n                        mround(r * (scr[2] + size))\n                    ].join(\"\")\n                );\n            } else if (type === \"<>\" || type === \"<<>>\") {\n                if (type === \"<<>>\") {\n                    size *= 1.41;\n                }\n                s.push(\n                    [\n                        \" m \",\n                        mround(r * (scr[1] - size)),\n                        \", \",\n                        mround(r * scr[2]),\n                        \" l \",\n                        mround(r * scr[1]),\n                        \", \",\n                        mround(r * (scr[2] + size)),\n                        \" l \",\n                        mround(r * (scr[1] + size)),\n                        \", \",\n                        mround(r * scr[2]),\n                        \" l \",\n                        mround(r * scr[1]),\n                        \", \",\n                        mround(r * (scr[2] - size)),\n                        \" x e \"\n                    ].join(\"\")\n                );\n            } else if (type === \"^\") {\n                s.push(\n                    [\n                        \" m \",\n                        mround(r * scr[1]),\n                        \", \",\n                        mround(r * (scr[2] - size)),\n                        \" l \",\n                        mround(r * (scr[1] - sqrt32)),\n                        \", \",\n                        mround(r * (scr[2] + s05)),\n                        \" l \",\n                        mround(r * (scr[1] + sqrt32)),\n                        \", \",\n                        mround(r * (scr[2] + s05)),\n                        \" x e \"\n                    ].join(\"\")\n                );\n            } else if (type === \"v\") {\n                s.push(\n                    [\n                        \" m \",\n                        mround(r * scr[1]),\n                        \", \",\n                        mround(r * (scr[2] + size)),\n                        \" l \",\n                        mround(r * (scr[1] - sqrt32)),\n                        \", \",\n                        mround(r * (scr[2] - s05)),\n                        \" l \",\n                        mround(r * (scr[1] + sqrt32)),\n                        \", \",\n                        mround(r * (scr[2] - s05)),\n                        \" x e \"\n                    ].join(\"\")\n                );\n            } else if (type === \">\") {\n                s.push(\n                    [\n                        \" m \",\n                        mround(r * (scr[1] + size)),\n                        \", \",\n                        mround(r * scr[2]),\n                        \" l \",\n                        mround(r * (scr[1] - s05)),\n                        \", \",\n                        mround(r * (scr[2] - sqrt32)),\n                        \" l \",\n                        mround(r * (scr[1] - s05)),\n                        \", \",\n                        mround(r * (scr[2] + sqrt32)),\n                        \" l \",\n                        mround(r * (scr[1] + size)),\n                        \", \",\n                        mround(r * scr[2])\n                    ].join(\"\")\n                );\n            } else if (type === \"<\") {\n                s.push(\n                    [\n                        \" m \",\n                        mround(r * (scr[1] - size)),\n                        \", \",\n                        mround(r * scr[2]),\n                        \" l \",\n                        mround(r * (scr[1] + s05)),\n                        \", \",\n                        mround(r * (scr[2] - sqrt32)),\n                        \" l \",\n                        mround(r * (scr[1] + s05)),\n                        \", \",\n                        mround(r * (scr[2] + sqrt32)),\n                        \" x e \"\n                    ].join(\"\")\n                );\n            }\n\n            return s;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updatePathStringPrim: function (el) {\n            var i,\n                scr,\n                pStr = [],\n                r = this.resolution,\n                mround = Math.round,\n                symbm = \" m \",\n                symbl = \" l \",\n                symbc = \" c \",\n                nextSymb = symbm,\n                len = Math.min(el.numberPoints, 8192); // otherwise IE 7 crashes in hilbert.html\n\n            if (el.numberPoints <= 0) {\n                return \"\";\n            }\n            len = Math.min(len, el.points.length);\n\n            if (el.bezierDegree === 1) {\n                /*\n                if (isNotPlot && el.board.options.curve.RDPsmoothing) {\n                    el.points = Numerics.RamerDouglasPeucker(el.points, 1.0);\n                }\n                */\n\n                for (i = 0; i < len; i++) {\n                    scr = el.points[i].scrCoords;\n                    if (isNaN(scr[1]) || isNaN(scr[2])) {\n                        // PenUp\n                        nextSymb = symbm;\n                    } else {\n                        // IE has problems with values  being too far away.\n                        if (scr[1] > 20000.0) {\n                            scr[1] = 20000.0;\n                        } else if (scr[1] < -20000.0) {\n                            scr[1] = -20000.0;\n                        }\n\n                        if (scr[2] > 20000.0) {\n                            scr[2] = 20000.0;\n                        } else if (scr[2] < -20000.0) {\n                            scr[2] = -20000.0;\n                        }\n\n                        pStr.push(\n                            [nextSymb, mround(r * scr[1]), \", \", mround(r * scr[2])].join(\"\")\n                        );\n                        nextSymb = symbl;\n                    }\n                }\n            } else if (el.bezierDegree === 3) {\n                i = 0;\n                while (i < len) {\n                    scr = el.points[i].scrCoords;\n                    if (isNaN(scr[1]) || isNaN(scr[2])) {\n                        // PenUp\n                        nextSymb = symbm;\n                    } else {\n                        pStr.push(\n                            [nextSymb, mround(r * scr[1]), \", \", mround(r * scr[2])].join(\"\")\n                        );\n                        if (nextSymb === symbc) {\n                            i += 1;\n                            scr = el.points[i].scrCoords;\n                            pStr.push(\n                                [\" \", mround(r * scr[1]), \", \", mround(r * scr[2])].join(\"\")\n                            );\n                            i += 1;\n                            scr = el.points[i].scrCoords;\n                            pStr.push(\n                                [\" \", mround(r * scr[1]), \", \", mround(r * scr[2])].join(\"\")\n                            );\n                        }\n                        nextSymb = symbc;\n                    }\n                    i += 1;\n                }\n            }\n            pStr.push(\" e\");\n            return pStr;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updatePathStringBezierPrim: function (el) {\n            var i,\n                j,\n                k,\n                scr,\n                lx,\n                ly,\n                pStr = [],\n                f = el.evalVisProp('strokewidth'),\n                r = this.resolution,\n                mround = Math.round,\n                symbm = \" m \",\n                symbl = \" c \",\n                nextSymb = symbm,\n                isNoPlot = el.evalVisProp('curvetype') !== \"plot\",\n                len = Math.min(el.numberPoints, 8192); // otherwise IE 7 crashes in hilbert.html\n\n            if (el.numberPoints <= 0) {\n                return \"\";\n            }\n            if (isNoPlot && el.board.options.curve.RDPsmoothing) {\n                el.points = Numerics.RamerDouglasPeucker(el.points, 1.0);\n            }\n            len = Math.min(len, el.points.length);\n\n            for (j = 1; j < 3; j++) {\n                nextSymb = symbm;\n                for (i = 0; i < len; i++) {\n                    scr = el.points[i].scrCoords;\n                    if (isNaN(scr[1]) || isNaN(scr[2])) {\n                        // PenUp\n                        nextSymb = symbm;\n                    } else {\n                        // IE has problems with values  being too far away.\n                        if (scr[1] > 20000.0) {\n                            scr[1] = 20000.0;\n                        } else if (scr[1] < -20000.0) {\n                            scr[1] = -20000.0;\n                        }\n\n                        if (scr[2] > 20000.0) {\n                            scr[2] = 20000.0;\n                        } else if (scr[2] < -20000.0) {\n                            scr[2] = -20000.0;\n                        }\n\n                        if (nextSymb === symbm) {\n                            pStr.push(\n                                [nextSymb, mround(r * scr[1]), \" \", mround(r * scr[2])].join(\"\")\n                            );\n                        } else {\n                            k = 2 * j;\n                            pStr.push(\n                                [\n                                    nextSymb,\n                                    mround(\n                                        r *\n                                            (lx +\n                                                (scr[1] - lx) * 0.333 +\n                                                f * (k * Math.random() - j))\n                                    ),\n                                    \" \",\n                                    mround(\n                                        r *\n                                            (ly +\n                                                (scr[2] - ly) * 0.333 +\n                                                f * (k * Math.random() - j))\n                                    ),\n                                    \" \",\n                                    mround(\n                                        r *\n                                            (lx +\n                                                (scr[1] - lx) * 0.666 +\n                                                f * (k * Math.random() - j))\n                                    ),\n                                    \" \",\n                                    mround(\n                                        r *\n                                            (ly +\n                                                (scr[2] - ly) * 0.666 +\n                                                f * (k * Math.random() - j))\n                                    ),\n                                    \" \",\n                                    mround(r * scr[1]),\n                                    \" \",\n                                    mround(r * scr[2])\n                                ].join(\"\")\n                            );\n                        }\n                        nextSymb = symbl;\n                        lx = scr[1];\n                        ly = scr[2];\n                    }\n                }\n            }\n            pStr.push(\" e\");\n            return pStr;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updatePolygonPrim: function (node, el) {\n            var i,\n                len = el.vertices.length,\n                r = this.resolution,\n                scr,\n                pStr = [];\n\n            this._setAttr(node, \"stroked\", \"false\");\n            scr = el.vertices[0].coords.scrCoords;\n\n            if (isNaN(scr[1] + scr[2])) {\n                return;\n            }\n\n            pStr.push(\n                [\"m \", Math.floor(r * scr[1]), \",\", Math.floor(r * scr[2]), \" l \"].join(\"\")\n            );\n\n            for (i = 1; i < len - 1; i++) {\n                if (el.vertices[i].isReal) {\n                    scr = el.vertices[i].coords.scrCoords;\n\n                    if (isNaN(scr[1] + scr[2])) {\n                        return;\n                    }\n\n                    pStr.push(Math.floor(r * scr[1]) + \",\" + Math.floor(r * scr[2]));\n                } else {\n                    this.updatePathPrim(node, \"\", el.board);\n                    return;\n                }\n                if (i < len - 2) {\n                    pStr.push(\", \");\n                }\n            }\n            pStr.push(\" x e\");\n            this.updatePathPrim(node, pStr, el.board);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateRectPrim: function (node, x, y, w, h) {\n            node.style.left = Math.floor(x) + \"px\";\n            node.style.top = Math.floor(y) + \"px\";\n\n            if (w >= 0) {\n                node.style.width = w + \"px\";\n            }\n\n            if (h >= 0) {\n                node.style.height = h + \"px\";\n            }\n        },\n\n        /* **************************\n         *  Set Attributes\n         * **************************/\n\n        // Already documented in JXG.AbstractRenderer\n        setPropertyPrim: function (node, key, val) {\n            var keyVml = \"\",\n                v;\n\n            switch (key) {\n                case \"stroke\":\n                    keyVml = \"strokecolor\";\n                    break;\n                case \"stroke-width\":\n                    keyVml = \"strokeweight\";\n                    break;\n                case \"stroke-dasharray\":\n                    keyVml = \"dashstyle\";\n                    break;\n            }\n\n            if (keyVml !== \"\") {\n                v = val;\n                this._setAttr(node, keyVml, v);\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        display: function (el, val) {\n            if (el && el.rendNode) {\n                el.visPropOld.visible = val;\n                if (val) {\n                    el.rendNode.style.visibility = \"inherit\";\n                } else {\n                    el.rendNode.style.visibility = \"hidden\";\n                }\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        show: function (el) {\n            JXG.deprecated(\"Board.renderer.show()\", \"Board.renderer.display()\");\n\n            if (el && el.rendNode) {\n                el.rendNode.style.visibility = \"inherit\";\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        hide: function (el) {\n            JXG.deprecated(\"Board.renderer.hide()\", \"Board.renderer.display()\");\n\n            if (el && el.rendNode) {\n                el.rendNode.style.visibility = \"hidden\";\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        setDashStyle: function (el, visProp) {\n            var node;\n            if (visProp.dash >= 0) {\n                node = el.rendNodeStroke;\n                this._setAttr(node, \"dashstyle\", this.dashArray[visProp.dash]);\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        setGradient: function (el) {\n            var nodeFill = el.rendNodeFill,\n                ev_g = el.evalVisProp('gradient');\n\n            if (ev_g === \"linear\") {\n                this._setAttr(nodeFill, \"type\", \"gradient\");\n                this._setAttr(\n                    nodeFill,\n                    \"color2\",\n                    el.evalVisProp('gradientsecondcolor')\n                );\n                this._setAttr(\n                    nodeFill,\n                    \"opacity2\",\n                    el.evalVisProp('gradientsecondopacity')\n                );\n                this._setAttr(nodeFill, \"angle\", el.evalVisProp('gradientangle'));\n            } else if (ev_g === \"radial\") {\n                this._setAttr(nodeFill, \"type\", \"gradientradial\");\n                this._setAttr(\n                    nodeFill,\n                    \"color2\",\n                    el.evalVisProp('gradientsecondcolor')\n                );\n                this._setAttr(\n                    nodeFill,\n                    \"opacity2\",\n                    el.evalVisProp('gradientsecondopacity')\n                );\n                this._setAttr(\n                    nodeFill,\n                    \"focusposition\",\n                    el.evalVisProp('gradientpositionx') * 100 +\n                        \"%,\" +\n                        el.evalVisProp('gradientpositiony') * 100 +\n                        \"%\"\n                );\n                this._setAttr(nodeFill, \"focussize\", \"0,0\");\n            } else {\n                this._setAttr(nodeFill, \"type\", \"solid\");\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        setObjectFillColor: function (el, color, opacity) {\n            var rgba = color,\n                c,\n                rgbo,\n                o = opacity,\n                oo,\n                node = el.rendNode;\n\n            o = o > 0 ? o : 0;\n\n            if (el.visPropOld.fillcolor === rgba && el.visPropOld.fillopacity === o) {\n                return;\n            }\n\n            if (Type.exists(rgba) && rgba !== false) {\n                // RGB, not RGBA\n                if (rgba.length !== 9) {\n                    c = rgba;\n                    oo = o;\n                    // True RGBA, not RGB\n                } else {\n                    rgbo = Color.rgba2rgbo(rgba);\n                    c = rgbo[0];\n                    oo = o * rgbo[1];\n                }\n                if (c === \"none\" || c === false) {\n                    this._setAttr(el.rendNode, \"filled\", \"false\");\n                } else {\n                    this._setAttr(el.rendNode, \"filled\", \"true\");\n                    this._setAttr(el.rendNode, \"fillcolor\", c);\n\n                    if (Type.exists(oo) && el.rendNodeFill) {\n                        this._setAttr(el.rendNodeFill, \"opacity\", oo * 100 + \"%\");\n                    }\n                }\n                if (el.type === Const.OBJECT_TYPE_IMAGE) {\n                    /*\n                    t = el.rendNode.style.filter.toString();\n                    if (t.match(/alpha/)) {\n                        el.rendNode.style.filter = t.replace(/alpha\\(opacity *= *[0-9\\.]+\\)/, 'alpha(opacity = ' + (oo * 100) + ')');\n                    } else {\n                        el.rendNode.style.filter += ' alpha(opacity = ' + (oo * 100) + ')';\n                    }\n                    */\n                    if (node.filters.length > 1) {\n                        // Why am I sometimes seeing node.filters.length==0 here when I move the pointer around near [0,0]?\n                        // Setting axes:true shows text labels!\n                        node.filters.item(1).opacity = Math.round(oo * 100); // Why does setObjectFillColor not use Math.round?\n                        node.filters.item(1).enabled = true;\n                    }\n                }\n            }\n            el.visPropOld.fillcolor = rgba;\n            el.visPropOld.fillopacity = o;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        setObjectStrokeColor: function (el, color, opacity) {\n            var rgba = color,\n                c,\n                rgbo,\n                o = opacity,\n                oo,\n                node = el.rendNode,\n                nodeStroke;\n\n            o = o > 0 ? o : 0;\n\n            if (el.visPropOld.strokecolor === rgba && el.visPropOld.strokeopacity === o) {\n                return;\n            }\n\n            // this looks like it could be merged with parts of VMLRenderer.setObjectFillColor\n\n            if (Type.exists(rgba) && rgba !== false) {\n                // RGB, not RGBA\n                if (rgba.length !== 9) {\n                    c = rgba;\n                    oo = o;\n                    // True RGBA, not RGB\n                } else {\n                    rgbo = color.rgba2rgbo(rgba);\n                    c = rgbo[0];\n                    oo = o * rgbo[1];\n                }\n                if (el.elementClass === Const.OBJECT_CLASS_TEXT) {\n                    //node.style.filter = ' alpha(opacity = ' + oo + ')';\n                    /*\n                    t = node.style.filter.toString();\n                    if (t.match(/alpha/)) {\n                        node.style.filter =\n                        t.replace(/alpha\\(opacity *= *[0-9\\.]+\\)/, 'alpha(opacity = ' + oo + ')');\n                    } else {\n                        node.style.filter += ' alpha(opacity = ' + oo + ')';\n                    }\n                    */\n                    if (node.filters.length > 1) {\n                        // Why am I sometimes seeing node.filters.length==0 here when I move the pointer around near [0,0]?\n                        // Setting axes:true shows text labels!\n                        node.filters.item(1).opacity = Math.round(oo * 100);\n                        node.filters.item(1).enabled = true;\n                    }\n\n                    node.style.color = c;\n                } else {\n                    if (c !== false) {\n                        this._setAttr(node, \"stroked\", \"true\");\n                        this._setAttr(node, \"strokecolor\", c);\n                    }\n\n                    nodeStroke = el.rendNodeStroke;\n                    if (Type.exists(oo) && el.type !== Const.OBJECT_TYPE_IMAGE) {\n                        this._setAttr(nodeStroke, \"opacity\", oo * 100 + \"%\");\n                    }\n                }\n            }\n            el.visPropOld.strokecolor = rgba;\n            el.visPropOld.strokeopacity = o;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        setObjectStrokeWidth: function (el, width) {\n            var w = Type.evaluate(width),\n                node;\n\n            if (isNaN(w) || el.visPropOld.strokewidth === w) {\n                return;\n            }\n\n            node = el.rendNode;\n            this.setPropertyPrim(node, \"stroked\", \"true\");\n\n            if (Type.exists(w)) {\n                this.setPropertyPrim(node, \"stroke-width\", w);\n                if (w === 0 && Type.exists(el.rendNodeStroke)) {\n                    this._setAttr(node, \"stroked\", \"false\");\n                }\n            }\n\n            el.visPropOld.strokewidth = w;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        setShadow: function (el) {\n            var nodeShadow = el.rendNodeShadow,\n                ev_s = el.evalVisProp('shadow');\n\n            if (!nodeShadow || el.visPropOld.shadow === ev_s) {\n                return;\n            }\n\n            if (ev_s) {\n                this._setAttr(nodeShadow, \"On\", \"True\");\n                this._setAttr(nodeShadow, \"Offset\", \"3pt,3pt\");\n                this._setAttr(nodeShadow, \"Opacity\", \"60%\");\n                this._setAttr(nodeShadow, \"Color\", \"#aaaaaa\");\n            } else {\n                this._setAttr(nodeShadow, \"On\", \"False\");\n            }\n\n            el.visPropOld.shadow = ev_s;\n        },\n\n        /* **************************\n         * renderer control\n         * **************************/\n\n        // Already documented in JXG.AbstractRenderer\n        suspendRedraw: function () {\n            this.container.style.display = \"none\";\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        unsuspendRedraw: function () {\n            this.container.style.display = \"\";\n        }\n    }\n);\n\nexport default JXG.VMLRenderer;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4716, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristynacoufalova/Documents/geometry_review/node_modules/jsxgraph/src/renderer/canvas.js"],"sourcesContent":["/*\n    Copyright 2008-2025\n        Matthias Ehmann,\n        Michael Gerhaeuser,\n        Carsten Miller,\n        Bianca Valentin,\n        Alfred Wassermann,\n        Peter Wilfahrt\n\n    This file is part of JSXGraph.\n\n    JSXGraph is free software dual licensed under the GNU LGPL or MIT License.\n\n    You can redistribute it and/or modify it under the terms of the\n\n      * GNU Lesser General Public License as published by\n        the Free Software Foundation, either version 3 of the License, or\n        (at your option) any later version\n      OR\n      * MIT License: https://github.com/jsxgraph/jsxgraph/blob/master/LICENSE.MIT\n\n    JSXGraph is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License and\n    the MIT License along with JSXGraph. If not, see <https://www.gnu.org/licenses/>\n    and <https://opensource.org/licenses/MIT/>.\n */\n\n/*global JXG: true, define: true, AMprocessNode: true, document: true, Image: true, module: true, require: true */\n/*jslint nomen: true, plusplus: true, newcap:true*/\n\nimport JXG from \"../jxg.js\";\nimport AbstractRenderer from \"./abstract.js\";\nimport Const from \"../base/constants.js\";\nimport Env from \"../utils/env.js\";\nimport Type from \"../utils/type.js\";\nimport UUID from \"../utils/uuid.js\";\nimport Color from \"../utils/color.js\";\nimport Coords from \"../base/coords.js\";\nimport Mat from \"../math/math.js\";\nimport Geometry from \"../math/geometry.js\";\nimport Numerics from \"../math/numerics.js\";\n// import $__canvas from \"canvas.js\";\n\n/**\n * Uses HTML Canvas to implement the rendering methods defined in {@link JXG.AbstractRenderer}.\n *\n * @class JXG.CanvasRenderer\n * @augments JXG.AbstractRenderer\n * @param {Node} container Reference to a DOM node containing the board.\n * @param {Object} dim The dimensions of the board\n * @param {Number} dim.width\n * @param {Number} dim.height\n * @see JXG.AbstractRenderer\n */\nJXG.CanvasRenderer = function (container, dim) {\n    this.type = \"canvas\";\n\n    this.canvasRoot = null;\n    this.suspendHandle = null;\n    this.canvasId = UUID.genUUID();\n\n    this.canvasNamespace = null;\n\n    if (Env.isBrowser) {\n        this.container = container;\n        this.container.style.MozUserSelect = \"none\";\n        this.container.style.userSelect = \"none\";\n\n        this.container.style.overflow = \"hidden\";\n        if (this.container.style.position === \"\") {\n            this.container.style.position = \"relative\";\n        }\n\n        this.container.innerHTML = [\n            '<canvas id=\"', this.canvasId, '\" width=\"', dim.width, 'px\" height=\"', dim.height, 'px\"></canvas>'\n        ].join(\"\");\n        this.canvasRoot = this.container.ownerDocument.getElementById(this.canvasId);\n        this.canvasRoot.style.display = \"block\";\n        this.context = this.canvasRoot.getContext(\"2d\");\n    } else if (Env.isNode()) {\n        try {\n            this.canvasRoot = JXG.createCanvas(500, 500);\n            this.context = this.canvasRoot.getContext(\"2d\");\n        } catch (err) {\n            throw new Error('JXG.createCanvas not available.\\n' +\n                'Install the npm package `canvas`\\n' +\n                'and call:\\n' +\n                '    import { createCanvas } from \"canvas.js\";\\n' +\n                '    JXG.createCanvas = createCanvas;\\n');\n        }\n    }\n};\n\nJXG.CanvasRenderer.prototype = new AbstractRenderer();\n\nJXG.extend(\n    JXG.CanvasRenderer.prototype,\n    /** @lends JXG.CanvasRenderer.prototype */ {\n        /* **************************\n         *   private methods only used\n         *   in this renderer. Should\n         *   not be called from outside.\n         * **************************/\n\n        /**\n         * Draws a filled polygon.\n         * @param {Array} shape A matrix presented by a two dimensional array of numbers.\n         * @see JXG.AbstractRenderer#drawArrows\n         * @private\n         */\n        _drawPolygon: function (shape, degree, doFill) {\n            var i,\n                len = shape.length,\n                context = this.context;\n\n            if (len > 0) {\n                if (doFill) {\n                    context.lineWidth = 0;\n                }\n                context.beginPath();\n                context.moveTo(shape[0][0], shape[0][1]);\n                if (degree === 1) {\n                    for (i = 1; i < len; i++) {\n                        context.lineTo(shape[i][0], shape[i][1]);\n                    }\n                } else {\n                    for (i = 1; i < len; i += 3) {\n                        context.bezierCurveTo(\n                            shape[i][0],\n                            shape[i][1],\n                            shape[i + 1][0],\n                            shape[i + 1][1],\n                            shape[i + 2][0],\n                            shape[i + 2][1]\n                        );\n                    }\n                }\n                if (doFill) {\n                    context.lineTo(shape[0][0], shape[0][1]);\n                    context.closePath();\n                    context.fill(\"evenodd\");\n                } else {\n                    context.stroke();\n                }\n            }\n        },\n\n        /**\n         * Sets the fill color and fills an area.\n         * @param {JXG.GeometryElement} el An arbitrary JSXGraph element, preferably one with an area.\n         * @private\n         */\n        _fill: function (el) {\n            var context = this.context;\n\n            context.save();\n            if (this._setColor(el, \"fill\")) {\n                context.fill(\"evenodd\");\n            }\n            context.restore();\n        },\n\n        /**\n         * Rotates a point around <tt>(0, 0)</tt> by a given angle.\n         * @param {Number} angle An angle, given in rad.\n         * @param {Number} x X coordinate of the point.\n         * @param {Number} y Y coordinate of the point.\n         * @returns {Array} An array containing the x and y coordinate of the rotated point.\n         * @private\n         */\n        _rotatePoint: function (angle, x, y) {\n            return [\n                x * Math.cos(angle) - y * Math.sin(angle),\n                x * Math.sin(angle) + y * Math.cos(angle)\n            ];\n        },\n\n        /**\n         * Rotates an array of points around <tt>(0, 0)</tt>.\n         * @param {Array} shape An array of array of point coordinates.\n         * @param {Number} angle The angle in rad the points are rotated by.\n         * @returns {Array} Array of array of two dimensional point coordinates.\n         * @private\n         */\n        _rotateShape: function (shape, angle) {\n            var i,\n                rv = [],\n                len = shape.length;\n\n            if (len <= 0) {\n                return shape;\n            }\n\n            for (i = 0; i < len; i++) {\n                rv.push(this._rotatePoint(angle, shape[i][0], shape[i][1]));\n            }\n\n            return rv;\n        },\n\n        /**\n         * Set the gradient angle for linear color gradients.\n         *\n         * @private\n         * @param {JXG.GeometryElement} node An arbitrary JSXGraph element, preferably one with an area.\n         * @param {Number} radians angle value in radians. 0 is horizontal from left to right, Pi/4 is vertical from top to bottom.\n         */\n        updateGradientAngle: function (el, radians) {\n            // Angles:\n            // 0: ->\n            // 90: down\n            // 180: <-\n            // 90: up\n            var f = 1.0,\n                co = Math.cos(-radians),\n                si = Math.sin(-radians),\n                bb = el.getBoundingBox(),\n                c1, c2,\n                x1, x2,\n                y1, y2,\n                x1s, x2s, y1s, y2s,\n                dx, dy;\n\n            if (Math.abs(co) > Math.abs(si)) {\n                f /= Math.abs(co);\n            } else {\n                f /= Math.abs(si);\n            }\n            if (co >= 0) {\n                x1 = 0;\n                x2 = co * f;\n            } else {\n                x1 = -co * f;\n                x2 = 0;\n            }\n            if (si >= 0) {\n                y1 = 0;\n                y2 = si * f;\n            } else {\n                y1 = -si * f;\n                y2 = 0;\n            }\n\n            c1 = new Coords(Const.COORDS_BY_USER, [bb[0], bb[1]], el.board);\n            c2 = new Coords(Const.COORDS_BY_USER, [bb[2], bb[3]], el.board);\n            dx = c2.scrCoords[1] - c1.scrCoords[1];\n            dy = c2.scrCoords[2] - c1.scrCoords[2];\n\n            x1s = c1.scrCoords[1] + dx * x1;\n            y1s = c1.scrCoords[2] + dy * y1;\n            x2s = c1.scrCoords[1] + dx * x2;\n            y2s = c1.scrCoords[2] + dy * y2;\n\n            return this.context.createLinearGradient(x1s, y1s, x2s, y2s);\n        },\n\n        /**\n         * Set circles for radial color gradients.\n         *\n         * @private\n         * @param {SVGnode} node SVG gradient node\n         * @param {Number} cx Canvas value x1 (but value between 0 and 1)\n         * @param {Number} cy  Canvas value y1 (but value between 0 and 1)\n         * @param {Number} r  Canvas value r1 (but value between 0 and 1)\n         * @param {Number} fx  Canvas value x0 (but value between 0 and 1)\n         * @param {Number} fy  Canvas value x1 (but value between 0 and 1)\n         * @param {Number} fr  Canvas value r0 (but value between 0 and 1)\n         */\n        updateGradientCircle: function (el, cx, cy, r, fx, fy, fr) {\n            var bb = el.getBoundingBox(),\n                c1, c2,\n                cxs, cys, rs,\n                fxs, fys, frs,\n                dx, dy;\n\n            c1 = new Coords(Const.COORDS_BY_USER, [bb[0], bb[1]], el.board);\n            c2 = new Coords(Const.COORDS_BY_USER, [bb[2], bb[3]], el.board);\n            dx = c2.scrCoords[1] - c1.scrCoords[1];\n            dy = c1.scrCoords[2] - c2.scrCoords[2];\n\n            cxs = c1.scrCoords[1] + dx * cx;\n            cys = c2.scrCoords[2] + dy * cy;\n            fxs = c1.scrCoords[1] + dx * fx;\n            fys = c2.scrCoords[2] + dy * fy;\n            rs = r * (dx + dy) * 0.5;\n            frs = fr * (dx + dy) * 0.5;\n\n            return this.context.createRadialGradient(fxs, fys, frs, cxs, cys, rs);\n        },\n\n        // documented in JXG.AbstractRenderer\n        updateGradient: function (el) {\n            var col,\n                // op,\n                ev_g = el.evalVisProp('gradient'),\n                gradient;\n\n            // op = el.evalVisProp('fillopacity');\n            // op = op > 0 ? op : 0;\n            col = el.evalVisProp('fillcolor');\n\n            if (ev_g === \"linear\") {\n                gradient = this.updateGradientAngle(\n                    el,\n                    el.evalVisProp('gradientangle')\n                );\n            } else if (ev_g === \"radial\") {\n                gradient = this.updateGradientCircle(\n                    el,\n                    el.evalVisProp('gradientcx'),\n                    el.evalVisProp('gradientcy'),\n                    el.evalVisProp('gradientr'),\n                    el.evalVisProp('gradientfx'),\n                    el.evalVisProp('gradientfy'),\n                    el.evalVisProp('gradientfr')\n                );\n            }\n\n            if (col !== \"none\" && col !== \"\" && col !== false) {\n                gradient.addColorStop(el.evalVisProp('gradientstartoffset'), col);\n                gradient.addColorStop(\n                    el.evalVisProp('gradientendoffset'),\n                    el.evalVisProp('gradientsecondcolor')\n                );\n            }\n            return gradient;\n        },\n\n        /**\n         * Sets color and opacity for filling and stroking.\n         * type is the attribute from visProp and targetType the context[targetTypeStyle].\n         * This is necessary, because the fill style of a text is set by the stroke attributes of the text element.\n         * @param {JXG.GeometryElement} el Any JSXGraph element.\n         * @param {String} [type='stroke'] Either <em>fill</em> or <em>stroke</em>.\n         * @param {String} [targetType=type] (optional) Either <em>fill</em> or <em>stroke</em>.\n         * @returns {Boolean} If the color could be set, <tt>true</tt> is returned.\n         * @private\n         */\n        _setColor: function (el, type, targetType) {\n            var hasColor = true,\n                lc, hl, sw,\n                rgba, rgbo,\n                c, o, oo,\n                grad;\n\n            type = type || \"stroke\";\n            targetType = targetType || type;\n\n            hl = this._getHighlighted(el);\n\n            // type is equal to 'fill' or 'stroke'\n            rgba = el.evalVisProp(hl + type + 'color');\n            if (rgba !== \"none\" && rgba !== \"\" && rgba !== false) {\n                o = el.evalVisProp(hl + type + \"opacity\");\n                o = o > 0 ? o : 0;\n\n                if (rgba.length !== 9) {\n                    // RGB\n                    c = rgba;\n                    oo = o;\n                    // True RGBA, not RGB\n                } else {\n                    // RGBA\n                    rgbo = Color.rgba2rgbo(rgba);\n                    c = rgbo[0];\n                    oo = o * rgbo[1];\n                }\n                this.context.globalAlpha = oo;\n\n                this.context[targetType + \"Style\"] = c;\n            } else {\n                hasColor = false;\n            }\n\n            if (type !== \"stroke\") {\n                // For the time being, gradients are only supported for fills\n                grad = el.evalVisProp('gradient');\n                if (grad === \"linear\" || grad === \"radial\") {\n                    this.context.globalAlpha = oo;\n                    this.context[targetType + \"Style\"] = this.updateGradient(el);\n                    return hasColor;\n                }\n            }\n\n            sw = parseFloat(el.evalVisProp(hl + 'strokewidth'));\n            if (type === \"stroke\" && !isNaN(sw)) {\n                if (sw === 0) {\n                    this.context.globalAlpha = 0;\n                } else {\n                    this.context.lineWidth = sw;\n                }\n            }\n\n            lc = el.evalVisProp('linecap');\n            if (type === \"stroke\" && lc !== undefined && lc !== \"\") {\n                this.context.lineCap = lc;\n            }\n\n            return hasColor;\n        },\n\n        /**\n         * Sets color and opacity for drawing paths and lines and draws the paths and lines.\n         * @param {JXG.GeometryElement} el An JSXGraph element with a stroke.\n         * @private\n         */\n        _stroke: function (el) {\n            var context = this.context,\n                ev_dash = el.evalVisProp('dash'),\n                ds = el.evalVisProp('dashscale'),\n                sw = ds ? 0.5 * el.evalVisProp('strokewidth') : 1;\n\n            context.save();\n\n            if (ev_dash > 0) {\n                if (context.setLineDash) {\n                    context.setLineDash(\n                        // sw could distinguish highlighting or not.\n                        // But it seems to preferable to ignore this.\n                        this.dashArray[ev_dash - 1].map(function (x) { return x * sw; })\n                    );\n                }\n            } else {\n                this.context.lineDashArray = [];\n            }\n\n            if (this._setColor(el, \"stroke\")) {\n                context.stroke();\n            }\n\n            context.restore();\n        },\n\n        /**\n         * Translates a set of points.\n         * @param {Array} shape An array of point coordinates.\n         * @param {Number} x Translation in X direction.\n         * @param {Number} y Translation in Y direction.\n         * @returns {Array} An array of translated point coordinates.\n         * @private\n         */\n        _translateShape: function (shape, x, y) {\n            var i,\n                rv = [],\n                len = shape.length;\n\n            if (len <= 0) {\n                return shape;\n            }\n\n            for (i = 0; i < len; i++) {\n                rv.push([shape[i][0] + x, shape[i][1] + y]);\n            }\n\n            return rv;\n        },\n\n        /* ********* Point related stuff *********** */\n\n        // documented in AbstractRenderer\n        drawPoint: function (el) {\n            var f = el.evalVisProp('face'),\n                size = el.evalVisProp('size'),\n                scr = el.coords.scrCoords,\n                sqrt32 = size * Math.sqrt(3) * 0.5,\n                s05 = size * 0.5,\n                stroke05 = parseFloat(el.evalVisProp('strokewidth')) / 2.0,\n                context = this.context;\n\n            if (!el.visPropCalc.visible) {\n                return;\n            }\n\n            switch (f) {\n                case \"cross\": // x\n                case \"x\":\n                    context.beginPath();\n                    context.moveTo(scr[1] - size, scr[2] - size);\n                    context.lineTo(scr[1] + size, scr[2] + size);\n                    context.moveTo(scr[1] + size, scr[2] - size);\n                    context.lineTo(scr[1] - size, scr[2] + size);\n                    context.lineCap = \"round\";\n                    context.lineJoin = \"round\";\n                    context.closePath();\n                    this._stroke(el);\n                    break;\n                case \"circle\": // dot\n                case \"o\":\n                    context.beginPath();\n                    context.arc(scr[1], scr[2], size + 1 + stroke05, 0, 2 * Math.PI, false);\n                    context.closePath();\n                    this._fill(el);\n                    this._stroke(el);\n                    break;\n                case \"square\": // rectangle\n                case \"[]\":\n                    if (size <= 0) {\n                        break;\n                    }\n\n                    context.save();\n                    if (this._setColor(el, \"stroke\", \"fill\")) {\n                        context.fillRect(\n                            scr[1] - size - stroke05,\n                            scr[2] - size - stroke05,\n                            size * 2 + 3 * stroke05,\n                            size * 2 + 3 * stroke05\n                        );\n                    }\n                    context.restore();\n                    context.save();\n                    this._setColor(el, \"fill\");\n                    context.fillRect(\n                        scr[1] - size + stroke05,\n                        scr[2] - size + stroke05,\n                        size * 2 - stroke05,\n                        size * 2 - stroke05\n                    );\n                    context.restore();\n                    break;\n                case \"plus\": // +\n                case \"+\":\n                    context.beginPath();\n                    context.moveTo(scr[1] - size, scr[2]);\n                    context.lineTo(scr[1] + size, scr[2]);\n                    context.moveTo(scr[1], scr[2] - size);\n                    context.lineTo(scr[1], scr[2] + size);\n                    context.lineCap = \"round\";\n                    context.lineJoin = \"round\";\n                    context.closePath();\n                    this._stroke(el);\n                    break;\n                case \"divide\":\n                case \"|\":\n                    context.beginPath();\n                    context.moveTo(scr[1], scr[2] - size);\n                    context.lineTo(scr[1], scr[2] + size);\n                    context.lineCap = \"round\";\n                    context.lineJoin = \"round\";\n                    context.closePath();\n                    this._stroke(el);\n                    break;\n                case \"minus\":\n                case \"-\":\n                    context.beginPath();\n                    context.moveTo(scr[1] - size, scr[2]);\n                    context.lineTo(scr[1] + size, scr[2]);\n                    context.lineCap = \"round\";\n                    context.lineJoin = \"round\";\n                    context.closePath();\n                    this._stroke(el);\n                    break;\n                /* eslint-disable no-fallthrough */\n                case \"diamond2\":\n                case \"<<>>\":\n                    size *= 1.41;\n                case \"diamond\": // <>\n                case \"<>\":\n                    context.beginPath();\n                    context.moveTo(scr[1] - size, scr[2]);\n                    context.lineTo(scr[1], scr[2] + size);\n                    context.lineTo(scr[1] + size, scr[2]);\n                    context.lineTo(scr[1], scr[2] - size);\n                    context.closePath();\n                    this._fill(el);\n                    this._stroke(el);\n                    break;\n                /* eslint-enable no-fallthrough */\n                case \"triangleup\":\n                case \"A\":\n                case \"a\":\n                case \"^\":\n                    context.beginPath();\n                    context.moveTo(scr[1], scr[2] - size);\n                    context.lineTo(scr[1] - sqrt32, scr[2] + s05);\n                    context.lineTo(scr[1] + sqrt32, scr[2] + s05);\n                    context.closePath();\n                    this._fill(el);\n                    this._stroke(el);\n                    break;\n                case \"triangledown\":\n                case \"v\":\n                    context.beginPath();\n                    context.moveTo(scr[1], scr[2] + size);\n                    context.lineTo(scr[1] - sqrt32, scr[2] - s05);\n                    context.lineTo(scr[1] + sqrt32, scr[2] - s05);\n                    context.closePath();\n                    this._fill(el);\n                    this._stroke(el);\n                    break;\n                case \"triangleleft\":\n                case \"<\":\n                    context.beginPath();\n                    context.moveTo(scr[1] - size, scr[2]);\n                    context.lineTo(scr[1] + s05, scr[2] - sqrt32);\n                    context.lineTo(scr[1] + s05, scr[2] + sqrt32);\n                    context.closePath();\n                    this._fill(el);\n                    this._stroke(el);\n                    break;\n                case \"triangleright\":\n                case \">\":\n                    context.beginPath();\n                    context.moveTo(scr[1] + size, scr[2]);\n                    context.lineTo(scr[1] - s05, scr[2] - sqrt32);\n                    context.lineTo(scr[1] - s05, scr[2] + sqrt32);\n                    context.closePath();\n                    this._fill(el);\n                    this._stroke(el);\n                    break;\n            }\n        },\n\n        // documented in AbstractRenderer\n        updatePoint: function (el) {\n            this.drawPoint(el);\n        },\n\n        /* ********* Line related stuff *********** */\n\n        /**\n         * Draws arrows of an element (usually a line) in canvas renderer.\n         * @param {JXG.GeometryElement} el Line to be drawn.\n         * @param {Array} scr1 Screen coordinates of the start position of the line or curve.\n         * @param {Array} scr2 Screen coordinates of the end position of the line or curve.\n         * @param {String} hl String which carries information if the element is highlighted. Used for getting the correct attribute.\n         * @private\n         */\n        drawArrows: function (el, scr1, scr2, hl, a) {\n            var x1, y1, x2, y2,\n                w, w0,\n                arrowHead, arrowTail,\n                context = this.context,\n                size = 6,\n                type = 1,\n                type_fa,\n                type_la,\n                degree_fa = 1,\n                degree_la = 1,\n                doFill,\n                i, len,\n                d1x, d1y,\n                d2x, d2y,\n                last,\n                ang1, ang2,\n                ev_fa = a.evFirst,\n                ev_la = a.evLast;\n\n            if (el.evalVisProp('strokecolor') !== \"none\" && (ev_fa || ev_la)) {\n                if (el.elementClass === Const.OBJECT_CLASS_LINE) {\n                    x1 = scr1.scrCoords[1];\n                    y1 = scr1.scrCoords[2];\n                    x2 = scr2.scrCoords[1];\n                    y2 = scr2.scrCoords[2];\n                    ang1 = ang2 = Math.atan2(y2 - y1, x2 - x1);\n                } else {\n                    x1 = el.points[0].scrCoords[1];\n                    y1 = el.points[0].scrCoords[2];\n\n                    last = el.points.length - 1;\n                    if (last < 1) {\n                        // No arrows for curves consisting of 1 point\n                        return;\n                    }\n                    x2 = el.points[el.points.length - 1].scrCoords[1];\n                    y2 = el.points[el.points.length - 1].scrCoords[2];\n\n                    d1x = el.points[1].scrCoords[1] - el.points[0].scrCoords[1];\n                    d1y = el.points[1].scrCoords[2] - el.points[0].scrCoords[2];\n                    d2x = el.points[last].scrCoords[1] - el.points[last - 1].scrCoords[1];\n                    d2y = el.points[last].scrCoords[2] - el.points[last - 1].scrCoords[2];\n                    if (ev_fa) {\n                        ang1 = Math.atan2(d1y, d1x);\n                    }\n                    if (ev_la) {\n                        ang2 = Math.atan2(d2y, d2x);\n                    }\n                }\n\n                w0 = el.evalVisProp(hl + 'strokewidth');\n\n                if (ev_fa) {\n                    size = a.sizeFirst;\n\n                    w = w0 * size;\n\n                    type = a.typeFirst;\n                    type_fa = type;\n\n                    if (type === 2) {\n                        arrowTail = [\n                            [w, -w * 0.5],\n                            [0.0, 0.0],\n                            [w, w * 0.5],\n                            [w * 0.5, 0.0]\n                        ];\n                    } else if (type === 3) {\n                        arrowTail = [\n                            [w / 3.0, -w * 0.5],\n                            [0.0, -w * 0.5],\n                            [0.0, w * 0.5],\n                            [w / 3.0, w * 0.5]\n                        ];\n                    } else if (type === 4) {\n                        w /= 10;\n                        degree_fa = 3;\n                        arrowTail = [\n                            [10.0, 3.31],\n                            [6.47, 3.84],\n                            [2.87, 4.5],\n                            [0.0, 6.63],\n                            [0.67, 5.52],\n                            [1.33, 4.42],\n                            [2.0, 3.31],\n                            [1.33, 2.21],\n                            [0.67, 1.1],\n                            [0.0, 0.0],\n                            [2.87, 2.13],\n                            [6.47, 2.79],\n                            [10.0, 3.31]\n                        ];\n                        len = arrowTail.length;\n                        for (i = 0; i < len; i++) {\n                            arrowTail[i][0] *= -w;\n                            arrowTail[i][1] *= w;\n                            arrowTail[i][0] += 10 * w;\n                            arrowTail[i][1] -= 3.31 * w;\n                        }\n                    } else if (type === 5) {\n                        w /= 10;\n                        degree_fa = 3;\n                        arrowTail = [\n                            [10.0, 3.28],\n                            [6.61, 4.19],\n                            [3.19, 5.07],\n                            [0.0, 6.55],\n                            [0.62, 5.56],\n                            [1.0, 4.44],\n                            [1.0, 3.28],\n                            [1.0, 2.11],\n                            [0.62, 0.99],\n                            [0.0, 0.0],\n                            [3.19, 1.49],\n                            [6.61, 2.37],\n                            [10.0, 3.28]\n                        ];\n                        len = arrowTail.length;\n                        for (i = 0; i < len; i++) {\n                            arrowTail[i][0] *= -w;\n                            arrowTail[i][1] *= w;\n                            arrowTail[i][0] += 10 * w;\n                            arrowTail[i][1] -= 3.28 * w;\n                        }\n                    } else if (type === 6) {\n                        w /= 10;\n                        degree_fa = 3;\n                        arrowTail = [\n                            [10.0, 2.84],\n                            [6.61, 3.59],\n                            [3.21, 4.35],\n                            [0.0, 5.68],\n                            [0.33, 4.73],\n                            [0.67, 3.78],\n                            [1.0, 2.84],\n                            [0.67, 1.89],\n                            [0.33, 0.95],\n                            [0.0, 0.0],\n                            [3.21, 1.33],\n                            [6.61, 2.09],\n                            [10.0, 2.84]\n                        ];\n                        len = arrowTail.length;\n                        for (i = 0; i < len; i++) {\n                            arrowTail[i][0] *= -w;\n                            arrowTail[i][1] *= w;\n                            arrowTail[i][0] += 10 * w;\n                            arrowTail[i][1] -= 2.84 * w;\n                        }\n                    } else if (type === 7) {\n                        w = w0;\n                        degree_fa = 3;\n                        arrowTail = [\n                            [0.0, 10.39],\n                            [2.01, 6.92],\n                            [5.96, 5.2],\n                            [10.0, 5.2],\n                            [5.96, 5.2],\n                            [2.01, 3.47],\n                            [0.0, 0.0]\n                        ];\n                        len = arrowTail.length;\n                        for (i = 0; i < len; i++) {\n                            arrowTail[i][0] *= -w;\n                            arrowTail[i][1] *= w;\n                            arrowTail[i][0] += 10 * w;\n                            arrowTail[i][1] -= 5.2 * w;\n                        }\n                    } else {\n                        arrowTail = [\n                            [w, -w * 0.5],\n                            [0.0, 0.0],\n                            [w, w * 0.5]\n                        ];\n                    }\n                }\n\n                if (ev_la) {\n                    size = a.sizeLast;\n                    w = w0 * size;\n\n                    type = a.typeLast;\n                    type_la = type;\n                    if (type === 2) {\n                        arrowHead = [\n                            [-w, -w * 0.5],\n                            [0.0, 0.0],\n                            [-w, w * 0.5],\n                            [-w * 0.5, 0.0]\n                        ];\n                    } else if (type === 3) {\n                        arrowHead = [\n                            [-w / 3.0, -w * 0.5],\n                            [0.0, -w * 0.5],\n                            [0.0, w * 0.5],\n                            [-w / 3.0, w * 0.5]\n                        ];\n                    } else if (type === 4) {\n                        w /= 10;\n                        degree_la = 3;\n                        arrowHead = [\n                            [10.0, 3.31],\n                            [6.47, 3.84],\n                            [2.87, 4.5],\n                            [0.0, 6.63],\n                            [0.67, 5.52],\n                            [1.33, 4.42],\n                            [2.0, 3.31],\n                            [1.33, 2.21],\n                            [0.67, 1.1],\n                            [0.0, 0.0],\n                            [2.87, 2.13],\n                            [6.47, 2.79],\n                            [10.0, 3.31]\n                        ];\n                        len = arrowHead.length;\n                        for (i = 0; i < len; i++) {\n                            arrowHead[i][0] *= w;\n                            arrowHead[i][1] *= w;\n                            arrowHead[i][0] -= 10 * w;\n                            arrowHead[i][1] -= 3.31 * w;\n                        }\n                    } else if (type === 5) {\n                        w /= 10;\n                        degree_la = 3;\n                        arrowHead = [\n                            [10.0, 3.28],\n                            [6.61, 4.19],\n                            [3.19, 5.07],\n                            [0.0, 6.55],\n                            [0.62, 5.56],\n                            [1.0, 4.44],\n                            [1.0, 3.28],\n                            [1.0, 2.11],\n                            [0.62, 0.99],\n                            [0.0, 0.0],\n                            [3.19, 1.49],\n                            [6.61, 2.37],\n                            [10.0, 3.28]\n                        ];\n                        len = arrowHead.length;\n                        for (i = 0; i < len; i++) {\n                            arrowHead[i][0] *= w;\n                            arrowHead[i][1] *= w;\n                            arrowHead[i][0] -= 10 * w;\n                            arrowHead[i][1] -= 3.28 * w;\n                        }\n                    } else if (type === 6) {\n                        w /= 10;\n                        degree_la = 3;\n                        arrowHead = [\n                            [10.0, 2.84],\n                            [6.61, 3.59],\n                            [3.21, 4.35],\n                            [0.0, 5.68],\n                            [0.33, 4.73],\n                            [0.67, 3.78],\n                            [1.0, 2.84],\n                            [0.67, 1.89],\n                            [0.33, 0.95],\n                            [0.0, 0.0],\n                            [3.21, 1.33],\n                            [6.61, 2.09],\n                            [10.0, 2.84]\n                        ];\n                        len = arrowHead.length;\n                        for (i = 0; i < len; i++) {\n                            arrowHead[i][0] *= w;\n                            arrowHead[i][1] *= w;\n                            arrowHead[i][0] -= 10 * w;\n                            arrowHead[i][1] -= 2.84 * w;\n                        }\n                    } else if (type === 7) {\n                        w = w0;\n                        degree_la = 3;\n                        arrowHead = [\n                            [0.0, 10.39],\n                            [2.01, 6.92],\n                            [5.96, 5.2],\n                            [10.0, 5.2],\n                            [5.96, 5.2],\n                            [2.01, 3.47],\n                            [0.0, 0.0]\n                        ];\n                        len = arrowHead.length;\n                        for (i = 0; i < len; i++) {\n                            arrowHead[i][0] *= w;\n                            arrowHead[i][1] *= w;\n                            arrowHead[i][0] -= 10 * w;\n                            arrowHead[i][1] -= 5.2 * w;\n                        }\n                    } else {\n                        arrowHead = [\n                            [-w, -w * 0.5],\n                            [0.0, 0.0],\n                            [-w, w * 0.5]\n                        ];\n                    }\n                }\n\n                context.save();\n                if (this._setColor(el, \"stroke\", \"fill\")) {\n                    this._setColor(el, \"stroke\");\n                    if (ev_fa) {\n                        if (type_fa === 7) {\n                            doFill = false;\n                        } else {\n                            doFill = true;\n                        }\n                        this._drawPolygon(\n                            this._translateShape(this._rotateShape(arrowTail, ang1), x1, y1),\n                            degree_fa,\n                            doFill\n                        );\n                    }\n                    if (ev_la) {\n                        if (type_la === 7) {\n                            doFill = false;\n                        } else {\n                            doFill = true;\n                        }\n                        this._drawPolygon(\n                            this._translateShape(this._rotateShape(arrowHead, ang2), x2, y2),\n                            degree_la,\n                            doFill\n                        );\n                    }\n                }\n                context.restore();\n            }\n        },\n\n        // documented in AbstractRenderer\n        drawLine: function (el) {\n            var c1_org,\n                c2_org,\n                c1 = new Coords(Const.COORDS_BY_USER, el.point1.coords.usrCoords, el.board),\n                c2 = new Coords(Const.COORDS_BY_USER, el.point2.coords.usrCoords, el.board),\n                margin = null,\n                hl,\n                w,\n                arrowData;\n\n            if (!el.visPropCalc.visible) {\n                return;\n            }\n\n            hl = this._getHighlighted(el);\n            w = el.evalVisProp(hl + 'strokewidth');\n            arrowData = this.getArrowHeadData(el, w, hl);\n\n            if (arrowData.evFirst || arrowData.evLast) {\n                margin = -4;\n            }\n            Geometry.calcStraight(el, c1, c2, margin);\n            this.handleTouchpoints(el, c1, c2, arrowData);\n\n            c1_org = new Coords(Const.COORDS_BY_USER, c1.usrCoords, el.board);\n            c2_org = new Coords(Const.COORDS_BY_USER, c2.usrCoords, el.board);\n\n\n            this.getPositionArrowHead(el, c1, c2, arrowData);\n\n            this.context.beginPath();\n            this.context.moveTo(c1.scrCoords[1], c1.scrCoords[2]);\n            this.context.lineTo(c2.scrCoords[1], c2.scrCoords[2]);\n            this._stroke(el);\n\n            if (\n                arrowData.evFirst /* && obj.sFirst > 0*/ ||\n                arrowData.evLast /* && obj.sLast > 0*/\n            ) {\n                this.drawArrows(el, c1_org, c2_org, hl, arrowData);\n            }\n        },\n\n        // documented in AbstractRenderer\n        updateLine: function (el) {\n            this.drawLine(el);\n        },\n\n        // documented in AbstractRenderer\n        drawTicks: function () {\n            // this function is supposed to initialize the svg/vml nodes in the SVG/VMLRenderer.\n            // but in canvas there are no such nodes, hence we just do nothing and wait until\n            // updateTicks is called.\n        },\n\n        // documented in AbstractRenderer\n        updateTicks: function (ticks) {\n            var i,\n                c,\n                x,\n                y,\n                len = ticks.ticks.length,\n                len2,\n                j,\n                context = this.context;\n\n            context.beginPath();\n            for (i = 0; i < len; i++) {\n                c = ticks.ticks[i];\n                x = c[0];\n                y = c[1];\n\n                // context.moveTo(x[0], y[0]);\n                // context.lineTo(x[1], y[1]);\n                len2 = x.length;\n                context.moveTo(x[0], y[0]);\n                for (j = 1; j < len2; ++j) {\n                    context.lineTo(x[j], y[j]);\n                }\n            }\n            // Labels\n            // for (i = 0; i < len; i++) {\n            //     c = ticks.ticks[i].scrCoords;\n            //     if (ticks.ticks[i].major &&\n            //             (ticks.board.needsFullUpdate || ticks.needsRegularUpdate) &&\n            //             ticks.labels[i] &&\n            //             ticks.labels[i].visPropCalc.visible) {\n            //         this.updateText(ticks.labels[i]);\n            //     }\n            // }\n            context.lineCap = \"round\";\n            this._stroke(ticks);\n        },\n\n        /* ********* Curve related stuff *********** */\n\n        // documented in AbstractRenderer\n        drawCurve: function (el) {\n            var hl, w, arrowData;\n\n            if (el.evalVisProp('handdrawing')) {\n                this.updatePathStringBezierPrim(el);\n            } else {\n                this.updatePathStringPrim(el);\n            }\n            if (el.numberPoints > 1) {\n                hl = this._getHighlighted(el);\n                w = el.evalVisProp(hl + 'strokewidth');\n                arrowData = this.getArrowHeadData(el, w, hl);\n                if (\n                    arrowData.evFirst /* && obj.sFirst > 0*/ ||\n                    arrowData.evLast /* && obj.sLast > 0*/\n                ) {\n                    this.drawArrows(el, null, null, hl, arrowData);\n                }\n            }\n        },\n\n        // documented in AbstractRenderer\n        updateCurve: function (el) {\n            this.drawCurve(el);\n        },\n\n        /* ********* Circle related stuff *********** */\n\n        // documented in AbstractRenderer\n        drawEllipse: function (el) {\n            var m1 = el.center.coords.scrCoords[1],\n                m2 = el.center.coords.scrCoords[2],\n                sX = el.board.unitX,\n                sY = el.board.unitY,\n                rX = 2 * el.Radius(),\n                rY = 2 * el.Radius(),\n                aWidth = rX * sX,\n                aHeight = rY * sY,\n                aX = m1 - aWidth / 2,\n                aY = m2 - aHeight / 2,\n                hB = (aWidth / 2) * 0.5522848,\n                vB = (aHeight / 2) * 0.5522848,\n                eX = aX + aWidth,\n                eY = aY + aHeight,\n                mX = aX + aWidth / 2,\n                mY = aY + aHeight / 2,\n                context = this.context;\n\n            if (rX > 0.0 && rY > 0.0 && !isNaN(m1 + m2)) {\n                context.beginPath();\n                context.moveTo(aX, mY);\n                context.bezierCurveTo(aX, mY - vB, mX - hB, aY, mX, aY);\n                context.bezierCurveTo(mX + hB, aY, eX, mY - vB, eX, mY);\n                context.bezierCurveTo(eX, mY + vB, mX + hB, eY, mX, eY);\n                context.bezierCurveTo(mX - hB, eY, aX, mY + vB, aX, mY);\n                context.closePath();\n                this._fill(el);\n                this._stroke(el);\n            }\n        },\n\n        // documented in AbstractRenderer\n        updateEllipse: function (el) {\n            return this.drawEllipse(el);\n        },\n\n        /* ********* Polygon related stuff *********** */\n\n        // nothing here, using AbstractRenderer implementations\n\n        /* ********* Text related stuff *********** */\n\n        // Already documented in JXG.AbstractRenderer\n        displayCopyright: function (str, fontsize) {\n            var context = this.context,\n                x = 4 + 1.8 * fontsize,\n                y = 6 + fontsize,\n                alpha = 0.2;\n\n            // This should be called on EVERY update, otherwise it won't be shown after the first update\n            context.save();\n            context.font = fontsize + \"px Arial\";\n            context.globalAlpha = alpha;\n            context.lineWidth = 0.5;\n            context.fillText(str + '.', x, y); // Distinguish svg and canvas by this dot\n            context.restore();\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        displayLogo: function (str, fontsize, board) {\n            var context = this.context,\n                s = 1.5 * fontsize,\n                alpha = 0.2;\n\n            if (!Type.exists(board._logo_image)) {\n                board._logo_image = new Image();\n                board._logo_image.src = str;\n            }\n            board._logo_image.onload = function() {\n                context.save();\n                context.globalAlpha = alpha;\n                context.drawImage(board._logo_image, 5, 5, s, s);\n                context.restore();\n            };\n            context.save();\n            context.globalAlpha = alpha;\n            context.drawImage(board._logo_image, 5, 5, s, s);\n            context.restore();\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        drawInternalText: function (el) {\n            var ev_fs = el.evalVisProp('fontsize'),\n                fontUnit = el.evalVisProp('fontunit'),\n                ev_ax = el.getAnchorX(),\n                ev_ay = el.getAnchorY(),\n                context = this.context;\n\n            context.save();\n            if (\n                this._setColor(el, \"stroke\", \"fill\") &&\n                !isNaN(el.coords.scrCoords[1] + el.coords.scrCoords[2])\n            ) {\n                context.font = (ev_fs > 0 ? ev_fs : 0) + fontUnit + \" Arial\";\n\n                this.transformRect(el, el.transformations);\n                if (ev_ax === \"left\") {\n                    context.textAlign = \"left\";\n                } else if (ev_ax === \"right\") {\n                    context.textAlign = \"right\";\n                } else if (ev_ax === \"middle\") {\n                    context.textAlign = \"center\";\n                }\n                if (ev_ay === \"bottom\") {\n                    context.textBaseline = \"bottom\";\n                } else if (ev_ay === \"top\") {\n                    context.textBaseline = \"top\";\n                } else if (ev_ay === \"middle\") {\n                    context.textBaseline = \"middle\";\n                }\n                context.fillText(el.plaintext, el.coords.scrCoords[1], el.coords.scrCoords[2]);\n            }\n            context.restore();\n            return null;\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateInternalText: function (el) {\n            this.drawInternalText(el);\n        },\n\n        // documented in JXG.AbstractRenderer\n        // Only necessary for texts\n        setObjectStrokeColor: function (el, color, opacity) {\n            var rgba = color,\n                c,\n                rgbo,\n                o = opacity,\n                oo,\n                node;\n\n            o = o > 0 ? o : 0;\n\n            if (el.visPropOld.strokecolor === rgba && el.visPropOld.strokeopacity === o) {\n                return;\n            }\n\n            // Check if this could be merged with _setColor\n\n            if (Type.exists(rgba) && rgba !== false) {\n                // RGB, not RGBA\n                if (rgba.length !== 9) {\n                    c = rgba;\n                    oo = o;\n                    // True RGBA, not RGB\n                } else {\n                    rgbo = Color.rgba2rgbo(rgba);\n                    c = rgbo[0];\n                    oo = o * rgbo[1];\n                }\n                node = el.rendNode;\n                if (\n                    el.elementClass === Const.OBJECT_CLASS_TEXT &&\n                    el.evalVisProp('display') === \"html\"\n                ) {\n                    node.style.color = c;\n                    node.style.opacity = oo;\n                }\n            }\n\n            el.visPropOld.strokecolor = rgba;\n            el.visPropOld.strokeopacity = o;\n        },\n\n        /* ********* Image related stuff *********** */\n\n        // Already documented in JXG.AbstractRenderer\n        drawImage: function (el) {\n            el.rendNode = new Image();\n            // Store the file name of the image.\n            // Before, this was done in el.rendNode.src\n            // But there, the file name is expanded to\n            // the full url. This may be different from\n            // the url computed in updateImageURL().\n            el._src = \"\";\n            this.updateImage(el);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateImage: function (el) {\n            var context = this.context,\n                o = el.evalVisProp('fillopacity'),\n                paintImg = Type.bind(function () {\n                    el.imgIsLoaded = true;\n                    if (el.size[0] <= 0 || el.size[1] <= 0) {\n                        return;\n                    }\n                    context.save();\n                    context.globalAlpha = o;\n                    // If det(el.transformations)=0, FireFox 3.6. breaks down.\n                    // This is tested in transformRect\n                    this.transformRect(el, el.transformations);\n                    context.drawImage(\n                        el.rendNode,\n                        el.coords.scrCoords[1],\n                        el.coords.scrCoords[2] - el.size[1],\n                        el.size[0],\n                        el.size[1]\n                    );\n                    context.restore();\n                }, this);\n\n            if (this.updateImageURL(el)) {\n                el.rendNode.onload = paintImg;\n            } else {\n                if (el.imgIsLoaded) {\n                    paintImg();\n                }\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        transformRect: function (el, t) {\n            var m, s, cx, cy, node,\n                len = t.length,\n                ctx = this.context;\n\n            if (len > 0) {\n                m = this.joinTransforms(el, t);\n                if (el.elementClass === Const.OBJECT_CLASS_TEXT && el.visProp.display === 'html') {\n                    s = \" matrix(\" + [m[1][1], m[2][1], m[1][2], m[2][2], m[1][0], m[2][0]].join(\",\") + \") \";\n                    if (s.indexOf('NaN') === -1) {\n                        node = el.rendNode;\n                        node.style.transform = s;\n                        cx = -el.coords.scrCoords[1];\n                        cy = -el.coords.scrCoords[2];\n                        switch (el.evalVisProp('anchorx')) {\n                            case 'right': cx += el.size[0]; break;\n                            case 'middle': cx += el.size[0] * 0.5; break;\n                        }\n                        switch (el.evalVisProp('anchory')) {\n                            case 'bottom': cy += el.size[1]; break;\n                            case 'middle': cy += el.size[1] * 0.5; break;\n                        }\n                        node.style['transform-origin'] = (cx) + 'px ' + (cy) + 'px';\n                    }\n                } else {\n                    if (Math.abs(Numerics.det(m)) >= Mat.eps) {\n                        ctx.transform(m[1][1], m[2][1], m[1][2], m[2][2], m[1][0], m[2][0]);\n                    }\n                }\n            }\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updateImageURL: function (el) {\n            var url;\n\n            url = el.eval(el.url);\n            if (el._src !== url) {\n                el.imgIsLoaded = false;\n                el.rendNode.src = url;\n                el._src = url;\n                return true;\n            }\n\n            return false;\n        },\n\n        /* ********* Render primitive objects *********** */\n\n        // documented in AbstractRenderer\n        remove: function (shape) {\n            // sounds odd for a pixel based renderer but we need this for html texts\n            if (Type.exists(shape) && Type.exists(shape.parentNode)) {\n                shape.parentNode.removeChild(shape);\n            }\n        },\n\n        // documented in AbstractRenderer\n        updatePathStringPrim: function (el) {\n            var i,\n                scr,\n                scr1,\n                scr2,\n                len,\n                symbm = \"M\",\n                symbl = \"L\",\n                symbc = \"C\",\n                nextSymb = symbm,\n                maxSize = 5000.0,\n                context = this.context;\n\n            if (el.numberPoints <= 0) {\n                return;\n            }\n\n            len = Math.min(el.points.length, el.numberPoints);\n            context.beginPath();\n\n            if (el.bezierDegree === 1) {\n                /*\n                if (isNotPlot && el.board.options.curve.RDPsmoothing) {\n                    el.points = Numerics.RamerDouglasPeucker(el.points, 0.5);\n                }\n                */\n\n                for (i = 0; i < len; i++) {\n                    scr = el.points[i].scrCoords;\n\n                    if (isNaN(scr[1]) || isNaN(scr[2])) {\n                        // PenUp\n                        nextSymb = symbm;\n                    } else {\n                        // Chrome has problems with values  being too far away.\n                        if (scr[1] > maxSize) {\n                            scr[1] = maxSize;\n                        } else if (scr[1] < -maxSize) {\n                            scr[1] = -maxSize;\n                        }\n\n                        if (scr[2] > maxSize) {\n                            scr[2] = maxSize;\n                        } else if (scr[2] < -maxSize) {\n                            scr[2] = -maxSize;\n                        }\n\n                        if (nextSymb === symbm) {\n                            context.moveTo(scr[1], scr[2]);\n                        } else {\n                            context.lineTo(scr[1], scr[2]);\n                        }\n                        nextSymb = symbl;\n                    }\n                }\n            } else if (el.bezierDegree === 3) {\n                i = 0;\n                while (i < len) {\n                    scr = el.points[i].scrCoords;\n                    if (isNaN(scr[1]) || isNaN(scr[2])) {\n                        // PenUp\n                        nextSymb = symbm;\n                    } else {\n                        if (nextSymb === symbm) {\n                            context.moveTo(scr[1], scr[2]);\n                        } else {\n                            i += 1;\n                            scr1 = el.points[i].scrCoords;\n                            i += 1;\n                            scr2 = el.points[i].scrCoords;\n                            context.bezierCurveTo(\n                                scr[1],\n                                scr[2],\n                                scr1[1],\n                                scr1[2],\n                                scr2[1],\n                                scr2[2]\n                            );\n                        }\n                        nextSymb = symbc;\n                    }\n                    i += 1;\n                }\n            }\n            context.lineCap = \"round\";\n            context.lineJoin = \"round\";\n            this._fill(el);\n            this._stroke(el);\n        },\n\n        // Already documented in JXG.AbstractRenderer\n        updatePathStringBezierPrim: function (el) {\n            var i, j, k,\n                scr, lx, ly, len,\n                symbm = \"M\",\n                symbl = \"C\",\n                nextSymb = symbm,\n                maxSize = 5000.0,\n                f = el.evalVisProp('strokewidth'),\n                isNoPlot = el.evalVisProp('curvetype') !== \"plot\",\n                context = this.context;\n\n            if (el.numberPoints <= 0) {\n                return;\n            }\n\n            if (isNoPlot && el.board.options.curve.RDPsmoothing) {\n                el.points = Numerics.RamerDouglasPeucker(el.points, 0.5);\n            }\n\n            len = Math.min(el.points.length, el.numberPoints);\n            context.beginPath();\n\n            for (j = 1; j < 3; j++) {\n                nextSymb = symbm;\n                for (i = 0; i < len; i++) {\n                    scr = el.points[i].scrCoords;\n\n                    if (isNaN(scr[1]) || isNaN(scr[2])) {\n                        // PenUp\n                        nextSymb = symbm;\n                    } else {\n                        // Chrome has problems with values being too far away.\n                        if (scr[1] > maxSize) {\n                            scr[1] = maxSize;\n                        } else if (scr[1] < -maxSize) {\n                            scr[1] = -maxSize;\n                        }\n\n                        if (scr[2] > maxSize) {\n                            scr[2] = maxSize;\n                        } else if (scr[2] < -maxSize) {\n                            scr[2] = -maxSize;\n                        }\n\n                        if (nextSymb === symbm) {\n                            context.moveTo(scr[1], scr[2]);\n                        } else {\n                            k = 2 * j;\n                            context.bezierCurveTo(\n                                lx + (scr[1] - lx) * 0.333 + f * (k * Math.random() - j),\n                                ly + (scr[2] - ly) * 0.333 + f * (k * Math.random() - j),\n                                lx + (scr[1] - lx) * 0.666 + f * (k * Math.random() - j),\n                                ly + (scr[2] - ly) * 0.666 + f * (k * Math.random() - j),\n                                scr[1],\n                                scr[2]\n                            );\n                        }\n                        nextSymb = symbl;\n                        lx = scr[1];\n                        ly = scr[2];\n                    }\n                }\n            }\n            context.lineCap = \"round\";\n            context.lineJoin = \"round\";\n            this._fill(el);\n            this._stroke(el);\n        },\n\n        // documented in AbstractRenderer\n        updatePolygonPrim: function (node, el) {\n            var scrCoords,\n                i,\n                j,\n                len = el.vertices.length,\n                context = this.context,\n                isReal = true;\n\n            if (len <= 0 || !el.visPropCalc.visible) {\n                return;\n            }\n            if (el.elType === \"polygonalchain\") {\n                len++;\n            }\n\n            context.beginPath();\n            i = 0;\n            while (!el.vertices[i].isReal && i < len - 1) {\n                i++;\n                isReal = false;\n            }\n            scrCoords = el.vertices[i].coords.scrCoords;\n            context.moveTo(scrCoords[1], scrCoords[2]);\n\n            for (j = i; j < len - 1; j++) {\n                if (!el.vertices[j].isReal) {\n                    isReal = false;\n                }\n                scrCoords = el.vertices[j].coords.scrCoords;\n                context.lineTo(scrCoords[1], scrCoords[2]);\n            }\n            context.closePath();\n\n            if (isReal) {\n                this._fill(el); // The edges of a polygon are displayed separately (as segments).\n            }\n        },\n\n        /* ********* Set attributes *********** */\n\n        // Already documented in JXG.AbstractRenderer\n        display: function (el, val) {\n            if (el && el.rendNode) {\n                el.visPropOld.visible = val;\n                if (val) {\n                    el.rendNode.style.visibility = \"inherit\";\n                } else {\n                    el.rendNode.style.visibility = \"hidden\";\n                }\n            }\n        },\n\n        // documented in AbstractRenderer\n        show: function (el) {\n            JXG.deprecated(\"Board.renderer.show()\", \"Board.renderer.display()\");\n\n            if (Type.exists(el.rendNode)) {\n                el.rendNode.style.visibility = \"inherit\";\n            }\n        },\n\n        // documented in AbstractRenderer\n        hide: function (el) {\n            JXG.deprecated(\"Board.renderer.hide()\", \"Board.renderer.display()\");\n\n            if (Type.exists(el.rendNode)) {\n                el.rendNode.style.visibility = \"hidden\";\n            }\n        },\n\n        // documented in AbstractRenderer\n        setGradient: function (el) {\n            // var // col,\n            //     op;\n\n            // op = el.evalVisProp('fillopacity');\n            // op = op > 0 ? op : 0;\n\n            // col = el.evalVisProp('fillcolor');\n        },\n\n        // documented in AbstractRenderer\n        setShadow: function (el) {\n            if (el.visPropOld.shadow === el.visProp.shadow) {\n                return;\n            }\n\n            // not implemented yet\n            // we simply have to redraw the element\n            // probably the best way to do so would be to call el.updateRenderer(), i think.\n\n            el.visPropOld.shadow = el.visProp.shadow;\n        },\n\n        // documented in AbstractRenderer\n        highlight: function (obj) {\n            if (\n                obj.elementClass === Const.OBJECT_CLASS_TEXT &&\n                obj.evalVisProp('display') === \"html\"\n            ) {\n                this.updateTextStyle(obj, true);\n            } else {\n                obj.board.prepareUpdate();\n                obj.board.renderer.suspendRedraw(obj.board);\n                obj.board.updateRenderer();\n                obj.board.renderer.unsuspendRedraw();\n            }\n            return this;\n        },\n\n        // documented in AbstractRenderer\n        noHighlight: function (obj) {\n            if (\n                obj.elementClass === Const.OBJECT_CLASS_TEXT &&\n                obj.evalVisProp('display') === \"html\"\n            ) {\n                this.updateTextStyle(obj, false);\n            } else {\n                obj.board.prepareUpdate();\n                obj.board.renderer.suspendRedraw(obj.board);\n                obj.board.updateRenderer();\n                obj.board.renderer.unsuspendRedraw();\n            }\n            return this;\n        },\n\n        /* ********* Renderer control *********** */\n\n        // documented in AbstractRenderer\n        suspendRedraw: function (board) {\n            this.context.save();\n            this.context.clearRect(0, 0, this.canvasRoot.width, this.canvasRoot.height);\n\n            if (board && (board.attr.showcopyright || board.attr.showlogo)) {\n                this.displayLogo(JXG.licenseLogo, 12, board);\n            }\n\n            if (board && board.attr.showcopyright) {\n                this.displayCopyright(JXG.licenseText, 12);\n            }\n        },\n\n        // documented in AbstractRenderer\n        unsuspendRedraw: function () {\n            this.context.restore();\n        },\n\n        // document in AbstractRenderer\n        resize: function (w, h) {\n            if (this.container) {\n                this.canvasRoot.style.width = parseFloat(w) + \"px\";\n                this.canvasRoot.style.height = parseFloat(h) + \"px\";\n\n                this.canvasRoot.setAttribute(\"width\", 2 * parseFloat(w) + \"px\");\n                this.canvasRoot.setAttribute(\"height\", 2 * parseFloat(h) + \"px\");\n            } else {\n                this.canvasRoot.width = 2 * parseFloat(w);\n                this.canvasRoot.height = 2 * parseFloat(h);\n            }\n            this.context = this.canvasRoot.getContext(\"2d\");\n            // The width and height of the canvas is set to twice the CSS values,\n            // followed by an appropriate scaling.\n            // See https://stackoverflow.com/questions/22416462/canvas-element-with-blurred-lines\n            this.context.scale(2, 2);\n        },\n\n        removeToInsertLater: function () {\n            return function () { };\n        }\n    }\n);\n\nexport default JXG.CanvasRenderer;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6413, "column": 0}, "map": {"version":3,"sources":["file:///Users/kristynacoufalova/Documents/geometry_review/node_modules/jsxgraph/src/renderer/no.js"],"sourcesContent":["/*\n    Copyright 2008-2025\n        Matthias Ehmann,\n        Michael Gerhaeuser,\n        Carsten Miller,\n        Bianca Valentin,\n        Alfred Wassermann,\n        Peter Wilfahrt\n\n    This file is part of JSXGraph.\n\n    JSXGraph is free software dual licensed under the GNU LGPL or MIT License.\n\n    You can redistribute it and/or modify it under the terms of the\n\n      * GNU Lesser General Public License as published by\n        the Free Software Foundation, either version 3 of the License, or\n        (at your option) any later version\n      OR\n      * MIT License: https://github.com/jsxgraph/jsxgraph/blob/master/LICENSE.MIT\n\n    JSXGraph is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU Lesser General Public License for more details.\n\n    You should have received a copy of the GNU Lesser General Public License and\n    the MIT License along with JSXGraph. If not, see <https://www.gnu.org/licenses/>\n    and <https://opensource.org/licenses/MIT/>.\n */\n\n/*global JXG: true, define: true, AMprocessNode: true, MathJax: true, document: true */\n/*jslint nomen: true, plusplus: true, newcap:true, unparam: true*/\n/*eslint no-unused-vars: \"off\"*/\n\n/**\n * @fileoverview JSXGraph can use various technologies to render the contents of a construction, e.g.\n * SVG, VML, and HTML5 Canvas. To accomplish this, The rendering and the logic and control mechanisms\n * are completely separated from each other. Every rendering technology has it's own class, called\n * Renderer, e.g. SVGRenderer for SVG, the same for VML and Canvas. The common base for all available\n * renderers is the class AbstractRenderer.\n */\n\nimport JXG from \"../jxg.js\";\nimport AbstractRenderer from \"./abstract.js\";\n\n/**\n * This renderer draws nothing. It is intended to be used in environments where none of our rendering engines\n * are available, e.g. WebWorkers. All methods are empty.\n *\n * @class JXG.NoRenderer\n * @augments JXG.AbstractRenderer\n * @see JXG.AbstractRenderer\n */\nJXG.NoRenderer = function () {\n    /**\n     * If this property is set to <tt>true</tt> the visual properties of the elements are updated\n     * on every update. Visual properties means: All the stuff stored in the\n     * {@link JXG.GeometryElement#visProp} property won't be set if enhancedRendering is <tt>false</tt>\n     * @type Boolean\n     * @default true\n     */\n    this.enhancedRendering = false;\n\n    /**\n     * This is used to easily determine which renderer we are using\n     * @example if (board.renderer.type === 'vml') {\n     *     // do something\n     * }\n     * @type String\n     */\n    this.type = \"no\";\n};\n\nJXG.extend(\n    JXG.NoRenderer.prototype,\n    /** @lends JXG.NoRenderer.prototype */ {\n\n        // All methods are already documented in JXG.AbstractRenderer\n\n        /* ********* Point related stuff *********** */\n\n        drawPoint: function (el) {},\n\n        updatePoint: function (el) {},\n\n        changePointStyle: function (el) {},\n\n        /* ********* Line related stuff *********** */\n\n        drawLine: function (el) {},\n\n        updateLine: function (el) {},\n\n        drawTicks: function (el) {},\n\n        updateTicks: function (el) {},\n\n        /* ********* Curve related stuff *********** */\n\n        drawCurve: function (el) {},\n\n        updateCurve: function (el) {},\n\n        /* ********* Circle related stuff *********** */\n\n        drawEllipse: function (el) {},\n\n        updateEllipse: function (el) {},\n\n        /* ********* Polygon related stuff *********** */\n\n        drawPolygon: function (el) {},\n\n        updatePolygon: function (el) {},\n\n        /* ********* Text related stuff *********** */\n\n        displayCopyright: function (str, fontsize) {},\n\n        drawInternalText: function (el) {},\n\n        updateInternalText: function (el) {},\n\n        drawText: function (el) {},\n\n        updateText: function (el) {},\n\n        updateTextStyle: function (el, doHighlight) {},\n\n        updateInternalTextStyle: function (el, strokeColor, strokeOpacity) {},\n\n        /* ********* Image related stuff *********** */\n\n        drawImage: function (el) {},\n\n        updateImage: function (el) {},\n\n        updateImageURL: function (el) {},\n\n        /* ********* Render primitive objects *********** */\n\n        appendChildPrim: function (node, level) {},\n\n        appendNodesToElement: function (el, type) {},\n\n        remove: function (node) {},\n\n        makeArrows: function (el) {},\n\n        updateEllipsePrim: function (node, x, y, rx, ry) {},\n\n        updateLinePrim: function (node, p1x, p1y, p2x, p2y, board) {},\n\n        updatePathPrim: function (node, pathString, board) {},\n\n        updatePathStringPoint: function (el, size, type) {},\n\n        updatePathStringPrim: function (el) {},\n\n        updatePathStringBezierPrim: function (el) {},\n\n        updatePolygonPrim: function (node, el) {},\n\n        updateRectPrim: function (node, x, y, w, h) {},\n\n        setPropertyPrim: function (node, key, val) {},\n\n        /* ********* Set attributes *********** */\n\n        show: function (el) {},\n\n        hide: function (el) {},\n\n        setBuffering: function (node, type) {},\n\n        setDashStyle: function (el) {},\n\n        setDraft: function (el) {},\n\n        removeDraft: function (el) {},\n\n        setGradient: function (el) {},\n\n        updateGradient: function (el) {},\n\n        setObjectTransition: function (el, duration) {},\n\n        setObjectFillColor: function (el, color, opacity) {},\n\n        setObjectStrokeColor: function (el, color, opacity) {},\n\n        setObjectStrokeWidth: function (el, width) {},\n\n        setShadow: function (el) {},\n\n        highlight: function (el) {},\n\n        noHighlight: function (el) {},\n\n        /* ********* Renderer control *********** */\n\n        suspendRedraw: function () {},\n\n        unsuspendRedraw: function () {},\n\n        drawNavigationBar: function (board) {},\n\n        getElementById: function (id) { return null; },\n\n        resize: function (w, h) {},\n\n        removeToInsertLater: function () { return function () {}; }\n    }\n);\n\n/**\n * @ignore\n */\nJXG.NoRenderer.prototype = new AbstractRenderer();\n\nexport default JXG.NoRenderer;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}}]
}