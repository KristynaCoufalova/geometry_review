module.exports=[92030,a=>{"use strict";a.s(["default",()=>u],92030);var b=a.i(84787),c=a.i(40044),d=a.i(35569),e=a.i(11087),f=a.i(17957),g=a.i(14425),h=a.i(21971),i=a.i(21797),j=a.i(92919),k=a.i(64803),l=a.i(3989),m=a.i(79368),n=a.i(67653);let o=(0,n.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),p=(0,n.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),q=(0,n.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var r=a.i(94825),s=a.i(17740),t=a.i(75772);function u(){let a=(0,c.useRef)(null),n=(0,c.useRef)(null),[u,v]=(0,c.useState)("mouse"),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)([]),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)({x:5,y:4,rotation:0,length:6}),[Q,R]=(0,c.useState)({x:7,y:4,rotation:0,size:3}),[S,T]=(0,c.useState)({x:6,y:3,rotation:0,size:3}),[U,V]=(0,c.useState)(null),[W,X]=(0,c.useState)(!1),Y=(0,c.useRef)(u),Z=(0,c.useRef)(w),$=(0,c.useRef)(W),_=(0,c.useRef)(null);function aa(a){a?.id&&D(b=>[...b,a.id])}function ab(a,b){return a.getAllObjectsUnderMouse(b).find(a=>"point"===a.elType&&!a.visProp.fixed)||null}(0,c.useEffect)(()=>{Y.current=u},[u]),(0,c.useEffect)(()=>{Z.current=w},[w]),(0,c.useEffect)(()=>{$.current=W},[W]);let ac=(0,c.useCallback)((a,b)=>{let c=a.create("point",[b.x,b.y],{name:"",size:2,strokeColor:"#444",fillColor:"#666"});return aa(c),c},[]),ad=(0,c.useCallback)((a,b)=>{if($.current)return;let c=b.originalEvent?.target;if(c&&(c.closest(".group")||c.classList.contains("group")))return;let d=function(a,b){let c=a.getUsrCoordsOfMouse(b);return{x:c[0],y:c[1]}}(a,b);switch(Y.current){case"mouse":z("");break;case"point":ac(a,d),z("Bod vytvořen");break;case"segment":{let c=ab(a,b);c||(c=ac(a,d)),x(b=>{let d=[...b,c];if(1===d.length)z("Klikněte na druhý bod");else if(2===d.length)return aa(a.create("segment",[d[0],d[1]],{strokeColor:"#2563eb",strokeWidth:2})),z("Úsečka vytvořena"),[];return d});break}case"line":{let c=ab(a,b);c||(c=ac(a,d)),x(b=>{let d=[...b,c];if(1===d.length)z("Klikněte na druhý bod");else if(2===d.length)return aa(a.create("line",[d[0],d[1]],{strokeColor:"#059669",strokeWidth:1,dash:1})),z("Přímka vytvořena"),[];return d});break}case"circle":{let c=ab(a,b);c||(c=ac(a,d)),x(b=>{let d=[...b,c];if(1===d.length)z("Klikněte na bod na kružnici");else if(2===d.length)return aa(a.create("circle",[d[0],d[1]],{strokeColor:"#dc2626",strokeWidth:2})),z("Kružnice vytvořena"),[];return d});break}case"rubber":{let c=a.getAllObjectsUnderMouse(b).find(a=>!a.visProp?.fixed);c&&(a.removeObject(c),z("Objekt smazán"))}}},[ac]);function ae(){let b=a.current;if(!b)return;let c=[];for(let a in b.objects){let d=b.objects[a];d?.visProp?.fixed||c.push(d)}c.forEach(a=>b.removeObject(a)),x([]),z(""),B(null),D([])}return(0,c.useEffect)(()=>{_.current=ad},[ad]),(0,c.useEffect)(()=>{if(!n.current)return;let b=d.default.JSXGraph.initBoard(n.current,{boundingbox:[-1,8,11,-1],axis:!1,showNavigation:!1,showCopyright:!1,grid:!0,pan:{enabled:!1},zoom:!1,keepaspectratio:!0});return a.current=b,b.on("down",a=>{_.current&&_.current(b,a)}),()=>{try{d.default.JSXGraph.freeBoard(b)}catch{}a.current=null}},[]),(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,b.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Obecné geometrické testování"}),(0,b.jsxs)("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 mb-4",children:[(0,b.jsx)("p",{className:"text-gray-700",children:"Volné testovací pole pro geometrické konstrukce. Můžete používat všechny dostupné nástroje bez specifických požadavků."}),(0,b.jsx)("div",{className:"mt-2 flex items-center gap-2",children:(0,b.jsxs)("button",{onClick:()=>F(!E),className:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-800",children:[(0,b.jsx)(q,{size:14}),E?"Skrýt nápovědu":"Zobrazit nápovědu"]})})]}),E&&(0,b.jsxs)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"Nápověda k nástrojům:"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-blue-700",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-1",children:"Základní nástroje:"}),(0,b.jsxs)("ul",{className:"space-y-1",children:[(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Myš:"})," Interakce s objekty bez vytváření"]}),(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Bod:"})," Vytvoření bodu kliknutím"]}),(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Úsečka:"})," Klikněte na dva body"]}),(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Přímka:"})," Klikněte na dva body"]}),(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Kružnice:"})," Střed a bod na kružnici"]}),(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Guma:"})," Smazání objektu"]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-1",children:"Fyzické nástroje:"}),(0,b.jsxs)("ul",{className:"space-y-1",children:[(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Pravítko:"})," Měření vzdáleností"]}),(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Trojúhelník:"})," Rýsování úhlů"]}),(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Úhloměr:"})," Měření úhlů"]}),(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Modrý bod:"})," Přesun nástroje"]}),(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Zelený bod:"})," Otočení nástroje"]}),(0,b.jsxs)("li",{children:["• ",(0,b.jsx)("strong",{children:"Oranžový bod:"})," Změna velikosti"]})]})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4 p-4 bg-gray-100 rounded-lg",children:[(0,b.jsxs)("button",{onClick:()=>v("mouse"),className:`px-3 py-2 rounded flex items-center gap-2 ${"mouse"===u?"bg-gray-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:[(0,b.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}),(0,b.jsx)("path",{d:"M13 13l6 6"})]}),"Myš"]}),(0,b.jsxs)("button",{onClick:()=>v("point"),className:`px-3 py-2 rounded flex items-center gap-2 ${"point"===u?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:[(0,b.jsx)(g.Circle,{size:18})," Bod"]}),(0,b.jsxs)("button",{onClick:()=>v("segment"),className:`px-3 py-2 rounded flex items-center gap-2 ${"segment"===u?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:[(0,b.jsx)(h.Pencil,{size:18})," Úsečka"]}),(0,b.jsxs)("button",{onClick:()=>v("line"),className:`px-3 py-2 rounded flex items-center gap-2 ${"line"===u?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:[(0,b.jsx)(h.Pencil,{size:18})," Přímka"]}),(0,b.jsxs)("button",{onClick:()=>v("circle"),className:`px-3 py-2 rounded flex items-center gap-2 ${"circle"===u?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:[(0,b.jsx)(g.Circle,{size:18})," Kružnice"]}),(0,b.jsxs)("button",{onClick:()=>v("rubber"),className:`px-3 py-2 rounded flex items-center gap-2 ${"rubber"===u?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:[(0,b.jsx)(j.Eraser,{size:18})," Guma"]}),(0,b.jsx)("div",{className:"border-l-2 border-gray-300 mx-2"}),(0,b.jsxs)("button",{onClick:function(){J(!I),I?"ruler"===U&&V(null):V("ruler")},className:`px-3 py-2 rounded flex items-center gap-2 ${I?"bg-yellow-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:[(0,b.jsx)(k.Ruler,{size:18})," Pravítko"]}),(0,b.jsxs)("button",{onClick:function(){L(!K),K?"triangle"===U&&V(null):V("triangle")},className:`px-3 py-2 rounded flex items-center gap-2 ${K?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:[(0,b.jsx)(l.Triangle,{size:18})," Trojúhelník"]}),(0,b.jsxs)("button",{onClick:function(){N(!M),M?"protractor"===U&&V(null):V("protractor")},className:`px-3 py-2 rounded flex items-center gap-2 ${M?"bg-orange-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:[(0,b.jsx)(m.Gauge,{size:18})," Úhloměr"]}),(0,b.jsx)("div",{className:"flex-1"}),(0,b.jsxs)("button",{onClick:function(){let b=a.current;if(!b||0===C.length)return;let c=C[C.length-1],d=c?b.objects[c]:void 0;d&&b.removeObject(d),D(a=>a.slice(0,-1)),z("")},className:"px-3 py-2 rounded bg-gray-700 text-white hover:bg-gray-800 flex items-center gap-2",children:[(0,b.jsx)(i.RotateCcw,{size:18})," Zpět"]}),(0,b.jsxs)("button",{onClick:ae,className:"px-3 py-2 rounded bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[(0,b.jsx)(f.Trash2,{size:18})," Vymazat"]}),(0,b.jsxs)("button",{onClick:function(){if(!a.current)return;let b={timestamp:new Date().toISOString(),objects:Object.values(a.current.objects).map(a=>({id:a.id,type:a.elType,name:a.name,properties:a.visProp})),createdStack:[...C]};B(b),H(a=>[...a,b]),z("Konstrukce uložena")},className:"px-3 py-2 rounded bg-green-600 text-white hover:bg-green-700 flex items-center gap-2",children:[(0,b.jsx)(e.Save,{size:18})," Uložit"]}),(0,b.jsxs)("button",{onClick:function(){if(!A)return;let a=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`construction_${new Date().toISOString().split("T")[0]}.json`,c.click(),URL.revokeObjectURL(b),z("Konstrukce exportována")},disabled:!A,className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,b.jsx)(o,{size:18})," Export"]}),(0,b.jsxs)("label",{className:"px-3 py-2 rounded bg-purple-600 text-white hover:bg-purple-700 cursor-pointer flex items-center gap-2",children:[(0,b.jsx)(p,{size:18})," Import",(0,b.jsx)("input",{type:"file",accept:".json",onChange:function(a){let b=a.target.files?.[0];if(!b)return;let c=new FileReader;c.onload=a=>{try{let b=JSON.parse(a.target?.result);B(b),z('Konstrukce načtena - klikněte na "Načíst" pro obnovení')}catch(a){z("Chyba při načítání souboru")}},c.readAsText(b)},className:"hidden"})]}),(0,b.jsxs)("button",{onClick:function(){A&&a.current&&(ae(),z("Konstrukce načtena"))},disabled:!A,className:"px-3 py-2 rounded bg-orange-600 text-white hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,b.jsx)(p,{size:18})," Načíst"]})]}),(0,b.jsxs)("div",{ref:n,id:"jxgbox",className:"w-full border-2 border-gray-300 rounded-lg bg-white jxgbox relative",style:{height:500,touchAction:"none"},children:[I&&(0,b.jsx)(r.default,{x:O.x,y:O.y,rotation:O.rotation,length:O.length,onPositionChange:(a,b,c,d)=>{P({x:a,y:b,rotation:c,length:d})},isActive:"ruler"===U,onActivate:()=>V("ruler"),onUiBusyChange:X}),K&&(0,b.jsx)(s.default,{x:Q.x,y:Q.y,rotation:Q.rotation,size:Q.size,type:"45-45-90",onPositionChange:(a,b,c,d)=>{R({x:a,y:b,rotation:c,size:d})},isActive:"triangle"===U,onActivate:()=>V("triangle"),onUiBusyChange:X}),M&&(0,b.jsx)(t.default,{x:S.x,y:S.y,rotation:S.rotation,size:S.size,onPositionChange:(a,b,c,d)=>{T({x:a,y:b,rotation:c,size:d})},isActive:"protractor"===U,onActivate:()=>V("protractor"),onUiBusyChange:X})]}),(0,b.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border-l-4 border-blue-500 rounded-lg",children:(0,b.jsxs)("p",{className:"text-blue-700 text-sm",children:[(0,b.jsx)("strong",{children:"Nápověda:"})," Modrý bod = přesun • Zelený bod = otočení • Oranžový bod = změna velikosti"]})}),y&&(0,b.jsx)("div",{className:`mt-4 p-4 rounded-lg ${y.includes("✅")?"bg-green-50 border-l-4 border-green-500":"bg-yellow-50 border-l-4 border-yellow-500"}`,children:(0,b.jsx)("p",{className:"text-gray-800",children:y})}),G.length>0&&(0,b.jsxs)("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Historie konstrukcí"}),(0,b.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:G.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("span",{className:"text-sm font-medium",children:["Konstrukce ",c+1]}),(0,b.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:new Date(a.timestamp).toLocaleString("cs-CZ")})]}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[a.objects?.length||0," objektů"]})]},c))})]})]})})})}}];

//# sourceMappingURL=Documents_geometry_review_app_components_GeneralGeometryTester_tsx_acc3522d._.js.map