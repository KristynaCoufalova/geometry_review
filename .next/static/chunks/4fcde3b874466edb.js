(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48227,e=>{"use strict";e.s(["default",()=>i],48227);var t=e.i(83770);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)((e,r)=>{let{color:l="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:c="",children:u,iconNode:d,...g}=e;return(0,t.createElement)("svg",{ref:r,...o,width:i,height:i,stroke:l,strokeWidth:s?24*Number(a)/Number(i):a,className:n("lucide",c),...!u&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(g)&&{"aria-hidden":"true"},...g},[...d.map(e=>{let[r,n]=e;return(0,t.createElement)(r,n)}),...Array.isArray(u)?u:[u]])}),i=(e,o)=>{let i=(0,t.forwardRef)((i,a)=>{let{className:s,...c}=i;return(0,t.createElement)(l,{ref:a,iconNode:o,className:n("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),s),...c})});return i.displayName=r(e),i}},30598,e=>{"use strict";e.s(["default",()=>v]);var t=e.i(57421),r=e.i(83770),n=e.i(39324),o=e.i(89723),l=e.i(38494),i=e.i(65821),a=e.i(18962),s=e.i(19722),c=e.i(53039),u=e.i(89124),d=e.i(690),g=e.i(88387),b=e.i(56162),h=e.i(39560),x=e.i(79562);function f(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}function p(e){return{x:e.X(),y:e.Y()}}function m(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.03,n=p(t.point1),o=p(t.point2),l=o.y-n.y,i=n.x-o.x,a=-(l*n.x+i*n.y);return Math.abs(l*e.x+i*e.y+a)/Math.hypot(l,i)<r}function y(e,t){let[r,n]=t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.03,l=[p(e.point1),p(e.point2)],i=(e,t)=>f(e,t);return i(l[0],p(r))<o&&i(l[1],p(n))<o||i(l[1],p(r))<o&&i(l[0],p(n))<o}function v(){let e=(0,r.useRef)(null),v=(0,r.useRef)(null),[j,w]=(0,r.useState)("mouse"),[k,C]=(0,r.useState)([]),[N,z]=(0,r.useState)(""),[A,S]=(0,r.useState)(null),[B,_]=(0,r.useState)([]),[O,E]=(0,r.useState)(!1),[P,M]=(0,r.useState)(!1),[R,L]=(0,r.useState)(!1),[T,U]=(0,r.useState)({x:5,y:4,rotation:0,length:6}),[K,W]=(0,r.useState)({x:7,y:4,rotation:0,size:3}),[Z,q]=(0,r.useState)({x:6,y:3,rotation:0,size:3}),[G,X]=(0,r.useState)(null),[J,V]=(0,r.useState)(!1),[$,D]=(0,r.useState)(!1),[I,Y]=(0,r.useState)(null),F=(0,r.useRef)(j),H=(0,r.useRef)(k),Q=(0,r.useRef)(J),ee=(0,r.useRef)(null);(0,r.useEffect)(()=>{F.current=j},[j]),(0,r.useEffect)(()=>{H.current=k},[k]),(0,r.useEffect)(()=>{Q.current=J},[J]);let et=(0,r.useRef)(null);function er(e){(null==e?void 0:e.id)&&_(t=>[...t,e.id])}let en=(0,r.useCallback)((e,t)=>{let r=(t||"").trim(),n=function(e){let t={0:"₀",1:"₁",2:"₂",3:"₃",4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉"};return e.replace(/_(\d+)/g,(e,r)=>r.split("").map(e=>{var r;return null!=(r=t[e])?r:e}).join(""))}(r);e.setAttribute({name:n,withLabel:!!r}),e._rawName=r,e.board.update()},[]);function eo(e,t){return e.getAllObjectsUnderMouse(t).find(e=>"point"===e.elType)||null}function el(e,t,r){for(let o in e.objects){let l=e.objects[o];if("point"===l.elType&&l.id!==r){var n;if((null!=(n=l._rawName)?n:"")===t)return!0}}return!1}function ei(e,t){return e.getAllObjectsUnderMouse(t).find(e=>"point"===e.elType&&!e.visProp.fixed)||null}let ea=(0,r.useCallback)((e,t)=>{let r={name:"",size:3,strokeColor:"#e11d48",fillColor:"#e11d48",label:{offset:[5,10]}},{q:n}=et.current;if(m(t,n,.15)){let o=e.create("glider",[t.x,t.y,n],r);return o._rawName="",er(o),o}let o=e.create("point",[t.x,t.y],{...r,size:2,strokeColor:"#444",fillColor:"#666"});return o._rawName="",er(o),o},[]),es=(0,r.useCallback)((e,t)=>{var r,n,o;if(Q.current)return;let l=null==(r=t.originalEvent)?void 0:r.target;if(l&&(l.closest(".group")||l.classList.contains("group")))return;let i=function(e,t){let r=e.getUsrCoordsOfMouse(t);return{x:r[0],y:r[1]}}(e,t);switch(F.current){case"mouse":z("");break;case"point":{let r=!!(null==t||null==(n=t.originalEvent)?void 0:n.altKey),l=ea(e,i);z("Bod vytvořen"),r&&en(l,null!=(o=window.prompt("Název bodu (nepovinné):",""))?o:"");break}case"segment":{let r=ei(e,t);r||(r=ea(e,i)),C(t=>{let n=[...t,r];if(1===n.length)z("Klikněte na druhý bod");else if(2===n.length)return er(e.create("segment",[n[0],n[1]],{strokeColor:"#2563eb",strokeWidth:2})),z("Úsečka vytvořena"),[];return n});break}case"line":{let r=ei(e,t);r||(r=ea(e,i)),C(t=>{let n=[...t,r];if(1===n.length)z("Klikněte na druhý bod");else if(2===n.length)return er(e.create("line",[n[0],n[1]],{strokeColor:"#059669",strokeWidth:1,dash:1})),z("Přímka vytvořena"),[];return n});break}case"circle":{let r=ei(e,t);r||(r=ea(e,i)),C(t=>{let n=[...t,r];if(1===n.length)z("Klikněte na bod na kružnici");else if(2===n.length)return er(e.create("circle",[n[0],n[1]],{strokeColor:"#dc2626",strokeWidth:2})),z("Kružnice vytvořena"),[];return n});break}case"rubber":{let r=e.getAllObjectsUnderMouse(t).find(e=>{var t;return!(null==(t=e.visProp)?void 0:t.fixed)&&"S"!==e.name&&"C"!==e.name});r&&(e.removeObject(r),z("Objekt smazán"))}}},[ea,en]);return(0,r.useEffect)(()=>{ee.current=es},[es]),(0,r.useEffect)(()=>{let e=e=>{"n"!==e.key&&"N"!==e.key||Q.current||D(e=>!e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,r.useEffect)(()=>{if(!v.current)return;let t=n.default.JSXGraph.initBoard(v.current,{boundingbox:[-1,8,11,-1],axis:!1,showNavigation:!1,showCopyright:!1,grid:!0,pan:{enabled:!1},zoom:!1,keepaspectratio:!0});e.current=t;let r=t.create("line",[[0,7],[10,7]],{strokeColor:"#000",strokeWidth:2,name:"q",withLabel:!0,fixed:!0,label:{position:"rt",offset:[10,0]}});et.current={q:r,S:t.create("point",[5,5],{name:"S",size:3,strokeColor:"#000",fillColor:"#000",fixed:!0,label:{offset:[5,10]}}),C:t.create("point",[4.5,3],{name:"C",size:3,strokeColor:"#000",fillColor:"#000",fixed:!0,label:{offset:[5,-15]}})};let o=e=>{var r;if(Q.current)return;let n=eo(t,e);if(!n)return;let o=n._rawName||"",l=(null!=(r=window.prompt("Název bodu (např. A, B, C, A_1, A_2):",o))?r:"").trim();if(l&&el(t,l,n.id)){let e=2;for(;el(t,"".concat(l,"_").concat(e),n.id);)e++;l="".concat(l,"_").concat(e)}en(n,l)},l=e=>{if(ee.current&&!$)return void ee.current(t,e);if(!Q.current&&$){var r;let n=eo(t,e);if(!n)return;let o=n._rawName||"",l=(null!=(r=window.prompt("Název bodu (např. A, B, C, A_1, A_2):",o))?r:"").trim();if(l&&el(t,l,n.id)){let e=2;for(;el(t,"".concat(l,"_").concat(e),n.id);)e++;l="".concat(l,"_").concat(e)}en(n,l)}};return t.on("down",l),t.on("dblclick",o),()=>{try{t.off("down",l),t.off("dblclick",o),n.default.JSXGraph.freeBoard(t)}catch(e){}e.current=null,et.current=null}},[$,en]),(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Úloha 9: Konstrukce trojúhelníku"}),(0,t.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-4",children:(0,t.jsx)("p",{className:"text-gray-700",children:"Sestrojte rovnoramenný trojúhelník ABC. Bod C je vrchol, S je střed ramene, AB leží na přímce q."})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4 p-4 bg-gray-100 rounded-lg",children:[(0,t.jsxs)("button",{onClick:()=>w("mouse"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("mouse"===j?"bg-gray-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}),(0,t.jsx)("path",{d:"M13 13l6 6"})]}),"Myš"]}),(0,t.jsxs)("button",{onClick:()=>w("point"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("point"===j?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(i.Circle,{size:18})," Bod"]}),(0,t.jsxs)("button",{onClick:()=>w("segment"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("segment"===j?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(a.Pencil,{size:18})," Úsečka"]}),(0,t.jsxs)("button",{onClick:()=>w("line"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("line"===j?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(a.Pencil,{size:18})," Přímka"]}),(0,t.jsxs)("button",{onClick:()=>w("circle"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("circle"===j?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(i.Circle,{size:18})," Kružnice"]}),(0,t.jsxs)("button",{onClick:()=>w("rubber"),className:"px-3 py-2 rounded flex items-center gap-2 ".concat("rubber"===j?"bg-red-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(c.Eraser,{size:18})," Guma"]}),(0,t.jsx)("button",{onClick:()=>D(e=>!e),className:"px-3 py-2 rounded flex items-center gap-2 ".concat($?"bg-teal-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),title:"Přejmenovat bod (klikněte na bod)",children:"✎ Název bodu"}),(0,t.jsx)("div",{className:"border-l-2 border-gray-300 mx-2"}),(0,t.jsxs)("button",{onClick:function(){E(!O),O?"ruler"===G&&X(null):X("ruler")},className:"px-3 py-2 rounded flex items-center gap-2 ".concat(O?"bg-yellow-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(u.Ruler,{size:18})," Pravítko"]}),(0,t.jsxs)("button",{onClick:function(){M(!P),P?"triangle"===G&&X(null):X("triangle")},className:"px-3 py-2 rounded flex items-center gap-2 ".concat(P?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(d.Triangle,{size:18})," Trojúhelník"]}),(0,t.jsxs)("button",{onClick:function(){L(!R),R?"protractor"===G&&X(null):X("protractor")},className:"px-3 py-2 rounded flex items-center gap-2 ".concat(R?"bg-orange-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)(g.Gauge,{size:18})," Úhloměr"]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsxs)("button",{onClick:function(){let t=e.current;if(!t||0===B.length)return;let r=B[B.length-1],n=r?t.objects[r]:void 0;n&&t.removeObject(n),_(e=>e.slice(0,-1)),z("")},className:"px-3 py-2 rounded bg-gray-700 text-white hover:bg-gray-800 flex items-center gap-2",children:[(0,t.jsx)(s.RotateCcw,{size:18})," Zpět"]}),(0,t.jsxs)("button",{onClick:function(){let t=e.current;if(!t)return;let r=[];for(let e in t.objects){var n;let o=t.objects[e];(null==o||null==(n=o.visProp)?void 0:n.fixed)||"S"===o.name||"C"===o.name||"q"===o.name||r.push(o)}r.forEach(e=>t.removeObject(e)),C([]),z(""),S(null),_([])},className:"px-3 py-2 rounded bg-red-500 text-white hover:bg-red-600 flex items-center gap-2",children:[(0,t.jsx)(l.Trash2,{size:18})," Vymazat"]}),(0,t.jsxs)("button",{onClick:function(){if(!e.current)return;let t=function(){let t=e.current,{q:r,S:n,C:o}=et.current,l=Object.values(t.objects).filter(e=>"point"===e.elType),i=e=>{var t,r;return null!=(r=null!=(t=null==e?void 0:e._rawName)?t:null==e?void 0:e.name)?r:""},a=l.find(e=>"A"===i(e)),s=l.find(e=>"B"===i(e));if(!a||!s)return{passed:!1,message:"Označte vrcholy A a B.",score:0};let c=m(p(a),r,.03),u=m(p(s),r,.03);if(!(c&&u))return{passed:!1,message:"A i B musí ležet na přímce q.",score:1};let d=.03>Math.abs(f(p(a),p(o))-f(p(s),p(o))),g=f(p(n),p(a)),b=f(p(n),p(s)),h=f(p(n),p(o)),x=.03>Math.abs(g-h),v=.03>Math.abs(b-h);if(!(d&&(x||v)))return{passed:!1,message:"Zkontrolujte: AC = BC a S je střed ramene.",score:2};let j=Object.values(t.objects).filter(e=>"segment"===e.elType),w=j.some(e=>y(e,[a,s])),k=j.some(e=>y(e,[a,o])),C=j.some(e=>y(e,[s,o]));return w&&k&&C?{passed:!0,message:"✅ Výborně! Podmínky splněny.",score:3}:{passed:!0,message:"Správně, ale chybí narýsované strany.",score:3}}();S({validation:t,timestamp:new Date().toISOString()}),z(t.message)},className:"px-3 py-2 rounded bg-green-600 text-white hover:bg-green-700 flex items-center gap-2",children:[(0,t.jsx)(o.Save,{size:18})," Uložit"]})]}),(0,t.jsxs)("div",{ref:v,id:"jxgbox",className:"w-full border-2 border-gray-300 rounded-lg bg-white jxgbox relative",style:{height:500,touchAction:"none"},children:[O&&(0,t.jsx)(b.default,{x:T.x,y:T.y,rotation:T.rotation,length:T.length,onPositionChange:(e,t,r,n)=>{U({x:e,y:t,rotation:r,length:n})},isActive:"ruler"===G,onActivate:()=>X("ruler"),onUiBusyChange:V}),P&&(0,t.jsx)(h.default,{x:K.x,y:K.y,rotation:K.rotation,size:K.size,type:"45-45-90",onPositionChange:(e,t,r,n)=>{W({x:e,y:t,rotation:r,size:n})},isActive:"triangle"===G,onActivate:()=>X("triangle"),onUiBusyChange:V}),R&&(0,t.jsx)(x.default,{x:Z.x,y:Z.y,rotation:Z.rotation,size:Z.size,onPositionChange:(e,t,r,n)=>{q({x:e,y:t,rotation:r,size:n})},isActive:"protractor"===G,onActivate:()=>X("protractor"),onUiBusyChange:V})]}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border-l-4 border-blue-500 rounded-lg",children:(0,t.jsxs)("p",{className:"text-blue-700 text-sm",children:[(0,t.jsx)("strong",{children:"Nápověda:"})," Modrý bod = přesun • Zelený bod = otočení • Oranžový bod = změna velikosti"]})}),N&&(0,t.jsx)("div",{className:"mt-4 p-4 rounded-lg ".concat(N.includes("✅")?"bg-green-50 border-l-4 border-green-500":"bg-yellow-50 border-l-4 border-yellow-500"),children:(0,t.jsx)("p",{className:"text-gray-800",children:N})})]})})})}}]);